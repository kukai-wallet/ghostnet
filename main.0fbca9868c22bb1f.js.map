{"version":3,"file":"main.0fbca9868c22bb1f.js","mappings":"sJAcM,MAAOA,EAQXC,YAA+BC,GAAA,KAAAA,GAAAA,EAPxB,KAAAC,QAAS,EAChB,KAAAC,KAAO,GAKC,KAAAC,SAAyB,IAAIC,EAAAA,EAEnCC,KAAKL,GAAKA,EACVK,KAAKF,SAAWL,EAAeQ,aAAaC,WAAWC,IACrDA,EAAKC,gBAAiCC,IAApBF,EAAKC,YAAkCD,EAAKC,WACxDD,EAAKN,MAAQM,EAAKN,OAASG,KAAKH,KAC/BG,KAAKJ,SACRI,KAAKM,WACLN,KAAKO,KAAKJ,EAAKK,OAGbR,KAAKJ,QAAUO,EAAKC,aACtBJ,KAAKS,QACDT,KAAKL,IACPK,KAAKL,GAAGe,gB,GAKlB,CAAC,SAvBM,KAAAT,aAAe,IAAIU,EAAAA,EAA8B,CACtDd,KAAM,GACNW,KAAM,OAuBRI,WAAkB,CAElBC,cACEb,KAAKF,SAASgB,aAChB,CAEAR,WAAkB,CAElBC,KAAKC,GACCO,OAAOC,YAAcC,SAASC,KAAKC,eACrCF,SAASC,KAAKE,MAAMC,YAAc,oBAClCJ,SAASC,KAAKE,MAAME,UAAY,qBAEjBC,OAAON,SAASO,gBAAgBJ,MAAMK,iBAAiB,iBAEtEC,YAAW,KACTX,OAAOY,SAAS,CAAEC,IAAK,GAAI,GAC1B,GAEL5B,KAAKJ,QAAS,CAChB,CAEAa,QACEQ,SAASC,KAAKE,MAAMC,YAAc,GAClCJ,SAASC,KAAKE,MAAME,UAAY,GAChCtB,KAAKJ,QAAS,CAChB,CAAC,+B,cAtDUH,GAAc,2C,KAAdA,EAAcoC,UAAAA,CAAAA,CAAAA,cAAAC,MAAAA,EAAAC,KAAAA,EAAAC,SAAAA,SAAAA,EAAAA,GAAAA,EAAAC,cAAAA,I,2OCd3BC,EAAAA,IAAAA,EAAAA,SAAAA,GAAuCA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,uBAASA,EAAAA,IAAAA,EAAAA,YAAW,IAAEA,EAAAA,IAAAA,EAAAA,gBAAYA,EAAAA,K,0CACzEA,EAAAA,IAAAA,EAAAA,MAAAA,GAA4CA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,uBAASA,EAAAA,IAAAA,EAAAA,YAAW,IAAhEA,EAAAA,K,wBAeUA,EAAAA,IAAAA,EAAAA,IAAAA,IAAqCA,EAAAA,IAAAA,EAAAA,sBAAkBA,EAAAA,M,0BACvDA,EAAAA,IAAAA,EAAAA,IAAAA,IAAyCA,EAAAA,IAAAA,GAAkBA,EAAAA,O,sBAAlBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,a,wBACzCA,EAAAA,IAAAA,EAAAA,IAAAA,IAAyCA,EAAAA,IAAAA,EAAAA,iCAA6BA,EAAAA,M,yCAExEA,EAAAA,IAAAA,EAAAA,QAAAA,IAAiDA,EAAAA,IAAAA,iBAAAA,SAAAA,GAAAA,EAAAA,IAAAA,GAAA,iDAAAA,CAAyB,qBAAAA,EAAAA,IAAAA,GAAA,wBAAuBA,EAAAA,IAAAA,EAAAA,YAAAA,GAAmB,IAApHA,EAAAA,K,0BAAiDA,EAAAA,IAAAA,UAAAA,EAAAA,Y,0CAlBzDA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAAoD,WAApDA,CAAoD,UAApDA,CAAoD,UAApDA,CAAoD,WAITA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,uBAASA,EAAAA,IAAAA,EAAAA,aAAY,IAAEA,EAAAA,IAAAA,EAAAA,MAAAA,IACVA,EAAAA,MAChDA,EAAAA,IAAAA,EAAAA,KAAAA,IAAkBA,EAAAA,IAAAA,EAAAA,cAAUA,EAAAA,KAAAA,GAE9BA,EAAAA,IAAAA,EAAAA,MAAAA,IACAA,EAAAA,IAAAA,EAAAA,MAAAA,GAAAA,CAAoC,YAApCA,CAAoC,oBAG9BA,EAAAA,IAAAA,GAAAA,2BACFA,EAAAA,MACAA,EAAAA,IAAAA,GAAAA,EAAAA,EAAAA,EAAAA,IAAAA,IACAA,EAAAA,IAAAA,GAAAA,EAAAA,EAAAA,EAAAA,IAAAA,IACAA,EAAAA,IAAAA,GAAAA,EAAAA,EAAAA,EAAAA,IAAAA,IACFA,EAAAA,MACAA,EAAAA,IAAAA,GAAAA,EAAAA,EAAAA,EAAAA,QAAAA,IAEFA,EAAAA,KAAAA,M,yBANuBA,EAAAA,IAAAA,IAAAA,EAAAA,IAAAA,QAAAA,EAAAA,WACAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,EAAAA,cACAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,EAAAA,cAEbA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,EAAAA,S,ECNV,MAAOC,UAA2B1C,EAAAA,EAGtCC,YACU0C,EACAC,EACAC,EACAC,GAERC,QALQ,KAAAJ,cAAAA,EACA,KAAAC,gBAAAA,EACA,KAAAC,eAAAA,EACA,KAAAC,qBAAAA,EAND,KAAAE,UAAYC,EAAAA,GACZ,KAAAC,IAAMC,EAAAA,GASS,KAAAC,aAAe,IAAIC,EAAAA,IAElC,KAAAC,UAAW,EAEpB,KAAAC,YAAc,GACd,KAAAnD,KAAO,aACP,KAAAoD,YAAa,EACb,KAAAC,aAAe,EARf,CASAC,YACOnD,KAAK+C,SAGRP,MAAMjC,OAFNd,EAAAA,EAAeQ,aAAamD,KAAK,CAAEvD,KAAMG,KAAKH,KAAMW,KAAM,OAI5DR,KAAKqD,MACP,CACMA,OAAI,sCACR,EAAKJ,YAAa,EAElB,UADwBK,EAAAA,EAAUC,cACjB,EAAKC,aAAaC,cAAe,CAChD,EAAKP,aAAe,GACpB,IACE,EAAKQ,UAAY,IAAIJ,EAAAA,EAAU,EAAKE,aAAaC,eAAgBE,GAAiC,EAAKC,aAAaD,IAAS,CAAC,SACxH,EAAKD,UAAUG,QAChB,EAAKjE,SACR,EAAK8D,UAAUI,OACf,EAAKJ,UAAUK,UACf,EAAKL,UAAY,K,CAEnB,MAAOM,GACP,EAAKd,aAAec,C,OAGtBC,QAAQC,KAAK,mBAEf,EAAKjB,YAAa,CAAM,GAnBhB,EAoBV,CACAW,aAAaO,GACX,MAAMC,EAAWD,EAAW3D,KAC5ByD,QAAQI,IAAI,UAAWD,GACvB,IACE,MAAME,EAActE,KAAKqC,gBAAgBkC,gBAAgBH,GACrDE,IAAgBtE,KAAK+C,UACvB/C,KAAKoC,cAAcoC,iBAAiBF,GACpCtE,KAAKoC,cAAcqC,QAAQH,IAClBF,GAAYpE,KAAK+C,UAC1B/C,KAAK6C,aAAa6B,KAAK,CAAEC,IAAKP,IAEhCpE,KAAK4E,Y,CACL,MAAOZ,GACFhE,KAAK+C,UACR/C,KAAKsC,eAAeuC,SAAS,2B,CAGnC,CACMC,YAAYC,GAAkB,sCAClC,IACE,MAAMC,EAAkBD,GAAIE,eAAeC,QAAQ,QAC7CZ,EAAcU,EAAkB,EAAK3C,gBAAgBkC,gBAAgBS,GAAmB,IACzF,EAAKjC,UAAYuB,GACpB,EAAKlC,cAAcoC,iBAAiBF,GACpC,EAAKlC,cAAcqC,QAAQH,IAClBU,GAAmB,EAAKjC,SACjC,EAAKF,aAAa6B,KAAK,CAAEC,IAAKK,IACrBA,EAAgBG,WAAW,OACpC,EAAK5C,qBAAqB6C,KAAKJ,GAEjC,EAAKJ,Y,CACL,MAAOZ,GACF,EAAKjB,UACR,EAAKT,eAAeuC,SAAS,2B,CAEhC,GAjBiC,EAkBpC,CACAD,aAEM5E,KAAK0D,YAAc1D,KAAKiD,aAC1BjD,KAAK0D,UAAUI,OACf9D,KAAK0D,UAAUK,UACf/D,KAAK0D,UAAY,MAEd1D,KAAK+C,SAGRP,MAAM/B,QAFNhB,EAAAA,EAAeQ,aAAamD,KAAK,CAAEvD,KAAM,GAAIW,KAAM,OAIrDR,KAAKgD,YAAc,EACrB,CAAC,+B,cAlGUb,GAAkB,wE,KAAlBA,EAAkBN,UAAAA,CAAAA,CAAAA,mBAAAwD,UAAAA,SAAAA,EAAAA,G,GAAA,K,2/BDd/BnD,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,SAAAA,GACAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,MAAAA,GACAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,MAAAA,I,MAFSA,EAAAA,IAAAA,QAAAA,EAAAA,UACHA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,UACAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,Q,opiIEFNA,EAAAA,IAAAA,GAEEA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,GAAgJA,EAAAA,IAAC,SAADA,SAAAA,GAAAA,EAAAA,IAAC,GAAD,uBAASA,EAAAA,IAAAA,EAAAA,QAAAA,GAAe,GAAxBA,CAAyB,oBAAAA,EAAAA,IAAAA,GAAA,uBAASA,EAAAA,IAAAA,EAAAA,OAAAA,GAAc,IAAhMA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,GAAoEA,EAAAA,IAAC,SAADA,SAAAA,GAAAA,EAAAA,IAAC,GAAD,uBAASA,EAAAA,IAAAA,EAAAA,QAAAA,GAAe,GAAxBA,CAAyB,oBAAAA,EAAAA,IAAAA,GAAA,uBAASA,EAAAA,IAAAA,EAAAA,OAAAA,GAAc,IAApHA,EAAAA,MACFA,EAAAA,K,yBAFyEA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,cAAAA,MAAAA,EAAAA,QAAAA,KAAAA,EAAAA,QAAAA,QAAAA,EAAAA,aAAAA,EAAAA,aAAAA,IAA/BA,EAAAA,IAAAA,MAAAA,EAAAA,QAAAA,EAAAA,KACDA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,MAAAA,EAAAA,OAAAA,EAAAA,I,0CAEzCA,EAAAA,IAAAA,EAAAA,QAAAA,EAAAA,GAA+JA,EAAAA,IAAC,SAADA,SAAAA,GAAAA,EAAAA,IAAC,GAAD,uBAASA,EAAAA,IAAAA,EAAAA,QAAAA,GAAe,GAAxBA,CAAyB,0BAAAA,EAAAA,IAAAA,GAAA,uBAAeA,EAAAA,IAAAA,EAAAA,WAAAA,GAAkB,IACvNA,EAAAA,IAAAA,EAAAA,SAAAA,IACFA,EAAAA,K,yBAFgGA,EAAAA,IAAAA,WAAAA,EAAAA,SAAAA,CAAqB,+BACnFA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,MAAAA,EAAAA,QAAAA,EAAAA,IAAAA,CAAe,kB,0CAEjDA,EAAAA,IAAAA,EAAAA,QAAAA,GAAAA,IAAiNA,EAAAA,IAAC,SAADA,SAAAA,GAAAA,EAAAA,IAAC,GAAD,uBAASA,EAAAA,IAAAA,EAAAA,QAAAA,GAAe,GAAxBA,CAAyB,0BAAAA,EAAAA,IAAAA,GAAA,uBAAeA,EAAAA,IAAAA,EAAAA,WAAAA,GAAkB,IACzQA,EAAAA,IAAAA,EAAAA,SAAAA,GAAAA,CAAoE,YAEtEA,EAAAA,K,yBAH2GA,EAAAA,IAAAA,WAAAA,EAAAA,SAAAA,CAAqB,4BAArBA,CAAqB,gBAArBA,CAAqB,cAArBA,CAAqB,uBAC9FA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,MAAAA,EAAAA,QAAAA,EAAAA,IAAAA,CAAe,mBAClBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,MAAAA,EAAAA,UAAAA,EAAAA,I,0CAE/BA,EAAAA,IAAAA,EAAAA,MAAAA,GAAAA,CAAmE,wBAEjCA,EAAAA,IAAC,QAADA,SAAAA,GAAAA,EAAAA,IAAC,GAAD,uBAAQA,EAAAA,IAAAA,EAAAA,OAAAA,GAAc,GAAtBA,CAAuB,qBAAAA,EAAAA,IAAAA,GAAA,uBAAUA,EAAAA,IAAAA,EAAAA,QAAAA,GAAe,IAClBA,EAAAA,KAAAA,E,yBAD5DA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,MAAAA,EAAAA,Q,ECVJ,IAAKoD,EAMJ,MAND,SAAKA,GACHA,EAAAA,EAAAA,KAAAA,GAAAA,OACAA,EAAAA,EAAAA,MAAAA,GAAAA,QACAA,EAAAA,EAAAA,MAAAA,GAAAA,QACAA,EAAAA,EAAAA,MAAAA,GAAAA,QACAA,EAAAA,EAAAA,OAAAA,GAAAA,QACD,CAND,CAAKA,IAAAA,EAAO,KAAPA,GAMJ,GAEIC,EAMJ,MAND,SAAKA,GACHA,EAAAA,KAAAA,OACAA,EAAAA,MAAAA,QACAA,EAAAA,OAAAA,SACAA,EAAAA,QAAAA,UACAA,EAAAA,IAAAA,KACD,CAND,CAAKA,IAAAA,EAAI,KAAJA,GAMJ,GAED,MAEMC,EAAoB,CACxB,8FACE,mFAQE,MAAOC,EA+BX/F,YAAoBgG,EAA2BC,GAA3B,KAAAD,MAAAA,EAA2B,KAAAC,aAAAA,EA9B/C,KAAAL,QAAUA,EACV,KAAAM,QAAUN,EAAQO,MAOT,KAAAC,KAAOP,EAAKQ,OACZ,KAAAC,aAAe,CAAC,eAAgB,kBAChC,KAAAC,aAAe,0DAEf,KAAAC,UAAW,EACX,KAAAC,SAAW,CAAC,OACZ,KAAAC,aAAc,EACd,KAAAC,OAAQ,EACR,KAAAC,UAAW,EACX,KAAAC,MAAO,EACP,KAAAC,aAAc,EACb,KAAAC,OAAS,IAAI3D,EAAAA,IAAa,MAC1B,KAAA3C,KAAO,IAAI2C,EAAAA,IAAa,MACzB,KAAA4D,UAAY,wBACZ,KAAAC,WAAa,yCACtB,KAAAC,aAAUvG,EACV,KAAAwG,OAAS7G,KAAK0G,UACd,KAAAI,QAAU9G,KAAK0G,UACf,KAAAK,SAAW,UACX,KAAAC,OAAS,CAGmE,CAE5EpG,WACMZ,KAAKoG,cACPpG,KAAK4F,QAAUN,EAAQ2B,KAE3B,CAEAC,YAAYC,GACV,GACEA,GAASC,QAAQC,eACjBF,GAASC,QAAQE,cACjBC,KAAKC,UAAUL,GAASC,QAAQC,iBAAmBE,KAAKC,UAAUL,GAASC,QAAQE,cACnF,CACA,MAAMG,EAAKzH,KAAK0H,WAAW1H,KAAK2H,UAAUR,GAASC,QAAQC,gBACrDO,EAAK5H,KAAK0H,WAAW1H,KAAK2H,UAAUR,GAASC,QAAQE,eACvDG,IAAOG,IACT3D,QAAQI,IAAI,eAAgB,CAAEwD,KAAMJ,EAAIK,GAAIF,IAC5C5H,KAAK+H,S,CAGX,CAEAC,kBACEhI,KAAKiI,UACP,CACQF,SACN/H,KAAK4F,QAAUN,EAAQ2B,KACvBjH,KAAK4G,aAAUvG,EACfL,KAAK6G,OAAS7G,KAAK0G,UACnB1G,KAAK8G,QAAU9G,KAAK0G,UACpB1G,KAAK+G,SAAW,UAChB/G,KAAKkI,gBACLlI,KAAKiI,UACP,CACAC,gBACMlI,KAAKmI,YAAcnI,KAAKmG,SAASiC,SAAS,UAAYpI,KAAKmG,SAASiC,SAAS,QAC/EpI,KAAK4F,QAAUN,EAAQO,MACd7F,KAAKqI,YAAcrI,KAAKmG,SAASiC,SAAS,UAAYpI,KAAKmG,SAASiC,SAAS,QACtFpI,KAAK4F,QAAUN,EAAQgD,MACdtI,KAAKuI,YAAcvI,KAAKmG,SAASiC,SAAS,UAAYpI,KAAKmG,SAASiC,SAAS,QACtFpI,KAAK4F,QAAUN,EAAQkD,MACdxI,KAAKyI,SAAWzI,KAAKmG,SAASiC,SAAS,UAAYpI,KAAKmG,SAASiC,SAAS,QACnFpI,KAAK4F,QAAUN,EAAQoD,OAEvB1I,KAAK4F,QAAUN,EAAQ2B,IAE3B,CAEAkB,UACE,OAAOnI,KAAK+G,UAAU5B,WAAW,WAAanF,KAAK+G,UAAU5B,WAAW,eAC1E,CAEAoD,UACE,OAAOvI,KAAK+G,UAAU5B,WAAW,SACnC,CAEAkD,UACE,OAAOrI,KAAK+G,UAAU5B,WAAW,SACnC,CAEAsD,OACE,OAAOzI,KAAK+G,UAAU5B,WAAW,SACnC,CAEAwD,OAAO3E,GACiB,aAAlBA,GAAG4E,QAAQC,KACb7I,KAAK8G,QAAU9G,KAAK6G,OACpB7G,KAAKkI,gBAET,CAEAY,WAAW9E,GACLhE,KAAKqI,WACHrI,KAAKsI,MAAM7E,cAAc4C,QAC3BrG,KAAKsI,MAAM7E,cAAcsF,OAAS,EAGxC,CAEAC,QAAQhF,GACiB,cAAlBA,GAAG4E,QAAQC,IAAwC,aAAlB7E,GAAG4E,QAAQC,KAAsB7I,KAAKmI,YAC1EnI,KAAKgH,SACDhH,KAAKgH,QAAU,GACjB/C,QAAQI,IAAI,iBAAkBrE,KAAK6G,QACnC7G,KAAK+H,WAEL9D,QAAQI,IAAI,uBAAwBrE,KAAK6G,QACzC7G,KAAKiJ,mBAGX,CAEAA,kBACEjJ,KAAK+G,SAAW,UAChB/G,KAAKkI,gBACLlI,KAAK6G,OAAS7G,KAAK2G,UACrB,CACAgB,UAAUP,GACR,IAAK,IAAI8B,KAAQlJ,KAAKgG,aACpB,GAAIoB,GAAUA,EAAO8B,KAAmC,iBAAjB9B,EAAO8B,IAAuB9B,EAAO8B,IAAOC,KACjF,OAAO/B,EAAO8B,GAGlB,OAAO,IACT,CAEME,SAAShC,GAAM,sCACf,EAAKiC,SACP,EAAKxC,OAAS,EAAKa,WAAW,EAAK2B,SAErC,IAAIC,EAAQ,EAAK3B,UAAUP,GAC3B,GAAIkC,EAAO,CACT,UACQ,EAAKC,cAAcD,E,CACzB,MAAOtF,GAGP,OAFAC,QAAQuF,MAAMxF,QACd,EAAKiF,iB,CAGP,EAAKQ,OAAOH,E,MAEZ,EAAKL,iBACN,GAhBkB,EAiBrB,CAEAhB,WACEjI,KAAK0J,IAAM,IAAIC,sBAAqB,CAACC,EAASC,KAC5CD,EAAQE,SAASC,IACXA,EAAMC,iBACRhK,KAAKoJ,SAASpJ,KAAKoH,QACnBpH,KAAK0J,IAAIO,UAAUjK,KAAK0F,OAAOjC,gBAEjCzD,KAAKyG,OAAO/B,MAAM,GAClB,IAEA1E,KAAK0F,OAAOjC,eACdzD,KAAK0J,IAAIQ,QAAQlK,KAAK0F,OAAOjC,cAEjC,CAEM8F,cAAcD,GAAY,sCAC9B,MAAMa,EAAM,EAAKzC,WAAW4B,GAC5B,IAAKa,EACH,MAAM,IAAIC,MAAM,cAElB,GAAID,GAAKhF,WAAW,cAElB,OADA,EAAK4B,SAAW,UACR,EAAKF,OAASsD,EAGxB,GACmB,iBAAVb,GACLA,GAAOvC,UAAU5B,WAAW,WAAckF,EAAAA,GAAkCjC,SAAS,EAAKzC,aAAa2E,4BAA4BhB,GAAOH,MAW5I,EAAKpC,SADqB,iBAAVuC,EACA,UAEAA,EAAMvC,aAZtB,CACA,IAAIwD,EACJ,IAAK,IAAIC,EAAI,EAAGA,EAAI,IAAMD,GAAUE,GAAID,IACtCD,QAAiBG,MAAMP,EAAK,CAAEQ,OAAQ,QAExC,IAAKJ,GAAUE,GACb,MAAM,IAAIL,MAAM,yBAElB,EAAKrD,SAAWwD,EAASK,QAAQC,IAAI,e,CAKtC,GA1B6B,EA2BhC,CAEApB,OAAOH,GAEL,GADAtJ,KAAKkI,gBACDlI,KAAKqI,WAAarI,KAAKuI,WAAavI,KAAKyI,OAAQ,CAEnD,GADAzI,KAAKqI,WAAYrI,KAAKG,KAAKuE,OACvB1E,KAAKyI,OAAQ,CACf,MAAMqC,EAAkB9K,KAAK2F,aAAa2E,4BAA4BhB,GAAOH,KAC7E,IAAMkB,EAAAA,GAAkCjC,SAAS0C,GAG/C,OAFA7G,QAAQC,KAAK,wBACblE,KAAKiJ,iB,CAITjJ,KAAK4G,QAAU5G,KAAK0H,WAAW4B,E,MACtBtJ,KAAKmI,YAGdlE,QAAQC,KAAK,2BAA2BlE,KAAK+G,WAAY,KAAM,qBAC/D/G,KAAK+G,SAAW,UAChB/G,KAAKkI,iBAJLlI,KAAK6G,OAAS7G,KAAK0H,WAAW4B,EAOlC,CACA5B,WAAW4B,GACT,IAAIa,EAAM,GACV,MAAMhB,EAAuB,iBAAVG,EAAqBA,EAAQA,GAAOH,IACvD,GAAIA,EAAIhE,WAAW,WAAY,CAE7BgF,EAAM,8BADenK,KAAK8F,OAASP,EAAKwF,IAAM,GAAK,SAAS/K,KAAK8F,eACTqD,EAAI6B,MAAM,I,MACzD7B,EAAIhE,WAAW,YACxBgF,EAAM,oCAAoCnK,KAAK8F,YAAYqD,EAAI6B,MAAM,KAC3DvI,EAAAA,GAAUwI,UAAY9B,EAAIhE,WAAW,sBAAuBgE,EAAIhE,WAAW,oBAE3D,iBAAVmE,EAChBa,EAAMhB,EAENlF,QAAQuF,MAAM,wBAAyBF,GAJvCa,EAAMhB,EAAI6B,MAAM,IAMlB,OAAOxF,EAAkB2E,IAAQA,GAAO,EAC1C,CAAC,+B,cA/OU1E,GAAc,oD,KAAdA,EAAc5D,UAAAA,CAAAA,CAAAA,cAAAwD,UAAAA,SAAAA,EAAAA,G,GAAA,M,upDDhC3BnD,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,eAAAA,GAKAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,QAAAA,GAGAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,QAAAA,GAIAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,MAAAA,I,MAZeA,EAAAA,IAAAA,OAAAA,EAAAA,UAAAA,EAAAA,QAAAA,OAAAA,EAAAA,UAAAA,EAAAA,QAAAA,SAAAA,EAAAA,QAKwBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,UAAAA,EAAAA,QAAAA,OAGAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,UAAAA,EAAAA,QAAAA,OAIjCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,UAAAA,EAAAA,QAAAA,Q,mmKENA,MAAOgJ,EAMXxL,cAJS,KAAAyL,KAAO,YACP,KAAAC,SAAmB,EAClB,KAAAC,YAAc,IAAIvI,EAAAA,GAEb,CAEflC,WACEZ,KAAKsL,MAAQtL,KAAKoL,OACpB,CAEAG,SACEvL,KAAKsL,OAAStL,KAAKsL,MACnBtL,KAAKqL,YAAY3G,KAAK1E,KAAKsL,MAC7B,CAAC,+B,cAfUJ,EAAe,4B,KAAfA,EAAerJ,UAAAA,CAAAA,CAAAA,kBAAA2J,OAAAA,CAAAF,MAAAA,QAAAH,KAAAA,OAAAC,QAAAA,WAAAK,QAAAA,CAAAJ,YAAAA,eAAAvJ,MAAAA,EAAAC,KAAAA,EAAAC,SAAAA,SAAAA,EAAAA,GAAAA,EAAAC,cAAAA,ICEtB,MAAOyJ,UAAgCR,EAC3CxL,cACE8C,OACF,CAEA5B,WAAkB,CAAC,+B,cALR8K,EAAuB,4B,KAAvBA,EAAuB7J,UAAAA,CAAAA,CAAAA,2BAAA8J,SAAAA,CAAAA,EAAAA,KAAA7J,MAAAA,EAAAC,KAAAA,EAAA6J,OAAAA,CAAAA,CAAAA,EAAAA,WAAAA,YAAAA,CAAAA,EAAAA,WAAAA,oBAAAA,CAAAA,EAAAA,SAAAA,CAAAA,EAAAA,WAAAA,UAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,SAAAA,EAAAA,SAAAA,CAAAA,EAAAA,UAAA5J,SAAAA,SAAAA,EAAAA,GAAA,MCRpCE,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAA+B,UAA/BA,CAA+B,YAEPA,EAAAA,IAAAA,GAAkCA,EAAAA,MACtDA,EAAAA,IAAAA,EAAAA,QAAAA,EAAAA,CAA+B,YACqBA,EAAAA,IAAAA,GAA2BA,EAAAA,MAC7EA,EAAAA,IAAAA,EAAAA,OAAAA,GAAqDA,EAAAA,IAAC,SAADA,WAAA,OAAS2J,EAAAA,QAAQ,IACpE3J,EAAAA,IAAAA,EAAAA,OAAAA,GACFA,EAAAA,KAAAA,Q,MALkBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,GAAAA,EAAAA,KAAAA,QAEAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,MAAAA,SAAAA,IAAgCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,MAAAA,MAAAA,OAC7BA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,MAAAA,SAAAA,I,mlGCJzBA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,IAAAA,GAAwCA,EAAAA,IAAC,SAADA,WAAA,qCAA+B,OAAtB4J,EAAAA,UAAAA,MAAAA,EAAAA,KAAAA,EAAAA,MAAsB,qCAA2B5J,EAAAA,IAAAA,GAC3FA,EAAAA,MACTA,EAAAA,K,uCAFKA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,EAAAA,OAAAA,MAAAA,EAAAA,KAAAA,EAAAA,OAA+FA,EAAAA,IAAAA,GAAAA,EAAAA,KAAAA,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,G,2BAchGA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,QAAMA,EAAAA,IAAAA,GAAqBA,EAAAA,MAC7BA,EAAAA,O,oCADQA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,WAAAA,G,0CAXdA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAAgD,UAAhDA,CAAgD,aAExBA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,4DAAmCA,EAAAA,IAAAA,GAASA,EAAAA,IAAAA,EAAAA,MAAAA,IACxBA,EAAAA,MACxCA,EAAAA,IAAAA,EAAAA,OAAAA,IAA4BA,EAAAA,IAAAA,GAC1BA,EAAAA,IAAAA,EAAAA,OAAAA,IAAmBA,EAAAA,IAAAA,GAAWA,EAAAA,KAAAA,KAGlCA,EAAAA,IAAAA,EAAAA,MAAAA,GAAAA,CAAmB,aAEfA,EAAAA,IAAAA,GAAAA,EAAAA,EAAAA,EAAAA,eAAAA,GAGFA,EAAAA,KAAAA,I,yBAXuDA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,KAAcA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,WAAAA,EAAAA,YAEzCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,GAAAA,EAAAA,aAAAA,KACPA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,OAKWA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,OAAAA,KAAAA,EAAAA,Y,wBAMpCA,EAAAA,MAAAA,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,EAAAA,SAAAA,IACFA,EAAAA,M,uBACAA,EAAAA,IAAAA,EAAAA,OAAAA,IAAiDA,EAAAA,IAAAA,EAAAA,oBAAgBA,EAAAA,M,yCAO3DA,EAAAA,IAAAA,EAAAA,OAAAA,GAA6EA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,wBAASA,EAAAA,IAAAA,EAAAA,aAAa,OAAM,IAAEA,EAAAA,IAAAA,EAAAA,OAAGA,EAAAA,K,0BAAnEA,EAAAA,IAAAA,SAAAA,QAAAA,EAAAA,O,0CAA0EA,EAAAA,IAAAA,EAAAA,OAAAA,GAC7CA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,wBAASA,EAAAA,IAAAA,EAAAA,aAAa,QAAO,IAAEA,EAAAA,IAAAA,EAAAA,MAAEA,EAAAA,K,0BAApEA,EAAAA,IAAAA,SAAAA,SAAAA,EAAAA,O,0CAC8CA,EAAAA,IAAAA,EAAAA,OAAAA,GACXA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,wBAASA,EAAAA,IAAAA,EAAAA,aAAa,QAAO,IAAEA,EAAAA,IAAAA,EAAAA,MAAEA,EAAAA,K,0BAApEA,EAAAA,IAAAA,SAAAA,SAAAA,EAAAA,O,0CAJvCA,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,IAAqHA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,IAErHA,EAAAA,IAAAA,EAAAA,OAAAA,GAA0CA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,wBAASA,EAAAA,IAAAA,EAAAA,aAAa,SAAQ,IAAEA,EAAAA,IAAAA,EAAAA,MAAEA,EAAAA,MAAOA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,IAErFA,EAAAA,K,0BALgDA,EAAAA,IAAAA,WAAAA,EAAAA,eACvCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,uBAAAA,EAAAA,KACNA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,uBAAAA,EAAAA,KACKA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,UAAAA,EAAAA,QACLA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,uBAAAA,EAAAA,I,2BAPPA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,EAAAA,SAAAA,KAAAA,IACAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,MAAAA,IAMFA,EAAAA,MACFA,EAAAA,O,qBARmBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,MAAAA,EAAAA,KAAAA,KAAAA,EAAAA,KAAAA,QACTA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,MAAAA,EAAAA,KAAAA,KAAAA,EAAAA,KAAAA,O,0CAYJA,EAAAA,IAAAA,EAAAA,OAAAA,GACEA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,wBAASA,EAAAA,IAAAA,EAAAA,aAAa,OAAM,IAAEA,EAAAA,IAAAA,EAAAA,OAAGA,EAAAA,K,0BADQA,EAAAA,IAAAA,SAAAA,QAAAA,EAAAA,O,0CACDA,EAAAA,IAAAA,EAAAA,OAAAA,GACLA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,wBAASA,EAAAA,IAAAA,EAAAA,aAAa,QAAO,IAAEA,EAAAA,IAAAA,EAAAA,MAAEA,EAAAA,K,0BAApEA,EAAAA,IAAAA,SAAAA,SAAAA,EAAAA,O,0CACiFA,EAAAA,IAAAA,EAAAA,OAAAA,GACTA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,wBAASA,EAAAA,IAAAA,EAAAA,aAAa,QAAO,IAAEA,EAAAA,IAAAA,EAAAA,MAAEA,EAAAA,K,0BAApEA,EAAAA,IAAAA,SAAAA,SAAAA,EAAAA,O,0CALzCA,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,IAC0CA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,IAE1CA,EAAAA,IAAAA,EAAAA,OAAAA,GAA0CA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,wBAASA,EAAAA,IAAAA,EAAAA,aAAa,SAAQ,IAAEA,EAAAA,IAAAA,EAAAA,MAAEA,EAAAA,MAAOA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,IAErFA,EAAAA,K,0BANgDA,EAAAA,IAAAA,WAAAA,EAAAA,eACvCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,uBAAAA,EAAAA,KAC0CA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,uBAAAA,EAAAA,KAE3CA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,UAAAA,EAAAA,QACHA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,uBAAAA,EAAAA,I,2BARTA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,EAAAA,SAAAA,KAAAA,IACAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,MAAAA,IAOFA,EAAAA,MACFA,EAAAA,O,qBATmBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,MAAAA,EAAAA,KAAAA,KAAAA,EAAAA,KAAAA,QACTA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,MAAAA,EAAAA,KAAAA,KAAAA,EAAAA,KAAAA,O,ECpCV,IAAI6J,EAAOC,EAAQC,EACnB,SAASC,EAAsBL,EAAKM,GAClC,MACMC,EADQC,iBAAiBpL,SAASC,MACpBO,iBAAiB,WAAW6K,QAAQ,SAAU,IAC5DC,EAAaJ,EAAUK,MAAQL,EAAUM,KACzCC,EAAcP,EAAUQ,OAASR,EAAUvK,IAmBjD,OAlBiB,OAAbqK,GAAqBF,IAAUQ,GAAcP,IAAWU,IAC1DX,EAAQQ,EACRP,EAASU,EACTT,EAAWJ,EAAIe,qBAAqB,EAAGT,EAAUQ,OAAQ,EAAGR,EAAUvK,KAIxD,SAAVwK,GACFH,EAASY,aAAa,EAAG,WACzBZ,EAASY,aAAa,GAAK,WAC3BZ,EAASY,aAAa,EAAG,aAEzBZ,EAASY,aAAa,EAAG,WACzBZ,EAASY,aAAa,GAAK,WAC3BZ,EAASY,aAAa,EAAG,aAItBZ,CACT,CA3BAa,EAAAA,GAAMC,YAAYC,EAAAA,IA6BX,IAAKC,EAKX,MALD,SAAYA,GACVA,EAAAA,IAAAA,MACAA,EAAAA,KAAAA,OACAA,EAAAA,MAAAA,QACAA,EAAAA,KAAAA,MACD,CALD,CAAYA,IAAAA,EAAW,KAAXA,GAKX,GAMK,MAAOC,EAsBXxN,cArBA,KAAAyN,OAASA,OACA,KAAAC,WAAkB,CAAC,EACnB,KAAAlE,KAAgC,OAChC,KAAA1I,KAAO,CAAE6M,SAAU,GAAIC,OAAQ,IAC/B,KAAAC,MAAQ,CAAC,EACT,KAAAC,QAAwB,CAAC,EAEzB,KAAAC,OAAS,GACT,KAAAC,KAAO,GACP,KAAAC,IAAM,GACN,KAAAC,MAAQ,CAAC,EACT,KAAAC,OAAS,UAClB,KAAAC,aAAuB,GAEN,KAAAC,MAAQ,IAAIjL,EAAAA,IAE7B,KAAAkL,MAAQ,KACR,KAAAC,OAAsBhB,EAAYiB,IAClC,KAAAC,YAAa,EACb,KAAAC,eAAgB,EAGdtB,EAAAA,GAAMC,SAAS,CACblE,GAAI,YACJwF,iBAAkB,CAACL,EAAOM,EAAMd,KAC9B,GAAIQ,EAAO,CACT,IAAIO,EAAIP,EAAMQ,QAAQC,WAAW,GAAGC,QAAQH,EACxCI,EAAQX,EAAMY,OAAOC,EACrBhD,EAAMmC,EAAMnC,IAChBA,EAAIiD,OACJjD,EAAIkD,YACJlD,EAAImD,OAAOT,EAAGI,EAAMhC,OAAS,IAC7Bd,EAAIoD,OAAOV,EAAGI,EAAM/M,IAAM,IAC1BiK,EAAIqD,UAAY,EAChBrD,EAAIsD,YAAY,CAAC,EAAG,IACpBtD,EAAIuD,YAAc,uBAClBvD,EAAIwD,SACJxD,EAAIsD,YAAY,CAAC,EAAG,IACpBtD,EAAIyD,UAAY,SACZf,GAAKP,EAAM7B,UAAUK,OAAS,GAChCX,EAAIyD,UAAY,QACPf,GAAKP,EAAM7B,UAAUM,KAAO,KACrCZ,EAAIyD,UAAY,QAElBzD,EAAI0D,KAAO,kBACX1D,EAAI2D,UAAYnD,iBAAiBpL,SAASO,iBAAiBC,iBAAiB,+BAC5EoK,EAAI4D,SAASzB,EAAMQ,QAAQkB,MAAM,GAAInB,EAAGI,EAAM/M,IAAM,IACpDiK,EAAI8D,S,IAIZ,CAEAC,oBACE5P,KAAKoO,eAAiBpO,KAAKoO,cAC1BpO,KAAK6P,SAASpM,cAAoCqM,cAAcA,cAAcC,UAAUxE,OAAO,WAClG,CAEAyE,gBACEhQ,KAAKyN,OAASzN,KAAK0N,MAAMuC,MAAK,SAAUC,EAAGC,GACzC,MAAMC,EAAQF,EAAErQ,KAAKwQ,cACnBC,EAAQH,EAAEtQ,KAAKwQ,cACjB,OAAID,EAAQE,GAAe,EACvBF,EAAQE,EAAc,EACnB,CACT,GACF,CAEAC,OACE,GAAIvQ,KAAK2N,MAAQ6C,EAAAA,EAAWC,iBAAkB,CAC5C,MAAMjQ,EAAOR,KAAKuN,MAAMvN,KAAKiO,SAASZ,UAAUqD,MAAMC,GAAOA,EAAGC,QAAUJ,EAAAA,EAAWC,mBAAkBjQ,KACvG,IAAKA,EACH,OAEFR,KAAK8N,aAAe+C,WAAWA,WAAWrQ,EAAKA,EAAKsQ,OAAS,GAAGC,YAAYC,QAAQ,IAAIC,gB,MACnF,GAAIjR,KAAK2N,MAAQ6C,EAAAA,EAAWU,SAAU,CAC3C,MAAM1Q,EAAOR,KAAKuN,MAAMvN,KAAKiO,SAASZ,UAAUqD,MAAMC,GAAOA,EAAGC,QAAUJ,EAAAA,EAAWU,WAAU1Q,KAC/F,IAAKA,EACH,OAEFR,KAAK8N,aAAe+C,WAAWrQ,EAAKA,EAAKsQ,OAAS,GAAGC,YAAYC,QAAQ,E,MACpE,GAAIhR,KAAK2N,MAAQ6C,EAAAA,EAAWW,SAAU,CAC3C,MAAM3Q,EAAOR,KAAKuN,MAAMvN,KAAKiO,SAASZ,UAAUqD,MAAMC,GAAOA,EAAGC,QAAUJ,EAAAA,EAAWW,WAAU3Q,KAC/F,IAAKA,EACH,OAEFR,KAAK8N,aAAe+C,WAAWA,WAAWrQ,EAAKA,EAAKsQ,OAAS,GAAGC,YAAYC,QAAQ,IAAIC,gB,CAG1F,GAAIjR,KAAK6P,UAAUpM,eAAiBzD,KAAKuN,MAAMvN,KAAKiO,SAASZ,SAAU,CACrE,MAAMxB,EAAM7L,KAAK6P,SAASpM,cAAc2N,WAAW,MACnDpR,KAAKgO,OAAOjK,UACZ/D,KAAK0N,KAAO1N,KAAKQ,MAAM6M,SAASgE,KAAK1D,IAAG,CAAQ9N,KAAM8N,EAAIiD,UAC1D5Q,KAAKgO,MAAQ,IAAIlB,EAAAA,GAAMjB,EAAK,CAC1B3C,KAAMlJ,KAAKkJ,KACX1I,KAAMR,KAAKQ,KACXgN,QAASxN,KAAKwN,QACd8D,QAAS,KAEXtR,KAAK+N,MAAMrJ,KAAK,K,CAEpB,CACA6M,aAAatD,GACXjO,KAAKiO,OAASA,EACdjO,KAAKQ,KAAOR,KAAKuN,MAAMU,GACvBjO,KAAKwR,wBACLxR,KAAKwN,QAAUxN,KAAKyR,kBACpBzR,KAAKuQ,MACP,CACAmB,UAAU/D,GACR3N,KAAK2R,QACL3R,KAAKwR,wBACL,IAAK,IAAII,KAAOzE,OAAO0E,KAAK7R,KAAKuN,OAC/B,IAAK,IAAI/C,EAAI,EAAGA,EAAIxK,KAAKuN,MAAMqE,GAAKvE,SAASyD,SAAUtG,EACjDxK,KAAKuN,MAAMqE,GAAKvE,SAAS7C,GAAGoG,QAAUjD,GACxC3N,KAAKuN,MAAMqE,GAAKvE,SAAS7C,GAAGsH,QAAS,EACjCnE,IAAQ6C,EAAAA,EAAWU,SACrBlR,KAAK4N,MAAQ,QACJD,IAAQ6C,EAAAA,EAAWW,SAC5BnR,KAAK4N,MAAQ,OAEb5N,KAAKuR,aAAatE,EAAmB,OACrCjN,KAAK4N,MAAQ,QAGf5N,KAAKuN,MAAMqE,GAAKvE,SAAS7C,GAAGsH,QAAS,EAI3C9R,KAAKQ,KAAOR,KAAKuN,MAAMvN,KAAKiO,QAC5BjO,KAAK0N,KAAO1N,KAAKQ,MAAM6M,SAASgE,KAAK1D,IAAG,CAAQ9N,KAAM8N,EAAIiD,UAC1D5Q,KAAK2N,IAAMA,GAAO3N,KAAK0N,KAAK,GAAG7N,KAC/BG,KAAKgQ,gBACLhQ,KAAKwN,QAAUxN,KAAKyR,kBACpBzR,KAAKuQ,MACP,CACAoB,QACE3R,KAAKyN,OAAS,GACdzN,KAAK0N,KAAO,GACZ1N,KAAK2N,IAAM,GACX3N,KAAKQ,KAAO,IACd,CACAgR,wBACE,IAAK,IAAIhH,EAAI,EAAGA,EAAIxK,KAAKuN,MAAMvN,KAAKiO,SAASZ,SAASyD,SAAUtG,EAC9DxK,KAAKuN,MAAMvN,KAAKiO,QAAQZ,SAAS7C,GAAGuH,sBAAwC,SAAhB/R,KAAKgS,QAAsBhS,KAAKoO,cAAoB,EAAJ,EAC5GpO,KAAKuN,MAAMvN,KAAKiO,QAAQZ,SAAS7C,GAAGyH,eAAiC,SAAhBjS,KAAKgS,QAAsBhS,KAAKoO,cAAoB,EAAJ,EACrGpO,KAAKuN,MAAMvN,KAAKiO,QAAQZ,SAAS7C,GAAG0H,0BAA4C,SAAhBlS,KAAKgS,QAAsBhS,KAAKoO,cAA8B,YAAd,YAChHpO,KAAKuN,MAAMvN,KAAKiO,QAAQZ,SAAS7C,GAAG2H,sBAAwC,SAAhBnS,KAAKgS,QAAsBhS,KAAKoO,cAA8B,YAAd,YAC5GpO,KAAKuN,MAAMvN,KAAKiO,QAAQZ,SAAS7C,GAAG4H,qBAAuC,SAAhBpS,KAAKgS,QAAsBhS,KAAKoO,cAA8B,YAAd,YAC3GpO,KAAKuN,MAAMvN,KAAKiO,QAAQZ,SAAS7C,GAAG6H,gBAAkB,SAAUC,GAC9D,MAAMtE,EAAQsE,EAAQtE,OAChB,IAAEnC,EAAG,UAAEM,GAAc6B,EAE3B,OAAK7B,EAGED,EAAsBL,EAAKM,GAFzB,IAGX,CAEJ,CACAsF,kBACE,IAAIc,GAAgB,IAMpB,OALIvS,KAAK2N,MAAQ6C,EAAAA,EAAWW,SAC1BoB,GAAgB,GACPvS,KAAK2N,MAAQ6C,EAAAA,EAAWC,mBACjC8B,GAAgB,IAEX,CACL1E,OAAQ,CACN2E,QAAS,GAEX5D,OAAQ,CACNC,EAAG,CACD4D,aAAa,EACbC,SAAU,QACVC,MAAO,CACLC,cAAe,EACfhN,QAAyB,SAAhB5F,KAAKgS,SAA4C,IAAvBhS,KAAKoO,cACxCoE,QAASD,EACTM,MAAO,QACPtD,KAAM,CACJzJ,KAAM,GACNgN,OAAQ,IACRC,OAAQ,UAEVC,gBAAiB,OACjBC,EAAG,EACHC,SAAU,CAACtC,EAAOuC,EAAOR,IACnBQ,GAAS,GAAKA,EAAQ,EACjBvC,EAAQ,EAAIA,EAAMI,QAAQ,GAAKzP,OAAOqP,EAAMI,QAAQ,GAAG1E,QAAQ,aAAc,KAAK2E,iBAElF,IAIbmC,KAAM,CACJC,YAAY,EACZnE,UAAW,IAGfX,EAAG,CACDoE,MAAO,CACLC,cAAe,EACfhN,SAAS,GAEXwN,KAAM,CACJC,YAAY,EACZnE,UAAW,KAIjBoE,YAAY,EACZC,qBAAqB,EACrBC,OAAQ,CACN5N,SAAS,GAEX6N,MAAO,CACLC,KAAM,UACNC,KAAM,IACNC,WAAW,GAEbC,SAAU,CACRH,KAAM,QACNC,KAAM,IACNC,WAAW,GAEbE,YAAa,CACXF,WAAW,EACXF,KAAM,QACNC,KAAM,KAERI,SAAU,CACRC,KAAM,CACJC,QAAS,GAEXC,MAAO,CACLC,OAAQ,IAGZ7C,QAAS,CACP9C,QAAS,CACP4F,UAAyB,SAAhBpU,KAAKgS,SAAsBhS,KAAKoO,eACzCsF,KAAM,UACNE,WAAW,EACXvB,gBAAiB,qBACjBgC,WAAY,qBACZC,UAAW,qBACXC,YAAa,qBACbC,eAAe,EACfC,UAAW,CACT7D,MAAO,CAAC8D,EAAMxE,EAAGC,KACfnQ,KAAK8N,aACH4G,EAAKC,QAAQnU,KAAKkU,EAAKE,WAAa,EAChCF,EAAKC,QAAQnU,KAAKkU,EAAKE,WAAW5D,QAAQ,GAAGC,iBAC7CJ,WAAW6D,EAAKC,QAAQnU,KAAKkU,EAAKE,WAAW5D,QAAQ,GAAG1E,QAAQ,aAAc,KAAK2E,kBAAoB,GACtGJ,WAAW6D,EAAKC,QAAQnU,KAAKkU,EAAKE,WAAW5D,QAAQ,IAAIC,oBAItEuC,OAAQ,CAAE5N,SAAS,IAGzB,CAAC,+B,cAvQUsH,EAAc,4B,KAAdA,EAAcrL,UAAAA,CAAAA,CAAAA,iBAAAwD,UAAAA,SAAAA,EAAAA,G,GAAA,K,29BD5C3BnD,EAAAA,IAAAA,EAAAA,MAAAA,GACEA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,eAAAA,GAIFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,MAAAA,GAgBAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,MAAAA,GAGAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,GACAA,EAAAA,IAAAA,EAAAA,MAAAA,GAAoBA,EAAAA,IAAC,SAADA,WAAgD,OAAvC2J,EAAAA,oBAAmBA,EAAAA,YAAe,EAAOA,EAAAA,UAAAA,EAAAA,IAAc,IAAE3J,EAAAA,IAAAA,GACtFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,eAAAA,GAWAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,eAAAA,I,MAvC4BA,EAAAA,IAAAA,WAAAA,EAAAA,YACMA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,QAK5BA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,MAAAA,EAAAA,KAAAA,KAAAA,EAAAA,KAAAA,QAgBAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,MAAAA,EAAAA,MAAAA,EAAAA,KAAAA,SAGCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,MAAAA,EAAAA,MAAAA,EAAAA,KAAAA,SAC+EA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,GAAAA,EAAAA,cAAAA,WAAAA,SAAAA,MAEvEA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,YAAAA,EAAAA,QAWAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,SAAAA,EAAAA,Q,6sQEhCT,MAAO2S,UAA0BC,EAAAA,EAMrCpV,cACE8C,QANQ,KAAAuS,iBAAmB,IAAIjS,EAAAA,IAGjC,KAAAkS,OAAShV,KAAKN,YAAY,QAAQmJ,GAClC,KAAAjJ,QAAS,CAGT,CAEAgB,WAAkB,CAIlBqU,cAAcjR,IACPA,EAAE4E,OAAOsM,QAAQ,IAAMlV,KAAKgV,SAAWhV,KAAKJ,SAC/CI,KAAKJ,QAAS,EAElB,CAEAuV,iBACEnV,KAAKJ,QAAUI,KAAKJ,MACtB,CAAC,+B,cAtBUiV,EAAiB,4B,KAAjBA,EAAiBhT,UAAAA,CAAAA,CAAAA,oBAAAuT,aAAAA,SAAAA,EAAAA,GAAA,K,kCAAjBvJ,EAAAA,cAAAA,EAAqB,Y,CAAA,+BAArBA,EAAAA,cAAAA,EAAqB,Y,qNCD5B,MAAOiJ,EAIXpV,cAAe,CAEfkB,WAAkB,CAAC,+B,cANRkU,EAAa,4B,KAAbA,EAAajT,UAAAA,CAAAA,CAAAA,aAAA2J,OAAAA,CAAA6J,QAAAA,UAAAC,KAAAA,QAAAxT,MAAAA,EAAAC,KAAAA,EAAAC,SAAAA,SAAAA,EAAAA,GAAAA,EAAAC,cAAAA,I,kSCEhBC,EAAAA,IAAAA,EAAAA,MAAAA,I,sBAA4BA,EAAAA,IAAAA,MAAAA,EAAAA,SAAAA,SAAAA,EAAAA,SAAAA,OAAAA,0CAAAA,4CAAAA,EAAAA,I,0BAE5BA,EAAAA,IAAAA,EAAAA,MAAAA,I,sBAAgCA,EAAAA,IAAAA,MAAAA,EAAAA,SAAAA,SAAAA,EAAAA,SAAAA,OAAAA,0CAAAA,sCAAAA,EAAAA,I,uBAChCA,EAAAA,IAAAA,EAAAA,MAAAA,G,0BALJA,EAAAA,IAAAA,EAAAA,CAAgE,MAE5DA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,MAAAA,IAEAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,MAAAA,IACAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,MAAAA,IACFA,EAAAA,MAAeA,EAAAA,IAAAA,GACjBA,EAAAA,O,2BANgBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,WAAAA,OAAAA,EAAAA,EAAAA,WAAAA,KAAAA,EAAAA,QAAAA,cAAAA,cACNA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,eAAAA,QAEAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,eAAAA,YAEOA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,GAAAA,EAAAA,cAAAA,I,wBAGfA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,MAAAA,IACFA,EAAAA,M,sBAEEA,EAAAA,IAAAA,EAAAA,MAAAA,G,0BAJFA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,eAAAA,GAGAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,cAAAA,KAAAA,GAAAA,EAAAA,KAGAA,EAAAA,IAAAA,I,gCANeA,EAAAA,IAAAA,OAAAA,EAAAA,SAAAA,EAAAA,UAAAA,CAA0B,cAMzCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,EAAAA,SAAAA,EAAAA,UAAAA,I,wBAGJA,EAAAA,IAAAA,EAAAA,OAAAA,IAAiEA,EAAAA,IAAAA,EAAAA,SAAKA,EAAAA,M,uBACtEA,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,EAAAA,MAAAA,IACAA,EAAAA,IAAAA,EAAAA,QAAMA,EAAAA,IAAAA,EAAAA,qBAAiBA,EAAAA,KAAAA,G,yBAIKA,EAAAA,IAAAA,EAAAA,MAAAA,I,qBAE1BA,EAAAA,IAAAA,MAAAA,EAAAA,eAAAA,EAAAA,I,2BASAA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,G,mBACFA,EAAAA,O,sBADEA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,SAAAA,UAAAA,EAAAA,SAAAA,I,uBAGAA,EAAAA,IAAAA,EAAAA,c,0BALJA,EAAAA,IAAAA,EAAAA,IAAAA,IACEA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,eAAAA,GAGAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,cAAAA,KAAAA,GAAAA,EAAAA,KAGFA,EAAAA,O,gCAPmEA,EAAAA,IAAAA,OAAAA,EAAAA,YAAAA,EAAAA,SAAAA,MAAAA,EAAAA,KAClDA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,SAAAA,SAAAA,EAAAA,SAAAA,eAAAA,CAAmD,a,wBAOpEA,EAAAA,IAAAA,EAAAA,MAAAA,IAAqEA,EAAAA,IAAAA,EAAAA,eAAWA,EAAAA,M,CC/BhF,MAAOqT,EAKX7V,YACS8V,EACAlT,EACAmT,EACCC,EACD/P,EACCgQ,GALD,KAAAH,UAAAA,EACA,KAAAlT,eAAAA,EACA,KAAAmT,YAAAA,EACC,KAAAC,gBAAAA,EACD,KAAA/P,aAAAA,EACC,KAAAgQ,eAAAA,EAVH,KAAAC,SAAWA,EAAAA,GACX,KAAAC,WAAaA,EAAAA,EACb,KAAAC,WAAQzV,EACP,KAAA0V,cAA8B,IAAIhW,EAAAA,EAS1C,KAAAiW,SAAU,CADP,CAIHpV,WACEqV,aAAY,KACVjW,KAAKgW,SAAWhW,KAAKgW,OAAO,GAC3B,KACHhW,KAAK+V,cAAcG,IACjBlW,KAAK2V,eAAeQ,YAAYjW,WAAWkW,IACrCA,IAAWpW,KAAKqW,SAASC,WAAuBjW,IAAfL,KAAK8V,QACxC9V,KAAK8V,OAAQ,EACbpU,YAAW,KACT1B,KAAK8V,OAAQ,CAAK,GACjB,K,IAIX,CACA5O,YAAYC,GAA+B,CAC3CtG,cACEb,KAAK+V,cAAcjV,aACrB,CACAyV,UACE,GAA2B,gBAAvBvW,KAAKqW,SAASnN,KAChB,MAA2B,eAAvBlJ,KAAKqW,SAASnN,KACZlJ,KAAKqW,SAASG,YAAYC,QACrB,YAEA,cAGFzW,KAAKqW,SAASnN,KAElB,CACL,IAAIwN,EAAgB,GAMpB,OAJEA,EADE1W,KAAKqW,SAASM,OAAOF,UAAYzW,KAAK4W,QAAQH,QAChC,OAEA,WAEXC,C,CAEX,CAEAG,YAAYP,GAEV,MAAO,GADS7T,EAAAA,GAAUqU,sBACLR,GACvB,CACAS,gBAAgBC,GACd,MAAMC,EAAIjX,KAAK0V,gBAAgBqB,gBAAgBC,EAAahX,KAAK4W,SAKjE,OAJKK,EAAEpX,OACLoX,EAAEpX,KAAOoX,EAAER,QAAU,GAAGQ,EAAER,QAAQzL,MAAM,EAAG,QAAQiM,EAAER,QAAQzL,OAAO,KAAO,KAE7EiM,EAAEpX,KAAKqX,OACAD,CACT,CACAE,eACE,MAAO,0BAA0BtB,EAAAA,EAAW7V,KAAK+W,gBAAgB/W,KAAKqW,WAAWe,YAAY/G,cAAc/D,QAAQ,eAAgB,oBACrI,CACA+K,qBACE,OAAOrX,KAAK8V,OAAS9V,KAAKqW,SAASiB,SAAW1B,EAAAA,GAAS2B,UACnD,uCACAvX,KAAKqW,SAASiB,SAAW1B,EAAAA,GAAS2B,UAClC,6CACAvX,KAAKqW,SAASiB,SAAW1B,EAAAA,GAAS4B,YAClC,+CACAxX,KAAKqW,SAASiB,SAAW1B,EAAAA,GAAS6B,OAClC,yCACAzX,KAAKqW,SAASiB,SAAW1B,EAAAA,GAAS8B,eAClC,qDACA,8CACN,CACAC,cACE,OAAQ3X,KAAKuW,WACX,IAAK,OAEL,IAAK,WAML,IAAK,cACH,OAAOvW,KAAK2F,aAAaiS,aAAa5X,KAAKqW,SAASwB,QAAS7X,KAAKqW,SAASyB,OAAO/G,YALpF,IAAK,YACH,MAAO,SACT,IAAK,cACH,MAAO,WAGT,QACE,MAAO,GAEb,CACAgH,SAAS1B,GACP,OAAIA,EAAS2B,WACa,MAApB3B,EAASyB,OACJ,GAAG9X,KAAK2X,uBAAuBtB,EAAS2B,aAE1C,QAAQ3B,EAAS2B,aAEnB,GACT,CACAC,SAAS5B,GACP,OAAOrW,KAAK+X,SAAS1B,GAAUvF,OAAS,GAAyB,MAApBuF,EAASyB,MACxD,CACAI,aAAa7B,GACX,OAAOA,EAASwB,SAAWxB,EAASM,OAAOF,SAAWJ,EAASwB,QAAQM,MAAM,KAAK,KAAO9B,EAASM,OAAOF,QAAU,SAAW,UAChI,CACA2B,iBAAiBlP,GACf,OAAQA,EAAKmH,eACX,IAAK,OACH,MAAO,WACT,IAAK,WACH,OAAOrQ,KAAKkY,aAAalY,KAAKqW,UAAY,SAC5C,IAAK,YAEL,IAAK,cACH,MAAO,MACT,IAAK,cACH,MAAO,uBAEb,CACAgC,KAAK5B,GACH4B,IAAK5B,GACL,MAAM6B,EAAkBtY,KAAKwV,UAAU+C,QAAQ,uCAC/CvY,KAAKsC,eAAe4T,IAAIO,EAAU,IAAM6B,EAAiB,EAC3D,CAAC,+B,cAtIU/C,GAAc,+F,KAAdA,EAAc1T,UAAAA,CAAAA,CAAAA,cAAA2J,OAAAA,CAAA6K,SAAAA,WAAAO,QAAAA,WAAAjL,SAAAA,CAAAA,EAAAA,KAAA7J,MAAAA,GAAAC,KAAAA,GAAA6J,OAAAA,CAAAA,CAAAA,EAAAA,eAAAA,CAAAA,EAAAA,WAAAA,OAAAA,CAAAA,EAAAA,WAAAA,SAAAA,CAAAA,EAAAA,OAAAA,YAAAA,CAAAA,iBAAAA,IAAAA,CAAAA,QAAAA,SAAAA,EAAAA,QAAAA,CAAAA,QAAAA,oBAAAA,EAAAA,QAAAA,CAAAA,EAAAA,WAAAA,UAAAA,CAAAA,EAAAA,WAAAA,WAAAA,CAAAA,QAAAA,aAAAA,EAAAA,MAAAA,EAAAA,QAAAA,CAAAA,EAAAA,WAAAA,SAAAA,CAAAA,MAAAA,uCAAAA,EAAAA,OAAAA,EAAAA,SAAAA,CAAAA,EAAAA,WAAAA,QAAAA,CAAAA,EAAAA,OAAAA,CAAAA,QAAAA,SAAAA,SAAAA,SAAAA,EAAAA,OAAAA,EAAAA,QAAAA,CAAAA,QAAAA,SAAAA,EAAAA,QAAAA,CAAAA,EAAAA,YAAAA,CAAAA,QAAAA,2BAAAA,EAAAA,MAAAA,EAAAA,gBAAAA,CAAAA,QAAAA,4BAAAA,EAAAA,MAAAA,EAAAA,gBAAAA,CAAAA,QAAAA,QAAAA,EAAAA,mBAAAA,CAAAA,EAAAA,YAAAA,gBAAAA,EAAAA,OAAAA,CAAAA,EAAAA,YAAAA,iBAAAA,EAAAA,OAAAA,CAAAA,EAAAA,SAAAA,CAAAA,UAAAA,IAAAA,CAAAA,MAAAA,4CAAAA,EAAAA,YAAAA,iBAAAA,CAAAA,EAAAA,UAAAA,CAAAA,EAAAA,qBAAAA,CAAAA,MAAAA,0CAAAA,EAAAA,WAAAA,CAAAA,EAAAA,aAAAA,EAAAA,OAAAA,CAAAA,SAAAA,SAAAA,EAAAA,SAAAA,EAAAA,QAAAA,CAAAA,gBAAAA,IAAAA,CAAAA,EAAAA,WAAA5J,SAAAA,SAAAA,EAAAA,G,GAAA,MDlB3BE,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAGuD,UAHvDA,CAGuD,WAGjDA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,eAAAA,GAQAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,cAAAA,KAAAA,EAAAA,EAAAA,KASFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,GACAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,MAAAA,GAIFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAA6B,WACGA,EAAAA,IAAAA,GAAAA,EAAAA,EAAAA,EAAAA,MAAAA,GAG5BA,EAAAA,IAAAA,GAAAA,MAAAA,IAA4BA,EAAAA,IAAAA,IACgBA,EAAAA,MAC5CA,EAAAA,IAAAA,GAAAA,MAAAA,IACIA,EAAAA,IAAC,SAADA,WAAA,aAAS2J,EAAAA,KAA8B,OAA9BA,EAAKA,EAAAA,gBAAAA,EAAAA,WAAyB,eAAU,IADrD3J,EAAAA,KAAAA,GAGFA,EAAAA,IAAAA,GAAAA,OAAAA,IACEA,EAAAA,IAAAA,GAAAA,MAAAA,IACAA,EAAAA,IAAAA,GAAAA,EAAAA,EAAAA,EAAAA,IAAAA,IAQAA,EAAAA,IAAAA,GAAAA,EAAAA,EAAAA,EAAAA,MAAAA,IACFA,EAAAA,KAAAA,M,8BAlDqBA,EAAAA,IAAAA,EAAAA,UAAAA,QAAAA,cAAAA,cACvBA,EAAAA,IAAAA,cAAAA,EAAAA,SAAAA,SAAAA,EAAAA,SAAAA,YAAAA,CAA8D,+DAA9DA,CAA8D,qDAA9DA,CAA8D,wDAA9DA,CAA8D,gDAK3CA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,EAAAA,SAAAA,WAAAA,CAA4B,cAkBvBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,SAAAA,SAAAA,EAAAA,SAAAA,QACUA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,SAAAA,SAAAA,EAAAA,SAAAA,gBAO3BA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,OAAAA,EAAAA,EAAAA,gBAAAA,EAAAA,aAAAA,EAAAA,aAAAA,KAAAA,OAAAA,EAAAA,EAAAA,gBAAAA,EAAAA,WAAAA,KAAAA,EAAAA,aAEyBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,GAAAA,EAAAA,iBAAAA,EAAAA,WAAAA,KAAAA,OAAAA,EAAAA,EAAAA,gBAAAA,EAAAA,WAAAA,KAAAA,EAAAA,QAAAA,OAAAA,EAAAA,EAAAA,gBAAAA,EAAAA,WAAAA,KAAAA,EAAAA,UAAAA,GAAAA,IAMvBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,MAAAA,EAAAA,qBAAAA,EAAAA,KACcA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,SAAAA,SAAAA,EAAAA,SAAAA,aAQEA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,SAAAA,SAAAA,EAAAA,SAAAA,Y,slkBEvCrBA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,MAAAA,GAAAA,CAAkB,UAAMA,EAAAA,IAAAA,EAAAA,mBAAeA,EAAAA,KAAAA,GACzCA,EAAAA,M,0BACAA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,YAAAA,IACFA,EAAAA,O,oCADaA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,WAAAA,EAAAA,CAAqB,oB,2BALpCA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,eAAAA,GAGAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,eAAAA,G,iBAGFA,EAAAA,O,sBANiBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,EAAAA,QAAAA,WAAAA,QAGoBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,QAAAA,WAAAA,EAAAA,IAAAA,CAAoC,4B,uBAInDA,EAAAA,IAAAA,EAAAA,sB,0BATxBA,EAAAA,IAAAA,EAAAA,MAAAA,GACEA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,eAAAA,GAQAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,cAAAA,KAAAA,EAAAA,EAAAA,KACFA,EAAAA,O,gCATiBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,QAAAA,WAAAA,CAA0B,a,ECIvC,MAAOsW,EAEX9Y,YAAmB8V,EAAoClT,EAAuCmT,EAAiC9P,GAA5G,KAAA6P,UAAAA,EAAoC,KAAAlT,eAAAA,EAAuC,KAAAmT,YAAAA,EAAiC,KAAA9P,aAAAA,EAC/H,KAAAqQ,SAAU,CADkJ,CAI5JpV,WAAkB,CAClBiW,YAAYP,GAEV,MAAO,GADS7T,EAAAA,GAAUqU,sBACLR,GACvB,CAEAmC,WAAWtF,EAAekD,GACxB,OAAOA,EAASqC,MAAQrC,EAASC,IACnC,CAAC,+B,cAdUkC,GAAiB,yE,KAAjBA,EAAiB3W,UAAAA,CAAAA,CAAAA,iBAAA2J,OAAAA,CAAA6K,SAAAA,WAAAO,QAAAA,WAAA9U,MAAAA,EAAAC,KAAAA,EAAA6J,OAAAA,CAAAA,CAAAA,EAAAA,aAAAA,kBAAAA,CAAAA,EAAAA,0BAAAA,CAAAA,EAAAA,SAAAA,CAAAA,SAAAA,SAAAA,EAAAA,WAAAA,EAAAA,QAAAA,CAAAA,QAAAA,aAAAA,KAAAA,uBAAAA,EAAAA,QAAAA,CAAAA,KAAAA,uBAAAA,EAAAA,cAAAA,CAAAA,EAAAA,OAAAA,YAAAA,CAAAA,UAAAA,IAAAA,CAAAA,EAAAA,QAAAA,CAAAA,EAAAA,QAAAA,UAAAA,gBAAAA,CAAAA,EAAAA,QAAAA,CAAAA,EAAAA,WAAAA,YAAA5J,SAAAA,SAAAA,EAAAA,GAAA,MDb9BE,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAAuC,UAAvCA,CAAuC,QAE/BA,EAAAA,IAAAA,EAAAA,mBAAeA,EAAAA,MACnBA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAAmB,SAC6DA,EAAAA,IAAAA,EAAAA,oBAAgBA,EAAAA,KAAAA,KAIlGA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,MAAAA,GAWFA,EAAAA,O,MAf0BA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,YAAAA,EAAAA,QAAAA,SAAAA,EAAAA,KAI2BA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,UAAAA,MAAAA,aAAAA,I,s6EEJjDA,EAAAA,IAAAA,EAAAA,MAAAA,GAAiEA,EAAAA,IAAAA,GACxCA,EAAAA,O,qBADwCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,EAAAA,cAAAA,EAAAA,OAAAA,G,2BAOjEA,EAAAA,IAAAA,EAAAA,MAAAA,GACEA,EAAAA,IAAAA,GACFA,EAAAA,O,qBADEA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,OAAAA,I,8DCGA,MAAOyW,EAMXjZ,YACS8V,EACAlT,EACAqD,EACAiT,GAHA,KAAApD,UAAAA,EACA,KAAAlT,eAAAA,EACA,KAAAqD,aAAAA,EACA,KAAAiT,qBAAAA,EATT,KAAAC,kBAAoBA,EAAAA,GACpB,KAAAtX,OAASA,OAET,KAAAuX,OAAQ,EACR,KAAAC,gBAAkBtW,EAAAA,GAAUuW,gBAMzB,CACHpY,WAAkB,CAClBsG,YAAYC,GAERA,EAAQ8R,MAAM5R,eAAe6R,SAAW,GACxC/R,EAAQ8R,MAAM3R,cAAc4R,SAAW,GACvC/R,EAAQ8R,MAAM3R,cAAc4R,SAAW/R,EAAQ8R,MAAM5R,eAAe6R,UAEpElZ,KAAK8Y,OAAQ,EAEjB,CACAK,UAAUF,GACRxZ,EAAAA,EAAeQ,aAAamD,KAAK,CAAEvD,KAAM,eAAgBW,KAAMyY,GACjE,CACAG,qBACE1X,YAAW,KACT1B,KAAK8Y,OAAQ,CAAK,GACjB,IACL,CACAO,cAAcJ,GACZ,OAAOK,IAAIL,EAAMC,SACdK,IAAI,IAAMC,SAASP,EAAMQ,WACzBzI,SACL,CAAC,+B,cAlCU2H,GAAkB,yE,KAAlBA,EAAkB9W,UAAAA,CAAAA,CAAAA,mBAAA2J,OAAAA,CAAAyN,MAAAA,SAAAtN,SAAAA,CAAAA,EAAAA,KAAA7J,MAAAA,EAAAC,KAAAA,GAAA6J,OAAAA,CAAAA,CAAAA,EAAAA,WAAAA,QAAAA,EAAAA,SAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,WAAAA,CAAAA,EAAAA,QAAAA,EAAAA,SAAAA,OAAAA,QAAAA,WAAAA,cAAAA,OAAAA,eAAAA,UAAAA,CAAAA,QAAAA,UAAAA,EAAAA,QAAAA,CAAAA,EAAAA,cAAAA,SAAAA,CAAAA,EAAAA,SAAAA,CAAAA,QAAAA,SAAAA,EAAAA,QAAAA,CAAAA,EAAAA,WAAAA,CAAAA,EAAAA,WAAA5J,SAAAA,SAAAA,EAAAA,GAAA,MDf/BE,EAAAA,IAAAA,EAAAA,MAAAA,GAA4BA,EAAAA,IAAC,SAADA,WAAA,OAAS2J,EAAAA,UAAAA,EAAAA,MAAgB,IACnD3J,EAAAA,IAAAA,EAAAA,MAAAA,GACAA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAAqB,iBACMA,EAAAA,IAAC,UAADA,WAAA,OAAU2J,EAAAA,oBAAoB,IAA4J3J,EAAAA,MACnNA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,MAAAA,GAEFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAA+B,WAE3BA,EAAAA,IAAAA,GACFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,MAAAA,GAGFA,EAAAA,KAAAA,I,MAX2DA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,EAAAA,MAAAA,CAAgB,eAAhBA,CAAgB,WAAhBA,CAAgB,cAAhBA,CAAgB,iBAAhBA,CAAgB,UAAhBA,CAAgB,4BACnEA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,OAAAA,SAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,SAAAA,GAKJA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,KAAAA,KAEIA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,Q,k7EELJA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAA+D,UAAMA,EAAAA,IAAAA,GAA6BA,EAAAA,KAAAA,I,qBAA7BA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,WAAAA,W,4BAEvEA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAAmD,UAAMA,EAAAA,IAAAA,GAA2BA,EAAAA,KAAAA,I,qBAA3BA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,EAAAA,UAAAA,I,ECGvD,MAAOwX,WAA2B7E,GAAAA,EActCnV,YAAoBiW,GAClBnT,QADkB,KAAAmT,eAAAA,EAZV,KAAAgE,QAAU,IAAI7W,EAAAA,IACf,KAAA8W,UAAY,EACZ,KAAAC,WAAa,EACtB,KAAAC,aAAe,IAAIC,EAAAA,GACnB,KAAAC,OAAS,KACT,KAAAC,UAAW,EACX,KAAAC,UAAW,EACF,KAAAC,YAAc,GACvB,KAAAC,gBAAkB,GAClB,KAAAC,WAAa,GACL,KAAAtE,cAA8B,IAAIhW,EAAAA,EAIxCC,KAAK+V,cAAcG,IACjBlW,KAAK8Z,aAAaQ,MAAKC,EAAAA,GAAAA,GAAa,MAAMra,WAAW8D,IACnDhE,KAAKga,OAAWhW,GAAG4E,OAAO4R,MAAQ,GAAGxW,EAAE4E,OAAO4R,MAAMlO,QAAQ,QAAS,UAAY,GAC3EtI,GACJhE,KAAK2Z,QAAQjV,KAAK1E,KAAKga,QAEzBha,KAAKka,WAAala,KAAKga,MAAM,KAGjCha,KAAK+V,cAAcG,IACjBlW,KAAK2V,eAAe8E,cAAcva,WAAW2J,IAC3C7J,KAAK2R,OAAO,IAGlB,CACA/Q,WACEZ,KAAKoa,gBAAkBpa,KAAKma,WAC9B,CACAtZ,cACEb,KAAK+V,cAAcjV,aACrB,CACA4Z,UAAU1W,GACRhE,KAAK8Z,aAAa1W,KAAKY,EACzB,CACA2W,UACE3a,KAAKia,UAAW,EAChBja,KAAK2Z,QAAQjV,KAAK1E,KAAKga,OACzB,CACAY,sBACO5a,KAAKia,UACRja,KAAK6a,MAAMpX,cAAcqX,OAE7B,CAGAC,OAAO/W,GACAA,EAAE4E,OAAOsM,QAAQ,IAAMlV,KAAKgV,UAAWhV,KAAKia,UAAaja,KAAKka,WACjEla,KAAKia,UAAW,EAChBja,KAAK2Z,QAAQjV,KAAK,IAEtB,CACAiN,QACE3R,KAAKia,UAAW,EAChBja,KAAKga,OAAS,GACdha,KAAKqa,WAAa,GAClBra,KAAKka,UAAW,EAChBla,KAAK2Z,QAAQjV,KAAK1E,KAAKga,OACzB,CAAC,+B,cA/DUN,IAAkB,uC,KAAlBA,GAAkB7X,UAAAA,CAAAA,CAAAA,mBAAAwD,UAAAA,SAAAA,EAAAA,G,GAAA,K,8HAAlBwG,EAAAA,OAAAA,EAAc,Y,CAAA,+BAAdA,EAAAA,OAAAA,EAAc,Y,6iBDX3B3J,EAAAA,IAAAA,EAAAA,OAAAA,EAAAA,CAAyB,UAAzBA,CAAyB,UAAzBA,CAAyB,WAGoCA,EAAAA,IAAC,SAADA,WAAA,OAAS2J,EAAAA,qBAAqB,IAArF3J,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,QAAAA,EAAAA,GAAsCA,EAAAA,IAAAA,iBAAAA,SAAAA,GAAA,wBAAAA,CAAwB,2BAA0C2J,EAAAA,SAAS,GAA3E3J,CAAwB,8BACjD2J,EAAAA,UAAAA,EAAiB,IAD9B3J,EAAAA,MAEAA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,MAAAA,GACFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,MAAAA,GACFA,EAAAA,KAAAA,I,MARsBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,KAAAA,EAAAA,QACaA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,EAAAA,SAAAA,CAAyB,wBAElBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,WAAAA,CAAwB,iCAExDA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,UAAAA,EAAAA,UAEFA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,EAAAA,U,krDERVA,EAAAA,IAAAA,EAAAA,iBAAAA,GAEEA,EAAAA,IAAC,WAADA,SAAAA,GAAAA,EAAAA,IAAC,GAAD,uBAAWA,EAAAA,IAAAA,EAAAA,aAAAA,GAAoB,IAAEA,EAAAA,K,yBAFuBA,EAAAA,IAAAA,cAAAA,SAAAA,CAAwB,iFAAxBA,CAAwB,2E,4BAK9EA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,iBAAAA,GACFA,EAAAA,O,yBADgCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,E,yBAEhCA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,sBACFA,EAAAA,M,CCKE,MAAO8Y,GAaXtb,YACS8V,EACAlT,EACAqD,EACAiT,GAHA,KAAApD,UAAAA,EACA,KAAAlT,eAAAA,EACA,KAAAqD,aAAAA,EACA,KAAAiT,qBAAAA,EAhBT,KAAAC,kBAAoBA,EAAAA,GAIX,KAAAoC,YAAa,EACtB,KAAAC,gBAAkB,CAAEC,OAAQ,GAAIC,SAAU,GAAIrQ,IAAK,IACnD,KAAAgO,gBAAkBtW,EAAAA,GAAUuW,iBACnB,KAAAqC,UAAY,GACrB,KAAAC,SAAWtb,KAAKqb,UAChB,KAAAvB,aAAe,IAAIC,EAAAA,GACnB,KAAAC,OAAS,IAON,CACHpZ,WACEZ,KAAKub,SACP,CACArU,cACMlH,KAAKwb,cACPxb,KAAKub,SAET,CACAA,UACEvb,KAAKkb,gBAAgBnQ,IAAM/K,KAAKyb,OAChCzb,KAAKkb,gBAAgBE,SAAWpb,KAAK0b,OAAO1b,KAAKyb,QACjDzb,KAAKkb,gBAAgBC,OAASnb,KAAKkb,gBAAgBE,UAAUpQ,MAAM,EAAGhL,KAAKsb,SAC7E,CACAtT,kBACE,MAAM2T,EAAM3X,IAERhE,KAAKkB,MAAMuC,eAAemY,WAAa5b,KAAKkB,MAAMuC,eAAetC,aAAenB,KAAKkB,MAAMuC,eAAeoY,aAAe,IACxH7b,KAAKsb,SAAWtb,KAAKkb,gBAAgBnQ,KAAK+F,SAE3C9Q,KAAKsb,UAAYtb,KAAKqb,UACtBrb,KAAKub,U,EAGTvb,KAAKkB,MAAMuC,cAAcqY,iBAAiB,SAAUH,EAAI,CAAEI,SAAS,IACnE/b,KAAKkB,MAAMuC,cAAcqY,iBAAiB,YAAaH,EAAI,CAAEI,SAAS,GACxE,CACAL,OAAOD,GACL,OAAIzb,KAAKga,OAAOlJ,OAAS,GAAqB,OAAhB9Q,KAAKga,OAC1ByB,EAAOzB,QACXgC,GACCA,EAAEnc,KAAKoc,MAAM,IAAIC,OAAO,KAAKlc,KAAKga,WAAY,QAC5CmC,MAAM5a,OAAOvB,KAAKga,UAAYgC,EAAEnT,GAAGkI,WAAWkL,MAAM,IAAIC,OAAO,KAAK1C,SAASxZ,KAAKga,YAAa,QAGhGyB,CACT,CACAW,aAAapC,GACX,MAAMqC,EAAarc,KAAKga,OACxBha,KAAKga,OAASA,GAAU,KACpBqC,IAAerc,KAAKga,SACtBha,KAAKsb,SAAWtb,KAAKqb,UACrBrb,KAAKub,UACLvb,KAAKkB,KAAKuC,cAAc9B,SAAS,EAAG,GAExC,CACA2a,WAAWnJ,EAAe8F,GACxB,OAAOA,GAAOnO,gBAAkBmO,GAAOnO,gBAAkB,IAAMmO,GAAOpQ,GAAKsK,CAC7E,CAAC,+B,cAlEU6H,IAAiB,yE,KAAjBA,GAAiBnZ,UAAAA,CAAAA,CAAAA,kBAAAwD,UAAAA,SAAAA,EAAAA,G,GAAA,K,mbDf9BnD,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,iBAAAA,GAGAA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAA4B,aAExBA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,eAAAA,GAGAA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,eAAAA,GAGFA,EAAAA,KAAAA,I,MAXeA,EAAAA,IAAAA,QAAAA,MAAAA,EAAAA,OAAAA,KAAAA,EAAAA,OAAAA,QAAAA,IAAAA,EAAAA,YAIJA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,aAAAA,GAAAA,QACuBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,gBAAAA,OAAAA,CAA2B,6BAG5CA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,OAAAA,EAAAA,SAAAA,EAAAA,gBAAAA,SAAAA,Q,wpEEAbA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,OAAAA,IAA4EA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,uCAAkB,MAAK,IAAGA,EAAAA,IAAAA,EAAAA,OAAGA,EAAAA,MACzGA,EAAAA,IAAAA,EAAAA,OAAAA,IAA4EA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,uCAAkB,GAAE,IAAGA,EAAAA,IAAAA,EAAAA,OAAGA,EAAAA,MACxGA,EAAAA,K,0BAF0CA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,WAAAA,QAAAA,EAAAA,QACAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,WAAAA,QAAAA,EAAAA,O,yBAQ5CA,EAAAA,IAAAA,GAAwDA,EAAAA,IAAAA,EAAAA,QAAMA,EAAAA,IAAAA,EAAAA,qCAAiCA,EAAAA,MAC/FA,EAAAA,M,yFACAA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,MAAAA,GAAAA,CACoG,YACvEA,EAAAA,IAAC,SAADA,WAAA,6CAASA,EAAAA,IAAAA,EAAAA,eAAeqa,EAAAA,YAAAA,MAAAA,EAAAA,KAAAA,EAAAA,MAA2B,IAC5Era,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,EAAAA,YAAAA,IACAA,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,GACFA,EAAAA,KAAAA,GAEFA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAA4B,YACPA,EAAAA,IAAC,GAA+BA,EAAAA,MACnDA,EAAAA,IAAAA,GAAAA,MAAAA,IAAoCA,EAAAA,IAAAA,GAAAA,MAAAA,IAAmDA,EAAAA,KAAAA,KAG3FA,EAAAA,IAAAA,GAAAA,MAAAA,IACEA,EAAAA,IAAAA,GAAAA,gBAAAA,IAEFA,EAAAA,KAAAA,GAEJA,EAAAA,K,wCAlBsCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,YAAAA,QAAAA,EAAAA,OAAAA,OAAAA,IADAA,EAAAA,IAAAA,WAAAA,EAAAA,SAAAA,EAAAA,YAAAA,MAAAA,EAAAA,KAAAA,EAAAA,MAClCA,EAAAA,IAAAA,KAAAA,EAAAA,YAAAA,MAAAA,EAAAA,KAAAA,EAAAA,MAG2CA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,EAAAA,IAAAA,GAAAA,GAAAA,MAAAA,EAAAA,KAAAA,EAAAA,eAErCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,MAAAA,EAAAA,KAAAA,EAAAA,KAAAA,KAIiBA,EAAAA,IAAC,GAADA,EAAAA,IAAC,IAADA,MAAAA,GAAAA,MAAAA,EAAAA,OAAAA,KAAAA,EAAAA,OAAAA,OAAAA,KAKNA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,eAAAA,EAAAA,SAAAA,EAAAA,YAAAA,MAAAA,EAAAA,KAAAA,EAAAA,KAAAA,CAAsD,+B,4FAWvEA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,IAAAA,GAAAA,CAC6C,YACjBA,EAAAA,IAAAA,GAAqDA,EAAAA,MAC/EA,EAAAA,IAAAA,EAAAA,MAAAA,IAEEA,EAAAA,IAAAA,EAAAA,YAAAA,IAGFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,MAAAA,GAAAA,CAA6B,WAA7BA,CAA6B,YAENA,EAAAA,IAAAA,GAAgCA,EAAAA,MACnDA,EAAAA,IAAAA,GAAAA,MAAAA,IAAyBA,EAAAA,IAAAA,IAAgCA,EAAAA,KAAAA,GAE3DA,EAAAA,IAAAA,GAAAA,MAAAA,GAAAA,CAA+B,UAA/BA,CAA+B,gBAEKA,EAAAA,IAAAA,GAAAA,OAAGA,EAAAA,IAAAA,GAAAA,MAAAA,IAAiDA,EAAAA,KAAAA,SAK9FA,EAAAA,O,0CApBIA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,WAAAA,GAAAA,QAD+CA,EAAAA,IAAAA,QAAAA,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,IAAAA,EAAAA,KAErBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,iBAAAA,MAAAA,EAAAA,KAAAA,EAAAA,WAAAA,IAExBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,mBAAAA,MAAAA,EAAAA,KAAAA,EAAAA,iBAD8BA,EAAAA,IAAAA,OAAAA,MAAAA,EAAAA,KAAAA,EAAAA,iBAEFA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,MAAAA,EAAAA,KAAAA,EAAAA,iBAA8CA,EAAAA,IAAAA,OAAAA,MAAAA,CAAc,oDAMnEA,EAAAA,IAAAA,GAAAA,EAAAA,KAAAA,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,EAAAA,KACMA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,MAAAA,EAAAA,KAAAA,EAAAA,Y,4BAdnCA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,GAAAA,GAAAA,GAAAA,eAAAA,GAuBFA,EAAAA,O,oCAvBiBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,kBAAAA,MAAAA,EAAAA,KAAAA,EAAAA,mB,4BAFnBA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,eAAAA,IAyBFA,EAAAA,O,sBAzB0CA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,gB,2CA9C9CA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAAuD,UAAvDA,CAAuD,UAAvDA,CAAuD,UAGGA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,2CAAsB,EAAK,IAAEA,EAAAA,IAAAA,EAAAA,OAAGA,EAAAA,IAAAA,EAAAA,QAAOA,EAAAA,IAAAA,EAAAA,mBAAcA,EAAAA,KAAAA,GAEzGA,EAAAA,IAAAA,EAAAA,KAAAA,GAAmDA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,2CAAsB,EAAI,IAAEA,EAAAA,IAAAA,GAAgBA,EAAAA,KAAAA,GAEjGA,EAAAA,IAAAA,EAAAA,MAAAA,GACEA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,eAAAA,GAMFA,EAAAA,KAAAA,GAEFA,EAAAA,IAAAA,GAAAA,MAAAA,GAEEA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,eAAAA,GAEAA,EAAAA,IAAAA,GAAAA,GAAAA,GAAAA,GAAAA,eAAAA,GAqBAA,EAAAA,IAAAA,GAAAA,MAAAA,GACEA,EAAAA,IAAAA,GAAAA,gBAAAA,IAEFA,EAAAA,MACAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,eAAAA,GA2BFA,EAAAA,KAAAA,E,yBArEyBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,YAAAA,EAAAA,YAEAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,WAAAA,EAAAA,YAA0DA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,YAGhEA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,MAAAA,EAAAA,OAAAA,KAAAA,EAAAA,MAAAA,OAAAA,IAAAA,EAAAA,YAQaA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,EAAAA,YAEfA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,MAAAA,EAAAA,WAAAA,EAAAA,UAAAA,QAAAA,EAAAA,aAEoBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,mBAAAA,CAAuB,gCAqBXA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,YAAAA,QAAAA,EAAAA,OAAAA,OAAAA,IAClBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,gBAAAA,EAAAA,YAAAA,QAAAA,EAAAA,OAAAA,CAAgD,kBAAhDA,CAAgD,iBAG9DA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,W,EC5Bb,MAAOsa,GAeX9c,YACS8V,EACAlT,EACAqD,EACAiT,EACCjD,EACA8G,GALD,KAAAjH,UAAAA,EACA,KAAAlT,eAAAA,EACA,KAAAqD,aAAAA,EACA,KAAAiT,qBAAAA,EACC,KAAAjD,eAAAA,EACA,KAAA8G,cAAAA,EApBV,KAAA5D,kBAAoBA,EAAAA,GACpB,KAAA1L,OAASA,OACT,KAAAuP,UAAOrc,EACP,KAAAsc,UAAY,GACZ,KAAAC,mBAAqB,GACrB,KAAAnB,OAAS,GACT,KAAAoB,YAAsB,EACtB,KAAAC,YAAsB,EACtB,KAAA9C,OAAiB,MACjB,KAAAjB,gBAAkB5L,OAAO0E,KAAKpP,EAAAA,GAAUuW,kBAAkB3H,KAAKO,IAAQ,CAAQA,SAAQnP,EAAAA,GAAUuW,iBAAiBpH,OAClH,KAAAmL,cAAwB,GACxB,KAAAzB,SAAW,GACX,KAAA0B,eAAiB,GACT,KAAAjH,cAA8B,IAAIhW,EAAAA,EASxCC,KAAK+V,cAAcG,IACjBlW,KAAK2V,eAAesH,YAAY/c,WAAWgd,IACzCld,KAAKmd,aAAaD,EAAE,KAGxBld,KAAK+V,cAAcG,IACjBlW,KAAK2V,eAAeyH,OAAOld,WAAWmd,IAChCA,IACFrd,KAAK2R,QACL3R,KAAK+c,cAAgB,G,KAI3B/c,KAAK+V,cAAcG,IACjBlW,KAAK2V,eAAe8E,cAAcva,WAAWua,IAC3C,MAAMsC,EAAgBtC,GAAehE,QACjCsG,IAAkB/c,KAAK+c,gBACzB/c,KAAK+c,cAAgBA,EACrB/c,KAAK2R,Q,IAIb,CAGA/Q,WACEK,SAAS6a,iBACP,UACCwB,IACgBC,KAAKC,IAClBvc,SAASC,KAAKC,aACdF,SAASC,KAAKuc,aACdxc,SAASO,gBAAgBqa,aACzB5a,SAASO,gBAAgBL,aACzBF,SAASO,gBAAgBic,cAEdxc,SAASC,KAAK0a,UAAY3a,SAASC,KAAK2a,aAAe,KAClE7b,KAAK0d,sBAAqB,E,IAG9B,EAEJ,CACA7c,cACEb,KAAK+V,cAAcjV,aACrB,CACAqc,aAAaD,GACNA,IACDld,KAAK8c,aACFI,GAAGR,MAASvP,OAAO0E,KAAKqL,EAAER,OAAO5L,QAGpC9Q,KAAK8c,YAAa,EAClB9c,KAAK6c,YAAa,GAHlB7c,KAAK6c,YAAa,GAMtB7c,KAAK0c,KAAOQ,GAAGR,KACf1c,KAAK2c,UAAYO,GAAGR,KAAOvP,OAAO0E,KAAKqL,EAAER,MAAMrL,KAAKO,IAAQ,CAAQA,SAAQsL,EAAER,KAAK9K,OAAW,GAC9F5R,KAAK0d,uBACL1d,KAAKyb,OAASyB,GAAGR,KACbvP,OAAO0E,KAAKqL,EAAER,MACXrL,KAAKO,GAAasL,EAAER,KAAK9K,IAAM6J,SAC/BkC,OACH,GACN,CACAD,qBAAqBE,GAAW,GAC9B,IAAK5d,KAAK2F,cAAckY,YACtB,OAEF,IAAIC,GAAc,EACdF,GAAY5d,KAAKsb,UAAYtb,KAAK4c,mBAAmB9L,SACvD9Q,KAAKsb,UAAYtb,KAAKgd,eACtBc,GAAc,GAEXF,IAAYE,IACf9d,KAAK4c,mBAAqB5c,KAAK2c,UAAU3R,MAAM,EAAGhL,KAAKsb,UAE3D,CACAyC,mBACE,YAAqB1d,IAAdL,KAAK0c,IACd,CACAvH,eAAe6I,GACb,GAAIhe,KAAKga,SAAWgE,EAClBhe,KAAKga,OAAS,OACT,CACLha,KAAKga,OAASgE,EACd,MAAM/G,EAAIhW,SAASgd,cAAc,IAAMD,GACnCjd,OAAOmd,WAAa,MACtBxc,YAAW,KACTT,SAASC,KAAKid,OAAO,EAAGlH,EAAEmH,UAAY,GAAG,GACxC,G,CAGT,CACAC,kBAAkBC,GAChB,OAAe,IAAXA,GAA4B,IAAXA,GAAgBte,KAAKyc,cAAc8B,kBAAkBC,EAAAA,EAI5E,CACAC,YAAY7M,GACV,MAAO,KAAOA,GAAKtF,QAAQ,KAAM,GACnC,CAEAoS,cAAcvL,EAAewL,GAC3B,OAAOA,GAAU/M,IAAM+M,EAAS/M,IAAMuB,CACxC,CAEAyL,iBAAiBC,GACf,OAAOA,GAAUC,KAAK,MACxB,CACAnN,QACE3R,KAAK0c,UAAOrc,EACZL,KAAK6c,YAAa,EAClB7c,KAAKyb,OAAS,GACdzb,KAAK2c,UAAY,GACjB3c,KAAK4c,mBAAqB,GAC1B5c,KAAK8c,YAAa,EAClB9c,KAAKga,OAAS,MACdha,KAAKsb,SAAW,EAClB,CAAC,+B,cA/IUkB,IAAa,+F,KAAbA,GAAa3a,UAAAA,CAAAA,CAAAA,aAAA2J,OAAAA,CAAA6K,SAAAA,WAAAO,QAAAA,WAAA9U,MAAAA,EAAAC,KAAAA,EAAA6J,OAAAA,CAAAA,CAAAA,QAAAA,iBAAAA,EAAAA,QAAAA,CAAAA,EAAAA,kBAAAA,CAAAA,EAAAA,WAAAA,sBAAAA,CAAAA,EAAAA,WAAAA,UAAAA,CAAAA,EAAAA,WAAAA,EAAAA,SAAAA,CAAAA,EAAAA,WAAAA,SAAAA,CAAAA,EAAAA,QAAAA,CAAAA,EAAAA,gBAAAA,QAAAA,CAAAA,EAAAA,QAAAA,UAAAA,gBAAAA,CAAAA,EAAAA,cAAAA,aAAAA,SAAAA,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,eAAAA,SAAAA,cAAAA,CAAAA,EAAAA,WAAAA,SAAAA,YAAAA,EAAAA,SAAAA,CAAAA,EAAAA,cAAAA,aAAAA,EAAAA,MAAAA,CAAAA,EAAAA,WAAAA,OAAAA,EAAAA,SAAAA,CAAAA,EAAAA,WAAAA,QAAAA,CAAAA,EAAAA,sBAAAA,EAAAA,UAAAA,CAAAA,EAAAA,SAAAA,CAAAA,EAAAA,SAAAA,CAAAA,EAAAA,WAAAA,SAAAA,UAAAA,CAAAA,MAAAA,yCAAAA,CAAAA,EAAAA,cAAAA,UAAAA,CAAAA,EAAAA,eAAAA,UAAAA,CAAAA,EAAAA,QAAAA,WAAAA,CAAAA,MAAAA,aAAAA,SAAAA,SAAAA,EAAAA,cAAAA,WAAAA,EAAAA,QAAAA,CAAAA,EAAAA,WAAAA,OAAAA,CAAAA,EAAAA,cAAAA,UAAAA,CAAAA,EAAAA,WAAAA,EAAAA,OAAAA,UAAAA,CAAAA,EAAAA,WAAAA,UAAAA,CAAAA,EAAAA,cAAAA,QAAAA,CAAAA,EAAAA,eAAAA,CAAAA,EAAAA,cAAAA,SAAAA,CAAAA,EAAAA,eAAAA,CAAAA,EAAAA,WAAAA,UAAAA,CAAAA,MAAAA,wCAAA5J,SAAAA,SAAAA,EAAAA,GAAA,KDjB1BE,EAAAA,IAAAA,EAAAA,GAAAA,GAAAA,GAAAA,MAAAA,G,KAA6BA,EAAAA,IAAAA,OAAAA,EAAAA,mB,+kdEMvB,MAAO6c,GACXrf,cAAe,CAEfkB,WAAkB,CAAC,+B,cAHRme,GAAoB,4B,KAApBA,GAAoBld,UAAAA,CAAAA,CAAAA,qBAAAC,MAAAA,EAAAC,KAAAA,EAAAC,SAAAA,SAAAA,EAAAA,GAAAA,EAAAC,cAAAA,I,uBCJ/BC,EAAAA,MAAAA,EAAAA,IAAAA,EAAAA,MAAAA,GACEA,EAAAA,IAAAA,EAAAA,OAAAA,GAGFA,EAAAA,M,uBACAA,EAAAA,IAAAA,EAAAA,MAAAA,G,KAA8BA,EAAAA,IAAAA,MAAAA,sCAAAA,EAAAA,I,0CAPhCA,EAAAA,IAAAA,EAAAA,SAAAA,GAC0CA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,uBAASA,EAAAA,IAAAA,EAAAA,qBAAoB,IACrEA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,MAAAA,GAKAA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,MAAAA,GACAA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAAqB,WACMA,EAAAA,IAAAA,GAAiBA,EAAAA,KAAAA,I,yBAR5CA,EAAAA,IAAAA,QAAAA,EAAAA,OAAAA,MAAAA,IACMA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,QAAAA,EAAAA,QAKAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,QAAAA,EAAAA,QAEqBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,EAAAA,OAAAA,G,2CAI3BA,EAAAA,IAAAA,EAAAA,SAAAA,IAA6CA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,uBAASA,EAAAA,IAAAA,EAAAA,qBAAoB,IAAEA,EAAAA,IAAAA,EAAAA,QAAIA,EAAAA,K,ECF5E,MAAO8c,WAA4BD,GAMvCrf,YAAmBiG,EAAoCgQ,GACrDnT,QADiB,KAAAmD,aAAAA,EAAoC,KAAAgQ,eAAAA,EAF9C,KAAA5S,UAAW,EACpB,KAAAuG,MAAQ,IAGR,CAEA1I,WACEZ,KAAKsJ,MAAQtJ,KAAK2F,aAAasZ,SAASjf,KAAKkf,cAC/C,CACAC,qBACEnf,KAAK2V,eAAeyJ,qBAAqBhc,KAAK,CAC5CwT,QAAS5W,KAAKya,cACdyE,cAAelf,KAAKkf,cACpBG,OAAQrf,KAAKqf,QAEjB,CAAC,+B,cAnBUL,IAAmB,kD,KAAnBA,GAAmBnd,UAAAA,CAAAA,CAAAA,oBAAA2J,OAAAA,CAAAiP,cAAAA,gBAAAyE,cAAAA,gBAAAG,OAAAA,SAAAtc,SAAAA,YAAA4I,SAAAA,CAAAA,EAAAA,KAAA7J,MAAAA,EAAAC,KAAAA,EAAA6J,OAAAA,CAAAA,CAAAA,QAAAA,4CAAAA,EAAAA,QAAAA,QAAAA,EAAAA,OAAAA,YAAAA,CAAAA,eAAAA,IAAAA,CAAAA,EAAAA,WAAAA,SAAAA,iBAAAA,aAAAA,EAAAA,SAAAA,CAAAA,QAAAA,KAAAA,SAAAA,KAAAA,QAAAA,6BAAAA,UAAAA,YAAAA,EAAAA,QAAAA,CAAAA,EAAAA,MAAAA,EAAAA,QAAAA,CAAAA,EAAAA,WAAAA,CAAAA,EAAAA,eAAAA,CAAAA,QAAAA,KAAAA,SAAAA,KAAAA,QAAAA,6BAAAA,UAAAA,aAAAA,CAAAA,KAAAA,QAAAA,IAAAA,qaAAAA,OAAAA,qBAAAA,YAAAA,WAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,SAAAA,iBAAAA,SAAAA,EAAAA,UAAA5J,SAAAA,SAAAA,EAAAA,G,GAAA,MDXhCE,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,SAAAA,GAYAA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,cAAAA,KAAAA,EAAAA,EAAAA,M,sBAZSA,EAAAA,IAAAA,OAAAA,EAAAA,SAAAA,EAAAA,SAAAA,CAA2B,a,wwEEe9BA,EAAAA,IAAAA,EAAAA,SAAAA,IAAmIA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,wBAASA,EAAAA,IAAAA,EAAAA,MAAK,IAC/IA,EAAAA,MAAAA,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,EAAAA,OAAAA,GAAAA,CAAgH,aAElHA,EAAAA,MACAA,EAAAA,MAAAA,EAAAA,IAAAA,EAAAA,MAAAA,GAAAA,CAAqB,YACMA,EAAAA,IAAAA,EAAAA,WAAOA,EAAAA,KAAAA,I,2CAGpCA,EAAAA,IAAAA,EAAAA,SAAAA,IAAyGA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,wBAASA,EAAAA,IAAAA,EAAAA,MAAK,IACrHA,EAAAA,IAAAA,EAAAA,OAAAA,IAAoCA,EAAAA,IAAAA,EAAAA,OAAGA,EAAAA,MACvCA,EAAAA,MAAAA,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,EAAAA,OAAAA,GAAAA,CAAgH,aAElHA,EAAAA,MACAA,EAAAA,MAAAA,EAAAA,IAAAA,EAAAA,MAAAA,GAAAA,CAAwC,YACbA,EAAAA,IAAAA,EAAAA,WAAOA,EAAAA,KAAAA,I,4BAjBtCA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,SAAAA,IASAA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,SAAAA,IAUFA,EAAAA,O,qBAnBWA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,MAAAA,EAAAA,QAAAA,KAAAA,EAAAA,QAAAA,cAAAA,EAAAA,cAAAA,iBASAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,KAAAA,MAAAA,EAAAA,QAAAA,KAAAA,EAAAA,QAAAA,Y,2BAWXA,EAAAA,IAAAA,EAAAA,kBAAAA,I,qBAAiEA,EAAAA,IAAAA,gBAAAA,EAAAA,QAAAA,CAAyB,kJAAzBA,CAAyB,6F,0ECtBxF,MAAOod,GAKX5f,YAAmB6f,EAA0C5J,EAAwC8G,GAAlF,KAAA8C,gBAAAA,EAA0C,KAAA5J,eAAAA,EAAwC,KAAA8G,cAAAA,EAJ5F,KAAAxD,MAAQ,KAEjB,KAAAF,gBAAkBtW,EAAAA,GAAUuW,gBAEwG,CACpIpY,WAAkB,CAElB4e,aACE,MAA4B,UAArBxf,KAAKiZ,OAAOpZ,KACc,OAA7BG,KAAK4W,SAAS6I,YACZnG,EAAAA,EAAAA,KAAItZ,KAAK4W,SAAS6I,YAAYlG,IAAI,KAASvI,eAC3C3Q,EACFL,KAAKiZ,OAAOC,OAClB,CAEAwG,iBACE,MAA2B,UAApB1f,KAAKiZ,MAAMpZ,KAAmBG,KAAK4W,SAAS+I,iBAActf,EAAYL,KAAKiZ,OAAO2G,OAAS5f,KAAKiZ,MAAM2G,OAAS,KAAQ5f,KAAKiZ,MAAM2G,WAAQvf,CACnJ,CACA8Y,YAC2B,UAArBnZ,KAAKiZ,OAAOpZ,MACdJ,EAAAA,EAAeQ,aAAamD,KAAK,CAC/BvD,KAAM,eACNW,KAAMR,KAAKiZ,OAGjB,CAEA4G,MACEpgB,EAAAA,EAAeQ,aAAamD,KAAK,CAC/BvD,KAAM,MACNW,UAAMH,GAEV,CAAC,+B,cAjCUif,IAAqB,8D,KAArBA,GAAqBzd,UAAAA,CAAAA,CAAAA,sBAAA2J,OAAAA,CAAAyN,MAAAA,QAAArC,QAAAA,WAAA9U,MAAAA,GAAAC,KAAAA,GAAA6J,OAAAA,CAAAA,CAAAA,EAAAA,WAAAA,WAAAA,CAAAA,EAAAA,WAAAA,QAAAA,CAAAA,EAAAA,QAAAA,EAAAA,eAAAA,SAAAA,SAAAA,CAAAA,EAAAA,WAAAA,QAAAA,EAAAA,SAAAA,CAAAA,EAAAA,cAAAA,UAAAA,CAAAA,EAAAA,SAAAA,CAAAA,EAAAA,aAAAA,CAAAA,EAAAA,WAAAA,SAAAA,CAAAA,EAAAA,QAAAA,CAAAA,EAAAA,gBAAAA,gBAAAA,SAAAA,EAAAA,QAAAA,CAAAA,QAAAA,gDAAAA,EAAAA,QAAAA,EAAAA,QAAAA,CAAAA,QAAAA,oDAAAA,EAAAA,QAAAA,EAAAA,QAAAA,CAAAA,EAAAA,WAAAA,SAAAA,iBAAAA,aAAAA,MAAAA,EAAAA,SAAAA,CAAAA,QAAAA,KAAAA,SAAAA,KAAAA,UAAAA,YAAAA,OAAAA,OAAAA,QAAAA,8BAAAA,CAAAA,IAAAA,sBAAAA,SAAAA,UAAAA,eAAAA,IAAAA,iBAAAA,QAAAA,kBAAAA,SAAAA,CAAAA,IAAAA,WAAAA,SAAAA,UAAAA,eAAAA,IAAAA,iBAAAA,QAAAA,kBAAAA,SAAAA,CAAAA,EAAAA,WAAAA,CAAAA,EAAAA,eAAAA,CAAAA,EAAAA,WAAAA,SAAAA,iBAAAA,aAAAA,MAAAA,MAAAA,EAAAA,SAAAA,CAAAA,EAAAA,iBAAAA,QAAAA,CAAAA,EAAAA,UAAAA,EAAAA,QAAAA,MAAAA,CAAAA,EAAAA,gBAAAA,gBAAAA,WAAA5J,SAAAA,SAAAA,EAAAA,GAAA,MDblCE,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAA8B,UAA9BA,CAA8B,iBAGxBA,EAAAA,IAAC,SAADA,WAAA,OAAS2J,EAAAA,WAAW,IACtB3J,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,MAAAA,GAA4BA,EAAAA,IAAC,SAADA,WAAA,OAAS2J,EAAAA,WAAW,IAAE3J,EAAAA,IAAAA,GAAmDA,EAAAA,MACrGA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAAgC,WACXA,EAAAA,IAAAA,G,yCACFA,EAAAA,MACjBA,EAAAA,IAAAA,GAAAA,MAAAA,GAAuBA,EAAAA,IAAAA,I,2CACvBA,EAAAA,KAAAA,KAGJA,EAAAA,IAAAA,GAAAA,MAAAA,GACEA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,eAAAA,GAqBAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,kBAAAA,GAGFA,EAAAA,KAAAA,I,MApC4GA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,KAAAA,UAAAA,EAAAA,MAAAA,MAAjFA,EAAAA,IAAAA,eAAAA,EAAAA,IAAAA,GAAAA,IAAAA,CAA+D,kBAGtCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,MAAAA,KAAAA,QAAAA,EAAAA,MAAAA,QAE7BA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,MAAAA,KAAAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,aAAAA,SAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,WAAAA,MAAAA,IAAAA,EAAAA,cAEIA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,GAAAA,EAAAA,iBAAAA,IAAAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,iBAAAA,UAAAA,IAAAA,KAKVA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,WAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,OAqBGA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,OAAAA,KAAAA,MAAAA,EAAAA,QAAAA,KAAAA,EAAAA,QAAAA,a,yiLE/BhBA,EAAAA,IAAAA,EAAAA,SAAAA,IAA6DA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,uBAASA,EAAAA,IAAAA,EAAAA,WAAU,IAAEA,EAAAA,IAAAA,EAAAA,oBAAgBA,EAAAA,K,4BAMlGA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,oBAAAA,IACFA,EAAAA,O,8CAD2DA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,IAAAA,GAAtCA,EAAAA,IAAAA,UAAAA,EAAAA,QAAAA,CAAmB,U,4BAF1CA,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,eAAAA,IAGFA,EAAAA,O,qBAHoCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,SAAAA,CAAa,4B,qFCQ/C,MAAO4d,GAUXpgB,YACSkZ,EACCjD,EACA8G,EACD8C,EACCjd,GAJD,KAAAsW,qBAAAA,EACC,KAAAjD,eAAAA,EACA,KAAA8G,cAAAA,EACD,KAAA8C,gBAAAA,EACC,KAAAjd,eAAAA,EAdV,KAAA6K,OAASA,OAET,KAAA4L,gBAAkBtW,EAAAA,GAAUuW,iBAC5B,KAAA+G,cAAiC,EAEjC,KAAAC,QAAS,EAED,KAAAjK,cAA8B,IAAIhW,EAAAA,EASxCC,KAAK+V,cAAcG,IACjBlW,KAAK2V,eAAe8E,cAAcH,MAAKN,EAAAA,GAAAA,IAAQpD,GAAqBA,GAASH,UAAYzW,KAAK4W,SAASH,WAAUvW,WAAW0W,IAC1H5W,KAAK4W,QAAUA,EACf5W,KAAKigB,SAAWjgB,KAAK4Y,sBAAsBqH,SAC3CjgB,KAAKkgB,mBAAmB,KAG5BlgB,KAAK+V,cAAcG,IACjBlW,KAAK2V,eAAesH,YAAY/c,WAAWigB,IACzCngB,KAAKigB,SAAWE,GAAGF,UAAYjgB,KAAK4Y,sBAAsBqH,SAC1DjgB,KAAKkgB,mBAAmB,KAG5BlgB,KAAK+V,cAAcG,IACjBlW,KAAK2V,eAAeyK,cAAclgB,WAAU,KAC1CF,KAAKigB,SAAWjgB,KAAK4Y,sBAAsBqH,SAC3CjgB,KAAKkgB,mBAAmB,IAG9B,CACAlc,EAAEqc,GACMA,IACAA,EAAKzE,UAAY,GAAK5b,KAAK4Y,sBAAsBqH,UAAUnP,QAAU,GACvE7P,SAASgd,cAAc,wBAAwBlO,UAAUmG,IAAI,UAC7DjV,SAASgd,cAAc,mBAAmBlO,UAAUmG,IAAI,YAExDjV,SAASgd,cAAc,wBAAwBlO,UAAUuQ,OAAO,UAChErf,SAASgd,cAAc,mBAAmBlO,UAAUuQ,OAAO,WAGzDtgB,KAAK4Y,sBAAsBqH,UAAUnP,OAAS,GAChDuP,EAAKjf,MAAME,UAAY,OACvB+e,EAAKjf,MAAM2K,MAAQ,wBACnBsU,EAAKjf,MAAMoR,QAAU,eAErB6N,EAAKjf,MAAME,UAAY,GACvB+e,EAAKjf,MAAM2K,MAAQ,GACnBsU,EAAKjf,MAAMoR,QAAU,IAG3B,CACA5R,WACEZ,KAAKigB,SAAWjgB,KAAK4Y,sBAAsBqH,SAC3CjgB,KAAKkgB,mBACP,CACArf,cACEb,KAAK+V,cAAcjV,aACrB,CACAyf,qBACE,MAAMF,EAAOpf,SAASgd,cAAc,6BACpCje,KAAKgE,EAAEqc,EACT,CACA/D,WAAWnJ,EAAe8F,GACxB,OAAOA,GAAOnO,gBAAkBmO,EAAMnO,gBAAkB,IAAMmO,GAAOpQ,GAAK,IAAMoQ,GAAOC,QAAU,IAAMD,GAAOuH,eAAiBrN,CACjI,CAEAsN,sBACEzgB,KAAKggB,QAAUhgB,KAAKggB,OACpBhgB,KAAKkgB,mBACP,CACAA,oBACElgB,KAAK+f,cAAgB/f,KAAKggB,OACtBhgB,KAAKigB,SAASS,QAAO,CAACC,EAAMzH,IAAYyH,EAAO9P,WAAWqI,GAAS0G,OAAS,IAAI,GAAK5f,KAAK4W,SAAS+I,WACnG3f,KAAKigB,SAASS,QAAO,CAACC,EAAMzH,IAAYyH,EAAO9P,WAAWqI,GAAS0G,OAAS,IAAI,GAAK5f,KAAKyc,cAAc8B,OAAOqC,QAC/G/P,YACEyI,EAAAA,EAAAA,KAAItZ,KAAK4W,SAAS6I,YAAc,GAC7BlG,IAAI,KACJvI,UAEX,CACA6P,WACE7gB,KAAKsC,eAAewe,eACpBrhB,EAAAA,EAAeQ,aAAamD,KAAK,CAAEvD,KAAM,iBAAkBW,KAAM,MACnE,CAAC,+B,cA1FUsf,IAAiB,oF,KAAjBA,GAAiBje,UAAAA,CAAAA,CAAAA,iBAAA2J,OAAAA,CAAAoL,QAAAA,WAAA9U,MAAAA,GAAAC,KAAAA,GAAA6J,OAAAA,CAAAA,CAAAA,EAAAA,kBAAAA,CAAAA,EAAAA,WAAAA,0BAAAA,CAAAA,EAAAA,WAAAA,SAAAA,SAAAA,CAAAA,QAAAA,iBAAAA,EAAAA,QAAAA,EAAAA,QAAAA,CAAAA,EAAAA,kBAAAA,CAAAA,EAAAA,MAAAA,SAAAA,EAAAA,UAAAA,SAAAA,CAAAA,QAAAA,uBAAAA,EAAAA,QAAAA,CAAAA,EAAAA,WAAAA,iBAAAA,UAAAA,CAAAA,EAAAA,WAAAA,QAAAA,CAAAA,EAAAA,WAAAA,EAAAA,SAAAA,CAAAA,EAAAA,QAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,iBAAAA,EAAAA,SAAAA,CAAAA,EAAAA,cAAAA,YAAAA,CAAAA,EAAAA,QAAAA,UAAAA,gBAAAA,CAAAA,EAAAA,UAAAA,UAAA5J,SAAAA,SAAAA,EAAAA,GAAA,MDlB9BE,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAA4B,UAA5BA,CAA4B,QAEpBA,EAAAA,IAAAA,EAAAA,YAAQA,EAAAA,MACZA,EAAAA,IAAAA,EAAAA,MAAAA,GACEA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,SAAAA,GACFA,EAAAA,KAAAA,GAEFA,EAAAA,IAAAA,EAAAA,MAAAA,GACEA,EAAAA,IAAAA,EAAAA,oBAAAA,GACAA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,MAAAA,GAKAA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAA4C,WAA5CA,CAA4C,SAEpCA,EAAAA,IAAAA,GAAAA,gBAAYA,EAAAA,MAChBA,EAAAA,IAAAA,GAAAA,MAAIA,EAAAA,IAAAA,I,sFAA2NA,EAAAA,KAAAA,GAEjOA,EAAAA,IAAAA,GAAAA,MAAAA,GAAsBA,EAAAA,IAAC,SAADA,WAAA,OAAS2J,EAAAA,qBAAqB,IAClD3J,EAAAA,IAAAA,GAAAA,OAAAA,IACEA,EAAAA,IAAAA,IACFA,EAAAA,MACAA,EAAAA,IAAAA,GAAAA,OAAAA,IAAkBA,EAAAA,IAAAA,IAAqBA,EAAAA,MACvCA,EAAAA,IAAAA,GAAAA,OAAAA,IACEA,EAAAA,IAAAA,IACFA,EAAAA,KAAAA,U,MAtBOA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,MAAAA,EAAAA,QAAAA,KAAAA,EAAAA,QAAAA,cAIQA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,QAAAA,CAAmB,sBAChCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,MAAAA,EAAAA,uBAAAA,MAAAA,EAAAA,qBAAAA,WAAAA,EAAAA,qBAAAA,SAAAA,UAQEA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,GAAAA,EAAAA,eAAAA,EAAAA,OAAAA,IAAAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,cAAAA,UAAAA,GAAAA,GAAAA,EAAAA,gBAAAA,EAAAA,OAAAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,cAAAA,UAAAA,OAAAA,GAAAA,GAAAA,EAAAA,cAAAA,GAAAA,IAAAA,IAGeA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,WAAAA,EAAAA,QACjBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,MAAAA,KAEgBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,IAAAA,KACAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,YAAAA,EAAAA,QAChBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,MAAAA,K,yhKELAA,EAAAA,IAAAA,EAAAA,MAAAA,IAAyDA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,wBAASA,EAAAA,IAAAA,EAAAA,cAAa,IAA/EA,EAAAA,K,2CAEAA,EAAAA,IAAAA,EAAAA,MAAAA,IAC4DA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,wBAASA,EAAAA,IAAAA,EAAAA,cAAa,IADlFA,EAAAA,K,2CAEAA,EAAAA,IAAAA,EAAAA,IAAAA,IACEA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,wBAASA,EAAAA,IAAAA,EAAAA,cAAa,IAAEA,EAAAA,IAAAA,EAAAA,MAAEA,EAAAA,K,4BAI1BA,EAAAA,IAAAA,EAAAA,MAAAA,GAAAA,CAAuD,YAEnDA,EAAAA,IAAAA,EAAAA,UACFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,GACFA,EAAAA,KAAAA,I,sBADEA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,KAAAA,I,4BAGJA,EAAAA,IAAAA,EAAAA,MAAAA,GAAAA,CAAmE,YAE/DA,EAAAA,IAAAA,EAAAA,YACFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,GACFA,EAAAA,KAAAA,I,sBADEA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,OAAAA,I,4BAGJA,EAAAA,IAAAA,EAAAA,MAAAA,GAAAA,CAAuE,YAEnEA,EAAAA,IAAAA,EAAAA,cACFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,GACFA,EAAAA,KAAAA,I,sBADEA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,SAAAA,I,4BAWJA,EAAAA,IAAAA,EAAAA,MAAAA,GAAAA,CAAmE,YAE/DA,EAAAA,IAAAA,EAAAA,iBACFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,GACFA,EAAAA,KAAAA,I,sBADEA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,YAAAA,I,4BASVA,EAAAA,IAAAA,EAAAA,OAAAA,IAA6DA,EAAAA,IAAAA,EAAAA,4BAAwBA,EAAAA,IAAAA,EAAAA,QAAMA,EAAAA,IAAAA,GAAgCA,EAAAA,KAAAA,I,sBAAhCA,EAAAA,IAAAA,GAAAA,EAAAA,KAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,YAAAA,O,2CAGvFA,EAAAA,IAAAA,EAAAA,yBAAAA,IAEkEA,EAAAA,IAAC,eAADA,WAAAA,EAAAA,IAAC,GAAD,gEAAeA,EAAAA,IAAAA,EAAAA,cAAAA,EAAAA,GAAyB,IAE1GA,EAAAA,K,8CAFEA,EAAAA,IAAAA,QAAAA,GACAA,EAAAA,IAAAA,QAAAA,EAAAA,SAAAA,cAAAA,CAAuC,oBAAvCA,CAAuC,sB,4BAJ3CA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,yBAAAA,IAKFA,EAAAA,O,wDAJKA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,MAAAA,EAAAA,UAAAA,kBAAAA,GAAAA,GAAAA,KAAAA,EAAAA,UAAAA,kBAAAA,GAAAA,GAAAA,UAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,iBAAAA,KAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,K,4BAHPA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,eAAAA,IAOFA,EAAAA,O,oCAPiCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,OAAAA,KAAAA,EAAAA,UAAAA,kBAAAA,I,4BAsBzBA,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,GACFA,EAAAA,O,+BADEA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,EAAAA,UAAAA,MAAAA,IAAAA,I,4BATNA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,MAAAA,GAAAA,CAA8B,YAE1BA,EAAAA,IAAAA,GACFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,GACFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,MAAAA,IAGFA,EAAAA,MACFA,EAAAA,O,yBATMA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,EAAAA,UAAAA,KAAAA,KAGAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,EAAAA,UAAAA,MAAAA,KAEIA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,EAAAA,UAAAA,K,2CAddA,EAAAA,IAAAA,EAAAA,MAAAA,GAAAA,CAA6E,YACHA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,yDACtEA,EAAAA,IAAAA,EAAAA,QAAMA,EAAAA,IAAAA,EAAAA,eAAWA,EAAAA,IAAAA,EAAAA,OAAAA,IAAoBA,EAAAA,IAAAA,GAA4CA,EAAAA,KAAAA,GAAcA,EAAAA,IAAAA,EAAAA,MAAAA,IACjGA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,MAAAA,IAEEA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,eAAAA,IAaFA,EAAAA,KAAAA,E,gCAlBuCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,SAAAA,OAAAA,IACAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,MAAAA,EAAAA,cAAAA,KAAAA,EAAAA,cAAAA,WAAAA,OAAAA,IAEDA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,aAAAA,EAAAA,SAAAA,KAAAA,OAAAA,EAAAA,EAAAA,OAAAA,KAAAA,MAAAA,EAAAA,cAAAA,KAAAA,EAAAA,cAAAA,aAAAA,KAAAA,EAAAA,QAAAA,EAAAA,KAAAA,MAAAA,CAAwG,yCAEhHA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,cAAAA,W,2CAehCA,EAAAA,IAAAA,EAAAA,MAAAA,IAAwFA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,wBAASA,EAAAA,IAAAA,EAAAA,SAAQ,IACvGA,EAAAA,IAAAA,EAAAA,QAAMA,EAAAA,IAAAA,GAAqCA,EAAAA,MAAOA,EAAAA,IAAAA,EAAAA,MAAAA,IACpDA,EAAAA,K,0BAFuDA,EAAAA,IAAAA,EAAAA,SAAAA,OAAAA,IAC/CA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,GAAAA,EAAAA,SAAAA,OAAAA,OAAAA,Q,4BAKJA,EAAAA,IAAAA,EAAAA,MAAAA,GAAAA,CAAqE,YAEjEA,EAAAA,IAAAA,GACFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,GACFA,EAAAA,KAAAA,I,0CAJEA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,gBAAAA,KAGAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,EAAAA,MAAAA,GAAAA,KAAAA,EAAAA,MAAAA,GAAAA,IAAAA,I,4BANNA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,MAAAA,IAQFA,EAAAA,O,yBARQA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,oBAAAA,E,4BAHVA,EAAAA,IAAAA,EAAAA,MAAAA,IAEEA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,eAAAA,IAUFA,EAAAA,O,sBAZqBA,EAAAA,IAAAA,aAAAA,EAAAA,SAAAA,KAAAA,EAAAA,OAAAA,KAAAA,EAAAA,eAAAA,OAAAA,MAAAA,GAAAA,CAAsF,uCAE3EA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,OAAAA,KAAAA,EAAAA,e,4BAWhCA,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,EAAAA,MAAAA,GAAAA,CAA6B,wBAK/BA,EAAAA,O,sBAJgCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,YAAAA,EAAAA,CAAiB,gCAAjBA,CAAiB,oEAAjBA,CAAiB,yD,2XA5HvDA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAAoD,UAApDA,CAAoD,UAApDA,CAAoD,WAGXA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,uBAASA,EAAAA,IAAAA,EAAAA,QAAO,IAAEA,EAAAA,IAAAA,EAAAA,MAAAA,GAErDA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,KAAAA,GAAkBA,EAAAA,IAAAA,EAAAA,cAAUA,EAAAA,KAAAA,GAE9BA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAAoC,UAApCA,CAAoC,UAApCA,CAAoC,mBAM5BA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,uBAASA,EAAAA,IAAAA,EAAAA,cAAa,GAAtBA,CAAuB,qBAAAA,EAAAA,IAAAA,GAAA,4CAAyB,EAAI,IAC/BA,EAAAA,MACvBA,EAAAA,IAAAA,GAAAA,YAAAA,IAIAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,MAAAA,IAEAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,MAAAA,IAEAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,IAAAA,IAEFA,EAAAA,MACAA,EAAAA,IAAAA,GAAAA,MAAAA,GAAAA,CAA8B,aAE1BA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,MAAAA,IAQAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,MAAAA,IAQAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,MAAAA,IAgBAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,MAAAA,IAQFA,EAAAA,KAAAA,GAEFA,EAAAA,IAAAA,GAAAA,YAAAA,IAEyCA,EAAAA,IAAC,QAADA,WAAAA,EAAAA,IAAC,GAAD,wCAAkB,EAAI,IAAEA,EAAAA,KAAAA,GAEnEA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,OAAAA,IACAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,eAAAA,IASAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,MAAAA,IAqBAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,MAAAA,IAGAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,MAAAA,IAaAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,MAAAA,IAOFA,EAAAA,KAAAA,I,yBAvHqCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,cAAAA,WAAAA,IACpBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,cAAAA,OAAAA,IACTA,EAAAA,IAAAA,eAAAA,EAAAA,IAAAA,GAAAA,IAAAA,CAAmD,wGAAnDA,CAAmD,gBAAnDA,CAAmD,cAAnDA,CAAmD,WAAnDA,CAAmD,UAAnDA,CAAmD,kBAI1CA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,cAAAA,GAAAA,QACTA,EAAAA,IAAAA,eAAAA,EAAAA,IAAAA,GAAAA,IAAAA,CAAoE,iJAApEA,CAAoE,aAApEA,CAAoE,iDAApEA,CAAoE,eAGhEA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,eAEAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,EAAAA,eAAAA,EAAAA,eAAAA,MAAAA,EAAAA,MAAAA,eAAAA,MAAAA,EAAAA,MAAAA,aAAAA,UAAAA,EAAAA,MAAAA,aAAAA,SAAAA,WAAAA,aAEFA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,EAAAA,gBAAAA,MAAAA,EAAAA,MAAAA,eAAAA,MAAAA,EAAAA,MAAAA,cAAAA,SAAAA,KAAAA,EAAAA,MAAAA,cAAAA,SAAAA,WAAAA,YAKIA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,MAQAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,EAAAA,QAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,SAQAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,EAAAA,SAAAA,MAAAA,EAAAA,QAAAA,EAAAA,MAAAA,WAgBAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,aAUCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,EAAAA,QAAAA,GAAAA,OAA8EA,EAAAA,IAAAA,WAAAA,EAAAA,IAAAA,GAAAA,IAAAA,CAAsB,iBAAtBA,CAAsB,4BAAtBA,CAAsB,aAAtBA,CAAsB,cAAtBA,CAAsB,WAAtBA,CAAsB,iBAAtBA,CAAsB,eAI1GA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,QAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,aACwBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,OAAAA,KAAAA,EAAAA,UAAAA,oBASzBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,MAAAA,EAAAA,eAAAA,MAAAA,EAAAA,cAAAA,WAAAA,KAAAA,EAAAA,cAAAA,WAAAA,QAqBAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,EAAAA,OAGAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,EAAAA,OAaAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,MAAAA,EAAAA,OAAAA,EAAAA,MAAAA,gB,EC3GN,MAAO6e,WAAoBthB,EAAAA,EAsC/BC,YACUiW,EACAiD,EACAjT,EACAqb,EACAC,GAERze,QANQ,KAAAmT,eAAAA,EACA,KAAAiD,qBAAAA,EACA,KAAAjT,aAAAA,EACA,KAAAqb,kBAAAA,EACA,KAAAC,aAAAA,EA1CV,KAAA9T,OAASA,OACT,KAAA1K,UAAYA,EAAAA,GACZ,KAAAwW,MAAQ,KACR,KAAAiI,cAAqB,CAAC,EACtB,KAAAzG,cAAgB,KAChB,KAAA0G,UAAW,EACX,KAAAC,UAAW,EACX,KAAAC,eAAgB,EAChB,KAAAC,cAAe,EACf,KAAAC,cAAe,EACf,KAAAC,OAAQ,EACR,KAAAC,aAAc,EACd,KAAApZ,SAAU,EACV,KAAAxI,KAAO,eACE,KAAA6hB,cAAgB,CACvB,OACA,OACA,gBACA,eACA,iBACA,SACA,iBACA,kBACA,UACA,WACA,SACA,WACA,SACA,qBACA,QACA,UACA,kBAGF,KAAAtV,MAAQ,GAEA,KAAA2J,cAA8B,IAAIhW,EAAAA,CAS1C,CAEAa,WACEZ,KAAK+V,cAAcG,IACjBlW,KAAK2V,eAAe8E,cAAcva,WAAWua,IAC3Cza,KAAKya,cAAgBA,CAAa,KAGtC,IAAK,IAAIvR,KAAQiE,OAAO0E,KAAKpP,EAAAA,GAAUkf,mBACrC,IAAK,IAAIC,KAAQzU,OAAO0E,KAAKpP,EAAAA,GAAUkf,kBAAkBzY,IAIvD,YAHIjI,SAASO,gBAAgBuO,UAAU8R,SAASD,KAC9C5hB,KAAKoM,MAAQwV,GAKrB,CAEA/gB,cACEb,KAAK+V,cAAcjV,aACrB,CAEMP,KAAKC,GAAI,wDACb,EAAKyY,MAAQzY,EACX,EAAKyY,MACH9L,OAAO0E,KAAK,EAAKoH,OACde,QAAQpI,IAAS,EAAK8P,cAActZ,SAASwJ,KAC7C9H,SAAS8H,GAAS,EAAKsP,cAActP,GAAO,EAAKqH,MAAMrH,KAC1D,EAAKqH,MACT,EAAKuI,MAAQ,EAAK5I,qBAAqB4I,MAAM,EAAKvI,OAClD,EAAKsI,gBAAe,EAAKtI,OAAO6I,aAAe,EAAK7I,OAAO6I,YAAYhR,OAAS,KAChF,EAAKmQ,aAAac,aAAa,EAAK9I,MAAMnO,gBAAiB,EAAKmO,MAAMpQ,IAAImZ,MAAMC,IAC9E,GAA+C,IAA3C9U,OAAO0E,KAAK,EAAKqP,eAAepQ,OAClC,OAEF,EAAKmI,MAAMiJ,WAAaD,GAAGE,YAAc7I,IAAI2I,EAAEE,aAAa5I,IAAI,UAAWlZ,EAC3E4hB,GAAGG,YAAaH,EAAEG,UAAY9I,IAAI2I,EAAEG,WAAW7I,IAAI,MACnD,EAAK2H,cAAgB,IAAKe,KAAM,EAAKf,eACrC,EAAKA,cAAc9T,WAAa,EAAK8T,eAAe9T,YAAY6C,MAAK,CAACC,EAAGC,IACvED,EAAEmS,UAAUxiB,KAAOsQ,EAAEkS,UAAUxiB,KAAO,EAAIqQ,EAAEmS,UAAUxiB,KAAOsQ,EAAEkS,UAAUxiB,MAAQ,EAAI,IAEvF,MAAMiG,EAAOmc,GAAGK,SAChB,EAAKpB,cAAc9T,WAAa,EAAK8T,eAAe9T,WAChD,EAAK8T,cAAc9T,YAAYiE,KAAKkR,IAC9BA,EAAKF,WAAWG,kBAAkB1R,SACpCyR,EAAKF,UAAUI,KAAuD,IAA/CF,EAAKF,WAAWG,iBAAiB,GAAGF,SAAkBxc,EAC7Eyc,EAAKF,UAAUI,KAA+B,IAAxBF,EAAKF,UAAUI,UAAapiB,EAAYkiB,EAAKF,UAAUI,KAAO,IAAM,IAAMF,EAAKF,UAAUI,KAAKzR,QAAQ,GAAK,KAE5HuR,KAET,EAAE,IAER,WAAa,GA9BA,EA+Bf,CAEA9hB,QACET,KAAK2R,QACLnP,MAAM/B,OACR,CAEAiiB,SACE1iB,KAAKmhB,UAAYnhB,KAAKmhB,SACjBnhB,KAAKshB,aAKRthB,KAAKshB,cAAgBthB,KAAKshB,aAJ1B5f,YAAW,KACT1B,KAAKshB,cAAgBthB,KAAKshB,YAAY,GACrC,IAIP,CAEAqB,cACE3iB,KAAKqhB,eAAiBrhB,KAAKqhB,aAC7B,CAEMuB,cAAc1Z,EAAM0Y,GAAI,uCAC5B,EAAKxV,MAAQ,EAAK4U,kBAAkB4B,cAAc1Z,EAAM0Y,GAAQA,EAAO,EAAG,GAD9C,EAE9B,CAEAjQ,QACE3R,KAAKmhB,UAAW,EAChBnhB,KAAKohB,UAAW,EAChBphB,KAAKqhB,eAAgB,EACrBrhB,KAAKuhB,cAAe,EACpBvhB,KAAKyhB,aAAc,EACnBzhB,KAAKqI,SAAU,EACfrI,KAAKkhB,cAAgB,CAAC,CACxB,CAAC,+B,cArIUH,IAAW,qF,KAAXA,GAAWlf,UAAAA,CAAAA,CAAAA,qBAAA8J,SAAAA,CAAAA,EAAAA,KAAA7J,MAAAA,EAAAC,KAAAA,EAAA6J,OAAAA,CAAAA,CAAAA,QAAAA,0BAAAA,EAAAA,QAAAA,CAAAA,EAAAA,cAAAA,eAAAA,CAAAA,EAAAA,WAAAA,CAAAA,EAAAA,WAAAA,OAAAA,CAAAA,EAAAA,WAAAA,SAAAA,QAAAA,EAAAA,SAAAA,CAAAA,MAAAA,4CAAAA,EAAAA,KAAAA,CAAAA,EAAAA,SAAAA,CAAAA,EAAAA,cAAAA,cAAAA,CAAAA,EAAAA,gBAAAA,QAAAA,CAAAA,EAAAA,cAAAA,WAAAA,CAAAA,EAAAA,WAAAA,SAAAA,UAAAA,EAAAA,eAAAA,SAAAA,OAAAA,WAAAA,QAAAA,OAAAA,cAAAA,QAAAA,UAAAA,CAAAA,EAAAA,WAAAA,SAAAA,UAAAA,EAAAA,eAAAA,SAAAA,OAAAA,SAAAA,YAAAA,CAAAA,QAAAA,wBAAAA,MAAAA,4CAAAA,EAAAA,QAAAA,EAAAA,QAAAA,CAAAA,QAAAA,SAAAA,MAAAA,uCAAAA,EAAAA,QAAAA,EAAAA,QAAAA,CAAAA,QAAAA,qBAAAA,EAAAA,QAAAA,EAAAA,QAAAA,CAAAA,EAAAA,cAAAA,QAAAA,CAAAA,EAAAA,cAAAA,OAAAA,CAAAA,QAAAA,wBAAAA,EAAAA,QAAAA,CAAAA,QAAAA,6BAAAA,EAAAA,QAAAA,CAAAA,EAAAA,WAAAA,QAAAA,mBAAAA,EAAAA,WAAAA,SAAAA,eAAAA,OAAAA,WAAAA,QAAAA,cAAAA,WAAAA,QAAAA,CAAAA,QAAAA,cAAAA,EAAAA,QAAAA,CAAAA,EAAAA,QAAAA,WAAAA,CAAAA,QAAAA,wBAAAA,EAAAA,QAAAA,CAAAA,QAAAA,4BAAAA,EAAAA,QAAAA,QAAAA,EAAAA,QAAAA,CAAAA,QAAAA,wBAAAA,EAAAA,YAAAA,YAAAA,EAAAA,QAAAA,CAAAA,QAAAA,qBAAAA,EAAAA,QAAAA,CAAAA,MAAAA,4CAAAA,EAAAA,WAAAA,SAAAA,QAAAA,EAAAA,SAAAA,CAAAA,MAAAA,uCAAAA,EAAAA,SAAAA,EAAAA,SAAAA,CAAAA,EAAAA,SAAAA,cAAAA,EAAAA,SAAAA,CAAAA,EAAAA,cAAAA,aAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,SAAAA,CAAAA,EAAAA,cAAAA,YAAAA,QAAAA,CAAAA,EAAAA,QAAAA,EAAAA,cAAAA,WAAAA,gBAAAA,cAAAA,CAAAA,EAAAA,eAAAA,CAAAA,QAAAA,iCAAAA,EAAAA,QAAAA,OAAAA,QAAAA,UAAAA,cAAAA,EAAAA,QAAAA,CAAAA,EAAAA,QAAAA,OAAAA,SAAAA,YAAAA,EAAAA,OAAAA,QAAAA,UAAAA,eAAAA,CAAAA,EAAAA,cAAAA,aAAAA,CAAAA,EAAAA,WAAAA,SAAAA,YAAAA,EAAAA,SAAAA,CAAAA,EAAAA,SAAAA,CAAAA,MAAAA,wCAAAA,CAAAA,EAAAA,gBAAAA,cAAAA,CAAAA,EAAAA,cAAAA,QAAAA,CAAAA,EAAAA,QAAAA,CAAAA,QAAAA,OAAAA,EAAAA,QAAAA,CAAAA,EAAAA,QAAAA,CAAAA,EAAAA,WAAAA,SAAAA,YAAAA,EAAAA,SAAAA,CAAAA,EAAAA,cAAAA,aAAAA,CAAAA,EAAAA,cAAAA,UAAAA,CAAAA,EAAAA,aAAAA,CAAAA,EAAAA,OAAAA,EAAAA,WAAAA,gBAAAA,gBAAAA,WAAA5J,SAAAA,SAAAA,EAAAA,GAAA,KDfxBE,EAAAA,IAAAA,EAAAA,GAAAA,GAAAA,GAAAA,MAAAA,G,KAAMA,EAAAA,IAAAA,OAAAA,EAAAA,O,s8hIEANA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAAiD,WAE7CA,EAAAA,IAAAA,EAAAA,eAAAA,EAAAA,CAAiD,eAAjDA,CAAiD,oBAGnDA,EAAAA,KAAAA,I,qBAJkBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,eAAAA,EAAAA,YACFA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,SACJA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,SACIA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,Q,ECaZ,MAAO2gB,GAGXnjB,YACS8V,EACAlT,EACAmT,EACCC,EACD/P,EACCgQ,GALD,KAAAH,UAAAA,EACA,KAAAlT,eAAAA,EACA,KAAAmT,YAAAA,EACC,KAAAC,gBAAAA,EACD,KAAA/P,aAAAA,EACC,KAAAgQ,eAAAA,EAPF,KAAAI,cAA8B,IAAIhW,EAAAA,EAS1C,KAAAiW,SAAU,EAEV,KAAA8M,YAAa,CAHV,CAIHliB,WACEZ,KAAK+V,cAAcG,IACjBlW,KAAK2V,eAAe8E,cAAcva,WAAWua,IAC3Cza,KAAK4W,QAAU6D,CAAa,KAGhCza,KAAK+V,cAAcG,IACjBlW,KAAK2V,eAAesH,YAAY/c,WAAWigB,IACzCngB,KAAK8iB,WAAa3V,OAAO0E,KAAKsO,GAAGzD,MAAQ,CAAC,IAAI5L,OAAS,EAAiB,KAG5EmF,aAAY,IAAOjW,KAAKgW,SAAWhW,KAAKgW,SAAU,IACpD,CACAnV,cACEb,KAAK+V,cAAcjV,aACrB,CACAyV,QAAQS,GACN,GAAyB,gBAArBA,EAAY9N,KACd,MAAyB,eAArB8N,EAAY9N,KACV8N,EAAYR,YAAYC,QACnB,YAEA,cAGFO,EAAY9N,KAEhB,CACL,IAAIwN,EAAgB,GAMpB,OAJEA,EADEM,EAAYL,OAAOF,UAAYzW,KAAK4W,QAAQH,QAC9B,OAEA,WAEXC,C,CAEX,CAEAK,gBAAgBC,GACd,OAAOhX,KAAK0V,gBAAgBqB,gBAAgBC,EAAahX,KAAK4W,QAChE,CACAyB,KAAKzB,GACHyB,EAAKzB,EAAQH,SACb,MAAM6B,EAAkBtY,KAAKwV,UAAU+C,QAAQ,uCAC/CvY,KAAKsC,eAAe4T,IAAIU,EAAQH,QAAU,IAAM6B,EAAiB,EACnE,CACAzB,YAAYP,GAEV,MAAO,GADS7T,EAAAA,GAAUqU,sBACLR,GACvB,CACAqB,YAAYtB,GACV,OAAOrW,KAAK2F,aAAaiS,aAAavB,EAASwB,QAASxB,EAASyB,OAAO/G,WAC1E,CACAgH,SAAS1B,GACP,OAAIA,EAAS2B,WACJ,UAAU3B,EAAS2B,aAErB,MACT,CACAC,SAAS5B,GACP,OAAOrW,KAAK+X,SAAS1B,GAAUvF,OAAS,GAAyB,MAApBuF,EAASyB,MACxD,CACAI,aAAa7B,GACX,OAAOA,EAASwB,SAAWxB,EAASM,OAAOF,SAAWJ,EAASwB,QAAQM,MAAM,KAAK,KAAO9B,EAASM,OAAOF,QAAU,SAAW,UAChI,CACAsH,mBACE,OAAO/d,KAAK4W,mBAAmBmM,EAAAA,IAAmB/iB,KAAK4W,SAAS6E,QAAQ3K,OAAS,CACnF,CAAC,+B,cAjFU+R,IAAoB,+F,KAApBA,GAAoBhhB,UAAAA,CAAAA,CAAAA,qBAAA2J,OAAAA,CAAA6K,SAAAA,YAAAvU,MAAAA,EAAAC,KAAAA,EAAA6J,OAAAA,CAAAA,CAAAA,QAAAA,sBAAAA,EAAAA,QAAAA,CAAAA,EAAAA,cAAAA,WAAAA,CAAAA,EAAAA,QAAAA,CAAAA,EAAAA,YAAA5J,SAAAA,SAAAA,EAAAA,GAAA,MDjBjCE,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,MAAAA,GAOAA,EAAAA,IAAAA,EAAAA,qB,KAPkCA,EAAAA,IAAAA,OAAAA,EAAAA,Q,gyCEsBtBA,EAAAA,IAAAA,GAC6CA,EAAAA,IAAC,GAAuCA,EAAAA,O,sBAAxCA,EAAAA,IAAC,GAADA,EAAAA,IAAC,IAADA,EAAAA,qBAAAA,SAAAA,KAAAA,I,4BAUnCA,EAAAA,IAAAA,GACEA,EAAAA,IAAC,GAA0DA,EAAAA,O,2CAA3DA,EAAAA,IAAC,GAADA,EAAAA,IAAC,KAADA,EAAAA,qBAAAA,SAAAA,KAAAA,EAAAA,KAAAA,EAAAA,OAAAA,I,2CALYA,EAAAA,IAAAA,GAAiDA,EAAAA,IAAAA,EAAAA,KAAMA,EAAAA,IAAAA,EAAAA,OAAAA,IACnEA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,4CAASA,EAAAA,IAAAA,EAAAA,qBAAAA,SAAAA,KAAAA,EAAAA,KAAAA,UAAAA,EAAAA,qBAAAA,SAAAA,KAAAA,EAAAA,KAAAA,SAA8G,IACvHA,EAAAA,IAAAA,GACFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,eAAAA,GAEFA,EAAAA,K,8CAJIA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,MAAAA,IAAAA,MAAAA,EAAAA,OAAAA,EAAAA,MAAAA,UAAAA,IAAAA,IAAAA,KAEaA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,MAAAA,EAAAA,qBAAAA,UAAAA,MAAAA,EAAAA,qBAAAA,SAAAA,KAAAA,EAAAA,KAAAA,EAAAA,KAAAA,EAAAA,qBAAAA,SAAAA,KAAAA,EAAAA,KAAAA,EAAAA,QAAAA,E,2CAQnBA,EAAAA,IAAAA,EAAAA,KAAAA,CAA0D,QACpDA,EAAAA,IAAAA,GAAkBA,EAAAA,MACtBA,EAAAA,IAAAA,EAAAA,KAAAA,CAAI,YAAKA,EAAAA,IAAC,SAADA,WAAA,6CAASA,EAAAA,IAAAA,EAAAA,qBAAAA,eAAAA,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,QAA+C,IAA7DA,EAAAA,KAAAA,I,6BADAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,KAAAA,EAAAA,IAAAA,G,4BAFRA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,KAAAA,I,oBAKFA,EAAAA,O,0CALoBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,IAAAA,EAAAA,EAAAA,MAAAA,GAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,EAAAA,EAAAA,U,2CAdtBA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,KAAAA,GAAAA,CAAiB,QACXA,EAAAA,IAAAA,GAAcA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,eAAAA,GAOlBA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,KAAAA,CAAI,YAAKA,EAAAA,IAAC,SAADA,WAAA,6CAASA,EAAAA,IAAAA,EAAAA,qBAAAA,eAAAA,MAAAA,GAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,GAAmD,IAAjEA,EAAAA,KAAAA,KAGNA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,eAAAA,GAOFA,EAAAA,K,6BAlBQA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,KAA6BA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,MAAAA,GAAAA,MAAAA,EAAAA,OAAAA,MAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,MAAAA,EAAAA,QAAAA,GAWpBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,MAAAA,GAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,YAAAA,MAAAA,GAAAA,MAAAA,EAAAA,OAAAA,MAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,MAAAA,EAAAA,QAAAA,E,4BAfrBA,EAAAA,IAAAA,EAAAA,QAAAA,CAAsD,cAElDA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,eAAAA,I,oBAqBFA,EAAAA,KAAAA,I,sBArBiCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,qBAAAA,SAAAA,M,2CATrCA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,MAAIA,EAAAA,IAAAA,EAAAA,aAASA,EAAAA,IAAAA,EAAAA,OAAAA,IACTA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,wBAASA,EAAAA,IAAAA,EAAAA,qBAAAA,SAAAA,UAAAA,EAAAA,qBAAAA,SAAAA,SAAgF,IAAEA,EAAAA,IAAAA,GAC3BA,EAAAA,MAClEA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,eAAAA,GAEFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,QAAAA,GAyBFA,EAAAA,K,0BA9BiGA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,EAAAA,qBAAAA,SAAAA,SAAAA,IAAAA,IAAAA,KAG1FA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,qBAAAA,SAAAA,MAEGA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,qBAAAA,SAAAA,S,4BA8BNA,EAAAA,IAAAA,GAC6CA,EAAAA,IAAC,GAAuCA,EAAAA,O,sBAAxCA,EAAAA,IAAC,GAADA,EAAAA,IAAC,IAADA,EAAAA,qBAAAA,SAAAA,KAAAA,I,4BAUnCA,EAAAA,IAAAA,GACEA,EAAAA,IAAC,GAA0DA,EAAAA,O,2CAA3DA,EAAAA,IAAC,GAADA,EAAAA,IAAC,KAADA,EAAAA,qBAAAA,SAAAA,KAAAA,EAAAA,KAAAA,EAAAA,OAAAA,I,2CALYA,EAAAA,IAAAA,GAAiDA,EAAAA,IAAAA,EAAAA,KAAMA,EAAAA,IAAAA,EAAAA,OAAAA,IACnEA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,4CAASA,EAAAA,IAAAA,EAAAA,qBAAAA,SAAAA,KAAAA,EAAAA,KAAAA,UAAAA,EAAAA,qBAAAA,SAAAA,KAAAA,EAAAA,KAAAA,SAA8G,IACvHA,EAAAA,IAAAA,GACFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,eAAAA,GAEFA,EAAAA,K,8CAJIA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,MAAAA,IAAAA,MAAAA,EAAAA,OAAAA,EAAAA,MAAAA,UAAAA,IAAAA,IAAAA,KAEaA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,MAAAA,EAAAA,qBAAAA,UAAAA,MAAAA,EAAAA,qBAAAA,SAAAA,KAAAA,EAAAA,KAAAA,EAAAA,KAAAA,EAAAA,qBAAAA,SAAAA,KAAAA,EAAAA,KAAAA,EAAAA,QAAAA,E,4BAKjBA,EAAAA,IAAAA,GAA0EA,EAAAA,IAAAA,GAE1EA,EAAAA,O,+BAF0EA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,GAAAA,EAAAA,MAAAA,EAAAA,EAAAA,MAAAA,EAAAA,OAAAA,GAAAA,QAAAA,I,2CAY5EA,EAAAA,IAAAA,EAAAA,KAAAA,CAA0D,QACpDA,EAAAA,IAAAA,GAAoCA,EAAAA,MACxCA,EAAAA,IAAAA,EAAAA,MAAIA,EAAAA,IAAAA,GAAqBA,EAAAA,MACzBA,EAAAA,IAAAA,EAAAA,KAAAA,CAAI,YAAKA,EAAAA,IAAC,SAADA,WAAA,6CAASA,EAAAA,IAAAA,EAAAA,qBAAAA,eAAAA,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,QAA+C,IAA7DA,EAAAA,KAAAA,I,6BAFAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,EAAAA,IAAAA,IACAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,MAAAA,GAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,Q,4BAHRA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,KAAAA,I,oBAOFA,EAAAA,O,0CAPoBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,IAAAA,EAAAA,EAAAA,MAAAA,GAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,EAAAA,EAAAA,U,2CAvBtBA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,KAAAA,GAAAA,CAAiB,QACXA,EAAAA,IAAAA,GAAcA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,eAAAA,GAOlBA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,MACEA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,eAAAA,GAGFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,KAAAA,CAAI,YACkBA,EAAAA,IAAC,SAADA,WAAA,6CAASA,EAAAA,IAAAA,EAAAA,cAAAA,EAAAA,MAAAA,EAAAA,EAAAA,MAAAA,EAAAA,OAA+C,IAAG,IAA/EA,EAAAA,MAEAA,EAAAA,IAAAA,EAAAA,MAAAA,IAAKA,EAAAA,IAAC,SAADA,WAAA,6CAASA,EAAAA,IAAAA,EAAAA,qBAAAA,eAAAA,MAAAA,GAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,GAAmD,IAAjEA,EAAAA,KAAAA,KAIJA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,eAAAA,GASFA,EAAAA,K,6BA7BQA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,KAA6BA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,MAAAA,GAAAA,MAAAA,EAAAA,OAAAA,MAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,MAAAA,EAAAA,QAAAA,GAShBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,MAAAA,IAAAA,MAAAA,EAAAA,OAAAA,EAAAA,MAAAA,YAAAA,IAAAA,EAAAA,MAAAA,EAAAA,QAWJA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,MAAAA,GAAAA,MAAAA,EAAAA,MAAAA,KAAAA,EAAAA,MAAAA,YAAAA,MAAAA,GAAAA,MAAAA,EAAAA,OAAAA,MAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,MAAAA,EAAAA,QAAAA,E,4BAxBrBA,EAAAA,IAAAA,EAAAA,QAAAA,CAAsD,cAElDA,EAAAA,IAAAA,EAAAA,GAAAA,GAAAA,EAAAA,eAAAA,I,oBAgCFA,EAAAA,KAAAA,I,sBAhCiCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,qBAAAA,SAAAA,M,2CATrCA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,MAAIA,EAAAA,IAAAA,EAAAA,aAASA,EAAAA,IAAAA,EAAAA,OAAAA,IACTA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,wBAASA,EAAAA,IAAAA,EAAAA,qBAAAA,SAAAA,UAAAA,EAAAA,qBAAAA,SAAAA,SAAgF,IAAEA,EAAAA,IAAAA,GAC3BA,EAAAA,MAClEA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,eAAAA,GAEFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,QAAAA,GAoCFA,EAAAA,K,0BAzCiGA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,EAAAA,qBAAAA,SAAAA,SAAAA,IAAAA,IAAAA,KAG1FA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,qBAAAA,SAAAA,MAEGA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,qBAAAA,SAAAA,S,4BA7ChBA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,KAAAA,IAA2BA,EAAAA,IAAAA,EAAAA,kBAAcA,EAAAA,MACzCA,EAAAA,IAAAA,EAAAA,MAAAA,GACAA,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,eAAAA,GAiCAA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,eAAAA,GA4CFA,EAAAA,MACFA,EAAAA,MACFA,EAAAA,O,qBA/EqBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,qBAAAA,SAAAA,MAiCAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,qBAAAA,SAAAA,K,2CA0DjBA,EAAAA,IAAAA,EAAAA,KAAAA,CAAyD,QACnDA,EAAAA,IAAAA,GAAeA,EAAAA,MACnBA,EAAAA,IAAAA,EAAAA,MAAIA,EAAAA,IAAAA,GAAsBA,EAAAA,MAC1BA,EAAAA,IAAAA,EAAAA,KAAAA,IAAIA,EAAAA,IAAC,SAADA,WAAA,yCAASA,EAAAA,IAAAA,EAAAA,cAAAA,WAAAA,GAA2B,IAAEA,EAAAA,IAAAA,EAAAA,MAAAA,IAAKA,EAAAA,IAAC,SAADA,WAAA,yCAASA,EAAAA,IAAAA,EAAAA,cAAAA,WAAAA,GAA2B,IAAzCA,EAAAA,KAAAA,I,6BAFtCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,MACAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,Y,2CAXVA,EAAAA,IAAAA,EAAAA,QAAAA,CAA0C,UAA1CA,CAA0C,OAA1CA,CAA0C,QAGhCA,EAAAA,IAAAA,EAAAA,QAAIA,EAAAA,MACRA,EAAAA,IAAAA,EAAAA,MAAIA,EAAAA,IAAAA,EAAAA,gBAAYA,EAAAA,MAChBA,EAAAA,IAAAA,EAAAA,KAAAA,CAAI,aAAMA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,uBAASA,EAAAA,IAAAA,EAAAA,cAAAA,cAA2B,IAAEA,EAAAA,IAAAA,EAAAA,cAAeA,EAAAA,KAAAA,OAGnEA,EAAAA,IAAAA,GAAAA,SACEA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,KAAAA,IAMFA,EAAAA,KAAAA,E,yBANuBA,EAAAA,IAAAA,IAAAA,EAAAA,IAAAA,UAAAA,EAAAA,cAAAA,M,2CAmBrBA,EAAAA,IAAAA,EAAAA,KAAAA,CAC2D,QACrDA,EAAAA,IAAAA,GAAiCA,EAAAA,MACrCA,EAAAA,IAAAA,EAAAA,MAAIA,EAAAA,IAAAA,GAAuCA,EAAAA,MAC3CA,EAAAA,IAAAA,EAAAA,KAAAA,CAAI,YAAKA,EAAAA,IAAC,SAADA,WAAA,yCAASA,EAAAA,IAAAA,EAAAA,cAAAA,iBAAAA,GAAiC,IAA/CA,EAAAA,KAAAA,I,wCAHJA,EAAAA,IAAAA,YAAAA,EAAAA,iBAAAA,EAAAA,UACIA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,YAAAA,MACAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,cAAAA,EAAAA,S,2CAZVA,EAAAA,IAAAA,EAAAA,QAAAA,CAAgD,UAAhDA,CAAgD,OAAhDA,CAAgD,QAGtCA,EAAAA,IAAAA,EAAAA,QAAIA,EAAAA,MACRA,EAAAA,IAAAA,EAAAA,MAAIA,EAAAA,IAAAA,EAAAA,WAAOA,EAAAA,MACXA,EAAAA,IAAAA,EAAAA,KAAAA,CAAI,aAAMA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,uBAASA,EAAAA,IAAAA,EAAAA,cAAAA,oBAAiC,IAAEA,EAAAA,IAAAA,EAAAA,cAAeA,EAAAA,KAAAA,OAGzEA,EAAAA,IAAAA,GAAAA,SACEA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,KAAAA,IAMFA,EAAAA,KAAAA,E,yBAN6BA,EAAAA,IAAAA,IAAAA,EAAAA,IAAAA,UAAAA,EAAAA,cAAAA,Y,yBAQYA,EAAAA,IAAAA,GAA0CA,EAAAA,IAAAA,EAAAA,UAAMA,EAAAA,M,0CAKzFA,EAAAA,IAAAA,EAAAA,SAAAA,IAA4DA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,uBAASA,EAAAA,IAAAA,EAAAA,iBAAgB,IAAEA,EAAAA,IAAAA,EAAAA,qBAAiBA,EAAAA,K,EC3HtG,MAAO8gB,GAKXtjB,YACS0C,EACCE,EACAma,EACAwG,EACAtd,EACAud,EACAvN,EACDpT,GAPA,KAAAH,cAAAA,EACC,KAAAE,eAAAA,EACA,KAAAma,cAAAA,EACA,KAAAwG,OAAAA,EACA,KAAAtd,aAAAA,EACA,KAAAud,mBAAAA,EACA,KAAAvN,eAAAA,EACD,KAAApT,qBAAAA,EAZT,KAAA4gB,iBAAmB,GACnB,KAAAC,cAAe,EACf,KAAA3I,cAAgB,KACR,KAAA1E,cAA8B,IAAIhW,EAAAA,CAUvC,CAEHa,WACMZ,KAAKyc,cAAc8B,SACrBve,KAAKmjB,iBAAmBnjB,KAAKyc,cAAc8B,OAAO8E,sBAClDrjB,KAAKoC,cAAckhB,kBACnBtjB,KAAKujB,YAGPvjB,KAAK+V,cAAcG,IACjBlW,KAAK2V,eAAe8E,cAAcva,WAAWua,IAC3Cza,KAAKya,cAAgBA,CAAa,IAGxC,CACA5Z,cAAqB,CACrB2iB,iBAAiB7e,GAEf,OAAe,IADD3E,KAAKmjB,iBAAiBM,WAAWC,GAAgBA,EAAO/e,MAAQA,GAKhF,CAEA4e,WACEvjB,KAAKojB,aAAeriB,OAAOmd,WAAa,GAC1C,CACAyF,cAAclN,GACZ,OAAIzW,KAAKojB,aACA3M,EAEAA,EAAQzL,MAAM,EAAG,GAAK,MAAQyL,EAAQzL,OAAO,EAExD,CACA4Y,SACE5jB,KAAK2F,aAAake,gBAClB7jB,KAAKsC,eAAe4T,IAAI,kCACxBlW,KAAKkjB,mBAAmBY,OAAO9jB,KAAKya,cAAchE,SAClDzW,KAAKijB,OAAOc,SAAS,CAAC,YAAY/jB,KAAKya,cAAchE,WACvD,CACAuN,YACEhkB,KAAK2F,aAAase,mBAClBjkB,KAAKsC,eAAe4T,IAAI,oCACxBlW,KAAKkjB,mBAAmBY,OAAO9jB,KAAKya,cAAchE,SAClDzW,KAAKijB,OAAOc,SAAS,CAAC,YAAY/jB,KAAKya,cAAchE,WACvD,CACAyN,iBACEzkB,EAAAA,EAAeQ,aAAamD,KAAK,CAAEvD,KAAM,kBAAmBW,KAAM,MACpE,CACA2jB,oBACE,OACEnkB,KAAKyc,cAAc8B,SAClBve,KAAKyc,cAAc8B,kBAAkB6F,EAAAA,IACpCpkB,KAAKyc,cAAc8B,kBAAkB8F,EAAAA,IACrCrkB,KAAKyc,cAAc8B,kBAAkBC,EAAAA,IACrCxe,KAAKyc,cAAc8B,kBAAkB+F,EAAAA,EAE3C,CACAC,cAAcC,GACZ/kB,EAAAA,EAAeQ,aAAamD,KAAK,CAAEvD,KAAM,iBAAkBW,KAAM,CAAEikB,MAAOD,EAAQC,MAAOC,0BAA2BF,EAAQ/N,UAC9H,CACAkO,WAAY,CAAC,+B,cA3EF3B,IAAiB,wH,KAAjBA,GAAiBnhB,UAAAA,CAAAA,CAAAA,iBAAAuT,aAAAA,SAAAA,EAAAA,GAAA,K,kCAAjBvJ,EAAAA,UAAU,Y,0vBDlBvB3J,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAAkC,MAAlCA,CAAkC,cACqDA,EAAAA,IAAAA,EAAAA,MAAAA,GAChCA,EAAAA,IAAAA,EAAAA,QAAIA,EAAAA,KAAAA,GACzDA,EAAAA,IAAAA,EAAAA,MAAIA,EAAAA,IAAAA,EAAAA,sBAAkBA,EAAAA,MACtBA,EAAAA,IAAAA,EAAAA,MAAAA,GACAA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAAiC,QAAjCA,CAAiC,SAEzBA,EAAAA,IAAAA,GAAAA,wBAAoBA,EAAAA,IAAAA,GAAAA,KAAGA,EAAAA,IAAAA,GAAAA,kBAAcA,EAAAA,MAAKA,EAAAA,IAAAA,GAAAA,2BAAsBA,EAAAA,KAAAA,GAEtEA,EAAAA,IAAAA,GAAAA,MAAAA,GACEA,EAAAA,IAAAA,GAAAA,kBACFA,EAAAA,KAAAA,GAEFA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,eAAAA,GAqFAA,EAAAA,IAAAA,GAAAA,MAAIA,EAAAA,IAAAA,GAAAA,SAAKA,EAAAA,MACTA,EAAAA,IAAAA,GAAAA,MAAAA,GACAA,EAAAA,IAAAA,GAAAA,GAAAA,GAAAA,EAAAA,QAAAA,GAiBAA,EAAAA,IAAAA,GAAAA,MAAIA,EAAAA,IAAAA,GAAAA,eAAWA,EAAAA,MACfA,EAAAA,IAAAA,GAAAA,MAAAA,GACAA,EAAAA,IAAAA,GAAAA,GAAAA,GAAAA,EAAAA,QAAAA,GAiBAA,EAAAA,IAAAA,GAAAA,MAAIA,EAAAA,IAAAA,GAAAA,UAAMA,EAAAA,IAAAA,GAAAA,OAAAA,GAAiCA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,eAAAA,GAA+DA,EAAAA,MAC1GA,EAAAA,IAAAA,GAAAA,MAAAA,GAEAA,EAAAA,IAAAA,GAAAA,MAAAA,EAAAA,CAA4B,eACMA,EAAAA,IAAC,SAADA,WAAA,OAAS2J,EAAAA,WAAW,IAAE3J,EAAAA,IAAAA,GAAAA,4BAAwBA,EAAAA,MAC9EA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,SAAAA,IACFA,EAAAA,KAAAA,I,MA7IiCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,aAAAA,aAAAA,MAAAA,EAAAA,cAAAA,KAAAA,EAAAA,cAAAA,UAYlBA,EAAAA,IAAAA,IAAAA,EAAAA,IAAAA,QAAAA,MAAAA,EAAAA,qBAAAA,SAAAA,KAAAA,EAAAA,qBAAAA,SAAAA,QAAAA,MAAAA,EAAAA,qBAAAA,SAAAA,KAAAA,EAAAA,qBAAAA,SAAAA,OAuFPA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,cAAAA,MAAAA,QAmBAA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,cAAAA,YAAAA,QAiBkDA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,qBAK/CA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,qB,s/PEtIqGA,EAAAA,IAAAA,EAAAA,OAAAA,GACvDA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,uBAASA,EAAAA,IAAAA,EAAAA,gBAAAA,eAAmC,IAAEA,EAAAA,IAAAA,EAAAA,UAAMA,EAAAA,K,2CAEvGA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,QAAMA,EAAAA,IAAAA,EAAAA,2CAAuCA,EAAAA,MAC7CA,EAAAA,IAAAA,EAAAA,MAAAA,GAAAA,CAAoB,cACXA,EAAAA,IAAAA,iBAAAA,SAAAA,GAAAA,EAAAA,IAAAA,GAAA,mDAAPA,EAAAA,MAAwEA,EAAAA,IAAAA,EAAAA,SAAAA,IAAuBA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,uBAASA,EAAAA,IAAAA,EAAAA,MAAAA,CAAAuU,QAAAA,EAAAA,gBAA+B,IAAEvU,EAAAA,IAAAA,EAAAA,SAAKA,EAAAA,KAAAA,GAElJA,EAAAA,K,yBAFWA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,c,2CAcTA,EAAAA,IAAAA,EAAAA,SAAAA,IAA6EA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,2CAASA,EAAAA,IAAAA,EAAAA,MAAAA,GAAe,IAAEA,EAAAA,IAAAA,EAAAA,SAAKA,EAAAA,K,yBAC5GA,EAAAA,IAAAA,EAAAA,OAAAA,IAA4EA,EAAAA,IAAAA,EAAAA,WAAOA,EAAAA,M,0CAUnFA,EAAAA,IAAAA,EAAAA,SAAAA,IAA6EA,EAAAA,IAAC,SAADA,WAAAA,EAAAA,IAAC,GAAD,2CAASA,EAAAA,IAAAA,EAAAA,MAAAA,GAAe,IAAEA,EAAAA,IAAAA,EAAAA,SAAKA,EAAAA,K,yBAC5GA,EAAAA,IAAAA,EAAAA,OAAAA,IAA4EA,EAAAA,IAAAA,EAAAA,WAAOA,EAAAA,M,2BApBvFA,EAAAA,IAAAA,GACEA,EAAAA,IAAAA,EAAAA,MAAAA,IACEA,EAAAA,IAAAA,EAAAA,MAAAA,IACAA,EAAAA,IAAAA,EAAAA,OAAAA,IAAmBA,EAAAA,IAAAA,GAAmBA,EAAAA,MACtCA,EAAAA,IAAAA,EAAAA,OAAAA,IAAkBA,EAAAA,IAAAA,EAAAA,WAAYA,EAAAA,IAAAA,EAAAA,IAAAA,IAAiBA,EAAAA,IAAAA,GAA8BA,EAAAA,KAAAA,GAC7EA,EAAAA,IAAAA,EAAAA,OAAAA,IAA8EA,EAAAA,IAAAA,GAAAA,WAAYA,EAAAA,IAAAA,GAAAA,IAAAA,IAAiBA,EAAAA,IAAAA,IAAyCA,EAAAA,KAAAA,GACpJA,EAAAA,IAAAA,GAAAA,OAAAA,IAAqBA,EAAAA,IAAAA,GAAAA,iBAAkBA,EAAAA,IAAAA,GAAAA,IAAAA,IAAiBA,EAAAA,IAAAA,IAAuCA,EAAAA,KAAAA,GAC/FA,EAAAA,IAAAA,GAAAA,OAAAA,IAAuBA,EAAAA,IAAAA,GAAAA,cAAeA,EAAAA,IAAAA,GAAAA,IAAAA,IAAiBA,EAAAA,IAAAA,IAA8BA,EAAAA,KAAAA,GACrFA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,SAAAA,IACAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,OAAAA,IACFA,EAAAA,MACAA,EAAAA,IAAAA,GAAAA,MAAAA,GAAAA,CAAsC,aAElCA,EAAAA,IAAAA,GAAAA,MAAAA,IACAA,EAAAA,IAAAA,GAAAA,OAAAA,IAAmBA,EAAAA,IAAAA,IAAmBA,EAAAA,MACtCA,EAAAA,IAAAA,GAAAA,OAAAA,IAAkBA,EAAAA,IAAAA,GAAAA,WAAYA,EAAAA,IAAAA,GAAAA,IAAAA,IAAiBA,EAAAA,IAAAA,IAA8BA,EAAAA,KAAAA,GAC7EA,EAAAA,IAAAA,GAAAA,OAAAA,IAA8EA,EAAAA,IAAAA,GAAAA,WAAYA,EAAAA,IAAAA,GAAAA,IAAAA,IAAiBA,EAAAA,IAAAA,IAAyCA,EAAAA,KAAAA,GACpJA,EAAAA,IAAAA,GAAAA,OAAAA,IAAqBA,EAAAA,IAAAA,GAAAA,iBAAkBA,EAAAA,IAAAA,GAAAA,IAAAA,IAAiBA,EAAAA,IAAAA,IAAuCA,EAAAA,KAAAA,KAEjGA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,SAAAA,IACAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,OAAAA,IACFA,EAAAA,MACFA,EAAAA,O,mCApBsBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,MAAAA,EAAAA,KAAAA,EAAAA,KAAAA,GAAAA,EAAAA,KACCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,MAC4BA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,UAAAA,MAAAA,EAAAA,KAAAA,EAAAA,MACvBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,cAAAA,EAAAA,UAAAA,EAAAA,YAAmFA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,MAAAA,MAAAA,EAAAA,KAAAA,EAAAA,WAAAA,QACnDA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,UAAAA,MAAAA,EAAAA,KAAAA,EAAAA,eACDA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,MAAAA,EAAAA,KAAAA,EAAAA,gBAC9CA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,MAAAA,EAAAA,KAAAA,EAAAA,YAAAA,MAAAA,EAAAA,cAAAA,KAAAA,EAAAA,cAAAA,WACcA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,MAAAA,EAAAA,KAAAA,EAAAA,YAAAA,MAAAA,EAAAA,cAAAA,KAAAA,EAAAA,cAAAA,WAIHA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,MAAAA,EAAAA,KAAAA,EAAAA,KAAAA,GAAAA,EAAAA,KACCA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,MAC4BA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,UAAAA,MAAAA,EAAAA,KAAAA,EAAAA,MACvBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,cAAAA,EAAAA,UAAAA,EAAAA,YAAmFA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,MAAAA,MAAAA,EAAAA,KAAAA,EAAAA,WAAAA,QACnDA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,EAAAA,UAAAA,MAAAA,EAAAA,KAAAA,EAAAA,eAEjDA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,MAAAA,EAAAA,KAAAA,EAAAA,YAAAA,MAAAA,EAAAA,cAAAA,KAAAA,EAAAA,cAAAA,WACcA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,MAAAA,EAAAA,KAAAA,EAAAA,YAAAA,MAAAA,EAAAA,cAAAA,KAAAA,EAAAA,cAAAA,U,ECvB3B,MAAO0iB,GAQXllB,YACSmlB,EACA5B,EACAxG,EACAqI,EACCC,EACApP,GALD,KAAAkP,gBAAAA,EACA,KAAA5B,OAAAA,EACA,KAAAxG,cAAAA,EACA,KAAAqI,uBAAAA,EACC,KAAAC,eAAAA,EACA,KAAApP,eAAAA,EAZV,KAAA8E,cAAgB,KAChB,KAAAuK,cAAwB,GACxB,KAAAC,iBAAkB,EAClB,KAAAxF,WAAa,EACL,KAAA1J,cAA8B,IAAIhW,EAAAA,EAUxCC,KAAK+V,cAAcG,IACjBlW,KAAK2V,eAAe8E,cAAcva,WAAWua,IACvCza,KAAKya,gBAAkBA,IACzBza,KAAKya,cAAgBA,EACrBza,KAAKyf,WAAazf,KAAKya,cAAgBza,KAAKya,cAAcgF,WAAa,IAAU,EACjFzf,KAAK+V,cAAcG,IACjBlW,KAAK6kB,gBAAgBK,UAAU5K,MAAK6K,EAAAA,GAAAA,GAAK,IAAIjlB,WAAW+hB,IACtDjiB,KAAKklB,UAAYllB,KAAKga,OAAOiI,EAAE,K,KAOzCjiB,KAAK+V,cAAcG,IACjBlW,KAAK6kB,gBAAgBK,UAAUhlB,WAAW+hB,IACxCjiB,KAAKyf,WAAazf,KAAKya,cAAgBza,KAAKya,cAAcgF,WAAa,IAAU,EACjFzf,KAAKklB,UAAYllB,KAAKga,OAAOiI,EAAE,IAGrC,CAEArhB,WAAkB,CAElBC,cACEb,KAAK+V,cAAcjV,aACrB,CAEAkZ,OAAOkL,GACL,GAAIA,GAAWpU,OAAQ,CACrB,MAAMsU,EAAMF,EAAUlL,QAAQiI,IAC5B,IACE,GACEA,EAAEoD,cAAgB,IACM,IAAxBpD,EAAEqD,mBACFrD,EAAEsD,cAAgBvlB,KAAKyf,YACL,aAAlBwC,EAAEuD,aACkB,WAApBvD,EAAEwD,eACkB,SAApBxD,EAAEwD,cAEF,OAAOxD,C,CAET,MACA,M,KAGEyD,EAAKN,EAAIpL,QAAQiI,GAAMA,EAAE0D,UAAY3lB,KAAKyf,aAAYxP,MAAK,CAACC,EAAGC,IAAMA,EAAEwV,UAAYzV,EAAEyV,YAE3F,MAAO,IADIP,EAAIpL,QAAQiI,GAAMA,EAAE0D,WAAa3lB,KAAKyf,aAAYxP,MAAK,CAACC,EAAGC,IAAMA,EAAEkV,aAAenV,EAAEmV,kBAC7EK,GAAIzV,MAAK,CAAC1B,EAAGM,IAAON,EAAEkI,UAAYzW,KAAKya,eAAemL,UAAY,EAAI/W,IAAM7O,KAAKya,eAAemL,SAAW,EAAI,G,CAEnI,MAAO,EACT,CACAC,MAAMD,GACqB,KAArBA,EAASnP,SAAmBzW,KAAK8kB,uBAAuBgB,uBAAuBF,EAASnP,UAAYmP,EAASnP,UAAYzW,KAAKya,cAAchE,QAC9IhX,EAAAA,EAAeQ,aAAamD,KAAK,CAC/BvD,KAAM,mBACNW,KAAMolB,IAGR5lB,KAAK+kB,eAAelgB,SAAS,0BAA0B+gB,GAAUnP,UAErE,CAEAsP,MAAMC,GACJ,OAAOzI,KAAKwI,MAAMxkB,OAAOykB,IAAMjV,UACjC,CAEAkV,UAAUD,GACR,OAAOnV,YAA0B,IAAdtP,OAAOykB,IAAYhV,QAAQ,IAAID,WAAa,GACjE,CAEAmV,eACElmB,KAAKilB,iBAAkBjlB,KAAKilB,eAC9B,CAAC,+B,cAzFUL,IAAqB,iG,KAArBA,GAAqB/iB,UAAAA,CAAAA,CAAAA,sBAAAC,MAAAA,GAAAC,KAAAA,EAAA6J,OAAAA,CAAAA,CAAAA,EAAAA,cAAAA,iBAAAA,CAAAA,EAAAA,WAAAA,CAAAA,EAAAA,cAAAA,UAAAA,CAAAA,EAAAA,cAAAA,YAAAA,CAAAA,EAAAA,cAAAA,CAAAA,EAAAA,WAAAA,QAAAA,CAAAA,MAAAA,4CAAAA,CAAAA,EAAAA,WAAAA,WAAAA,CAAAA,EAAAA,SAAAA,OAAAA,EAAAA,SAAAA,CAAAA,QAAAA,cAAAA,EAAAA,QAAAA,EAAAA,QAAAA,CAAAA,EAAAA,QAAAA,CAAAA,EAAAA,cAAAA,QAAAA,CAAAA,EAAAA,QAAAA,WAAAA,CAAAA,EAAAA,UAAAA,CAAAA,cAAAA,uBAAAA,EAAAA,UAAAA,iBAAAA,CAAAA,EAAAA,SAAAA,EAAAA,SAAAA,CAAAA,EAAAA,WAAAA,WAAAA,WAAAA,CAAAA,EAAAA,OAAAA,EAAAA,OAAAA,CAAAA,EAAAA,QAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,SAAAA,CAAAA,EAAAA,aAAAA,CAAAA,EAAAA,UAAAA,CAAAA,EAAAA,YAAAA,CAAAA,QAAAA,SAAAA,EAAAA,QAAAA,EAAAA,QAAAA,CAAAA,QAAAA,UAAAA,EAAAA,QAAAA,CAAAA,EAAAA,WAAAA,WAAAA,UAAAA,CAAAA,EAAAA,cAAAA,SAAAA,CAAAA,EAAAA,YAAA5J,SAAAA,SAAAA,EAAAA,GAAA,MDhBlCE,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAAuC,UAAvCA,CAAuC,UAAvCA,CAAuC,UAAvCA,CAAuC,QAAvCA,CAAuC,cAIsDA,EAAAA,IAAAA,EAAAA,MAAAA,GAChCA,EAAAA,IAAAA,EAAAA,QAAIA,EAAAA,KAAAA,GACzDA,EAAAA,IAAAA,EAAAA,MAAIA,EAAAA,IAAAA,EAAAA,WAAOA,EAAAA,MACXA,EAAAA,IAAAA,GAAAA,MAAAA,EAAAA,CAA8B,aAA0BA,EAAAA,IAAC,SAADA,WAAA,OAAS2J,EAAAA,cAAc,IAAE3J,EAAAA,IAAAA,GAAAA,sBAAkBA,EAAAA,MAAOA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,OAAAA,GAE1GA,EAAAA,MACAA,EAAAA,IAAAA,GAAAA,GAAAA,EAAAA,EAAAA,eAAAA,IAMFA,EAAAA,KAAAA,GAEFA,EAAAA,IAAAA,GAAAA,MAAAA,IACEA,EAAAA,IAAAA,GAAAA,GAAAA,GAAAA,GAAAA,eAAAA,IAuBFA,EAAAA,KAAAA,M,MAtCOA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,aAAAA,aAAAA,MAAAA,EAAAA,cAAAA,KAAAA,EAAAA,cAAAA,UAIEA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,SAAAA,MAAAA,EAAAA,WAAAA,EAAAA,UAAAA,SAEUA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,iBASkBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,W,whdEZzC,MAAMikB,GAAiB,CACrB,CAAEC,KAAM,WAAYC,UAAWxD,IAC/B,CAAEuD,KAAM,oBAAqBC,UAAWrD,IACxC,CAAEoD,KAAM,mBAAoBC,UAAWzB,IACvC,CAAEwB,KAAM,WAAYC,UAAWC,GAAAA,IAO3B,MAAOC,GAAqB,+B,cAArBA,GAAqB,4B,KAArBA,KAAqB,0B,SAHtBC,EAAAA,GAAaC,SAASN,IACtBK,EAAAA,M,4BCsGN,MAAOE,GAAc,+B,cAAdA,GAAc,4B,KAAdA,KAAc,0B,UAFd,CAACC,GAAAA,EAAsBC,GAAAA,EAAcC,EAAAA,EAAiBC,GAAAA,GAAgBC,QAAAA,CAzBvEC,EAAAA,GAAcT,GAAuBU,EAAAA,GAAkBC,EAAAA,M,8KC5E7DhlB,EAAAA,IAAAA,EAAAA,OAAAA,IACEA,EAAAA,IAAAA,GACFA,EAAAA,O,qBADEA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,IAAAA,EAAAA,YAAAA,I,uCCJF,MAAOokB,EAKX5mB,YACU4C,EACA6kB,EACArC,EACAtP,GAHA,KAAAlT,eAAAA,EACA,KAAA6kB,iBAAAA,EACA,KAAArC,uBAAAA,EACA,KAAAtP,UAAAA,EANV,KAAA4R,YAAc,GACN,KAAArR,cAA8B,IAAIhW,EAAAA,CAMvC,CAEHa,WAAkB,CAClBC,cACEb,KAAK+V,cAAcjV,aACrB,CACAumB,WAEE,GADArnB,KAAKonB,YAAcpnB,KAAKsnB,cACnBtnB,KAAKonB,YAAa,CACrB,MAAMziB,EAAM3E,KAAK2E,IACX4iB,EAASvnB,KAAKunB,OACpBvnB,KAAK2E,IAAM,GACX3E,KAAKunB,OAAS,GACdvnB,KAAK+V,cAAcG,IACjBlW,KAAKmnB,iBAAiBE,SAAS1iB,EAAK4iB,GAAQrnB,WACzCsnB,IACC,GAAIA,EAAIC,QACFD,EAAIE,QAAQtR,OACdpW,KAAK+V,cAAcG,IACjBlW,KAAKwV,UAAU3K,IAAI,qCAAqC3K,WACrDynB,GAAgB3nB,KAAKsC,eAAeslB,WAAWD,MAIpD3nB,KAAK+V,cAAcG,IACjBlW,KAAKwV,UAAU3K,IAAI,kCAAkC3K,WAClDynB,GAAgB3nB,KAAKsC,eAAeulB,WAAWF,UAIjD,CACL,IAAIzkB,EAAe,GAEjBA,EAD6B,iBAApBskB,EAAIE,QAAQI,IACN,aAAeN,EAAIE,QAAQI,IAE3B,aAAevgB,KAAKC,UAAUggB,EAAIE,QAAQI,KAE3D9nB,KAAKsC,eAAeuC,SAAS3B,GAC7Be,QAAQI,IAAIkD,KAAKC,UAAUggB,EAAIE,QAAQI,K,KAG1CC,IACC/nB,KAAK+V,cAAcG,IACjBlW,KAAKwV,UAAU3K,IAAI,kCAAkC3K,WAClDynB,IACC,IAAIzkB,EAAe,GACnB,MAAM8kB,EAAiBL,EAErBzkB,EAD6B,iBAApB6kB,EAAIL,QAAQI,IACNE,EAAiB,IAAMD,EAAIL,QAAQI,IAEnCE,EAEjBhoB,KAAKsC,eAAeuC,SAAS3B,EAAa,KAIhDe,QAAQI,IAAIkD,KAAKC,UAAUugB,GAAK,I,CAK1C,CACAT,aACE,OAAKtnB,KAAK8kB,uBAAuBrO,QAAQzW,KAAK2E,KAElC3E,KAAK8kB,uBAAuBmD,KAAKjoB,KAAKunB,QAG3C,GAFE,2BAFA,0BAKX,CAAC,+B,cA/EUjB,GAAiB,yE,KAAjBA,EAAiBzkB,UAAAA,CAAAA,CAAAA,iBAAAC,MAAAA,GAAAC,KAAAA,EAAA6J,OAAAA,CAAAA,CAAAA,eAAAA,OAAAA,CAAAA,EAAAA,cAAAA,QAAAA,CAAAA,aAAAA,WAAAA,EAAAA,SAAAA,CAAAA,EAAAA,WAAAA,QAAAA,CAAAA,MAAAA,4CAAAA,CAAAA,EAAAA,cAAAA,QAAAA,CAAAA,EAAAA,eAAAA,CAAAA,OAAAA,OAAAA,OAAAA,OAAAA,EAAAA,OAAAA,EAAAA,UAAAA,cAAAA,iBAAAA,CAAAA,EAAAA,SAAAA,OAAAA,EAAAA,SAAAA,CAAAA,QAAAA,kBAAAA,EAAAA,QAAAA,CAAAA,EAAAA,cAAAA,QAAA5J,SAAAA,SAAAA,EAAAA,GAAA,MDZ9BE,EAAAA,IAAAA,EAAAA,OAAAA,EAAAA,CAAyB,UAAzBA,CAAyB,QAAzBA,CAAyB,cAE0DA,EAAAA,IAAAA,EAAAA,MAAAA,GAC1BA,EAAAA,IAAAA,EAAAA,QAAIA,EAAAA,KAAAA,GACzDA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,CAA8B,QAE1BA,EAAAA,IAAAA,EAAAA,kCACFA,EAAAA,MACAA,EAAAA,IAAAA,EAAAA,IAAAA,GAAuBA,EAAAA,IAAAA,GAAAA,sHACEA,EAAAA,MACzBA,EAAAA,IAAAA,GAAAA,OAAAA,GAA0BA,EAAAA,IAAAA,GAAAA,wBAAoBA,EAAAA,MAC9CA,EAAAA,IAAAA,GAAAA,QAAAA,GAA4CA,EAAAA,IAAAA,iBAAAA,SAAAA,GAAA,kBAA5CA,EAAAA,MACAA,EAAAA,IAAAA,GAAAA,OAAAA,GAA0BA,EAAAA,IAAAA,GAAAA,wBAAoBA,EAAAA,MAC9CA,EAAAA,IAAAA,GAAAA,QAAAA,GAA4CA,EAAAA,IAAAA,iBAAAA,SAAAA,GAAA,qBAA5CA,EAAAA,MACAA,EAAAA,IAAAA,GAAAA,SAAAA,GAA4BA,EAAAA,IAAC,SAADA,WAAA,OAAS2J,EAAAA,UAAU,IAAE3J,EAAAA,IAAAA,GAAAA,YAAQA,EAAAA,MACzDA,EAAAA,IAAAA,GAAAA,EAAAA,EAAAA,EAAAA,OAAAA,GAGFA,EAAAA,KAAAA,M,MAhByBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,QAAAA,EAAAA,IAAAA,EAAAA,IASqBA,EAAAA,IAAAA,IAAAA,EAAAA,IAAAA,UAAAA,EAAAA,IAAAA,CAAiB,wBAEjBA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,UAAAA,EAAAA,OAAAA,CAAoB,sBAEzDA,EAAAA,IAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,a,21oBEmBN,IAAKgmB,EAOX,MAPD,SAAYA,GACVA,EAAAA,EAAAA,aAAAA,GAAAA,eACAA,EAAAA,EAAAA,eAAAA,GAAAA,iBACAA,EAAAA,EAAAA,eAAAA,GAAAA,iBACAA,EAAAA,EAAAA,aAAAA,GAAAA,eACAA,EAAAA,EAAAA,SAAAA,GAAAA,WACAA,EAAAA,EAAAA,qBAAAA,GAAAA,sBACD,CAPD,CAAYA,IAAAA,EAAU,KAAVA,GAOX,GACWC,EAIX,MAJD,SAAYA,GACVA,EAAAA,EAAAA,aAAAA,GAAAA,eACAA,EAAAA,EAAAA,SAAAA,GAAAA,WACAA,EAAAA,EAAAA,qBAAAA,GAAAA,sBACD,CAJD,CAAYA,IAAAA,EAAkB,KAAlBA,GAIX,GAuEWtP,EAIX,MAJD,SAAYA,GACVA,EAAAA,EAAAA,IAAAA,GAAAA,MACAA,EAAAA,EAAAA,WAAAA,GAAAA,aACAA,EAAAA,EAAAA,KAAAA,GAAAA,MACD,CAJD,CAAYA,IAAAA,EAAiB,KAAjBA,GAIX,E,s7BCvHD,MAAMuP,EAAS,CACbC,IAAK,IAAIC,WAAW,CAAC,EAAG,IAAK,MAC7BC,IAAK,IAAID,WAAW,CAAC,EAAG,IAAK,MAC7BE,IAAK,IAAIF,WAAW,CAAC,EAAG,IAAK,MAC7BG,KAAM,IAAIH,WAAW,CAAC,GAAI,GAAI,GAAI,MAClCI,KAAM,IAAIJ,WAAW,CAAC,GAAI,IAAK,GAAI,IACnCK,MAAO,IAAIL,WAAW,CAAC,EAAG,IAAK,IAAK,IAAK,KACzCM,IAAK,IAAIN,WAAW,CAAC,EAAG,IAAK,KAC7BjL,EAAG,IAAIiL,WAAW,CAAC,EAAG,MACtBO,EAAG,IAAIP,WAAW,CAAC,EAAG,KACtBQ,GAAI,IAAIR,WAAW,CAAC,EAAG,GAAI,KAC3BS,IAAK,IAAIT,WAAW,CAAC,EAAG,GAAI,MAC5BU,KAAM,IAAIV,WAAW,CAAC,EAAG,IAAK,IAAK,KACnCW,KAAM,IAAIX,WAAW,CAAC,GAAI,IAAK,IAAK,OAGhCY,EAAW,CAAC/Y,EAAegZ,EAAKb,WAAWzgB,KAAK,CAAC,OACrD,MAAMuhB,EAAI,IAAId,WAAWa,EAAGrY,OAASX,EAAEW,QAGvC,OAFAsY,EAAEzb,IAAIwb,GACNC,EAAEzb,IAAIwC,EAAGgZ,EAAGrY,QACLsY,CAAC,EAGJC,EAAYC,GACThB,WAAWzgB,KAChByhB,EAAIrN,MAAM,gBAAgB5K,KAAI,SAAUkY,GACtC,OAAO/P,SAAS+P,EAAG,GACrB,KAIEC,EAAYC,IAChB,MAAMC,EAAYpB,WAAWzgB,KAAK4hB,GAChCE,EAAW,GACb,IAAK,IAAInf,EAAI,EAAGA,EAAIkf,EAAU5Y,OAAQtG,IAAK,CACzC,MACMof,GAAa,KADPF,EAAUlf,GAAGuG,SAAS,KACH/F,OAAO,GACtC2e,EAASE,KAAKD,E,CAEhB,OAAOD,EAAS7K,KAAK,GAAG,EAGpBgL,EAAe,CAACpC,EAAqBqC,KACzC,MAAM7M,EAAI,IAAIoL,WAAWyB,EAAQjZ,OAAS4W,EAAQ5W,QAGlD,OAFAoM,EAAEvP,IAAIoc,GACN7M,EAAEvP,IAAI+Z,EAASqC,EAAQjZ,QAChBkZ,EAAAA,OAAiBC,EAAOpiB,KAAK2hB,EAAStM,GAAI,OAAO,EAGpDgN,EAAe,CAACC,EAAaJ,KACjC,IAAI7M,EAAI8M,EAAAA,OAAiBG,GAEzB,OADAjN,EAAIA,EAAElS,MAAM+e,EAAQjZ,QACboM,CAAC,EAGJkN,EAAWd,GACRQ,EAAaT,EAASC,EAAIte,MAAM,EAAG,KAAMod,EAAOK,M,qCCpDzD,MAAM4B,EAAoB,CAACC,EAAsBlC,KAC/C,IACE,IAAImC,EACJ,QAAID,EAAatf,MAAM,EAAGod,EAAOtX,UAAYsX,IAAUjb,OAAOqd,UAAUC,eAAeC,KAAKC,EAASvC,MACnGmC,EAAYI,EAAQvC,GAItB8B,EAAaI,EAAcC,IACpB,E,CACP,MACA,OAAO,C,GAILK,EAAwBnU,GACrBA,GAA8B,KAAnBA,EAAQ3F,SAAkBuZ,EAAkB5T,EAAS,QAAU4T,EAAkB5T,EAAS,QAAU4T,EAAkB5T,EAAS,QAG7IoU,EAAwBpU,GACrBA,GAA8B,KAAnBA,EAAQ3F,QAAiBuZ,EAAkB5T,EAAS,OAGlEqU,EAAgBrU,GACbmU,EAAqBnU,IAAYoU,EAAqBpU,GAGzDsU,EAAsB3U,GACD,KAAlBA,EAAOtF,QAAiBuZ,EAAkBjU,EAAQ,KAGrD4U,EAAkBC,GACfA,GAAoB,KAAdA,EAAGna,QAAiBuZ,EAAkBY,EAAI,QAGnDC,EAAkBC,GACfA,GAAoB,KAAdA,EAAGra,QAAiBuZ,EAAkBc,EAAI,QAGnDC,EAAmB,CAACC,EAAgB,MACxC,IAAiD,IAA7C,CAAC,GAAI,GAAI,GAAI,IAAIC,QAAQD,GAC3B,OAAOE,EAAAA,GAAwC,GAAhBF,EAAsB,GAErD,MAAM,IAAIjhB,MAAM,uB,EAIdohB,EAAiBC,GACdF,EAAAA,GAAuBE,GAG1BC,EAAiB,CAACD,EAAkBE,EAAa,GAAIC,GAAY,KACrE,IAAKJ,EAAcC,GACjB,MAAM,IAAIrhB,MAAM,mBAElB,OAAOmhB,EAAAA,GAAyBE,EAAUE,GAAY3gB,MAAM,EAAG4gB,EAAY,GAAK,GAAG,EAG/EC,EAAqBJ,IACzB,IAAKD,EAAcC,GACjB,MAAM,IAAIrhB,MAAM,mBAElB,OAAOif,EAASkC,EAAAA,GAAwBE,GAAU,EAG9CK,EAAqBC,GAClBR,EAAAA,GAAwB/B,EAASuC,IAGpCC,EAAiBC,IACrB,IAAKA,GAA0B,KAAhBA,EAAKnb,QAAiC,KAAhBmb,EAAKnb,OACxC,MAAM,IAAI1G,MAAM,gBAElB,MAAM8hB,EAAUC,EAAAA,KAASD,QAAQE,SAASH,GAC1C,MAAO,CACLd,GAAIrB,EAAaoC,EAAQG,UAAW1B,EAAQjC,MAC5CuC,GAAInB,EAAaoC,EAAQI,UAAW3B,EAAQlC,MAC5C9jB,IAAKmlB,GAAayC,EAAAA,EAAAA,SAAQL,EAAQI,UAAW,KAAM,IAAK3B,EAAQtC,KACjE,EAGGmE,EAAsBrB,IAC1B,IAAKD,EACH,MAAM,IAAI9gB,MAAM,sBAElB,MAAM8hB,EAAUC,EAAAA,KAASD,QAAQO,cAAcvC,EAAaiB,EAAIR,EAAQjC,OACxE,MAAO,CACLyC,GAAIrB,EAAaoC,EAAQG,UAAW1B,EAAQjC,MAC5CuC,GAAInB,EAAaoC,EAAQI,UAAW3B,EAAQlC,MAC5C9jB,IAAKmlB,GAAayC,EAAAA,EAAAA,SAAQL,EAAQI,UAAW,KAAM,IAAK3B,EAAQtC,KACjE,EAGGqE,EAAwB,CAACC,EAAkBzP,EAAI,KACnD,MAAM5G,GAAOiW,EAAAA,EAAAA,SAAQrD,EAASG,EAASsD,IAAY,KAAM,IACnDxZ,EAAQ,IAAImV,WAAW,CAAC,EAAG,EAAG,EAAGpL,IACjC0P,GAAQL,EAAAA,EAAAA,SAAQrD,EAAS/V,EAAOmD,GAAO,KAAM,IACnD,OAAOwT,EAAa8C,EAAOjC,EAAQ5B,IAAI,EAGnC8D,EAAgBpW,IACpB,GAAKqU,EAAarU,GAEX,IAA4B,OAAxBA,EAAQzL,MAAM,EAAG,GAC1B,MAAO,KAAOwe,EAASU,EAAazT,EAASkU,EAAQ5B,MAAQ,KACxD,GAA4B,QAAxBtS,EAAQzL,MAAM,EAAG,GAC1B,MAAO,OAASwe,EAASU,EAAazT,EAASkU,EAAQtC,MAClD,GAA4B,QAAxB5R,EAAQzL,MAAM,EAAG,GAC1B,MAAO,OAASwe,EAASU,EAAazT,EAASkU,EAAQpC,MAClD,GAA4B,QAAxB9R,EAAQzL,MAAM,EAAG,GAC1B,MAAO,OAASwe,EAASU,EAAazT,EAASkU,EAAQnC,MAEvD,MAAM,IAAIpe,MAAM,sB,CAVhB,MAAM,IAAI0iB,UAAU,kB,EAclBC,EAAO,CAACC,EAAe7B,KAC3B,MAAM7U,GAAOiW,EAAAA,EAAAA,SAAQrD,EAASG,EAAS2D,IAAS,KAAM,IAChDpE,EAAMuD,EAAAA,KAASc,SAAS3W,EAAM4T,EAAaiB,EAAIR,EAAQjC,OAG7D,MAAO,CACLsE,QACApE,MACAD,MALYmB,EAAalB,EAAK+B,EAAQhC,OAMtCuE,OALaF,EAAQxD,EAASZ,GAM/B,EAGGuE,EAAWlC,IACf,IAAKD,EAAeC,GAClB,MAAM,IAAI7gB,MAAM,sBAElB,MAAMgjB,EAAYlD,EAAae,EAAIN,EAAQlC,MAC3C,OAAOqB,GAAayC,EAAAA,EAAAA,SAAQa,EAAW,KAAM,IAAKzC,EAAQtC,IAAI,E,iCC1HhE,MAAMgF,EAAa,CAACC,EAAiB1b,KACnC,MAAM2b,GAAOC,EAAAA,EAAAA,MAAaF,EAAS1b,GACnC,MAAO,CACL6b,WAAYF,EAAKviB,MAAM,EAAG,IAC1B0iB,UAAWH,EAAKviB,MAAM,IACvB,EAWG2iB,EAAkB,CAACC,EAAYza,KACnC,MAAM0a,EAAmB5D,EAAO6D,YAAY,GAC5CD,EAASE,cAAc5a,EAAO,GAC9B,MAAMma,EAAkBrD,EAAO+D,OAAO,CAAC/D,EAAOgE,MAAM,EAAG,GAAIhE,EAAOpiB,KAAK+lB,EAAKH,YAAaI,IACzF,OAAOR,EAAWC,EAASrD,EAAOpiB,KAAK+lB,EAAKF,WAAW,EAiBnD1B,EAAgB,CAACC,EAAciC,KACnC,MAAMC,EAfuBD,KAE7B,KADAA,EAAiBA,EAAe5hB,QAAQ,KAAM,IAAIA,QAAQ,KAAM,MAC5C2P,MAAM,gCACxB,MAAM,IAAI7R,MAAM,+FAElB,OAAO8jB,EAAe/V,MAAM,KAAK9G,KAAK+c,IAEpC,GADAA,EAAQA,EAAMpjB,MAAM,GAAI,GACpBzJ,OAAO6sB,IAAU7sB,OAAO,cAC1B,MAAM,IAAI6I,MAAM,0CAElB,OAAO7I,OAAO6sB,GAAS7sB,OAAO,aAAa,GAC3C,EAIgB8sB,CAAsBH,GACxC,IAAIN,EA/BkB3B,KACtB,GAAoB,KAAhBA,EAAKnb,OACP,MAAM,IAAI1G,MAAM,qBAElB,MAAMkkB,EAAkBrE,EAAOpiB,KAAK,gBACpC,OAAOwlB,EAAWpB,EAAMqC,EAAgB,EA0B7BC,CAAetC,GAC1B,IAAK,MAAM9Y,KAASgb,EAClBP,EAAOD,EAAgBC,EAAMza,GAE/B,MAAM,UAAEkZ,EAAS,UAAEC,GAAcH,EAAAA,KAASD,QAAQE,SAASnC,EAAOpiB,KAAK+lB,EAAKH,aAC5E,MAAO,CACLtC,GAAIrB,EAAauC,EAAW1B,EAAQjC,MACpCuC,GAAInB,EAAawC,EAAW3B,EAAQlC,MACpC9jB,IAAKmlB,GAAayC,EAAAA,EAAAA,SAAQD,EAAW,KAAM,IAAK3B,EAAQtC,KACzD,EAGGmG,EAA0B,CAACvC,EAAcwC,IACtCzC,EAAcC,EAAM,aAAawC,SCjD1C,SAASC,EAAcjD,GACrB,IAAIkD,EAAkB,EACtB,GAAmC,KAA/BlD,EAAStT,MAAM,KAAKrH,OACtB,MAAM,IAAI1G,MAAM,kBAElBohB,EAAcC,IAAYkD,IAC1B,MAAMC,EAAQnD,EAAStT,MAAM,KAI7B,GAHAyW,EAAM,IAxBR,SAAwBC,GACtB,MAAMC,EAA+C,CAAC,EACtDvD,EAAAA,GAAgBwD,QAAQjlB,SAAQ,CAAC+kB,EAAM1b,IAAW2b,EAAqBD,GAAQ1b,IAC/E,MAAMA,EAAQ2b,EAAqBD,GACnC,QAAcxuB,IAAV8S,EACF,MAAM,IAAI/I,MAAM,yBAElB,MAAM4kB,EAAe7b,EAAQ,IACvB8b,EAAW9b,EAAQ6b,GAAiBA,EAAe,KAAO,IAChE,OAAOzD,EAAAA,GAAgBwD,QAAQE,EACjC,CAccC,CAAeN,EAAM,KACjCnD,EAAWmD,EAAM9P,KAAK,KACtB0M,EAAcC,IAAYkD,IACF,IAApBA,EACF,MAAM,IAAIvkB,MAAM,oBAElB,OAAOqhB,CACT,CACA,SAAS0D,EAAsBhE,GAC7B,MAAMY,EAAU7B,EAAaiB,EAAIR,EAAQ1B,MAEzC,OAAOyF,EADU5C,EAAkBC,GAErC,CACA,SAASqD,EAAe3D,GACtB,OAAO3B,EAAa+B,EAAkBJ,GAAWd,EAAQ1B,KAC3D,CAEA,SAASoG,EAA0B5D,GACjC,OAAOiD,EAAcjD,EACvB,CAEA,MAAMP,EAAkBC,GACfA,GAAoB,KAAdA,EAAGra,QAAiBuZ,EAAkBc,EAAI,Q,0BChDzD,MAAMmE,EAAU,IAAIC,EAAAA,GAAM,SACP,IAAIA,EAAAA,GAAM,gCAC7BD,EAAGE,QAAQ,GAAGC,OAAO,CACnBC,gBAAiB,QAGnB,MAAMC,EAAO,0BAAG,UAAOC,EAAgBJ,EAAU,GAC/C,IAAIK,GAAQ,EAcZ,aAZS,IAAIC,SAASC,IAClB,MAAMC,EAAMC,UAAU1vB,KAAKqvB,EAAQJ,GACnCQ,EAAIE,gBAAkB,KACpBF,EAAIhZ,YAAYmZ,QAChBN,GAAQ,EACRE,GAAS,EAEXC,EAAII,UAAY,KACdL,GAAS,CACV,IAGEF,CACT,IAAC,gBAhBY,sCAkBPQ,EAAU,0BAAG,UAAOze,EAAa4I,GACrC,OAAO,IAAIsV,SAASC,IACdT,EAAGI,iBAAiBJ,EAAGI,gBAAgBY,QAC3ChB,EAAGI,gBAAgBxZ,IAAI,CAAEtE,IAAKA,EAAK4I,UAASwH,MAAK,KAC/C+N,GAAS,GACT,GAEN,IAAC,gBAPe,wCAQVQ,GAAW,0BAAG,UAAO3e,GACzB,MAAM8d,QAAwBJ,EAAGI,gBAAgBc,MAAM,OAAOC,OAAO7e,GAAK8e,UAC1E,OAAIhB,GAAmBA,EAAgB5e,OAAS,EACvC4e,EAAgB,GAAGlV,MAErB,IACT,IAAC,gBANgB,sCAOXmW,GAAQ,0BAAG,UAAO/e,GACtB,OAAO,IAAIke,QAAO,0BAAC,UAAOC,EAASa,GACjC,MAAMX,EAAiBlvB,OAAkB,WAAKA,OAAqB,cAAKA,OAAwB,iBAAKA,OAAoB,aAAKA,OAAsB,cACpJ,SAAU4uB,EAAQ,gCAEhB,OADA1rB,QAAQI,IAAI,0BACL,KAET,MAAM9D,EAAO0vB,EAAU1vB,KAAK,+BAAgC,GAC5DA,EAAKswB,QAAWvT,IACdrZ,QAAQuF,MAAM8T,GACdsT,EAAOtT,EAAM,EAEf/c,EAAK6vB,UAAa9S,IAChB,MAAMgS,EAAK/uB,EAAKoD,OACVmtB,EAAKxB,EAAGtY,YAAY,CAAC,mBAAoB,aAEzCwD,EADQsW,EAAGC,YAAY,mBACTlmB,IAAI+G,GACxB4I,EAAMqW,QAAWvT,IACfrZ,QAAQuF,MAAM8T,GACdsT,EAAOtT,EAAM,EAEf9C,EAAM4V,UAAa9S,IACb9C,GAAO7W,OACTosB,EAAQvV,GAAO7W,SAEfM,QAAQuF,MAAM,2BAA2BoI,KACzCgf,I,EAGJE,EAAGE,WAAc1T,IACfgS,EAAG7uB,OAAO,CACX,CAEL,IAAC,qDAhCiB,GAiCpB,IAAC,gBAlCa,qC,+DCpCR,MAAOqmB,EACXmK,UAAUzW,GACR,OAAIA,QACKA,EAAMlO,QAAQ,KAAM,IAEpB,EAEX,CAAC,+B,cAPUwa,EAAe,6B,wBAAfA,EAAeoK,MAAAA,I,qFCItB,MAAOC,EACXzxB,YAAoB8V,GAAA,KAAAA,UAAAA,CAA8B,CAClDyb,UAAUG,GACR,MAAMC,EAAMrxB,KAAKwV,UAAU+C,QAAQ,uBAC7B+Y,EAAMtxB,KAAKwV,UAAU+C,QAAQ,mBAC7BgZ,EAAOD,EACPE,EAAKxxB,KAAKwV,UAAU+C,QAAQ,sBAC5BkZ,EAAMD,EACNE,EAAK1xB,KAAKwV,UAAU+C,QAAQ,oBAC5BoZ,EAAM3xB,KAAKwV,UAAU+C,QAAQ,qBAC7BrK,EAAMlO,KAAKwV,UAAU+C,QAAQ,mBAC7BqZ,EAAO5xB,KAAKwV,UAAU+C,QAAQ,oBAC9BsZ,EAAQ7xB,KAAKwV,UAAU+C,QAAQ,qBAC/BuZ,EAAS9xB,KAAKwV,UAAU+C,QAAQ,sBAChCwZ,EAAO/xB,KAAKwV,UAAU+C,QAAQ,oBAC9ByZ,EAAQhyB,KAAKwV,UAAU+C,QAAQ,qBAE/B0Z,GAAU,IAAIC,MAAOC,UACrBC,EAAOC,EAASjB,EAAWa,EAAS,UAEpCpgB,EAAO1E,OAAO0E,KAAKugB,GACzB,IAAIE,EAAQ,EACRC,EAAS,GAEb,IAAK,MAAM3gB,KAAOC,EAChB,GAAIugB,EAAKxgB,IAAQ0gB,EAAO,CAItB,OAHIA,IACFC,GAAkB,KAEZ3gB,GACN,IAAK,QACH2gB,EAAS,GAAGH,EAAKxgB,KAAqB,IAAdwgB,EAAKxgB,GAAamgB,EAAOC,IACjD,MACF,IAAK,SACHO,GAAkB,GAAGH,EAAKxgB,KAAqB,IAAdwgB,EAAKxgB,GAAaigB,EAAQC,IAC3D,MACF,IAAK,OACHS,GAAkB,GAAGH,EAAKxgB,KAAqB,IAAdwgB,EAAKxgB,GAAa1D,EAAM0jB,IACzD,MACF,IAAK,QACHW,GAAkB,GAAGH,EAAKxgB,KAAqB,IAAdwgB,EAAKxgB,GAAa8f,EAAKC,IACxD,MACF,IAAK,UACHY,GAAkB,GAAGH,EAAKxgB,KAAqB,IAAdwgB,EAAKxgB,GAAa4f,EAAKC,IACxD,MACF,IAAK,WACEW,EAAKI,SAAWJ,EAAKK,QAAU,GAClCF,EAASlB,EACAe,EAAKI,QAAU,IACxBD,GAAkB,GAAGH,EAAKxgB,KAAqB,IAAdwgB,EAAKxgB,GAAa0f,EAAMC,KAI/D,GAAIe,IACF,K,CAIN,OAAOC,CACT,CAAC,+B,cA3DUpB,GAAW,4C,oBAAXA,EAAWD,MAAAA,I,uNCKlB,MAAOwB,EAGXhzB,YACU+c,EACAna,EACAqwB,EACAC,EACAjtB,EACAgQ,GALA,KAAA8G,cAAAA,EACA,KAAAna,eAAAA,EACA,KAAAqwB,cAAAA,EACA,KAAAC,eAAAA,EACA,KAAAjtB,aAAAA,EACA,KAAAgQ,eAAAA,EARD,KAAAkd,gBAAkB,GACpB,KAAAC,oBAAsB,IAAInyB,EAAAA,EAAgB,KAQ9C,CACHoyB,mBAAmBpuB,GACjB,IACE,MAAMiS,EAAU5W,KAAKyc,cAAc8B,OAAOyU,WAAWruB,GACrD,OAAO3E,KAAKizB,sBAAsBrc,GAAS0D,MACzC4Y,EAAAA,EAAAA,KAAS1L,IACA2L,EAAAA,EAAAA,IAAG3L,K,CAGd,MAAOxjB,GACPC,QAAQI,IAAIL,E,CAEhB,CACAivB,sBAAsBrc,GACpB,MAAMwc,EAA0BpzB,KAAK2F,aAAaytB,gBAClD,OAAOC,EAAAA,EAAAA,GAAYrzB,KAAK4yB,eAAeU,YAAY1c,EAAQH,QAAS2c,IAAgB9Y,MAClF4Y,EAAAA,EAAAA,KAAS1yB,IACP,MAAM+yB,EAAU/yB,EAAK+yB,QACfC,EAAkBhzB,EAAKgzB,gBAAkBhzB,EAAKgzB,gBAAkB,GAGtE,OAFAxzB,KAAK2F,aAAa8tB,kBAAkBD,GACpCxzB,KAAK2F,aAAa+tB,gBAAgBlzB,GAAMib,QACpC7E,EAAQtL,QAAUioB,GAChB/yB,EAAKib,OACPzb,KAAK2zB,oBAAoB/c,EAASpW,EAAKib,QAEvCzb,KAAK2zB,oBAAoB/c,EAAS,IAE7B5W,KAAK4zB,mBAAmBhd,EAAS2c,KAEnC3c,EAAQtL,OACNsL,EAAQid,YAAejd,EAAQ6E,SAC7B7E,EAAQid,aACXjd,EAAQid,WAAa,IAElBjd,EAAQ6E,SACX7E,EAAQ6E,OAAS,IAEnBzb,KAAK2zB,oBAAoB/c,EAAS,IAClC5W,KAAKyc,cAAcqX,gBAGhBX,EAAAA,EAAAA,IAAG,CACRY,UAAU,EACV7a,QAAS1Y,GAAM0Y,QAAU1Y,EAAK0Y,QAAU,I,IAKlD,CACMya,oBAAoB/c,EAAS6E,GAAM,sCACvC,GAAIuY,MAAMC,QAAQxY,GAAS,CACzB,MAAMyY,EAA2B,GACjC,GAAKzY,EAAO3K,OAEL,CACL,IAAK,MAAMmI,KAASwC,EAClByY,EAAerK,KAAK5Q,EAAMpB,SAC1BjB,EAAQud,mBAAmBlb,EAAMpB,QAASoB,EAAMC,QAAQnI,YAE1D,MAAMqjB,EAAkBxd,EAAQyd,mBAAmBhjB,KAAK4H,GAC/CA,EAAMpB,UAEf,IAAK,MAAMA,KAAWuc,EACfF,EAAe9rB,SAASyP,IAC3BjB,EAAQud,mBAAmBtc,EAAS,I,MAXxCjB,EAAQud,mBAAmB,GAAI,IAejC,EAAKrB,oBAAoB1vB,MAAK,GAC9B,EAAKqZ,cAAcqX,a,CACpB,GArBsC,EAsBzC,CACAF,mBAAmBhd,EAAkB2c,GACnC,MAAMH,EAA0BpzB,KAAK2F,aAAaytB,gBAClD,OAAOC,EAAAA,EAAAA,GAAYrzB,KAAK4yB,eAAe0B,cAAc1d,EAAQH,QAAS2c,EAAepzB,KAAKyc,cAAc8B,SAASjE,MAC/G4Y,EAAAA,EAAAA,KAASqB,IACP,MAAMC,EAAaD,EAAKC,WAExB,GADAx0B,KAAK2F,aAAa8tB,kBAAkBc,EAAKf,iBACrCQ,MAAMC,QAAQO,GAAa,CAC7B,MAAMC,EAAgB7d,EAAQid,WACxBa,EAAiB,GACvB,GAAID,GAAiBA,EAAc3jB,OACjC,IAAK,IAAI6jB,KAAMF,EACb,GAAIE,EAAGrd,SAAW1B,EAAAA,GAAS4B,aAAemd,EAAGrd,SAAW1B,EAAAA,GAAS8B,eAAgB,CAC/E,IAAI5I,GAAO,EACX,IAAK,MAAM8lB,KAASJ,EAClB,GAAII,EAAMte,OAASqe,EAAGre,KAAM,CAC1BxH,GAAO,EACP,K,CAGAA,GACF4lB,EAAe7K,KAAK8K,E,CAK5B/d,EAAQid,WAAaa,EAAe1G,OAAOwG,GAC3C,MAAMK,EAAWje,EAAQtL,MACzBsL,EAAQtL,MAAQioB,EAChBvzB,KAAKyc,cAAcqX,cACF,KAAbe,GAEF70B,KAAK80B,oBAAoBle,EAAS6d,EAAeD,GAEnD,IAAK,MAAMne,KAAYme,EAAY,CACjC,MAAMO,EAAe/0B,KAAK+W,gBAAgBV,EAAUO,GAAS,GAC7D5W,KAAK2yB,cAAcqC,MAAMD,E,EAG7B,OAAO5B,EAAAA,EAAAA,IAAG,CACRY,UAAU,GACV,IAGR,CACAe,oBAAoBle,EAAkB6d,EAA2BQ,GAC/D,IAAK,MAAM5e,KAAY4e,EAAe,CAEpC,IAAe,IADDR,EAAchR,WAAWvT,GAAMA,EAAEoG,OAASD,EAASC,MAAQpG,EAAEoH,SAAW1B,EAAAA,GAAS2B,YAC7E,CAChB,MAAM8Z,GAAM,IAAIa,MAAOC,UAEvB,GADiBd,GAAOhb,GAAU+a,UAAY/a,EAAS+a,UAAYC,GACpD,KAAS,CAOtB,GALIhb,EAASC,MACX5U,YAAW,KACT1B,KAAK2V,eAAeQ,YAAY/S,KAAKiT,EAASC,KAAK,GAClD,GAEiB,gBAAlBD,EAASnN,MAIX,GAHI0N,EAAQH,UAAYJ,EAASM,OAAOF,SACtCzW,KAAKsC,eAAeslB,WAAWhR,EAAQse,eAAiB,UAAYl1B,KAAK2F,aAAaiS,aAAavB,EAASwB,QAASxB,EAASyB,OAAO/G,aAEnI6F,EAAQH,UAAYJ,EAASG,YAAYC,QAAS,CACpD,MAAM0e,EAAM9e,EAASwB,QAAUqa,KAAKb,MAAMtgB,WAAasF,EAASwB,QAAU,GAC1E7X,KAAKsC,eAAeslB,YACjBhR,EAAQse,eAAiB,cAAgBl1B,KAAK2F,aAAaiS,aAAavB,EAASwB,QAASxB,EAASyB,OAAO/G,aAAazE,QACtH,kBACA,cAEFjM,EACA80B,GAEE9e,EAASwB,SAA4D,OAAjD7X,KAAK2F,aAAasZ,SAAS5I,EAASwB,UAE1D7X,KAAK2V,eAAeyf,gBAAgB9a,MAAK+a,EAAAA,EAAAA,IAAUlC,EAAAA,EAAAA,KAAG,GAAM7Y,MAAKgb,EAAAA,EAAAA,GAAM,QAASp1B,WAAW+Y,IAEzF,GAAIA,GAAOnO,sBAAgCzK,IAAb4Y,EAAMpQ,GAAkB,CACpD,MAAMgP,EAAUoB,EAAMnO,gBAAkB,IAAMmO,EAAMpQ,GAAGkI,WACnDsF,EAASwB,UAAYA,GACvB7X,KAAKsC,eAAeizB,OAClB3e,EAAQse,eAAiB,cAAgBl1B,KAAK2F,aAAaiS,aAAavB,EAASwB,QAASxB,EAASyB,OAAO/G,YAC1GokB,E,UAOe,eAAlB9e,EAASnN,KAClBlJ,KAAKsC,eAAeslB,WAAWhR,EAAQse,eAAiB,sBAC7B,gBAAlB7e,EAASnN,KAClBlJ,KAAKsC,eAAeslB,WAAWhR,EAAQse,eAAiB,yBAC7B,eAAlB7e,EAASnN,MAClBlJ,KAAKsC,eAAeslB,WAAWhR,EAAQse,eAAiB,uBAE1D,MAAM3B,EAAUvzB,KAAK+W,gBAAgBV,EAAUO,GAAS,GACpD2c,GAAS9c,SACXzW,KAAK2yB,cAAcqC,MAAMzB,EAAQ9c,SAAS,E,GAKpD,CACAM,gBAAgBC,EAAuBJ,EAAkB4e,GAAa,GACpE,IAAIT,EAAe,CAAEte,QAAS,IAsB9B,OAnBIse,EAFqB,eAArB/d,EAAY9N,KACV8N,EAAYR,YACCQ,EAAYR,YAEZ,CAAEC,QAAS,IAEE,gBAArBO,EAAY9N,KACjB0N,EAAQH,UAAYO,EAAYL,OAAOF,QAC1BO,EAAYR,YAEZQ,EAAYL,OAEC,gBAArBK,EAAY9N,KACjB0N,EAAQH,UAAYO,EAAYL,OAAOF,QAC1BO,EAAYR,YAAcQ,EAAYR,YAAc,CAAEC,QAAS,IAE/DO,EAAYL,OAGd,CAAEF,QAAS,IAExB+e,EACKx1B,KAAK2yB,cAAc5C,QAAQgF,GAE3BA,CAEX,CAAC,+B,cApNUrC,GAAe,+F,MAAfA,EAAe+C,QAAf/C,EAAe,O,gGCPtB,MAAOgD,EACXh2B,YAAoB+c,EAAsCkZ,EAAsCxO,GAA5E,KAAA1K,cAAAA,EAAsC,KAAAkZ,cAAAA,EAAsC,KAAAxO,iBAAAA,CAAqC,CAErIyO,gBACE,IAAK,MAAMhf,KAAW5W,KAAKyc,cAAc8B,OAAOsX,cAC9C71B,KAAK81B,kBAAkBlf,EAE3B,CACAkf,kBAAkBlf,GAChB3S,QAAQI,IAAI,OAASuS,EAAQH,SAC7BzW,KAAKmnB,iBAAiB3H,WAAW5I,EAAQH,SAASvW,WAAWsnB,IACvDA,EAAIC,QACNznB,KAAK+1B,qBAAqBnf,EAASrV,OAAOimB,EAAIE,QAAQxO,UAEtDjV,QAAQI,IAAI,kBAAoBkD,KAAKC,UAAUggB,EAAIE,QAAQI,K,GAGjE,CACAiO,qBAAqBnf,EAAkBof,IACjCpf,GAAmC,OAAvBA,EAAQ6I,iBAA8Cpf,IAAvBuW,EAAQ6I,YAA4BuW,IAAepf,EAAQ6I,aACxG7I,EAAQ6I,WAAauW,EACrBh2B,KAAKi2B,qBACLj2B,KAAK21B,cAAcO,qBACnBl2B,KAAKyc,cAAcqX,cAEvB,CACAmC,qBACE,IAAI/c,EAAU,EACVid,GAAS,EACb,IAAK,MAAMvf,KAAW5W,KAAKyc,cAAc8B,OAAOsX,cACjB,OAAvBjf,EAAQ6I,iBAA8Cpf,IAAvBuW,EAAQ6I,aAC3CvG,GAAoB3X,OAAOqV,EAAQ6I,YACnC0W,GAAS,GAGTA,IACFn2B,KAAKyc,cAAc8B,OAAO6X,gBAAkBld,EAEhD,CAAC,+B,cAtCUwc,GAAc,8D,MAAdA,EAAcD,QAAdC,EAAc,O,0GCYrB,MAAOW,EAIX32B,YAAoB4C,EAAwCg0B,GAAxC,KAAAh0B,eAAAA,EAAwC,KAAAg0B,YAAAA,EAH5D,KAAAC,OAAuB,KACvB,KAAAC,MAAQ,GACR,KAAAC,YAAc,EACyE,CACvFjyB,iBAAiBkyB,GACf,MAAMC,EAA8BpvB,KAAKqvB,MAAMF,GAC3C12B,KAAK62B,oBAAoBF,IAC3B32B,KAAKsC,eAAew0B,cAAc,gBAAgBH,EAAS92B,qBAE/D,CACAg3B,oBAAoBF,GAClB,MAAMI,EAAYC,aAAaC,QAAQ,qCACvC,IAAIC,GAAe,EACnB,GAAIH,EAAW,CACb,MAAMP,EAAQjvB,KAAKqvB,MAAMG,GACzB,GAAIP,GAASA,EAAM1lB,OAAS,GAAK6lB,EAASrK,UACxC,IAAK,MAAM6K,KAAQX,EACjB,GAAIW,EAAK7K,WAAa6K,EAAK7K,YAAcqK,EAASrK,UAAW,CAC3D4K,GAAe,EACfjzB,QAAQI,IAAI,8BACZ,K,EAKR,OAAO6yB,CACT,CACMzyB,QAAQiyB,EAAsBU,GAAQ,GAAI,sCAC9C,MAAMT,EAAWpvB,KAAKqvB,MAAMF,GAC5BzyB,QAAQI,IAAI,WAAYsyB,SAClB,EAAKJ,OAAO9xB,QAAQkyB,EAAUS,GACpC,EAAK9T,kBACL,EAAKhhB,eAAe+0B,iBAAkB,GALQ,EAMhD,CACM/T,kBAAe,sCACnB,EAAKkT,YAAc,EAAKc,WACxB,EAAKb,kBAAoB,EAAKc,gBAAiB,GAF5B,EAGrB,CACMC,cAAW,sCACf,KAAO,EAAKhB,MAAM1lB,OAAS,SACnB,EAAK2mB,WAAW,EACvB,GAHc,EAIjB,CACMA,WAAWtkB,GAAa,sCAC5B,MAAMwjB,EAA8B,EAAKH,MAAMrjB,GACzCukB,QAAiBC,EAAAA,EAAAA,IAAYhB,EAASrK,WACtCsL,EAA2C,IAC5CjB,EACHztB,KAAM,uBACNwuB,kBAEI,EAAKnB,OAAOkB,WAAWG,SACvB,EAAKrB,OAAOsB,kBAAkBH,GACpC,EAAKpU,iBAAkB,GAVK,EAW9B,CACMwU,oBAAiB,4CACf,EAAKvB,OAAOwB,uBAClB,EAAKzU,iBAAkB,GAFF,EAGvB,CACM0U,iBAAiB7kB,GAAa,4CAC5B,EAAKojB,OAAOyB,iBAAiB,EAAKvB,YAAYtjB,GAAO8kB,mBAC3D,EAAK3U,iBAAkB,GAFW,EAGpC,CACMgU,WAAQ,sCACZ,aAAa,EAAKf,OAAOe,UAAW,GADxB,EAEd,CACMC,iBAAc,sCAClB,aAAa,EAAKhB,OAAOgB,gBAAiB,GADxB,EAEpB,CACMW,qBAAkB,sCACtB,aAAa,EAAK3B,OAAO2B,oBAAqB,GADxB,EAExB,CACMC,mBAAmB7K,GAAY,4CAC7B,EAAK8K,iBAAiBC,EAAAA,GAAgBC,kBAAmBhL,EAAS,GADrC,EAErC,CACMiL,gBAAgBjL,GAAY,4CAC1B,EAAK8K,iBAAiBC,EAAAA,GAAgBG,sBAAuBlL,EAAS,GAD5C,EAElC,CACMmL,kBAAkBnL,GAAY,4CAC5B,EAAK8K,iBAAiBC,EAAAA,GAAgBK,cAAepL,EAAS,GADlC,EAEpC,CACMqL,sBAAsBrL,GAAY,4CAChC,EAAK8K,iBAAiBC,EAAAA,GAAgBO,2BAA4BtL,EAAS,GAD3C,EAExC,CACMuL,mBAAmBvL,GAAY,4CAC7B,EAAK8K,iBAAiBC,EAAAA,GAAgBS,oBAAqBxL,EAAS,GADvC,EAErC,CACMyL,gBAAgBzL,GAAY,4CAC1B,EAAK8K,iBAAiBC,EAAAA,GAAgBW,cAAe1L,EAAS,GADpC,EAElC,CACM2L,mBAAmB3L,GAAY,4CAC7B,EAAK8K,iBAAiBC,EAAAA,GAAgBa,yBAA0B5L,EAAS,GAD5C,EAErC,CACM6L,uBAAuB7L,GAAY,4CACjC,EAAK8K,iBAAiBC,EAAAA,GAAgBe,gBAAiB9L,EAAS,GAD/B,EAEzC,CACM8K,iBAAiBiB,EAA4BC,GAAmB,sCACpE,GAAIA,EAAgB,CAClB,MAAM/uB,EAA0B,CAC9BrB,KAAMqwB,EAAAA,GAAkBnvB,MACxBivB,YACA7J,QAASgK,EAAAA,GACT3wB,GAAIywB,EAAezwB,GACnB6uB,eAAgB,EAAKnB,OAAOkD,gBAExB,EAAKlD,OAAOmD,QAAQnvB,E,CAC3B,GAVmE,EAWtE,CACMovB,yBAAyBrM,EAAchB,GAAiB,sCAC5D,MAAM/hB,EAAoC,CACxCrB,KAAMqwB,EAAAA,GAAkBK,mBACxBC,QAASvM,EAAQuM,QACjBC,OAAQxM,EAAQwM,OAChBjxB,GAAIykB,EAAQzkB,GACZyjB,UAAWA,SAEP,EAAKiK,OAAOmD,QAAQnvB,EAAU,GARwB,EAS9D,CACMwvB,0BAA0BzM,EAAc0M,GAAiB,sCAC7D,MAAMzvB,EAAqC,CACzCrB,KAAMqwB,EAAAA,GAAkBU,oBACxBpxB,GAAIykB,EAAQzkB,GACZqxB,YAAa5M,EAAQ4M,YACrBF,mBAEI,EAAKzD,OAAOmD,QAAQnvB,EAAU,GAPyB,EAQ/D,CACM4vB,eAAY,2BAChBnD,aAAaoD,QAAQ,0BAA2B,QAChDpD,aAAaqD,WAAW,0BAA2B,GAFnC,EAGlB,CAAC,+B,cAnIUhE,GAAa,oD,MAAbA,EAAaZ,QAAbY,EAAa,KAAAiE,WAFZ,S,wGCbF9pB,EAIX,MAJD,SAAYA,GACVA,EAAAA,SAAAA,YACAA,EAAAA,SAAAA,YACAA,EAAAA,iBAAAA,oBACD,CAJD,CAAYA,IAAAA,EAAU,KAAVA,GAIX,GAED,IAAIzE,EAAOC,EAAQC,EAyBb,MAAO2a,EAGXlnB,YAAoB66B,GAAA,KAAAA,qBAAAA,EAFpB,KAAA/pB,WAAaA,EACb,KAAAgqB,MAAQ,IACyD,CAE3DC,iBAAiBxsB,EAAsBhB,EAAAA,EAAYiB,KAAG,sCAC1D,IAAIwsB,QAAc,EAAKC,gCAAgC,EAAKJ,qBAAqBK,cAAgB,KAAM3sB,GACnGusB,EAAS,EAAKA,MAAS,EAAKA,MAAmG,EAAKA,YAA1F,EAAKK,+BAA+B,EAAKN,qBAAqBO,YAAa7sB,GACrH8sB,EAAW,MACf,MAAM7qB,EAAI,GACJC,EAAI,GACJ8R,EAAI,GACJ3U,EAAS,GACf,IAAI+jB,GAAM,IAAIa,MAAOC,UACjBlkB,IAAWhB,EAAAA,EAAY4kB,OACzBkJ,EAAW,MACXL,EAAQA,EAAM1vB,MAAM,EAAG,IACvBwvB,EAAQA,EAAMxvB,MAAM,EAAG,KACdiD,IAAWhB,EAAAA,EAAYiB,KAChC6sB,EAAW,KACXL,EAAQA,EAAM1vB,MAAM,EAAG,IACvBwvB,EAAQA,EAAMxvB,MAAM,EAAG,KACdiD,IAAWhB,EAAAA,EAAY+tB,MAChCD,EAAW,MACXL,EAAQA,EAAM1vB,MAAM,EAAG,KAAQgP,QAAO,CAAChW,EAAGwG,IAAMA,EAAI,GAAM,IAC1DgwB,EAAQA,EAAMxvB,MAAM,EAAG,KAAQgP,QAAO,CAAChW,EAAGwG,IAAMA,EAAI,GAAM,KACjDyD,IAAWhB,EAAAA,EAAY8kB,OAChCgJ,EAAW,QACXL,EAAQA,EAAM1vB,MAAM,EAAG,KAAKgP,QAAO,CAAChW,EAAGwG,IAAMA,EAAI,IAAO,IACxDgwB,EAAQA,EAAMxvB,MAAM,EAAG,KAAKgP,QAAO,CAAChW,EAAGwG,IAAMA,EAAI,IAAO,KAE1DkwB,EAAQA,EAAMO,UACdT,EAAQA,EAAMS,UACd,IAAK,IAAIzwB,EAAI,EAAGA,EAAIkwB,EAAM5pB,SAAUtG,EAAG,CACrC0F,EAAE2Z,KAAK,EAAIhZ,WAAW6pB,EAAMlwB,GAAG/J,QAC/B0P,EAAE0Z,KAAKhZ,WAAW6pB,EAAMlwB,GAAG/J,QACvB+5B,EAAMhwB,IAAI0wB,QACZjZ,EAAE4H,KAAKhZ,WAAW2pB,EAAMhwB,GAAG0wB,SAE7B,MAAMjkB,EAAI,IAAIib,KAAMb,GAAO0J,GACvB9sB,IAAWhB,EAAAA,EAAY4kB,MACzBvkB,EAAOuc,KAAK5S,EAAEhG,eAAe,QAAS,CAAE4gB,MAAO,UAAa,IAAM5a,EAAEkkB,WAC3DltB,IAAWhB,EAAAA,EAAYiB,IAChCZ,EAAOuc,KAAU5S,EAAEmkB,WAAa,OACvBntB,IAAWhB,EAAAA,EAAY+tB,KAChC1tB,EAAOuc,KAAK5S,EAAEhG,eAAe,QAAS,CAAE4gB,MAAO,UAAa,IAAM5a,EAAEkkB,UAAY,KAAOlkB,EAAEmkB,WAAa,GAAK,OAClGntB,IAAWhB,EAAAA,EAAY8kB,MAChCzkB,EAAOuc,KAAK5S,EAAEhG,eAAe,QAAS,CAAE4gB,MAAO,UAAa,IAAM5a,EAAEkkB,U,CAGxE,MAAME,EAAuB,CAC3BvpB,QAAQ,EACRO,gBAAiB,SAAUC,GACzB,MAAMtE,EAAQsE,EAAQtE,OAChB,IAAEnC,EAAG,UAAEM,GAAc6B,EAE3B,OAAK7B,EAhFb,SAA+BN,EAAKM,GAClC,MACMC,EADQC,iBAAiBpL,SAASC,MACpBO,iBAAiB,WAAW6K,QAAQ,SAAU,IAC5DC,EAAaJ,EAAUK,MAAQL,EAAUM,KACzCC,EAAcP,EAAUQ,OAASR,EAAUvK,IAgBjD,OAfiB,OAAbqK,GAAqBF,IAAUQ,GAAcP,IAAWU,IAC1DX,EAAQQ,EACRP,EAASU,EACTT,EAAWJ,EAAIe,qBAAqB,EAAGT,EAAUQ,OAAQ,EAAGR,EAAUvK,KACxD,SAAVwK,GACFH,EAASY,aAAa,EAAG,WACzBZ,EAASY,aAAa,GAAK,WAC3BZ,EAASY,aAAa,EAAG,aAEzBZ,EAASY,aAAa,EAAG,WACzBZ,EAASY,aAAa,GAAK,WAC3BZ,EAASY,aAAa,EAAG,aAItBZ,CACT,CA8DeC,CAAsBL,EAAKM,GAFzB,IAGX,EACAmvB,YAAa,YACbC,aAAc,EACdC,YAAa,EACbC,iBAAkB,EAClBrpB,qBAAsB,YACtBspB,iBAAkB,YAClBC,YAAa,EACb5pB,sBAAuB,EACvB6pB,gBAAiB,YACjB3pB,eAAgB,EAChB4pB,MAAM,GAmBR,MAAO,CAAExuB,SAjBQ,CACf,CACEuD,MAAOJ,EAAWU,SAClB1Q,KAAM0P,KACHmrB,GAEL,CACEzqB,MAAOJ,EAAWW,SAClB3Q,KAAM2P,KACHkrB,GAEL,CACEzqB,MAAOJ,EAAWC,iBAClBjQ,KAAMyhB,KACHoZ,IAGY/tB,OAAQA,EAAO2tB,UAAY,GArFY,EAsF5D,CAEMN,gCACJhc,EAAmB,uCACnB1Q,EAAsBhB,EAAAA,EAAYiB,IAClC4tB,EAAiB,GAAC,sCAGlB,IAAI9L,EACA/hB,IAAWhB,EAAAA,EAAY4kB,OAAS5jB,IAAWhB,EAAAA,EAAY8kB,KACzD/B,EAAM,CACJ+L,MAAO,qBAAqBD,0CAA+C,EAAKvB,qBAAqBO,iCAAiCnc,8CAE/H1Q,IAAWhB,EAAAA,EAAYiB,KAAOD,IAAWhB,EAAAA,EAAY+tB,OAC9DhL,EAAM,CACJ+L,MAAO,qBAAqBD,0CAA+C,EAAKvB,qBAAqBO,iCAAiCnc,+CAG1I,IACE,IAAIhb,cACI+G,MAbM,oCAaS,CACnBC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElB1J,KAAMqG,KAAKC,UAAUwoB,MAEvBgM,OACF,GAAI/tB,IAAWhB,EAAAA,EAAY+tB,KACzB,OAAqC,MAAjCr3B,EAAOnD,MAAMy7B,SAASnrB,QACxBnN,EAASA,GAAQnD,MAAMy7B,SACvBH,GAAU,IACHn4B,EAAOqqB,aAAa,EAAK2M,gCAAgC,EAAKJ,qBAAqBK,cAAgB,KAAM3sB,EAAQ6tB,KAEjHn4B,GAAQnD,MAAMy7B,SAGzB,GAAIhuB,IAAWhB,EAAAA,EAAY4kB,MACzB,OAAOluB,GAAQnD,MAAM07B,SAChB,GAAIjuB,IAAWhB,EAAAA,EAAYiB,IAChC,OAAOvK,GAAQnD,MAAMy7B,SAChB,GAAIhuB,IAAWhB,EAAAA,EAAY8kB,KAChC,OAAqC,MAAjCpuB,EAAOnD,MAAM07B,SAASprB,QACxBnN,EAASA,GAAQnD,MAAM07B,SACvBJ,GAAU,IACHn4B,EAAOqqB,aAAa,EAAK2M,gCAAgC,EAAKJ,qBAAqBK,cAAgB,KAAM3sB,EAAQ6tB,KAEjHn4B,GAAQnD,MAAM07B,Q,CAGzB,MAAOl4B,GACP,MAAO,E,CACR,GA/CiB,EAgDpB,CAEM62B,+BACJlc,EAAmB,uCACnB1Q,EAAiB,MACjB6tB,EAAiB,GAAC,sCAGlB,IAAI9L,GACW,QAAX/hB,GAiBkB,SAAXA,GAiBW,UAAXA,GAiBW,SAAXA,KAlDT+hB,EAAM,CACJ+L,MAAO,mDACsBpd,mQAkEjC,IACE,IAAIhb,cACI+G,MAzEM,oCAyES,CACnBC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElB1J,KAAMqG,KAAKC,UAAUwoB,MAEvBgM,OACF,GAAI/tB,IAAWhB,EAAAA,EAAY+tB,KACzB,OAAoC,MAAhCr3B,EAAOnD,MAAM27B,QAAQrrB,QACvBnN,EAASA,GAAQnD,MAAM27B,QACvBL,GAAU,IACHn4B,EAAOqqB,aAAa,EAAK6M,+BAA+B,EAAKN,qBAAqBK,cAAgB,KAAM3sB,EAAQ6tB,KAEhHn4B,GAAQnD,MAAM27B,QAGzB,GAAIluB,IAAWhB,EAAAA,EAAY4kB,MACzB,OAAOluB,GAAQnD,MAAM27B,QAChB,GAAIluB,IAAWhB,EAAAA,EAAYiB,IAChC,OAAOvK,GAAQnD,MAAM27B,QAChB,GAAIluB,IAAWhB,EAAAA,EAAY8kB,KAChC,OAAOpuB,GAAQnD,MAAM27B,O,CAEvB,MACA,MAAO,E,CACR,GArGiB,EAsGpB,CAAC,+B,cA3PUvV,GAAY,wC,MAAZA,EAAY6O,QAAZ7O,EAAY,KAAA0T,WADC,S,uPCpBpB,MAAO8B,EAEX18B,YACU+c,EACA/G,EACAyR,EACAkV,EACAxX,GAJA,KAAApI,cAAAA,EACA,KAAA/G,gBAAAA,EACA,KAAAyR,iBAAAA,EACA,KAAAkV,eAAAA,EACA,KAAAxX,gBAAAA,EANV,KAAAyX,WAAkB,IAOf,CACGC,OAAI,sCACR,EAAKD,YAAa,IAAIE,EAAAA,GAAuBC,QAAQ,GAAGh6B,EAAAA,GAAUi6B,kBAAkBC,QACpF,EAAKL,WAAWM,GAAG,cAAe9U,IAChC,IAAK,MAAM6M,KAAM7M,EAAItnB,KACnB,GAAmB,YAAfm0B,GAAIrd,OAAsB,CAC5BrT,QAAQI,IAAI,gBAAiB,gBAAiBswB,GAC9C,MAAMkI,EAAiBlI,GAAIkI,QAAQpmB,SAAW,GACxC7N,EAAiB+rB,GAAI/rB,QAAQ6N,SAAW,GACxCL,EAAiBue,GAAIre,MAAQ,GAC7BwmB,IAAoBnI,GAAIoI,UAC9B,EAAKC,cAAc5mB,EAAQymB,EAAQlI,EAAGvD,UAAW0L,GACjD,EAAKE,cAAc5mB,EAAQxN,EAAQ+rB,EAAGvD,UAAW0L,E,KAIvD,EAAKR,WAAWW,SAAO,QAAC,kBAChB,EAAKp5B,OACb,KACA,EAAKA,OAAQ,GAlBL,EAmBV,CACAm5B,cAAc5mB,EAAgBK,EAAiB2a,EAAmB0L,GAChE,GAAI1mB,GAAUK,GAAWzW,KAAKyc,cAAc8B,QACtCve,KAAKyc,cAAc8B,OAAQ,CAC7B,MAAM3H,EAAmB5W,KAAKyc,cAAc8B,OAAOyU,WAAWvc,GAC9D,GAAIG,EACF,IAAK,IAAIpM,KAAKoM,EAAQid,WAChBjd,EAAQid,WAAWrpB,GAAG8L,OAASF,GAAUQ,EAAQid,WAAWrpB,GAAG8M,SAAW1B,EAAAA,GAAS4B,cACrFZ,EAAQid,WAAWrpB,GAAG4mB,UAAY,IAAIc,KAAKd,GAAWe,UAClD2K,EACFlmB,EAAQid,WAAWrpB,GAAG8M,OAAS1B,EAAAA,GAAS8B,gBAExCd,EAAQid,WAAWrpB,GAAG8M,OAAS1B,EAAAA,GAAS2B,UACxCvX,KAAK0V,gBAAgBof,oBAAoBle,EAAS,GAAI,CAACA,EAAQid,WAAWrpB,KAC1ExK,KAAKk9B,kBAAkBzmB,I,CAOrC,CACAymB,kBAAkBv4B,GAChB3E,KAAKmnB,iBAAiB6L,WAAWruB,GAAKzE,WAAWsnB,IAC/C,GAAIA,EAAIC,QAAS,CACfznB,KAAKq8B,eAAetG,qBAAqB/1B,KAAKyc,cAAc8B,QAAQyU,WAAWruB,GAAMpD,OAAOimB,EAAIE,QAAQxO,UACxG,MAAMikB,EAAMn9B,KAAKyc,cAAc8B,QAAQyU,WAAWruB,GAClD3E,KAAK6kB,gBAAgBuY,uBAAuBD,EAAK3V,EAAIE,QAAQ9B,S,CACvD,GAGZ,CAEM/hB,QAAK,sCACT,IACQ,EAAKy4B,YAAYz4B,aACf,EAAKy4B,YAAYz4B,QACvBI,QAAQI,IAAI,uBAAwB,iBAEpC3C,YAAW,KACT,EAAKmC,OAAO,GACX,I,CAEL,MAAOkkB,GACP9jB,QAAQI,IAAI0jB,GACZrmB,YAAW,KACT,EAAKmC,OAAO,GACX,I,CACJ,GAfQ,EAgBX,CAEMw5B,mBAAmB5mB,GAAe,sCACtCxS,QAAQI,IAAI,cAAgBoS,GAC5B,UACQ,EAAK6lB,WAAWQ,OAAO,wBAAyB,CACpDrmB,UACA6mB,MAAO,sC,CAET,MAAOt5B,GAAI,CAAC,GAPwB,EAQxC,CACAnD,cACE,IACEb,KAAKs8B,WAAWx4B,OAChBG,QAAQI,IAAI,0BAA2B,a,CACvC,MAAOL,GAAI,CACf,CAAC,+B,cA7FUo4B,GAAa,oF,MAAbA,EAAa3G,QAAb2G,EAAa,KAAA9B,WAFZ,S,qCCcTiD,EAIJ,MAJD,SAAKA,GACHA,EAAAA,EAAAA,SAAAA,GAAAA,WACAA,EAAAA,EAAAA,KAAAA,GAAAA,OACAA,EAAAA,EAAAA,SAAAA,GAAAA,UACD,CAJD,CAAKA,IAAAA,EAAK,KAALA,GAIJ,GAGK,MAAOC,EAQX99B,YACUgW,EACAigB,EACAlZ,EACA4f,EACAxX,EACAsC,EACAxhB,EACA83B,EACA9K,EACAhd,EACA+nB,EACA1c,EACDiC,EACC0a,GAbA,KAAAjoB,gBAAAA,EACA,KAAAigB,cAAAA,EACA,KAAAlZ,cAAAA,EACA,KAAA4f,eAAAA,EACA,KAAAxX,gBAAAA,EACA,KAAAsC,iBAAAA,EACA,KAAAxhB,aAAAA,EACA,KAAA83B,cAAAA,EACA,KAAA9K,cAAAA,EACA,KAAAhd,eAAAA,EACA,KAAA+nB,cAAAA,EACA,KAAA1c,kBAAAA,EACD,KAAAiC,OAAAA,EACC,KAAA0a,SAAAA,EArBV,KAAAC,UAA8B,IAAIC,IAClC,KAAAC,qBAAuBr7B,EAAAA,GAAUwI,QAAU,IAAQ,KACnD,KAAA8yB,mBAAqB,IACrB,KAAAC,kBAAoB,KACpB,KAAAC,kBAAoB,IAmBlBj+B,KAAK2V,eAAeyH,OAAOld,WAAWmd,IAC9BA,GACJrd,KAAKk+B,S,IAGTl+B,KAAK2V,eAAe8E,cAAcva,WAAWua,IACvCza,KAAKyc,cAAc8B,SACrBve,KAAKm+B,SAAWn+B,KAAKyc,cAAc8B,OAAOsX,cAC1C71B,KAAKm+B,SAASr0B,SAAQ,EAAG2M,cACnBA,IAAYgE,GAAehE,QAC7BzW,KAAK6D,MAAM4W,EAAchE,QAASzW,KAAK89B,sBAEvC99B,KAAK6D,MAAM4S,EAASzW,KAAKg+B,kB,IAG7Bh+B,KAAKo+B,W,GAGX,CACAA,WACE,IAAKp+B,KAAKq+B,eAAgB,CACxBp6B,QAAQq6B,MAAM,uBACdt+B,KAAK09B,cAAcnB,OACnB,MAAMzY,EAAS,KACb9jB,KAAK21B,cAAc4I,YACnBv+B,KAAKy9B,cAAce,sBACnBx+B,KAAK2yB,cAAc8L,wBAAuB,EAAK,EAEjDz+B,KAAKq+B,gBAAiBtD,EAAAA,EAAAA,GAAS/6B,KAAKi+B,mBAAmB/9B,WAAU,IAAM4jB,MACvEA,G,CAEJ,CACMjgB,MAAMc,EAAa2wB,GAAa,sCAEpC,GADA,EAAKtU,kBAAkB0d,kBACnB/5B,IAAQ,EAAKi5B,UAAU/yB,IAAIlG,GAAM,CACnC,EAAKw5B,SAAW,EAAK1hB,cAAc8B,OAAOsX,cAC1C5xB,QAAQq6B,MAAM,mBAAqB,EAAKV,UAAU93B,KAAO,IAAMnB,GAC/D,MAAMg6B,EAA6B,CACjCh6B,IAAKA,EACL2G,MAAOiyB,EAAMqB,SACb7D,UAAUA,EAAAA,EAAAA,GAAS,EAAK+C,sBAAsB59B,WAAU,IAAM,EAAK4jB,OAAOnf,KAC1Ek6B,aAAc,GAEhB,EAAKjB,UAAUjwB,IAAIhJ,EAAKg6B,GACxB,EAAK7a,OAAOnf,GACZ,EAAKu4B,kBAAkBv4B,E,MACdA,GAAO,EAAKi5B,UAAU/yB,IAAIlG,IACnC,EAAKm6B,SAASn6B,EAAK2wB,EACpB,GAhBmC,EAiBtC,CACMyJ,MAAMp6B,EAAaq6B,EAAgB,MAAI,sCAG3C,IAFa,EAAKrB,SAASvX,OACLjhB,WAAW,eAKjClB,QAAQI,IAAI,SAAWM,GACnB,EAAK8X,cAAcwiB,cAAct6B,KAC/Bq6B,GACF,EAAKE,yBAAyBv6B,EAAKq6B,GAEhC,EAAKpB,UAAU/yB,IAAIlG,WAChB,EAAKd,MAAMc,EAAK,EAAKm5B,uBAE7B,EAAKJ,cAAcL,mBAAmB14B,GAClC,EAAKi5B,UAAU/yB,IAAIlG,GAAK2G,QAAUiyB,EAAM4B,OAAM,CAChD,EAAKC,YAAYz6B,EAAK44B,EAAM4B,MAC5B,EAAKrb,OAAOnf,GACZ,MAAM4uB,EAAU,EAAKqK,UAAU/yB,IAAIlG,GAAKk6B,aACxCn9B,YAAW,KAEL,EAAKk8B,WAAW93B,MAAQ,EAAK83B,UAAU/yB,IAAIlG,GAAKk6B,eAAiBtL,IACnEtvB,QAAQI,IAAI,2BACZ,EAAK+6B,YAAYz6B,EAAK44B,EAAMqB,U,GAE7B,K,CAEN,GA5B0C,EA6B7C,CACM9a,OAAOnf,GAAG,sCACd,EAAKm6B,SAASn6B,EAAK,EAAKm5B,sBACxB,EAAKpoB,gBAAgBqd,mBAAmBpuB,GAAKzE,WAC1CsnB,IACC,OAAQ,EAAKoW,UAAU/yB,IAAIlG,GAAO,EAAKi5B,UAAU/yB,IAAIlG,GAAK2G,OAAS,GACjE,KAAKiyB,EAAMqB,SACT,GAAKpX,EAAIuM,UAEF,GAAIvM,GAAKtO,QAAS,CACvB,MAAMA,EAAU,EAAKuD,cAAc8B,QAAQyU,WAAWruB,GAAK8a,WACvDvG,IAAYsO,EAAItO,UAClBjV,QAAQI,IAAI,mBACZ,EAAK64B,kBAAkBv4B,G,OALzB,EAAKy6B,YAAYz6B,EAAK44B,EAAM8B,UAQ9B,MAEF,KAAK9B,EAAM4B,KACJ3X,EAAIuM,SAGP,EAAK+K,SAASn6B,EAAK,EAAKo5B,oBAFxB,EAAKqB,YAAYz6B,EAAK44B,EAAM8B,UAI9B,MAEF,KAAK9B,EAAM8B,SACL7X,EAAIuM,SACN,EAAKqL,YAAYz6B,EAAK44B,EAAMqB,UAE5B,EAAKE,SAASn6B,EAAK,EAAKo5B,oBAE1B,MAEF,QACE95B,QAAQI,IAAI,mBAIhB,MAAM84B,EAAM,EAAK1gB,cAAc8B,QAAQyU,WAAWruB,GAClD,GAAIw4B,GAAKtJ,YAAY/iB,OAAQ,CAC3B,MAAMwuB,EAAiBnC,EAAItJ,WAAW,GACtC,GAAIyL,EAAehoB,SAAW1B,EAAAA,GAAS4B,YAAa,EACtC,IAAI0a,MAAOC,UAAY,IAAID,KAAKoN,EAAelO,WAAWe,UAC5D,OAERgL,EAAItJ,WAAW0L,QACf,EAAK9iB,cAAcqX,c,EAIrB,EAAKrX,cAAc8B,kBAAkBC,EAAAA,IACvC,EAAK/B,cAAc8B,OAAOihB,mB,IAG7BzX,IACC9jB,QAAQI,IAAI,qBACZJ,QAAQuF,MAAMue,EAAI,IAEpB,KACE9jB,QAAQq6B,MACN,WAAW,EAAKH,SAAS1a,WAAWvT,GAAMA,EAAEuG,UAAY9R,aACZ,IAAnC,EAAKi5B,UAAU/yB,IAAIlG,IAAM2G,MAAwB,EAAKsyB,UAAU/yB,IAAIlG,GAAK2G,MAAQ,WAE3F,GAEH,GAjEY,EAkEhB,CACA8zB,YAAYz6B,EAAa86B,GACvB,MAAMd,EAA6B3+B,KAAK49B,UAAU/yB,IAAIlG,GACtDg6B,EAAarzB,MAAQm0B,EACjBA,IAAalC,EAAMqB,UAAYa,IAAalC,EAAM8B,UACpDr/B,KAAKk9B,kBAAkBv4B,GAErB86B,IAAalC,EAAM4B,MAAQM,IAAalC,EAAM8B,WAChDV,EAAa5D,SAASj6B,cACtB69B,EAAa5D,UAAWA,EAAAA,EAAAA,GAAS/6B,KAAK+9B,oBAAoB79B,WAAU,IAAMF,KAAK8jB,OAAOnf,MAExFg6B,EAAaE,eACb7+B,KAAK49B,UAAUjwB,IAAIhJ,EAAKg6B,EAC1B,CACAG,SAASn6B,EAAa+6B,GACpB,MAAMf,EAA6B3+B,KAAK49B,UAAU/yB,IAAIlG,GAClDg6B,EAAa5D,UACf4D,EAAa5D,SAASj6B,cAExB69B,EAAa5D,UAAWA,EAAAA,EAAAA,GAAS2E,GAAMx/B,WAAU,IAAMF,KAAK8jB,OAAOnf,KACnE3E,KAAK49B,UAAUjwB,IAAIhJ,EAAKg6B,EAC1B,CACAT,UACE,GAAIl+B,KAAKyc,cAAc8B,OAAQ,CAC7B,GAAIve,KAAKm+B,UAAUrtB,OAAQ,CACzB7M,QAAQI,IAAI,uBACZ,IAAK,MAAMuS,KAAW5W,KAAKm+B,SACzBn+B,KAAK8D,KAAK8S,EAAQH,Q,CAGlBzW,KAAKq+B,iBACPr+B,KAAKq+B,eAAev9B,cACpBd,KAAKq+B,eAAiB,K,CAG5B,CACMv6B,KAAKa,GAAG,sCACZV,QAAQI,IAAI,kBAAoB,EAAK85B,SAAS1a,WAAWvT,GAAMA,EAAEuG,UAAY9R,KACzE,EAAKi5B,UAAU/yB,IAAIlG,KACrB,EAAKi5B,UAAU/yB,IAAIlG,GAAKo2B,SAASj6B,cACjC,EAAK88B,UAAU/yB,IAAIlG,GAAKo2B,SAAW,KACnC,EAAK6C,UAAU+B,OAAOh7B,GACvB,GANW,EAOd,CACAu4B,kBAAkBv4B,GAEhBV,QAAQq6B,MAAM,2BAA6B35B,GAC3C3E,KAAKmnB,iBAAiB6L,WAAWruB,GAAKzE,WAAWsnB,IAC/C,GAAIA,EAAIC,QAAS,CACfznB,KAAKq8B,eAAetG,qBAAqB/1B,KAAKyc,cAAc8B,QAAQyU,WAAWruB,GAAMpD,OAAOimB,EAAIE,QAAQxO,UACxG,MAAMikB,EAAMn9B,KAAKyc,cAAc8B,QAAQyU,WAAWruB,GAClD3E,KAAK6kB,gBAAgBuY,uBAAuBD,EAAK3V,EAAIE,QAAQ9B,S,MAE7D3hB,QAAQI,IAAI,0CAA2CmjB,EAAIE,QAAQI,I,GAGzE,CACAoX,yBAAyBr3B,EAAcm3B,GACrC,MAAMpoB,EAAU5W,KAAKyc,cAAc8B,QAAQyU,WAAWnrB,GACtD,GAAK+O,EAAQid,WAAb,CAGA,GAAImL,EAASY,aAAc,CACzB37B,QAAQI,IAAI,6BACZJ,QAAQI,IAAI26B,EAASY,cACrB,MAAMnmB,EACJulB,EAAS9f,eAAiBlf,KAAK2F,aAAasZ,SAAS+f,EAAS9f,eAAiBlf,KAAK2F,aAAasZ,SAAS+f,EAAS9f,eAAezF,SAAW,EAC/I,IAAK,MAAMkb,KAAMqK,EAASY,aAAc,CACtC,MAAM5oB,EAAc,CAClB9N,KAAM,cACNoO,OAAQ1B,EAAAA,GAAS4B,YACjBM,OAAQwB,IAAIqb,EAAG7c,QACZ+nB,MAAM,IAAMpmB,GACZ1I,WACH+uB,IAAK,KACLnpB,OAAQ,CAAEF,QAAS5O,GACnB2O,YAAa,CAAEC,QAASke,EAAGne,aAC3BF,KAAM0oB,EAAS5oB,OACfsC,MAAO,KACP0Y,WAAW,IAAIc,MAAOC,UACtBta,QAASmnB,EAAS9f,cAAgB8f,EAAS9f,mBAAgB7e,EAC3D2X,WAAY2c,EAAGoL,YAAY/nB,WAAa2c,EAAGoL,WAAW/nB,WAAa,IAErEpB,EAAQid,WAAWmM,QAAQhpB,GAC3B,MAAMipB,EAAqBjgC,KAAKyc,cAAc8B,QAAQyU,WAAW2B,EAAGne,aAChEypB,GACFA,EAAmBpM,WAAWmM,QAAQ,IAAKhpB,G,OAG1C,QAA0B3W,IAAtB2+B,EAASpZ,SAAwB,CAC1C,MAAMsa,EAAa,CACjBh3B,KAAM,aACNoO,OAAQ1B,EAAAA,GAAS4B,YACjBM,OAAQ,KACRgoB,IAAK,KACLnpB,OAAQ,CAAEF,QAAS5O,GACnB2O,YAAa,CAAEC,QAASuoB,EAASpZ,UACjCtP,KAAM0oB,EAAS5oB,OACfsC,MAAO,KACP0Y,WAAW,IAAIc,MAAOC,WAExBvb,GAASid,WAAWmM,QAAQE,E,MACvB,QAA6B7/B,IAAzB2+B,EAASmB,YAA2B,CAC7C,MAAMA,EAAc,CAClBj3B,KAAM,cACNoO,OAAQ1B,EAAAA,GAAS4B,YACjBM,OAAQknB,EAASmB,YAAYjnB,QAC7B4mB,IAAK,KACLnpB,OAAQ,CAAEF,QAAS5O,GACnB2O,YAAa,CAAEC,QAASuoB,EAASoB,KACjC9pB,KAAM0oB,EAAS5oB,OACfsC,MAAO,KACP0Y,WAAW,IAAIc,MAAOC,WAExBvb,GAASid,WAAWmM,QAAQG,E,MAE5Bl8B,QAAQI,IAAI,mBAAoB26B,GAElCh/B,KAAKyc,cAAcqX,a,CACrB,CAAC,+B,cAjSU0J,GAAkB,uL,MAAlBA,EAAkB/H,QAAlB+H,EAAkB,O,+FCxBzB,MAAO6C,EAEX3gC,YAAoBynB,EAA4C1K,EAAsCna,GAAlF,KAAA6kB,iBAAAA,EAA4C,KAAA1K,cAAAA,EAAsC,KAAAna,eAAAA,EAD9F,KAAAg+B,YAAc,EACiH,CACvI3yB,IAAI4yB,GACFt8B,QAAQI,IAAIk8B,GACZvgC,KAAKsgC,YAActgC,KAAKwgC,mBAAmBD,GACvCvgC,KAAKsgC,cAAgBtgC,KAAKyc,cAAc8B,QAC1Cve,KAAKsC,eAAeulB,WAAW,8CAEjC5jB,QAAQI,IAAIrE,KAAKsgC,YACnB,CACAE,mBAAmBD,GACjB,GAAoB,WAAhBA,EAAOr3B,MAAqBq3B,EAAO//B,KACrC,IACE,OAAOR,KAAKmnB,iBAAiBsZ,WAAWF,EAAO//B,KAAM,IAAIuQ,U,CACzD,MAAO/M,GACP,MAAO,E,MAEJ,GAAIu8B,GAAQp3B,KAAOo3B,EAAOp3B,IAAIhE,WAAW,OAC9C,OAAOo7B,EAAOp3B,IAEhB,MAAO,EACT,CACAu3B,iBACE,MAAMJ,EAActgC,KAAKsgC,YAEzB,OADAtgC,KAAKsgC,YAAc,GACZA,CACT,CACA/7B,gBAAgBo8B,GACVA,EAAU7vB,OAAS,IAAiC,+BAA3B6vB,EAAU31B,MAAM,EAAG,MAC9C21B,EAAYA,EAAU31B,MAAM,KAE9B,IACE,OAAOhL,KAAKmnB,iBAAiBsZ,WAAWE,EAAW,IAAI5vB,U,CACvD,MAAO,CACT,MAAO,EACT,CAAC,+B,cApCUsvB,GAAe,8D,MAAfA,EAAe5K,QAAf4K,EAAe,KAAA/F,WAFd,S,4ICIR,MAAOsG,EAIXlhC,YAAoB+c,EAAsC0K,EAA2ClE,EAAwB0a,GAAzG,KAAAlhB,cAAAA,EAAsC,KAAA0K,iBAAAA,EAA2C,KAAAlE,OAAAA,EAAwB,KAAA0a,SAAAA,EAH7G,KAAAkD,GAAK,gCACd,KAAA3b,UAAY,IAAIvkB,EAAAA,EAAqB,IAG7BX,KAAK29B,SAASvX,OACLjhB,WAAW,cAE/BnF,KAAK8gC,cAET,CACAC,YAAYnqB,GACV5W,KAAKmnB,iBAAiB4Z,YAAYnqB,EAAQH,SAASvW,WAChDM,IACKA,EAAKinB,SACPznB,KAAKo9B,uBAAuBxmB,EAASpW,EAAKknB,QAAQ9B,S,IAGrDmC,GAAQ9jB,QAAQI,IAAIkD,KAAKC,UAAUugB,KAExC,CACAqV,uBAAuBxmB,EAAkBpW,GACnCA,EACEoW,EAAQgP,WAAaplB,GACvBoW,EAAQgP,SAAWplB,EACnBR,KAAKyc,cAAcqX,eAEnB7vB,QAAQq6B,MAAM,gBAAkB1nB,EAAQH,QAAU,eAG3B,KAArBG,EAAQgP,WACVhP,EAAQgP,SAAW,GACnB5lB,KAAKyc,cAAcqX,cAGzB,CACAgN,eAC4B,aAAtBr+B,EAAAA,GAAUu+B,QACZt2B,MAAM,GAAG1K,KAAK6gC,aACX7e,MAAMzX,GAAaA,EAASyxB,SAC5Bha,MAAMC,GAAMjiB,KAAKklB,UAAU9hB,KAAK6e,KAEnCvX,MAAM,iFACHsX,MAAMoH,GAAMA,EAAE4S,SACdha,MAAMif,IACL,MAAMtb,EAAYpI,KAAKwI,OAAmB,GAAZkb,EAAE/nB,QAAe+nB,EAAEC,gBAAkB,IAAM,GACzElhC,KAAKklB,UAAU9hB,KAAK,CAClB,CACEqT,QAAS,uCACT4O,aAAc,EACdya,IAAK,GACLna,YACAwb,KAAM,2EACN5b,cAAe,EACf1lB,KAAM,mBACNylB,mBAAmB,EACnB8b,eAAgB,UAChB5b,YAAa,eAEf,GAGV,CAEA6b,yBAAyB5qB,GACvB,OAAO,IAAIqZ,SAASC,IAClB/vB,KAAKklB,UAAU5K,MAAK6K,EAAAA,EAAAA,GAAK,IAAIjlB,WAAW+hB,GAAM8N,EAAQ9N,GAAGvR,MAAMuR,GAAMA,GAAGxL,UAAYA,MAAU,GAElG,CAAC,+B,cApEUmqB,GAAe,2E,MAAfA,EAAenL,QAAfmL,EAAe,O,iJCHtB,MAAOU,EACX5hC,cAAe,CACT6hC,QAAQC,EAAgBC,EAAkBjS,EAAiBkS,EAAe,MAAI,sCAClF,GAAgB,IAAZlS,EACF,MAAM,IAAIplB,MAAM,0CACX,GAAgB,IAAZolB,EACT,OAAO,EAAKmS,WAAWH,EAAWC,GAC7B,GAAgB,IAAZjS,EACT,OAAO,EAAKmS,WAAWH,EAAWC,EAAUC,GAE5C,MAAM,IAAIt3B,MAAM,iCACjB,GATiF,EAUpF,CACMw3B,QAAQC,EAAqBJ,EAAkBC,EAAclS,GAAe,sCAChF,GAAgB,IAAZA,EACF,OAAO,EAAKsS,WAAWD,EAAaJ,EAAUC,GACzC,GAAgB,IAAZlS,GAA6B,IAAZA,EAC1B,OAAO,EAAKuS,WAAWF,EAAaJ,EAAUC,GAE9C,MAAM,IAAIt3B,MAAM,iCACjB,GAP+E,EAQlF,CAEM43B,WAAWR,EAAgBC,EAAkBC,GAAY,2BAC7D,OAAO,IAAI5R,SAASC,IAClB,IACE,IAAK0R,IAAaC,EAChB,MAAM,IAAIt3B,MAAM,4BAElB63B,EAAAA,OAAcR,EAAUC,EAAM,IAAO,GAAI,UAAU,CAAC3Z,EAAKnW,KACvD,GAAImW,EACF,MAAMA,EAGR,IAAI8Z,EADW,IAAIK,EAAAA,gBAAoBC,IAAIvwB,GAClB2vB,QAAQC,GACjCK,EAAcK,EAAAA,MAAU5Y,IAAI8Y,UAAUP,GACtC9R,EAAQ8R,EAAY,G,CAEtB,MAAO79B,GACPC,QAAQC,KAAKF,GACb+rB,EAAQ,G,IAET,GAnB0D,EAoB/D,CACM+R,WAAWD,EAAqBJ,EAAkBC,GAAY,2BAClE,OAAO,IAAI5R,SAASC,IAClB,IACE,IAAK0R,IAAaC,EAChB,MAAM,IAAIt3B,MAAM,4BAElB63B,EAAAA,OAAcR,EAAUC,EAAM,IAAO,GAAI,UAAU,CAAC3Z,EAAKnW,KACvD,GAAImW,EACF,MAAMA,EAER8Z,EAAcK,EAAAA,MAAU5Y,IAAI+Y,QAAQR,GACpC,MACML,EADS,IAAIU,EAAAA,gBAAoBC,IAAIvwB,GAClBgwB,QAAQC,GACjC9R,EAAQyR,EAAU,G,CAEpB,MAAOx9B,GACP+rB,EAAQ,G,IAET,GAlB+D,EAmBpE,CAEM4R,WAAWH,EAAgBC,EAAkBC,GAAa,2BAC9D,IAAKD,EACH,MAAM,IAAIr3B,MAAM,oBAElB,IAAIk4B,EAEFA,EADEZ,EACM,IAAIzX,EAAOyX,EAAM,OAEjBa,EAAAA,YAAoB,IAE9B,MAAM3wB,QAAY4wB,EAAAA,MAAaf,EAAUa,EAAO,MAAO,EAAG,EAAG,IACvDG,EAAcC,EAAAA,OAAaC,aAAa,UAAW/wB,EAAIb,SAAS,WACtE0xB,EAAO5+B,MAAM,CACX++B,GAAIN,IAEN,MAAMO,EAAmBH,EAAAA,KAAWI,aAAatB,EAAUzwB,SAAS,UAAW,SAC/E0xB,EAAO3e,OAAO+e,GACdJ,EAAOM,SAEP,MAAO,CAAElB,YADWY,EAAOlQ,OAAOyQ,QAAU,KAAOP,EAAO/uB,KAAKuvB,IAAID,QAChCJ,GAAIN,EAAMvxB,SAAS,OAAS,GAnBD,EAoBhE,CACMgxB,WAAWmB,EAAiBzB,EAAkBC,GAAY,2BAC9D,IACE,IAAKD,IAAaC,EAChB,MAAM,IAAIt3B,MAAM,4BAElB,MAAM+4B,EAAQD,EAAQ/qB,MAAM,MACtB0pB,EAAcsB,EAAM,GACpBF,EAAME,EAAM,GACZvxB,QAAY4wB,EAAAA,MAAaf,EAAU,IAAIxX,EAAOyX,EAAM,OAAQ,MAAO,EAAG,EAAG,IACzE0B,EAAgBV,EAAAA,OAAaW,eAAe,UAAWzxB,EAAIb,SAAS,WAC1EqyB,EAASv/B,MAAM,CACb++B,GAAI,IAAI3Y,EAAOyX,EAAM,OACrBuB,IAAKP,EAAAA,KAAWI,aAAa,IAAI7Y,EAAOgZ,EAAK,OAAOlyB,SAAS,UAAW,WAE1EqyB,EAAStf,OAAO4e,EAAAA,KAAWI,aAAa,IAAI7Y,EAAO4X,EAAa,OAAO9wB,SAAS,UAAW,UAE3F,OADaqyB,EAASL,SAEb,IAAI9Y,EAAOmZ,EAAS7Q,OAAOyQ,QAAS,OAEpC,I,CAET,MAAOjb,GACP,OAAO,I,CACR,GAvB6D,EAwBhE,CACAub,QAAQ5B,EAAc5F,GACpB,IAAKv6B,OAAOgiC,UAAUzH,IAAWA,EAAS,KAAOA,EAAS,EACxD,MAAM,IAAI1xB,MAAM,yBAElB,MAAMo5B,EAAM,IAAIvZ,EAAOyX,EAAM,OAE7B,OADA8B,EAAI,KAAOA,EAAI,IAAM1H,GAAU,IACxB0H,EAAIzyB,SAAS,MACtB,CAAC,+B,cAtHUuwB,EAAiB,6B,MAAjBA,EAAiB7L,QAAjB6L,EAAiB,O,gDCGvB,MAAMmC,EACb,CACE,+CAAgD,CAC9C,IAAO,qJACP,SAAY,aAEd,2FAA4F,CAC1F,IAAO,qGACP,SAAY,aAEd,iGAAkG,CAChG,IAAO,2GACP,SAAY,aAEd,gFAAiF,CAC/E,IAAO,0FACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,mDACP,SAAY,aAEd,8DAA+D,CAC7D,IAAO,+DACP,SAAY,aAEd,6CAA8C,CAC5C,IAAO,2CACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,yCACP,SAAY,aAEd,6EAA8E,CAC5E,IAAO,uGACP,SAAY,aAEd,0DAA2D,CACzD,IAAO,iDACP,SAAY,aAEd,wDAAyD,CACvD,IAAO,+CACP,SAAY,aAEd,2CAA4C,CAC1C,IAAO,yDACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,8BACP,SAAY,aAEd,iDAAkD,CAChD,IAAO,gDACP,SAAY,aAEd,oCAAqC,CACnC,IAAO,sCACP,SAAY,aAEd,4CAA6C,CAC3C,IAAO,2FACP,SAAY,aAEd,kCAAmC,CACjC,IAAO,+IACP,SAAY,aAEd,mCAAoC,CAClC,IAAO,2GACP,SAAY,aAEd,mCAAoC,CAClC,IAAO,yEACP,SAAY,aAEd,kCAAmC,CACjC,IAAO,4DACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,iEACP,SAAY,aAEd,2CAA4C,CAC1C,IAAO,+BACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,mDACP,SAAY,aAEd,iCAAkC,CAChC,IAAO,+DACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,+CACP,SAAY,aAEd,qDAAsD,CACpD,IAAO,sDACP,SAAY,aAEd,uDAAwD,CACtD,IAAO,wDACP,SAAY,aAEd,4CAA6C,CAC3C,IAAO,mDACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,+CACP,SAAY,aAEd,qCAAsC,CACpC,IAAO,oEACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,gKACP,SAAY,aAEd,oDAAqD,CACnD,IAAO,4EACP,SAAY,aAEd,wCAAyC,CACvC,IAAO,+CACP,SAAY,aAEd,wCAAyC,CACvC,IAAO,kEACP,SAAY,aAEd,mDAAoD,CAClD,IAAO,wDACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,2CACP,SAAY,aAEd,iDAAkD,CAChD,IAAO,sCACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,kDACP,SAAY,aAEd,2CAA4C,CAC1C,IAAO,wCACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,kDACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,qCACP,SAAY,aAEd,mDAAoD,CAClD,IAAO,oDACP,SAAY,aAEd,iDAAkD,CAChD,IAAO,0BACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,8CACP,SAAY,aAEd,oCAAqC,CACnC,IAAO,oGACP,SAAY,aAEd,uCAAwC,CACtC,IAAO,gEACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,sDACP,SAAY,aAEd,6CAA8C,CAC5C,IAAO,wDACP,SAAY,aAEd,2CAA4C,CAC1C,IAAO,sDACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,qDACP,SAAY,aAEd,+BAAgC,CAC9B,IAAO,oCACP,SAAY,aAEd,iDAAkD,CAChD,IAAO,oEACP,SAAY,aAEd,iDAAkD,CAChD,IAAO,wEACP,SAAY,aAEd,uDAAwD,CACtD,IAAO,wFACP,SAAY,aAEd,qDAAsD,CACpD,IAAO,6DACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,mDACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,gEACP,SAAY,aAEd,yDAA0D,CACxD,IAAO,sDACP,SAAY,aAEd,6CAA8C,CAC5C,IAAO,iGACP,SAAY,aAEd,+CAAgD,CAC9C,IAAO,iDACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,kFACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,qDACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,qDACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,6DACP,SAAY,aAEd,kCAAmC,CACjC,IAAO,kDACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,mDACP,SAAY,aAEd,oDAAqD,CACnD,IAAO,4BACP,SAAY,aAEd,oDAAqD,CACnD,IAAO,oDACP,SAAY,aAEd,oDAAqD,CACnD,IAAO,gCACP,SAAY,aAEd,wCAAyC,CACvC,IAAO,4EACP,SAAY,aAEd,yDAA0D,CACxD,IAAO,8BACP,SAAY,aAEd,sDAAuD,CACrD,IAAO,gEACP,SAAY,aAEd,0DAA2D,CACzD,IAAO,2DACP,SAAY,aAEd,+DAAgE,CAC9D,IAAO,qEACP,SAAY,aAEd,uDAAwD,CACtD,IAAO,kDACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,gCACP,SAAY,aAEd,4CAA6C,CAC3C,IAAO,iEACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,wDACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,kDACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,gEACP,SAAY,aAEd,qCAAsC,CACpC,IAAO,oDACP,SAAY,aAEd,mCAAoC,CAClC,IAAO,iCACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,4EACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,2DACP,SAAY,aAEd,iCAAkC,CAChC,IAAO,mDACP,SAAY,aAEd,2DAA4D,CAC1D,IAAO,6DACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,mEACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,0CACP,SAAY,aAEd,sBAAuB,CACrB,IAAO,uCACP,SAAY,aAEd,iDAAkD,CAChD,IAAO,sCACP,SAAY,aAEd,kCAAmC,CACjC,IAAO,kGACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,gFACP,SAAY,aAEd,iCAAkC,CAChC,IAAO,sDACP,SAAY,aAEd,gCAAiC,CAC/B,IAAO,4DACP,SAAY,aAEd,+CAAgD,CAC9C,IAAO,mEACP,SAAY,aAEd,yDAA0D,CACxD,IAAO,yDACP,SAAY,aAEd,iDAAkD,CAChD,IAAO,6DACP,SAAY,aAEd,sDAAuD,CACrD,IAAO,6EACP,SAAY,aAEd,sDAAuD,CACrD,IAAO,wBACP,SAAY,aAEd,mEAAoE,CAClE,IAAO,2CACP,SAAY,aAEd,wCAAyC,CACvC,IAAO,sDACP,SAAY,aAEd,0BAA2B,CACzB,IAAO,gDACP,SAAY,aAEd,oCAAqC,CACnC,IAAO,0EACP,SAAY,aAEd,8BAA+B,CAC7B,IAAO,iEACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,6DACP,SAAY,aAEd,iCAAkC,CAChC,IAAO,4BACP,SAAY,aAEd,oCAAqC,CACnC,IAAO,wCACP,SAAY,aAEd,4CAA6C,CAC3C,IAAO,4FACP,SAAY,aAEd,+CAAgD,CAC9C,IAAO,0DACP,SAAY,aAEd,wEAAyE,CACvE,IAAO,+EACP,SAAY,aAEd,+BAAgC,CAC9B,IAAO,sBACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,8KACP,SAAY,aAEd,6CAA8C,CAC5C,IAAO,mDACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,gDACP,SAAY,aAEd,6CAA8C,CAC5C,IAAO,yCACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,qDACP,SAAY,aAEd,qCAAsC,CACpC,IAAO,kDACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,mGACP,SAAY,aAEd,+CAAgD,CAC9C,IAAO,2CACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,wDACP,SAAY,aAEd,oDAAqD,CACnD,IAAO,0EACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,gFACP,SAAY,aAEd,oDAAqD,CACnD,IAAO,0EACP,SAAY,aAEd,oDAAqD,CACnD,IAAO,sFACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,0EACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,sCACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,8CACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,wDACP,SAAY,aAEd,2DAA4D,CAC1D,IAAO,2FACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,iDACP,SAAY,aAEd,oDAAqD,CACnD,IAAO,kEACP,SAAY,aAEd,qDAAsD,CACpD,IAAO,8DACP,SAAY,aAEd,sDAAuD,CACrD,IAAO,qEACP,SAAY,aAEd,wDAAyD,CACvD,IAAO,mEACP,SAAY,aAEd,2CAA4C,CAC1C,IAAO,6GACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,6JACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,sIACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,6DACP,SAAY,aAEd,mDAAoD,CAClD,IAAO,gEACP,SAAY,aAEd,sDAAuD,CACrD,IAAO,gGACP,SAAY,aAEd,mDAAoD,CAClD,IAAO,qEACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,gMACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,iGACP,SAAY,aAEd,2CAA4C,CAC1C,IAAO,wHACP,SAAY,aAEd,4CAA6C,CAC3C,IAAO,uDACP,SAAY,aAEd,4CAA6C,CAC3C,IAAO,0HACP,SAAY,aAEd,mDAAoD,CAClD,IAAO,8IACP,SAAY,aAEd,6CAA8C,CAC5C,IAAO,yFACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,0GACP,SAAY,aAEd,4CAA6C,CAC3C,IAAO,0DACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,wIACP,SAAY,aAEd,6CAA8C,CAC5C,IAAO,2DACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,mFACP,SAAY,aAEd,uDAAwD,CACtD,IAAO,mGACP,SAAY,aAEd,uDAAwD,CACtD,IAAO,0EACP,SAAY,aAEd,6CAA8C,CAC5C,IAAO,2FACP,SAAY,aAEd,sDAAuD,CACrD,IAAO,6DACP,SAAY,aAEd,2DAA4D,CAC1D,IAAO,uHACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,8DACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,uDACP,SAAY,aAEd,4CAA6C,CAC3C,IAAO,qDACP,SAAY,aAEd,mDAAoD,CAClD,IAAO,gJACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,+CACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,yDACP,SAAY,aAEd,2CAA4C,CAC1C,IAAO,kEACP,SAAY,aAEd,2CAA4C,CAC1C,IAAO,qCACP,SAAY,aAEd,2DAA4D,CAC1D,IAAO,kJACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,yDACP,SAAY,aAEd,iEAAkE,CAChE,IAAO,wDACP,SAAY,aAEd,2CAA4C,CAC1C,IAAO,kFACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,kFACP,SAAY,aAEd,iDAAkD,CAChD,IAAO,qDACP,SAAY,aAEd,+CAAgD,CAC9C,IAAO,oFACP,SAAY,aAEd,yDAA0D,CACxD,IAAO,iIACP,SAAY,aAEd,mDAAoD,CAClD,IAAO,mEACP,SAAY,aAEd,uEAAwE,CACtE,IAAO,2FACP,SAAY,aAEd,mDAAoD,CAClD,IAAO,0JACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,sFACP,SAAY,aAEd,6CAA8C,CAC5C,IAAO,+BACP,SAAY,aAEd,mDAAoD,CAClD,IAAO,iDACP,SAAY,aAEd,iDAAkD,CAChD,IAAO,+CACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,2DACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,sGACP,SAAY,aAEd,iDAAkD,CAChD,IAAO,gDACP,SAAY,aAEd,iDAAkD,CAChD,IAAO,kDACP,SAAY,aAEd,oDAAqD,CACnD,IAAO,qDACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,kDACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,2DACP,SAAY,aAEd,4CAA6C,CAC3C,IAAO,mCACP,SAAY,aAEd,oCAAqC,CACnC,IAAO,yCACP,SAAY,aAEd,6BAA8B,CAC5B,IAAO,kDACP,SAAY,aAEd,qCAAsC,CACpC,IAAO,yBACP,SAAY,aAEd,qCAAsC,CACpC,IAAO,qCACP,SAAY,aAEd,iCAAkC,CAChC,IAAO,oEACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,4CACP,SAAY,aAEd,wCAAyC,CACvC,IAAO,oCACP,SAAY,aAEd,2CAA4C,CAC1C,IAAO,yCACP,SAAY,aAEd,0DAA2D,CACzD,IAAO,qDACP,SAAY,aAEd,qCAAsC,CACpC,IAAO,8DACP,SAAY,aAEd,6FAA8F,CAC5F,IAAO,iNACP,SAAY,aAEd,4CAA6C,CAC3C,IAAO,uIACP,SAAY,aAEd,qCAAsC,CACpC,IAAO,gEACP,SAAY,aAEd,gEAAiE,CAC/D,IAAO,0CACP,SAAY,aAEd,oEAAqE,CACnE,IAAO,yCACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,0HACP,SAAY,aAEd,qDAAsD,CACpD,IAAO,mIACP,SAAY,aAEd,mDAAoD,CAClD,IAAO,+CACP,SAAY,aAEd,0EAA2E,CACzE,IAAO,8DACP,SAAY,aAEd,uDAAwD,CACtD,IAAO,iDACP,SAAY,aAEd,2CAA4C,CAC1C,IAAO,qCACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,mFACP,SAAY,aAEd,iDAAkD,CAChD,IAAO,kFACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,+EACP,SAAY,aAEd,6DAA8D,CAC5D,IAAO,yDACP,SAAY,aAEd,2CAA4C,CAC1C,IAAO,yCACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,+DACP,SAAY,aAEd,0DAA2D,CACzD,IAAO,+KACP,SAAY,aAEd,oEAAqE,CACnE,IAAO,yDACP,SAAY,aAEd,sEAAuE,CACrE,IAAO,wDACP,SAAY,aAEd,sDAAuD,CACrD,IAAO,wDACP,SAAY,aAEd,2CAA4C,CAC1C,IAAO,mDACP,SAAY,aAEd,sDAAuD,CACrD,IAAO,wCACP,SAAY,aAEd,4DAA6D,CAC3D,IAAO,mDACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,oCACP,SAAY,aAEd,yDAA0D,CACxD,IAAO,wDACP,SAAY,aAEd,yDAA0D,CACxD,IAAO,wDACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,kDACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,+DACP,SAAY,aAEd,2DAA4D,CAC1D,IAAO,yDACP,SAAY,aAEd,4DAA6D,CAC3D,IAAO,yDACP,SAAY,aAEd,8DAA+D,CAC7D,IAAO,0DACP,SAAY,aAEd,wCAAyC,CACvC,IAAO,2FACP,SAAY,aAEd,oDAAqD,CACnD,IAAO,sCACP,SAAY,aAEd,2DAA4D,CAC1D,IAAO,uDACP,SAAY,aAEd,gFAAiF,CAC/E,IAAO,yDACP,SAAY,aAEd,iEAAkE,CAChE,IAAO,8DACP,SAAY,aAEd,+EAAgF,CAC9E,IAAO,kGACP,SAAY,aAEd,2EAA4E,CAC1E,IAAO,sJACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,0CACP,SAAY,aAEd,+BAAgC,CAC9B,IAAO,oDACP,SAAY,aAEd,8BAA+B,CAC7B,IAAO,gDACP,SAAY,aAEd,0DAA2D,CACzD,IAAO,8DACP,SAAY,aAEd,qCAAsC,CACpC,IAAO,6BACP,SAAY,aAEd,wCAAyC,CACvC,IAAO,2DACP,SAAY,aAEd,uDAAwD,CACtD,IAAO,4CACP,SAAY,aAEd,wDAAyD,CACvD,IAAO,wCACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,yDACP,SAAY,aAEd,6BAA8B,CAC5B,IAAO,yEACP,SAAY,aAEd,6BAA8B,CAC5B,IAAO,wBACP,SAAY,aAEd,kEAAmE,CACjE,IAAO,+DACP,SAAY,aAEd,kCAAmC,CACjC,IAAO,uFACP,SAAY,aAEd,gCAAiC,CAC/B,IAAO,sCACP,SAAY,aAEd,gCAAiC,CAC/B,IAAO,eACP,SAAY,aAEd,6CAA8C,CAC5C,IAAO,+CACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,gDACP,SAAY,aAEd,4DAA6D,CAC3D,IAAO,6BACP,SAAY,aAEd,gEAAiE,CAC/D,IAAO,iCACP,SAAY,aAEd,yDAA0D,CACxD,IAAO,0BACP,SAAY,aAEd,wDAAyD,CACvD,IAAO,+CACP,SAAY,aAEd,2CAA4C,CAC1C,IAAO,4CACP,SAAY,aAEd,+CAAgD,CAC9C,IAAO,6CACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,gEACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,8EACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,kCACP,SAAY,aAEd,iDAAkD,CAChD,IAAO,mEACP,SAAY,aAEd,0DAA2D,CACzD,IAAO,+CACP,SAAY,aAEd,2DAA4D,CAC1D,IAAO,2CACP,SAAY,aAEd,iEAAkE,CAChE,IAAO,+CACP,SAAY,aAEd,sEAAuE,CACrE,IAAO,sDACP,SAAY,aAEd,kEAAmE,CACjE,IAAO,uDACP,SAAY,aAEd,0DAA2D,CACzD,IAAO,+CACP,SAAY,aAEd,yDAA0D,CACxD,IAAO,8CACP,SAAY,aAEd,2DAA4D,CAC1D,IAAO,2CACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,gEACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,0BACP,SAAY,aAEd,uDAAwD,CACtD,IAAO,0BACP,SAAY,aAEd,2CAA4C,CAC1C,IAAO,yCACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,2EACP,SAAY,aAEd,6DAA8D,CAC5D,IAAO,oFACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,0EACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,oEACP,SAAY,aAEd,4DAA6D,CAC3D,IAAO,mCACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,uBACP,SAAY,aAEd,wDAAyD,CACvD,IAAO,sCACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,uBACP,SAAY,aAEd,mDAAoD,CAClD,IAAO,2CACP,SAAY,aAEd,0DAA2D,CACzD,IAAO,sDACP,SAAY,aAEd,mEAAoE,CAClE,IAAO,sBACP,SAAY,aAEd,gFAAiF,CAC/E,IAAO,2DACP,SAAY,aAEd,oEAAqE,CACnE,IAAO,2CACP,SAAY,aAEd,mDAAoD,CAClD,IAAO,0BACP,SAAY,aAEd,uCAAwC,CACtC,IAAO,eACP,SAAY,aAEd,mCAAoC,CAClC,IAAO,iCACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,4CACP,SAAY,aAEd,yDAA0D,CACxD,IAAO,+EACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,8DACP,SAAY,aAEd,yDAA0D,CACxD,IAAO,0FACP,SAAY,aAEd,0DAA2D,CACzD,IAAO,wDACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,uBACP,SAAY,aAEd,0DAA2D,CACzD,IAAO,iCACP,SAAY,aAEd,6EAA8E,CAC5E,IAAO,qEACP,SAAY,aAEd,6EAA8E,CAC5E,IAAO,qEACP,SAAY,aAEd,qDAAsD,CACpD,IAAO,4BACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,8CACP,SAAY,aAEd,uCAAwC,CACtC,IAAO,sCACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,iDACP,SAAY,aAEd,4CAA6C,CAC3C,IAAO,0BACP,SAAY,aAEd,+CAAgD,CAC9C,IAAO,gCACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,mEACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,6DACP,SAAY,aAEd,mDAAoD,CAClD,IAAO,0BACP,SAAY,aAEd,qDAAsD,CACpD,IAAO,oCACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,+DACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,sBACP,SAAY,aAEd,2DAA4D,CAC1D,IAAO,6BACP,SAAY,aAEd,gEAAiE,CAC/D,IAAO,+GACP,SAAY,aAEd,+DAAgE,CAC9D,IAAO,iCACP,SAAY,aAEd,iEAAkE,CAChE,IAAO,mCACP,SAAY,aAEd,wDAAyD,CACvD,IAAO,0BACP,SAAY,aAEd,0DAA2D,CACzD,IAAO,4BACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,8DACP,SAAY,aAEd,gEAAiE,CAC/D,IAAO,iDACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,6CACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,uCACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,kFACP,SAAY,aAEd,qCAAsC,CACpC,IAAO,0DACP,SAAY,aAEd,oCAAqC,CACnC,IAAO,4CACP,SAAY,aAEd,kCAAmC,CACjC,IAAO,2DACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,4DACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,uDACP,SAAY,aAEd,wCAAyC,CACvC,IAAO,2FACP,SAAY,aAEd,4BAA6B,CAC3B,IAAO,mCACP,SAAY,aAEd,4BAA6B,CAC3B,IAAO,sDACP,SAAY,aAEd,2CAA4C,CAC1C,IAAO,2EACP,SAAY,aAEd,wCAAyC,CACvC,IAAO,uEACP,SAAY,aAEd,oDAAqD,CACnD,IAAO,uJACP,SAAY,aAEd,+BAAgC,CAC9B,IAAO,8BACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,6BACP,SAAY,aAEd,qEAAsE,CACpE,IAAO,mFACP,SAAY,aAEd,gEAAiE,CAC/D,IAAO,sCACP,SAAY,aAEd,4DAA6D,CAC3D,IAAO,iEACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,wBACP,SAAY,aAEd,4DAA6D,CAC3D,IAAO,kCACP,SAAY,aAEd,qDAAsD,CACpD,IAAO,0FACP,SAAY,aAEd,4DAA6D,CAC3D,IAAO,wCACP,SAAY,aAEd,4DAA6D,CAC3D,IAAO,wCACP,SAAY,aAEd,yDAA0D,CACxD,IAAO,qCACP,SAAY,aAEd,yDAA0D,CACxD,IAAO,qCACP,SAAY,aAEd,uDAAwD,CACtD,IAAO,mCACP,SAAY,aAEd,+DAAgE,CAC9D,IAAO,2CACP,SAAY,aAEd,mDAAoD,CAClD,IAAO,oDACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,uEACP,SAAY,aAEd,4DAA6D,CAC3D,IAAO,6EACP,SAAY,aAEd,2DAA4D,CAC1D,IAAO,8DACP,SAAY,aAEd,iEAAkE,CAChE,IAAO,oEACP,SAAY,aAEd,4DAA6D,CAC3D,IAAO,8BACP,SAAY,aAEd,6DAA8D,CAC5D,IAAO,8BACP,SAAY,aAEd,8DAA+D,CAC7D,IAAO,0CACP,SAAY,aAEd,6DAA8D,CAC5D,IAAO,kJACP,SAAY,aAEd,wDAAyD,CACvD,IAAO,kGACP,SAAY,aAEd,oDAAqD,CACnD,IAAO,mHACP,SAAY,aAEd,0DAA2D,CACzD,IAAO,oFACP,SAAY,aAEd,mDAAoD,CAClD,IAAO,iEACP,SAAY,aAEd,8DAA+D,CAC7D,IAAO,+FACP,SAAY,aAEd,uDAAwD,CACtD,IAAO,oIACP,SAAY,aAEd,4DAA6D,CAC3D,IAAO,6FACP,SAAY,aAEd,iDAAkD,CAChD,IAAO,iCACP,SAAY,aAEd,oDAAqD,CACnD,IAAO,mDACP,SAAY,aAEd,qEAAsE,CACpE,IAAO,uMACP,SAAY,aAEd,uDAAwD,CACtD,IAAO,mFACP,SAAY,aAEd,sDAAuD,CACrD,IAAO,kEACP,SAAY,aAEd,2DAA4D,CAC1D,IAAO,gFACP,SAAY,aAEd,8DAA+D,CAC7D,IAAO,gHACP,SAAY,aAEd,oDAAqD,CACnD,IAAO,oFACP,SAAY,aAEd,qDAAsD,CACpD,IAAO,sFACP,SAAY,aAEd,6DAA8D,CAC5D,IAAO,sDACP,SAAY,aAEd,6DAA8D,CAC5D,IAAO,4CACP,SAAY,aAEd,qEAAsE,CACpE,IAAO,qEACP,SAAY,aAEd,2DAA4D,CAC1D,IAAO,sFACP,SAAY,aAEd,0DAA2D,CACzD,IAAO,uEACP,SAAY,aAEd,oDAAqD,CACnD,IAAO,mDACP,SAAY,aAEd,qDAAsD,CACpD,IAAO,iCACP,SAAY,aAEd,sDAAuD,CACrD,IAAO,qDACP,SAAY,aAEd,uDAAwD,CACtD,IAAO,mCACP,SAAY,aAEd,0DAA2D,CACzD,IAAO,sCACP,SAAY,aAEd,kEAAmE,CACjE,IAAO,8CACP,SAAY,aAEd,0DAA2D,CACzD,IAAO,uDACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,oCACP,SAAY,aAEd,uCAAwC,CACtC,IAAO,+DACP,SAAY,aAEd,oCAAqC,CACnC,IAAO,0BACP,SAAY,aAEd,4CAA6C,CAC3C,IAAO,mCACP,SAAY,aAEd,+BAAgC,CAC9B,IAAO,uEACP,SAAY,aAEd,2BAA4B,CAC1B,IAAO,uDACP,SAAY,aAEd,mCAAoC,CAClC,IAAO,6HACP,SAAY,aAEd,wCAAyC,CACvC,IAAO,kDACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,mDACP,SAAY,aAEd,4BAA6B,CAC3B,IAAO,iBACP,SAAY,aAEd,uCAAwC,CACtC,IAAO,6DACP,SAAY,aAEd,wCAAyC,CACvC,IAAO,4BACP,SAAY,aAEd,wCAAyC,CACvC,IAAO,0CACP,SAAY,aAEd,+CAAgD,CAC9C,IAAO,4BACP,SAAY,aAEd,2DAA4D,CAC1D,IAAO,8DACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,4BACP,SAAY,aAEd,4CAA6C,CAC3C,IAAO,8BACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,+CACP,SAAY,aAEd,wCAAyC,CACvC,IAAO,8DACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,mEACP,SAAY,aAEd,wCAAyC,CACvC,IAAO,2EACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,yFACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,8CACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,wDACP,SAAY,aAEd,gCAAiC,CAC/B,IAAO,4EACP,SAAY,aAEd,0BAA2B,CACzB,IAAO,oEACP,SAAY,aAEd,kCAAmC,CACjC,IAAO,uDACP,SAAY,aAEd,yBAA0B,CACxB,IAAO,4CACP,SAAY,aAEd,4BAA6B,CAC3B,IAAO,oDACP,SAAY,aAEd,mCAAoC,CAClC,IAAO,gEACP,SAAY,aAEd,6BAA8B,CAC5B,IAAO,8CACP,SAAY,aAEd,6BAA8B,CAC5B,IAAO,2BACP,SAAY,aAEd,yBAA0B,CACxB,IAAO,yCACP,SAAY,aAEd,qCAAsC,CACpC,IAAO,wBACP,SAAY,aAEd,iCAAkC,CAChC,IAAO,uCACP,SAAY,aAEd,iCAAkC,CAChC,IAAO,oCACP,SAAY,aAEd,+BAAgC,CAC9B,IAAO,oDACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,+BACP,SAAY,aAEd,mDAAoD,CAClD,IAAO,6DACP,SAAY,aAEd,uCAAwC,CACtC,IAAO,oDACP,SAAY,aAEd,yBAA0B,CACxB,IAAO,oCACP,SAAY,aAEd,2CAA4C,CAC1C,IAAO,iEACP,SAAY,aAEd,mCAAoC,CAClC,IAAO,8GACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,4GACP,SAAY,aAEd,6CAA8C,CAC5C,IAAO,wDACP,SAAY,aAEd,qCAAsC,CACpC,IAAO,yCACP,SAAY,aAEd,oCAAqC,CACnC,IAAO,gDACP,SAAY,aAEd,uCAAwC,CACtC,IAAO,mDACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,6DACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,6CACP,SAAY,aAEd,iCAAkC,CAChC,IAAO,+EACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,qCACP,SAAY,aAEd,+CAAgD,CAC9C,IAAO,iCACP,SAAY,aAEd,2CAA4C,CAC1C,IAAO,oBACP,SAAY,aAEd,0BAA2B,CACzB,IAAO,4LACP,SAAY,aAEd,6CAA8C,CAC5C,IAAO,8GACP,SAAY,aAEd,+CAAgD,CAC9C,IAAO,mFACP,SAAY,aAEd,qDAAsD,CACpD,IAAO,wFACP,SAAY,aAEd,+BAAgC,CAC9B,IAAO,6DACP,SAAY,aAEd,2BAA4B,CAC1B,IAAO,0EACP,SAAY,aAEd,kCAAmC,CACjC,IAAO,oFACP,SAAY,UAEd,gCAAiC,CAC/B,IAAO,0DACP,SAAY,UAEd,gDAAiD,CAC/C,IAAO,yDACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,yEACP,SAAY,aAEd,0BAA2B,CACzB,IAAO,iBACP,SAAY,aAEd,kCAAmC,CACjC,IAAO,oDACP,SAAY,aAEd,iCAAkC,CAChC,IAAO,2DACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,8DACP,SAAY,aAEd,sDAAuD,CACrD,IAAO,8FACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,gFACP,SAAY,aAEd,oCAAqC,CACnC,IAAO,iGACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,kGACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,0GACP,SAAY,aAEd,wCAAyC,CACvC,IAAO,yIACP,SAAY,aAEd,mDAAoD,CAClD,IAAO,qIACP,SAAY,aAEd,uCAAwC,CACtC,IAAO,oFACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,wGACP,SAAY,aAEd,6CAA8C,CAC5C,IAAO,sFACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,kFACP,SAAY,aAEd,6CAA8C,CAC5C,IAAO,4EACP,SAAY,aAEd,6CAA8C,CAC5C,IAAO,4EACP,SAAY,aAEd,4CAA6C,CAC3C,IAAO,0EACP,SAAY,aAEd,4BAA6B,CAC3B,IAAO,GACP,SAAY,aAEd,uDAAwD,CACtD,IAAO,+BACP,SAAY,aAEd,qDAAsD,CACpD,IAAO,iDACP,SAAY,aAEd,uBAAwB,CACtB,IAAO,+DACP,SAAY,UAEd,gCAAiC,CAC/B,IAAO,yKACP,SAAY,UAEd,mBAAoB,CAClB,IAAO,uEACP,SAAY,UAEd,wBAAyB,CACvB,IAAO,4FACP,SAAY,UAEd,wBAAyB,CACvB,IAAO,gDACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,iDACP,SAAY,aAEd,mDAAoD,CAClD,IAAO,uCACP,SAAY,aAEd,6CAA8C,CAC5C,IAAO,+BACP,SAAY,aAEd,SAAY,CACV,IAAO,sCACP,SAAY,aAEd,sBAAuB,CACrB,IAAO,+CACP,SAAY,aAEd,yBAA0B,CACxB,IAAO,2CACP,SAAY,aAEd,wBAAyB,CACvB,IAAO,sCACP,SAAY,aAEd,8BAA+B,CAC7B,IAAO,gFACP,SAAY,aAEd,uBAAwB,CACtB,IAAO,qEACP,SAAY,aAEd,wCAAyC,CACvC,IAAO,8HACP,SAAY,aAEd,oCAAqC,CACnC,IAAO,+CACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,qFACP,SAAY,aAEd,qCAAsC,CACpC,IAAO,0IACP,SAAY,aAEd,qCAAsC,CACpC,IAAO,yFACP,SAAY,aAEd,uCAAwC,CACtC,IAAO,gHACP,SAAY,aAEd,iCAAkC,CAChC,IAAO,oCACP,SAAY,aAEd,oCAAqC,CACnC,IAAO,wCACP,SAAY,aAEd,iCAAkC,CAChC,IAAO,0CACP,SAAY,aAEd,qCAAsC,CACpC,IAAO,gDACP,SAAY,aAEd,yBAA0B,CACxB,IAAO,mCACP,SAAY,aAEd,oCAAqC,CACnC,IAAO,iFACP,SAAY,aAEd,mCAAoC,CAClC,IAAO,sGACP,SAAY,aAEd,oCAAqC,CACnC,IAAO,2GACP,SAAY,aAEd,4CAA6C,CAC3C,IAAO,kHACP,SAAY,aAEd,mCAAoC,CAClC,IAAO,4GACP,SAAY,aAEd,kCAAmC,CACjC,IAAO,gQACP,SAAY,aAEd,uCAAwC,CACtC,IAAO,yDACP,SAAY,aAEd,wCAAyC,CACvC,IAAO,kEACP,SAAY,aAEd,mCAAoC,CAClC,IAAO,4FACP,SAAY,aAEd,2CAA4C,CAC1C,IAAO,6EACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,2EACP,SAAY,aAEd,gCAAiC,CAC/B,IAAO,6GACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,sDACP,SAAY,aAEd,kDAAmD,CACjD,IAAO,+DACP,SAAY,aAEd,sDAAuD,CACrD,IAAO,4EACP,SAAY,aAEd,2CAA4C,CAC1C,IAAO,iCACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,4CACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,mDACP,SAAY,aAEd,mDAAoD,CAClD,IAAO,8DACP,SAAY,aAEd,+CAAgD,CAC9C,IAAO,oDACP,SAAY,aAEd,oDAAqD,CACnD,IAAO,+DACP,SAAY,aAEd,oCAAqC,CACnC,IAAO,mDACP,SAAY,aAEd,6CAA8C,CAC5C,IAAO,qHACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,wFACP,SAAY,aAEd,+BAAgC,CAC9B,IAAO,gFACP,SAAY,aAEd,kCAAmC,CACjC,IAAO,sHACP,SAAY,aAEd,gCAAiC,CAC/B,IAAO,4EACP,SAAY,aAEd,mCAAoC,CAClC,IAAO,yJACP,SAAY,aAEd,gCAAiC,CAC/B,IAAO,uGACP,SAAY,aAEd,uCAAwC,CACtC,IAAO,mDACP,SAAY,aAEd,kCAAmC,CACjC,IAAO,8CACP,SAAY,aAEd,oCAAqC,CACnC,IAAO,0CACP,SAAY,aAEd,qCAAsC,CACpC,IAAO,kDACP,SAAY,aAEd,oCAAqC,CACnC,IAAO,wCACP,SAAY,aAEd,wCAAyC,CACvC,IAAO,4DACP,SAAY,aAEd,qCAAsC,CACpC,IAAO,4PACP,SAAY,aAEd,iDAAkD,CAChD,IAAO,2EACP,SAAY,aAEd,mDAAoD,CAClD,IAAO,2EACP,SAAY,aAEd,gDAAiD,CAC/C,IAAO,0DACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,8BACP,SAAY,aAEd,mCAAoC,CAClC,IAAO,oCACP,SAAY,aAEd,gCAAiC,CAC/B,IAAO,wCACP,SAAY,aAEd,uCAAwC,CACtC,IAAO,iCACP,SAAY,aAEd,wCAAyC,CACvC,IAAO,+BACP,SAAY,aAEd,eAAkB,CAChB,IAAO,+BACP,SAAY,aAEd,eAAkB,CAChB,IAAO,4CACP,SAAY,aAEd,QAAW,CACT,IAAO,uCACP,SAAY,aAEd,+BAAkC,CAChC,IAAO,iGACP,SAAY,aAEd,iCAAoC,CAClC,IAAO,oGACP,SAAY,aAEd,2BAA8B,CAC5B,IAAO,gFACP,SAAY,aAEd,kCAAmC,CACjC,IAAO,0DACP,SAAY,aAEd,mCAAoC,CAClC,IAAO,8FACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,mCACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,kDACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,0DACP,SAAY,aAEd,2BAA4B,CAC1B,IAAO,sCACP,SAAY,aAEd,kBAAmB,CACjB,IAAO,+CACP,SAAY,aAEd,+BAAgC,CAC9B,IAAO,uCACP,SAAY,aAEd,wBAAyB,CACvB,IAAO,kBACP,SAAY,aAEd,6BAA8B,CAC5B,IAAO,uBACP,SAAY,aAEd,sCAAuC,CACrC,IAAO,gCACP,SAAY,aAEd,gCAAiC,CAC/B,IAAO,6BACP,SAAY,aAEd,4BAA6B,CAC3B,IAAO,yBACP,SAAY,aAEd,8BAA+B,CAC7B,IAAO,gDACP,SAAY,aAEd,6BAA8B,CAC5B,IAAO,uBACP,SAAY,aAEd,8BAA+B,CAC7B,IAAO,2BACP,SAAY,aAEd,oDAAqD,CACnD,IAAO,8CACP,SAAY,aAEd,mCAAoC,CAClC,IAAO,sCACP,SAAY,aAEd,8BAA+B,CAC7B,IAAO,+BACP,SAAY,aAEd,2BAA4B,CAC1B,IAAO,0BACP,SAAY,aAEd,kCAAmC,CACjC,IAAO,+BACP,SAAY,aAEd,0BAA2B,CACzB,IAAO,kDACP,SAAY,aAEd,2BAA4B,CAC1B,IAAO,wBACP,SAAY,aAEd,qCAAsC,CACpC,IAAO,+BACP,SAAY,aAEd,iCAAkC,CAChC,IAAO,8CACP,SAAY,aAEd,wBAAyB,CACvB,IAAO,yBACP,SAAY,aAEd,kCAAmC,CACjC,IAAO,oDACP,SAAY,aAEd,4CAA6C,CAC3C,IAAO,gDACP,SAAY,aAEd,mCAAoC,CAClC,IAAO,wCACP,SAAY,aAEd,gCAAiC,CAC/B,IAAO,gCACP,SAAY,aAEd,uCAAwC,CACtC,IAAO,iCACP,SAAY,aAEd,mCAAoC,CAClC,IAAO,iCACP,SAAY,aAEd,oCAAqC,CACnC,IAAO,sCACP,SAAY,aAEd,6CAA8C,CAC5C,IAAO,qEACP,SAAY,aAEd,iCAAkC,CAChC,IAAO,6BACP,SAAY,aAEd,6BAA8B,CAC5B,IAAO,0DACP,SAAY,aAEd,kCAAmC,CACjC,IAAO,qDACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,6DACP,SAAY,aAEd,iCAAkC,CAChC,IAAO,+BACP,SAAY,aAEd,gCAAiC,CAC/B,IAAO,iCACP,SAAY,aAEd,4BAA6B,CAC3B,IAAO,sEACP,SAAY,aAEd,8BAA+B,CAC7B,IAAO,uCACP,SAAY,aAEd,oBAAqB,CACnB,IAAO,gCACP,SAAY,aAEd,2BAA4B,CAC1B,IAAO,2BACP,SAAY,aAEd,iCAAkC,CAChC,IAAO,oDACP,SAAY,aAEd,4BAA6B,CAC3B,IAAO,iCACP,SAAY,aAEd,8CAA+C,CAC7C,IAAO,0GACP,SAAY,aAEd,2BAA4B,CAC1B,IAAO,qBACP,SAAY,aAEd,yCAA0C,CACxC,IAAO,mCACP,SAAY,aAEd,wBAAyB,CACvB,IAAO,qDACP,SAAY,aAEd,uCAAwC,CACtC,IAAO,6CACP,SAAY,aAEd,4CAA6C,CAC3C,IAAO,8DACP,SAAY,aAEd,iCAAkC,CAChC,IAAO,kDACP,SAAY,aAEd,0CAA2C,CACzC,IAAO,6DACP,SAAY,aAEd,oCAAqC,CACnC,IAAO,qDACP,SAAY,aAEd,iCAAkC,CAChC,IAAO,wCACP,SAAY,aAEd,0BAA2B,CACzB,IAAO,oCACP,SAAY,aAEd,iCAAoC,CAClC,IAAO,gDACP,SAAY,aAEd,gBAAiB,CACf,IAAO,UACP,SAAY,c,eC53EhB,MAAMC,EAA4C,CAChDC,WAAY,CACV7b,IAAK,0BAEP,uBAAwB,CACtBA,IAAK,6DAEP,2DAA4D,CAC1DA,IAAK,sDAOH,MAAO8b,EACX3S,UAAU4S,EAAiBC,EAAenG,GACxC,MAAMoG,EAAWF,EAAQ5nB,MAAM,oBAC3B8nB,GAAYA,EAAS,KACvBF,EAAUA,EAAQv3B,QAAQy3B,EAAS,GAAI,UAEzC,IAAI7gC,EAAe,GACnBe,QAAQI,IAAI,4CAA6Cw/B,GACrDC,GACF7/B,QAAQI,IAAI,UAAWy/B,GAEzB,MAAMt6B,EAAQk6B,EAAaG,IAAYJ,EAAUI,IAAY,KAC7D,GAAgB,6CAAZA,GAA0DC,EAAS,CACrE,GAAIA,EAAQE,OAER9gC,EADmC,6BAAjC4gC,EAAQE,OAAO3zB,cACF,iCAC2B,8BAAjCyzB,EAAQE,OAAO3zB,cACT,mCAC2B,qBAAjCyzB,EAAQE,OAAO3zB,cACT,6BAEA,GAAG7G,EAAMse,SAASgc,EAAQE,cAEtC,GAAqB,MAAjBF,GAASG,KAA4B,MAAbtG,EACjCz6B,EAAe,0FACV,CACL,IAAIghC,EAAW38B,KAAKC,UAAUs8B,GAC1BI,EAASpzB,OAAS,MACpBozB,EAAW,QACXjgC,QAAQuF,MAAM,WAAYs6B,IAE5B5gC,EAAe,GAAGsG,EAAMse,OAAOoc,G,CAEjCjgC,QAAQI,IAAIy/B,E,MACP,GAAIt6B,EACTtG,EAAesG,EAAMse,SAErB,IAAmD,IAA/C+b,EAAQvY,QAAQ,4BAAsF,IAAlDuY,EAAQvY,QAAQ,6BACtEpoB,EACE,+JACG,CACL,IAAI2gC,GAAS1+B,WAAW,oCAQtB,MAAO,uBAAyB0+B,EAR2B,CAC3D,MAAMM,EAAQN,EAAQ1rB,MAAM,2CAC5B,IAAK,IAAInE,KAAQmwB,EACf,GAAInwB,EAAK7O,WAAW,6BAClB,OAAO6O,EAAK1H,QAAQ,aAAc,G,EAQ5C,OAAOpJ,CACT,CAAC,+B,cAtDU0gC,EAAoB,6B,0BAApBA,EAAoB1S,MAAAA,I,sLCT3B,MAAOrK,EAaXnnB,YACU0kC,EACAC,EACAld,EACAmd,GAHA,KAAAF,aAAAA,EACA,KAAAC,KAAAA,EACA,KAAAld,iBAAAA,EACA,KAAAmd,uBAAAA,EAhBD,KAAAC,YAAc,MACd,KAAAC,eAAiB,IACjB,KAAAC,SAAW,GAEX,KAAAC,oBAA8B,8CACvC,KAAAC,MAAQ,GAaN3kC,KAAK4kC,kBAAoBniC,EAAAA,GAAUoiC,kBACrC,CACAtI,KAAKjmB,EAAcwuB,EAAiBvR,EAAiBwR,EAAiB9Z,EAAYtmB,GAChF3E,KAAKsW,KAAOA,EACZtW,KAAK8kC,QAAUA,EACf9kC,KAAKuzB,QAAUA,EACfvzB,KAAK+kC,QAAUA,EACf/kC,KAAKirB,GAAKA,EACVjrB,KAAK2E,IAAMA,CACb,CACMqgC,YAAYrgC,EAAasmB,GAAU,sCACvC,EAAKtmB,IAAMA,EACX,EAAKsmB,GAAKA,EACV,EAAK3U,KAAO,EAAKwuB,QAAU,EAAKvR,QAAU,EAAKwR,aAAU1kC,EACzD,MAAO4kC,EAAM1R,EAASwR,SAAiBjV,QAAQoV,IAAI,CAAC,EAAK/d,iBAAiBge,YAAYC,YAAa,EAAKC,WAAW1gC,GAAM,EAAK2gC,WAAW3gC,KACrIsgC,GAAQ1R,IAAYwR,GAAuB,OAAZA,IACjC,EAAKxI,KAAK0I,EAAK3uB,KAAM2uB,EAAKM,SAAUhS,EAASwR,EAAS9Z,EAAItmB,EAC3D,GAPsC,EAQzC,CACa6gC,qBAAqB5F,EAAmB/3B,EAAcqX,EAAwB,GAAIhM,GAAQ,sCACrG,EAAKuyB,SAAS7F,EAAc/3B,EAAMqX,EAAehM,GAAU,EAAO,GADmC,EAEvG,CACawyB,oBAAoBvF,EAAkBt4B,EAAcqL,GAAQ,sCACvE,EAAKuyB,SAAS,CAACtF,GAAct4B,EAAM,GAAIqL,GAAU,EAAM,GADgB,EAEzE,CACcuyB,SAAS7F,EAAmB/3B,EAAcqX,EAAwB,GAAIhM,EAAUyyB,GAAsB,sCAElH,GADA,EAAKhB,MAAM9a,KAAK,CAAE+V,eAAc/3B,OAAMqL,aACZ,IAAtB,EAAKyxB,MAAM7zB,OACb,KAAO,EAAK6zB,MAAM7zB,OAAS,GAAG,CAC5B,KAAO,EAAK6zB,MAAM7zB,OAAS,GACzB,EAAK6zB,MAAM,GAAGzxB,SAAS,MACvB,EAAKyxB,MAAMpF,QAEb,IAAIqG,GAAQ,EACZ,IAAK,IAAIp7B,EAAI,EAAGA,EAAI,GAAMo7B,GAASp7B,EAAI,EAAIA,IAAK,CAC9C,IAAIyM,EAAI,EACR,MAAQ,EAAKX,MAAM,CACjB,KAAIW,EAAI,IAKN,OAFA,EAAK0tB,MAAM,GAAGzxB,SAAS,CAAE1J,MAAO,EAAKk7B,2BACrC,EAAKC,MAAMpF,cAHL,EAAK6E,aAAayB,MAAM,KAMhC5uB,G,OAEI,EAAK6uB,UAAU,EAAKnB,MAAM,GAAG/E,aAAc,EAAK+E,MAAM,GAAG98B,KAAMqX,EAAeymB,GACjF3jB,MAAM2F,IACL,EAAKgd,MAAM,GAAGzxB,SAASyU,EAAI,IAE5Boe,MAAK,0BAAC,UAAOv8B,GACRA,EAAM8jB,SAA6B,wDAAlB9jB,EAAM8jB,UAAsEsY,GAC/F3hC,QAAQI,IAAI,wBACN,EAAK2gC,YAAY,EAAKrgC,IAAK,EAAKsmB,IACtC2a,GAAQ,GAER,EAAKjB,MAAM,GAAGzxB,SAAS,CAAE1J,SAE7B,IAAC,mDARK,G,CAUV,EAAKm7B,MAAMpF,O,CAEd,GArCiH,EAsCpH,CACcuG,UAAUtR,EAAiB3sB,EAAcqX,EAAuBymB,GAAyB,GAAK,sCAC1G,IAAK,EAAKrvB,KACR,OAAO,KAET,MAAM0vB,EAAa,CACjBlG,IAAK,EACLmG,SAAU1oB,KAAK2oB,IACbzjC,EAAAA,GAAU0jC,YAAYC,6BACtB7oB,KAAK8oB,MAAM5jC,EAAAA,GAAU0jC,YAAYG,0BAA4B9R,EAAW1jB,OAAS,KAEnFy1B,aAAc9jC,EAAAA,GAAU0jC,YAAYK,kCAEtC,IAAK,MAAM1V,KAAM0D,EACfvwB,QAAQI,IAAIysB,GACP6U,IACE7U,EAAGhZ,SACNgZ,EAAGhZ,OAAS,GAEqB,QAA/BgZ,EAAGta,YAAYxL,MAAM,EAAG,IAAiBkU,IAC3C4R,EAAGhZ,OAAS,OAGhBgZ,EAAGmV,SAAWD,EAAWC,SACzBnV,EAAGyV,aAAeP,EAAWO,aAE/B,GAAI,EAAKjwB,MAAQ,EAAKid,UAAY,EAAKwR,SAA4B,OAAjB,EAAKA,SAAmB,CACxE,MAAMpQ,EAAKgR,EACP,EAAKxe,iBAAiBsf,wBAAwB,EAAKnwB,KAAM,EAAKid,QAAS,EAAKwR,QAASvQ,EAAW,GAAIwR,EAAWlG,IAAK,EAAK7U,GAAI,EAAKtmB,KAClI,EAAKwiB,iBAAiBuf,wBACpB,EAAKpwB,KACL,EAAKid,QACL,EAAKwR,QACLvQ,EACA,EAAK7vB,IACL,EAAKsmB,GACLpjB,EACAm+B,EAAWlG,IACX5gB,GAEAvb,QAAe,EAAKgjC,SAAShS,GAChCyQ,YACAW,OAAO/hC,IACNC,QAAQC,KAAKF,GACN,QAEX,GAAIL,GAAUA,EAAOijC,SAAU,CAC7B,IAAIC,GAAS,EACb,MAAMC,EAAS,GACf,IAAK,MAAMt8B,KAAK7G,EAAOijC,SACrB,GAAgC,WAA5BjjC,EAAOijC,SAASp8B,GAAGu8B,KACrBF,GAAS,MACJ,KAAI,CAAC,cAAe,eAAez+B,SAASzE,EAAOijC,SAASp8B,GAAGu8B,OAAiE,YAAxDpjC,EAAOijC,SAASp8B,GAAGw0B,SAASgI,iBAAiB1vB,OAM1H,OAAO,KANyI,CAChJ,MAAMnE,EAAgB5R,OAAOiJ,IAAmC,WAA7B7G,EAAOijC,SAAS,IAAIG,MAAqB,EAAI,GAC1EE,EAAQ9zB,GAAS,EAAIqhB,EAAWrhB,GAAS,MACzC,IAAE+zB,EAAG,QAAEC,GAAY,EAAKC,WAAWzjC,EAAOijC,SAASp8B,GAAIy8B,GAC7DH,EAAOjd,KAAK,CAAEoc,SAAUiB,EAAKX,aAAcY,G,EAK/C,aAAa,EAAKhgB,iBACfkgB,WAAW1S,GACXra,MACC4Y,EAAAA,EAAAA,KAASoU,IACP,MAAMta,EAAQsa,EAAIx2B,OAAS,EAAI,GACzBo2B,EAAM,EAAKK,cAAcT,GACzBK,EAAU,EAAKK,kBAAkBV,GACjCW,EAAgC,CACpCC,aAAcZ,EACdhH,IAAK,EAAK6H,aAAab,EAAQD,EAAQ7Z,GACvC4a,KAAM,EAAKC,QAAQf,GACnBI,MACAC,UACAN,UAGF,OADA5iC,QAAQI,IAAIkD,KAAKC,UAAUigC,KACpBtU,EAAAA,EAAAA,IAAGsU,EAAI,KAGjBrC,W,CACE,GAA+B,kBAApBzhC,GAAQ8jB,UAA4C,IAAnB9jB,EAAO8jB,QAExD,MADAxjB,QAAQI,IAAIV,GACN,IAAIyG,MAAMzG,EAAO+jB,QAAQI,I,CAGnC,OAAO,IAAK,GArF8F,EAsF5G,CACAsf,WAAWU,EAAcnT,GACvB,IAAIoT,EAAW,EACXH,EAAOtuB,IAAI,GASf,GARIwuB,EAAQnxB,QAAUmxB,EAAQnxB,SAAW3W,KAAK2E,MAC5CijC,EAAOA,EAAKI,MAAMF,EAAQhwB,OAASgwB,EAAQhwB,OAAS,KACpD8vB,EAAOA,EAAKI,MAAMF,EAAQhI,IAAMgI,EAAQhI,IAAM,KAC9C8H,EAAOA,EAAKI,MAAMF,EAAQ5uB,QAAU4uB,EAAQ5uB,QAAU,MAEpD4uB,EAAQtxB,aAAesxB,EAAQtxB,cAAgBxW,KAAK2E,MACtDijC,EAAOA,EAAKK,KAAKH,EAAQhwB,OAASgwB,EAAQhwB,OAAS,MAEjDgwB,EAAQ9I,SAASgI,iBAAiBkB,gBACpC,IAAK,MAAMC,KAAiBL,EAAQ9I,SAASgI,iBAAiBkB,gBACxDC,EAAcxpB,WAAa3e,KAAK2E,MAClCijC,EAAOA,EAAKI,MAAMG,EAAchS,SAItC,GAAI2R,EAAQ9I,SAASkJ,gBACnB,IAAK,MAAMC,KAAiBL,EAAQ9I,SAASkJ,gBACvCC,EAAcxpB,WAAa3e,KAAK2E,MAClCijC,EAAOA,EAAKI,MAAMG,EAAchS,SAKtC,GADA4R,GAAYD,EAAQ9I,SAASgI,iBAAiBoB,kBAAoB7qB,KAAK8qB,KAAK9mC,OAAOumC,EAAQ9I,SAASgI,iBAAiBoB,mBAAqB,KAAQ,EAC9IN,EAAQ9I,SAASsJ,2BACnB,IAAK,MAAMC,KAAkBT,EAAQ9I,SAASsJ,2BAC5C,GAAIC,EAAe5kC,SACb4kC,EAAe5kC,OAAOykC,oBACxBL,GACEQ,EAAe5kC,QAAU4kC,EAAe5kC,OAAOykC,kBAAoB7qB,KAAK8qB,KAAK9mC,OAAOgnC,EAAe5kC,OAAOykC,mBAAqB,KAAQ,GAEvIG,EAAe5kC,OAAOukC,iBACxB,IAAK,MAAMC,KAAiBI,EAAe5kC,OAAOukC,gBAC5CC,EAAcxpB,WAAa3e,KAAK2E,KAA4C,MAArCwjC,EAAchS,OAAOnrB,MAAM,EAAG,KACvE48B,EAAOA,EAAKI,MAAMG,EAAchS,SAO5C,MAAMqS,EAAejrB,KAAKwI,MAAM6hB,EAAOrmC,OAAOvB,KAAKukC,cACnD,GACEwD,EAAW,GACXA,EAAWtlC,EAAAA,GAAU0jC,YAAYC,8BACjCoC,EAAe,GACfA,EAAe/lC,EAAAA,GAAU0jC,YAAYK,iCAErC,MAAM,IAAIp8B,MAAM,2BAElB,OAAOpK,KAAKyoC,YAAYX,EAASnT,EAAIoT,EAAUS,EACjD,CAIAb,aAAab,EAAaD,EAAiB7Z,GAIzC,IAAI0b,EAAW,EACXC,EAAqB,EACrB9B,IACF6B,GAAY1oC,KAAKwkC,eACjBmE,KAEF,IAAK,MAAMnoC,KAAQsmC,EACjB4B,GAAYloC,EAAKylC,SACjB0C,IAGF,OADA3b,GAAS,GAAK2b,EACPpnC,OACL+X,IAAIiE,KAAK8qB,KAfQ,IACA,EAcuBrb,EAbpB,GAa4C0b,IAC7DnvB,IAAI,KACJxI,WAEP,CACAw2B,cAAcT,GACZ,IAAIS,EAAgB,EACpB,IAAK,MAAM/mC,KAAQsmC,EACjBS,GAAiB/mC,EAAKylC,SAExB,OAAOsB,CACT,CACAC,kBAAkBV,GAChB,IAAIU,EAAoB,EACxB,IAAK,MAAMhnC,KAAQsmC,EACjBU,GAAqBhnC,EAAK+lC,aAE5B,OAAOiB,CACT,CACAK,QAAQf,GACN,IAAIU,EAAoBluB,IAAI,GAC5B,IAAK,MAAM9Y,KAAQsmC,EACjBU,EAAoBA,EAAkBS,KAAKznC,EAAK+lC,cAElD,OAAOhlC,OAAO+X,IAAIkuB,GAAmB3H,MAAM7/B,KAAKukC,aAAahrB,IAAI,WAAWxI,WAC9E,CACA41B,SAAShS,GAEP,OADAA,EAAGqF,UAAY,sGACRh6B,KAAKmnB,iBACTyhB,QAAQ,wDAAyD,CAChEC,UAAWlU,EACX4Q,SAAUvlC,KAAK8kC,UAEhBxqB,MACC4Y,EAAAA,EAAAA,KAASvL,IACP3nB,KAAKmnB,iBAAiB2hB,aAAa,CAACnhB,KAC7BwL,EAAAA,EAAAA,IAAGxL,OAGbrN,MACCyuB,EAAAA,EAAAA,IAAYhhB,GACH/nB,KAAKmnB,iBAAiB6hB,WAAWjhB,KAGhD,CACQ0gB,YAAYX,EAAcnT,EAASoT,EAAkBS,GAE3D,IAAIS,EAAkB,CAAC,EACvB,MAAMjxB,EAAa8vB,GAAS/H,YAAY/nB,WAClCxB,EAAcsxB,GAAStxB,YAC7B,GAAIwB,GAAcxB,EAAa,CAC7B,MAAM0yB,EAA6BlpC,KAAK4kC,kBAAkB,GAAGpuB,KAAewB,KACxEkxB,IACFD,EAAQC,E,CAIZ,IAAKD,EAAM/B,IAAK,CACd,IAAIiC,EAA4B,EAChC,GAAIxU,GAAIwU,kBACN,GAAInpC,KAAKskC,uBAAuB4C,IAAIvS,EAAGwU,mBACrCA,EAAoB5nC,OAAOozB,EAAGwU,wBACzB,GAAInpC,KAAKskC,uBAAuB8E,cAAczU,EAAGwU,mBAAoB,CAC1E,IAAIE,EAAqB9nC,OAAOozB,EAAGwU,kBAAkBn+B,MAAM,GAAI,IAC/Dq+B,EAAa9rB,KAAK2oB,IAAI3oB,KAAKC,IAAI6rB,EAAY,GAAI,KAC/CF,EAAoB5rB,KAAKwI,MAAMgiB,GAAY,EAAIsB,EAAa,K,CAGhE,MAAMC,EAAgB/rB,KAAKC,IAAID,KAAK8qB,KAAgB,KAAXN,GAAkBxqB,KAAKwI,MAAMgiB,EAAW/nC,KAAKykC,WACtFwE,EAAM/B,IAAM3pB,KAAKC,IAAI2rB,EAAmBG,E,CAG1C,IAAKL,EAAM9B,QAAS,CAClB,IAAIoC,EAAgC,EACpC,GAAI5U,GAAI4U,sBACN,GAAIvpC,KAAKskC,uBAAuB6C,QAAQxS,EAAG4U,uBACzCA,EAAwBhoC,OAAOozB,EAAG4U,4BAC7B,GAAIvpC,KAAKskC,uBAAuB8E,cAAczU,EAAG4U,uBAAwB,CAC9E,MAAMF,EAAqB9nC,OAAOozB,EAAG4U,sBAAsBv+B,MAAM,GAAI,IACrEu+B,EAAwBhsB,KAAKwI,MAAMyiB,GAAgB,EAAIa,EAAa,K,CAGxE,MAAMG,EAAoBjsB,KAAKwI,MAAMyiB,GACrCS,EAAM9B,QAAU5pB,KAAKC,IAAI+rB,EAAuBC,E,CAElD,OAAOP,CACT,CACc5D,WAAW1gC,GAAW,sCAClC,OAAO,EAAKwiB,iBAAiBsiB,OAAO,6CAA6C9kC,aAAeygC,WAAY,GAD1E,EAEpC,CACcE,WAAW3gC,GAAW,sCAClC,OAAO,EAAKwiB,iBAAiBsiB,OAAO,6CAA6C9kC,iBAAmBygC,WAAY,GAD9E,EAEpC,CAAC,+B,cA/UUve,GAAe,0E,MAAfA,EAAe4O,QAAf5O,EAAe,O,qFCNtB,MAAO6iB,EAIXhqC,YAAoBiW,GAAA,KAAAA,eAAAA,EAHH,KAAAg0B,SAAW,SACX,KAAAC,kBAAoB,IAC9B,KAAAnuB,OAAS,IAAIoiB,IAElB79B,KAAK6pC,WACP,CACMrL,oBAAoB1C,EAAS,GAAC,sCAClC,MACM9L,EAAM,CACV+L,MAAO,0CACyBD,8PAW5BvxB,cACEG,MAfQ,oCAeO,CACnBC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElB1J,KAAMqG,KAAKC,UAAUwoB,MAEvBgM,OACF,GAAIzxB,GAAU/J,MAAMyY,OAAOnI,OAAQ,CAClB,IAAXgrB,IACF,EAAKrgB,OAAS,IAAIoiB,KAEpB,IAAK,MAAM7hB,KAAKzR,EAAS/J,KAAKyY,MAAO,CACnC,MAAM6wB,EAAW9tB,EAAE+tB,UAAUrpB,QAAO,CAACP,EAAGlJ,IACnCA,GAAG+yB,aAAiB7pB,GAAG6pB,aAAezoC,OAAO0V,EAAE+yB,aAAezoC,OAAO4e,EAAE6pB,cAAkB/yB,GAAG+yB,cAAgB7pB,GAAG6pB,YAAe/yB,EAAIkJ,IAEtG,yCAA7B2pB,GAAU7wB,OAAOxC,SAAmF,IAA7BqzB,GAAU7wB,OAAOpB,UAE1FiyB,EAASG,SAAW,KAEtB,EAAKxuB,OAAO9N,IAAI,GAAGm8B,EAAS7wB,MAAMxC,WAAWqzB,EAAS7wB,MAAMpB,UAAWqyB,QAAQ3oC,OAAOuoC,GAAUG,WAAaH,GAAUG,SAAW,I,EAGlI1/B,GAAU/J,MAAMyY,OAAOnI,QAAU,EAAK84B,kBACxC,EAAKpL,oBAAoB1C,EAAS,EAAK8N,mBAC9B,EAAKnuB,OAAO3V,MACrB,EAAKqkC,OAEA,GA5C2B,EA6CpC,CACAA,QACE,MAAMC,EAAMj9B,OAAOk9B,YAAYrqC,KAAKyb,QACpCub,aAAaoD,QACXp6B,KAAK2pC,SACLpiC,KAAKC,UAAU,CACb8iC,UAAWF,KAGfpqC,KAAK2V,eAAe40B,cAAcnnC,KAAK,KACzC,CACAymC,YACE,MAAM7N,EAAOhF,aAAaC,QAAQj3B,KAAK2pC,UACvC,GAAI3N,EAAM,CACR,MAAMwO,EAASjjC,KAAKqvB,MAAMoF,GAC1B,GAAIwO,GAAQF,UAAW,CACrB,IAAK,MAAM14B,KAAOzE,OAAO0E,KAAK24B,EAAOF,WACnCtqC,KAAKyb,OAAO9N,IAAIiE,EAAK44B,EAAOF,UAAU14B,IAExC5R,KAAK2V,eAAe40B,cAAcnnC,KAAK,K,EAG7C,CAAC,+B,cA1EUsmC,GAAa,wC,MAAbA,EAAajU,QAAbiU,EAAa,KAAApP,WAFZ,S,qFCQR,MAAOmQ,EACX/qC,YAAmB42B,GAAA,KAAAA,YAAAA,CAA2B,CACxCoU,cAAcj0B,GAAe,sCACjC,OAAO,EAAK6f,YAAYoU,cAAcj0B,EAAS,GADd,EAEnC,CACMk0B,qBAAqBl0B,GAAe,sCACxC,OAAO,EAAK6f,YAAYqU,qBAAqBl0B,EAAS,GADd,EAE1C,CACM6c,YAAY7c,EAAiB2c,EAA0B,IAAE,sCAC7D,OAAO,EAAKkD,YAAYhD,YAAY7c,EAAS2c,EAAe,GADC,EAE/D,CACMkB,cAAc7d,EAAiB2c,EAAyB7U,GAAoB,sCAChF,OAAO,EAAK+X,YAAYhC,cAAc7d,EAAS2c,EAAe7U,EAAQ,GADU,EAElF,CACMqsB,iBAAiB9/B,EAAyBjC,EAAYgiC,EAAiBC,EAAAA,EAAeC,KAAG,sCAC7F,OAAO,EAAKzU,YAAYsU,iBAAiB9/B,EAAiBjC,EAAIgiC,EAAgB,GADe,EAE/F,CAAC,+B,cAhBUJ,GAAc,yC,MAAdA,EAAchV,QAAdgV,EAAc,KAAAnQ,WAFb,S,gGCJR,MAAO0Q,EAGXtrC,YAAoB0kC,GAAA,KAAAA,aAAAA,EAFZ,KAAAO,MAAQ,GAChB,KAAAsG,SAAU,CACuC,CAE3ClpB,aAAajX,EAAiBjC,GAAE,2BACpC,MAAMmnB,EAAM,CACV+L,MAAO,gDAC+BjxB,yBAAuCjC,sPAStBiC,4JAObA,yBAAuCjC,kKAMjDiC,0EAMlC,IACE,MAAMnH,cACE+G,MAAMjI,EAAAA,GAAUyoC,UAAW,CAC/BvgC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElB1J,KAAMqG,KAAKC,UAAUwoB,MAEvBgM,OACF,MAAO,IACFr4B,GAAQnD,MAAMyY,MAAM,GACvBmJ,UAAWze,GAAQnD,MAAM8c,MAAM,IAAI6tB,UACnChpB,YAAaxe,GAAQnD,MAAM4qC,GAAG,IAAIjpB,YAClCG,SAAU3e,GAAQnD,MAAM4qC,GAAG,IAAI9oB,S,CAEjC,MAAOte,GAEP,YADAC,QAAQuF,MAAMxF,E,CAEf,GAlDmC,EAmDtC,CACMqnC,kBAAkB50B,GAAO,sCAC7B,IAAKhU,EAAAA,GAAUyoC,UACb,MAAO,CAAC,EAEV,KAAO,EAAKvG,MAAM7zB,QAAU,WAEpB,EAAKszB,aAAayB,MAAM,KAMhC,OAJK,EAAKoF,UACR,EAAKA,SAAU,EACf,EAAKK,WAEA,IAAIxb,SAAQ,CAACC,EAASa,KAC3B,EAAK+T,MAAM9a,KAAK,CAAEpT,UAASsZ,UAASa,UAAS,GAC5C,GAd0B,EAe/B,CAEM0a,UAAO,sCACX5pC,YAAU,QAAC,YACT,EAAKupC,SAAU,EACf,MAAMtG,EAAQ,EAAKA,MACnB,EAAKA,MAAQ,GACb,MAAM4G,EAAY5G,EAAMtzB,KAAKm6B,GACpBA,EAAE/0B,UAELg1B,QAAc,EAAKC,mBAAmBH,GAAWxF,OAAO/hC,IAC5D,IAAK,MAAMwnC,KAAK7G,EAEd,MADA6G,EAAE5a,OAAO5sB,GACHA,C,IAGV,KAAO2gC,EAAM7zB,QAAQ,CACnB,MAAM66B,EAAUhH,EAAMpF,QAClBkM,EAAME,EAAQl1B,UAAU5W,KAC1B8rC,EAAQ5b,QAAQ0b,EAAME,EAAQl1B,UAE9Bk1B,EAAQ5b,QAAQ,K,CAGtB,IAAG,IAAM,GAtBE,EAuBb,CAEM2b,mBAAmBE,GAA2B,2BAClD,IAAKnpC,EAAAA,IAAWyoC,UACd,OAEF,MAAMlb,EAAM,CACV+L,MAAO,yCACwBx0B,KAAKC,UAAUokC,mFAO1CC,eAEInhC,MAAMjI,EAAAA,GAAUyoC,UAAW,CAC/BvgC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElB1J,KAAMqG,KAAKC,UAAUwoB,MAEvBgM,SACDx7B,MAAM4qC,GACHU,EAAc,CAAC,EACrB,GAAID,EACF,IAAK,MAAME,KAASF,EAClBC,EAAOC,EAAMptB,UAAY,CAAE9e,KAAMksC,EAAMlsC,KAAMshC,KAAM4K,EAAM5K,MAI7D,OADAl9B,QAAQI,IAAI,qBAAsBynC,GAC3BA,CAAO,GA/BoC,EAgCpD,CAAC,+B,cAnIUd,GAAY,wC,MAAZA,EAAYvV,QAAZuV,EAAY,KAAA1Q,WAFX,S,qMCyBFwQ,EAIX,MAJD,SAAYA,GACVA,EAAAA,EAAAA,IAAAA,GAAAA,MACAA,EAAAA,EAAAA,SAAAA,GAAAA,WACAA,EAAAA,EAAAA,YAAAA,GAAAA,aACD,CAJD,CAAYA,IAAAA,EAAc,KAAdA,GAIX,GAKK,MAAOkB,EAIXtsC,YAAoBiW,GAAA,KAAAA,eAAAA,EAHpB,KAAAs2B,kBAAoB,CAAC,EACZ,KAAAC,sBAAgC,IAGvClsC,KAAKmsC,MAAQ,IAAIC,EAAAA,GAAa3pC,EAAAA,GAAU4pC,SAAS,IACjD,MAAMC,EAAiB,IAAIzO,IAAqB,CAC9C,CAAC,OAAQ,IAAI0O,EAAAA,GAAgB,wBAC7B,CAAC,gBAAiB,IAAIC,EAAAA,MAElBC,EAAyB,IAAIC,EAAAA,GAAiBJ,GACpDtsC,KAAKmsC,MAAMQ,aAAa,IAAIC,EAAAA,GAAaH,GAC3C,CACM9B,qBAAqBhmC,GAAW,2BACpC,OAAO+F,MAAM,GAAGjI,EAAAA,GAAUi6B,mDAAmD/3B,KAC1Eqd,MAAMzX,GAAaA,EAASyxB,SAC5Bha,MAAMxhB,GACLA,EACG6Q,KAAKsjB,GACkB,YAAfA,GAAIrd,QAAyD,uBAAjCqd,GAAIkY,oBAAoB9F,KAAgCpS,EAAGkY,mBAAmBp2B,QAAU,KAE5HuD,QAAQvD,GAAoBA,EAAQ3F,UACvC,GATgC,EAUtC,CAEMg8B,qBAAqBC,GAAwB,2BACjD,OAAKA,GAAgBj8B,OAGdpG,MAAM,GAAGjI,EAAAA,GAAUi6B,yCAAyCqQ,EAAejuB,KAAK,QACpFkD,MAAM2F,GACEA,EAAIqU,SAEZha,MAAM3E,IACL,IAAIsK,EAAM,CAAC,EACX,IAAK,IAAInd,EAAI,EAAGA,EAAI6S,EAAEvM,OAAQtG,IACxB6S,EAAE7S,IAAI3B,IAAMwU,EAAE7S,GAAG8L,MAAQ+G,EAAE7S,GAAGkO,QAChCiP,EAAI,IAAItK,EAAE7S,GAAG3B,MAAQ,CAAEyN,KAAM+G,EAAE7S,GAAG8L,KAAMoC,MAAO2E,EAAE7S,GAAGkO,QAGxD,OAAOiP,CAAG,IAbL,CAAC,CAcL,GAhB4C,EAiBnD,CACM2L,YAAY7c,EAAiB2c,GAAuB,sCACxD,MAAMI,EAAkB,GAClBhzB,cAAoBkK,MAAM,GAAGjI,EAAAA,GAAUi6B,oBAAoBjmB,MAAYulB,OACvEgR,EAAgBv2B,EAAQtR,WAAW,YAAc,EAAK8nC,oBAAoBx2B,GAAW,GAC3F,GAAIjW,EAAM,CACR,GAAIwsC,GAAel8B,OACjB,IAAK,MAAMmI,KAAS+zB,EACb5Z,EAAchrB,SAAS6Q,EAAMpB,UAChC2b,EAAgB3J,KAAK5Q,EAAMpB,SAIjCm1B,EAAc/8B,MAAK,SAAUC,EAAQC,GACnC,OAAID,EAAE2H,QAAU1H,EAAE0H,SACR,EAED,CAEX,IACA,MAAM6P,GAAmBlnB,EAAK0Y,QAAU1Y,EAAK0Y,QAAU,KAAO1Y,EAAK+yB,QAAU/yB,EAAK+yB,QAAU,KAAOyZ,EAAgBzlC,KAAKC,UAAUwlC,GAAiB,IAC7InyB,EAAQoP,EAAOpiB,KAAK6f,GACpBpR,EAAOisB,EAAAA,WAAmB,UAAUze,OAAOjJ,GAAOqyB,OAAO,OAC/D,GAAIxlB,GAAuB,OAAZA,EAAkB,CAE/B,MAAO,CAAE6L,QAASjd,EAAMkd,kBAAiB/X,OAAQuxB,EAAe9zB,aAD9B7Y,IAAlBG,GAAM0Y,QAAwB1Y,EAAK0Y,QAAU,E,EAIjE,MAAO,CAAEqa,QAAS,GAAI9X,OAAQuxB,EAAgB,GA3BU,EA4B1D,CACMtC,cAAcj0B,GAAe,2BACjC,MAAM6c,cAA2B5oB,MAAM,GAAGjI,EAAAA,GAAUi6B,oBAAoBjmB,MAAYulB,OACpF,OAAOkO,QAAQ5W,IAAsC,SAAtBA,GAAapqB,MAAmBoqB,GAAapa,SAAWoa,GAAa6Z,oBAAqB,GAFxF,EAGnC,CACM7Y,cAAc7d,EAAiB2c,EAAyB7U,GAAoB,sCAChF,MAAM6uB,QAAY1iC,MAAM,GAAGjI,EAAAA,GAAUi6B,oBAAoBjmB,iEACtDuL,MAAMzX,GAAaA,EAASyxB,SAC5Bha,MAAMxhB,GACLA,EACG6Q,KAAKsjB,IACJ,IAAKA,EAAG0Y,eAAiB9uB,EAAOyU,WAAW2B,EAAG/rB,OAAO6N,SAAU,CAC7D,MAAMa,EAAiC,YAAdqd,EAAGrd,OAAuB1B,EAAAA,GAAS2B,UAAY3B,EAAAA,GAAS6B,OACjF,IAAIjB,EAAc,CAAEC,QAAS,IACzBqB,EAAS,IACTE,EAAa,GACbs1B,EAAO,GACX,OAAQ3Y,EAAGzrB,MACT,IAAK,cACH,GAAIuN,IAAYke,EAAG/rB,OAAO6N,SAAWA,IAAYke,EAAGkI,OAAOpmB,QACzD,OAAO,KAETD,EAAcme,EAAG/rB,OACjBkP,EAAS6c,EAAG7c,OAAO/G,WACnBiH,EAAa,EAAKu1B,kBAAkB5Y,GACpC2Y,EAAO3Y,GAAI9rB,GAAK,IAAI8rB,EAAG9rB,KAAO,GAC9B,MACF,IAAK,aACH,GAAI4N,IAAYke,EAAGkI,OAAOpmB,QACxB,OAAO,KAETD,EAAcme,EAAG6Y,YAAc7Y,EAAG6Y,YAAc,CAAE/2B,QAAS,IAC3DqB,EAAS,IACTw1B,EAAO3Y,GAAI9rB,GAAK,IAAI8rB,EAAG9rB,KAAO,GAC9B,MACF,IAAK,cACH2N,EAAcme,EAAGkY,mBACblY,EAAG8Y,kBACL31B,EAAS6c,EAAG8Y,gBAAgB18B,YAE9Bu8B,EAAO3Y,GAAI9rB,GAAK,IAAI8rB,EAAG9rB,KAAO,GAC9B,MACF,QAEE,OADA5E,QAAQI,IAAI,iBAAiBswB,EAAGzrB,QACzB,KAeX,MAb2B,CACzBA,KAAMyrB,EAAGzrB,KACTwP,MAAOic,EAAGjc,MACVpB,SACAQ,SACAnB,OAAQge,EAAGkI,OACXrmB,cACAF,KAAMqe,EAAGre,KACTid,QAASoB,EAAGpB,QACZnC,UAAW,IAAIc,KAAKyC,EAAGvD,WAAWe,UAClCna,aACAs1B,O,KAKLtzB,QAAQowB,GAAQA,MAEjB5W,EAA4B,GAC5Bka,cAAwBhjC,MAAM,GAAGjI,EAAAA,GAAUi6B,0CAA0CjmB,qCAA2CulB,OAChI2R,EAAW,GACXC,EAAQ,GACd,IAAK,IAAIpjC,EAAI,EAAGA,EAAIkjC,EAAS58B,SAAUtG,EAAG,CACxC,GAAIqjC,EAAAA,GAA4BzlC,SAASslC,EAASljC,GAAGyO,MAAM0F,SAASlI,SAClE,SAEF,MAAMoB,EAAU,GAAG61B,EAASljC,GAAGyO,MAAM0F,SAASlI,WAAWi3B,EAASljC,GAAGyO,MAAMpB,UAC3E,GAAI61B,EAASljC,GAAGyO,MAAM0F,UAAY9G,EAAS,CACpCub,EAAchrB,SAASyP,IAC1B2b,EAAgB3J,KAAKhS,GAEvB,MAAMlB,EAAc,CAAEF,QAASi3B,EAASljC,GAAG3C,MAAM4O,SACxB,KAArBi3B,EAASljC,GAAG3C,MAAe6lC,EAASljC,GAAGyO,MAAM0F,WAC/ChI,EAAOF,QAAUi3B,EAASljC,GAAGmU,SAASlI,SAEpCi3B,EAASljC,GAAGsjC,eACdF,EAAM/jB,KAAK6jB,EAASljC,GAAGsjC,eAEzB,MAAMz3B,EAAqB,CACzBnN,KAAM,cACNwP,MAAO,GACPpC,KAAM,GACNgB,OAAQ1B,EAAAA,GAAS2B,UACjBO,OAAQ41B,EAASljC,GAAGsN,OACpBD,UACAlB,SACAH,YAAa,CAAEC,QAASi3B,EAASljC,GAAG1C,IAAI2O,SAAW,IACnD2a,UAAW,IAAIc,KAAKwb,EAASljC,GAAG4mB,WAAWe,UAC3Cmb,KAAMI,EAASljC,GAAGsjC,cAAgB,IAAIJ,EAASljC,GAAGsjC,qBAAkBztC,GAEtEstC,EAAS9jB,KAAKxT,E,EAGlB,MAAM03B,QAAc,EAAKjB,qBAAqBc,GAC9C,IAAK,MAAM30B,KAAS00B,EACdI,EAAM90B,GAAOq0B,QACfr0B,EAAMP,MAAQq1B,EAAM90B,GAAOq0B,MAAM50B,MACjCO,EAAM3C,KAAOy3B,EAAM90B,GAAOq0B,MAAMh3B,MAYpC,MAAO,CAAEke,WATQmZ,EACd3f,OAAOof,GACPpzB,QAAQ2a,GAA0B,aAAnBA,GAAI3c,YAAgD,UAAnB2c,GAAI3c,aACpD/H,MAAK,SAAUC,EAAQC,GACtB,OAAIA,EAAEihB,YAAclhB,EAAEkhB,WAAalhB,EAAEo9B,MAAQn9B,EAAEm9B,KACtC9zB,SAAS,IAAIF,IAAJ,CAAQnJ,EAAEm9B,KAAKU,UAAU,IAAIhG,MAAM93B,EAAEo9B,KAAKU,UAAU,IAAIj9B,YAEnEZ,EAAEihB,UAAYlhB,EAAEkhB,SACzB,IACmBoC,kBAAkB,GA9GyC,EA+GlF,CACQ+Z,kBAAkB5Y,GACxB,OAAOA,GAAI3c,YAAc2c,GAAIoI,WAAW/kB,YAAc,EACxD,CACM4yB,iBAAiB9/B,EAAyBjC,EAAYgiC,GAA8B,sCACxF,IAAIoD,EACAC,EAAY,MAChB,MAAMr2B,EAAU,GAAG/M,KAAmBjC,IA8BtC,OA7BI,EAAKojC,kBAAkBp0B,KACzBo2B,EAAO,EAAKhC,kBAAkBp0B,GAASoB,MAAM+lB,SAC7CkP,EAAY,EAAKjC,kBAAkBp0B,GAASoB,MAAMk1B,UAA+D,UAAnD,EAAKlC,kBAAkBp0B,GAASoB,MAAMk1B,SAAuB,QAAU,OAEnIF,IACF,EAAKG,kBAAkBH,EAAMnjC,EAAiBjC,GAC9C,EAAKwlC,eAAeJ,SAGC5tC,IAAnB4tC,GAAMx0B,WACRw0B,EAAKx0B,SAAW,GAEZw0B,IAASA,EAAKpuC,MAAQouC,EAAK5uB,UAAYlD,MAAM8xB,EAAKx0B,WAAaw0B,EAAKx0B,UAAY,GAAMoxB,IAAmBC,EAAewD,cAC5HL,EAAO,MAEJA,GAAQpD,IAAmBC,EAAeyD,WAC7CtqC,QAAQq6B,MAAM,sBAAuB,CAAExzB,kBAAiBjC,OACxDolC,QAAa,EAAKO,4BAA4B1jC,EAAiBjC,GAC3DolC,IACF,EAAKG,kBAAkBH,EAAMnjC,EAAiBjC,GAC9C,EAAKwlC,eAAeJ,UAGD5tC,IAAnB4tC,GAAMx0B,WACRw0B,EAAKx0B,SAAW,GAEZw0B,IAASA,EAAKpuC,MAAQouC,EAAK5uB,UAAYlD,MAAM8xB,EAAKx0B,WAAaw0B,EAAKx0B,UAAY,IACpFw0B,EAAO,MAEJA,EAIE,IAAKA,EAAMC,cAHhBjqC,QAAQC,KAAK,wBAAwB2E,mBAAoBiC,KAClD,KAEqB,GArC0D,EAsC1F,CACM0jC,4BAA4B1jC,EAAiBjC,GAAE,sCACnD,IACE,MAAM8V,QAAiB,EAAKwtB,MAAMxtB,SAAS8vB,GAAG3jC,EAAiB4jC,EAAAA,IAC/D,IAAI1P,EACJ,GAAI,CAAC,wCAAwC52B,SAAS0C,GAAkB,CAEtE,MAAM6T,QAAiB,EAAKwtB,MAAMxtB,SAAS8vB,GAAG3jC,GAExC6jC,SADqBhwB,EAASwoB,WACTyH,mBAAmBtiC,QAAQ,YAAazD,GAC7D0B,cAAwBG,MAAMikC,IAAa3S,OAC7CzxB,IACFA,EAASsN,QAAUhP,EACnBm2B,EAAWz0B,E,MAGby0B,QAAiBrgB,EAAS+vB,SAAS9D,iBAAiBrpC,OAAOsH,IAE7D,OAAOm2B,C,CACP,MAAOh7B,GACP,OAAO,I,CACR,GApBkD,EAqBrD,CACMipC,oBAAoBx2B,GAAe,sCACvC,MAAMo4B,EAAU,0BAAG,UAAO/S,GACxB,IAAInU,cACIjd,MAAM,GAAGjI,EAAAA,GAAUi6B,mCAAmCjmB,YAAkBqlB,WAAgB,EAAKoQ,uCACnGlQ,OACF,OAAIrU,GAAK7W,OACH6W,EAAI7W,SAAW,EAAKo7B,sBAEf,IAAIvkB,WAAeknB,EAAW/S,EAAS,EAAKoQ,wBAE5CvkB,EAGF,EAEX,IAAC,gBAde,sCAehB,IAAImnB,QAA2BD,EAAW,GAC1C,MAAM7B,EAAyB,GAC/B,IAAK,IAAIxiC,EAAI,EAAGA,EAAIskC,EAAmBh+B,SAAUtG,EAC/C,GAAIskC,EAAmBtkC,IAAI0O,SAAW41B,EAAmBtkC,GAAGyO,OAAO0F,UAAUlI,cAAoDpW,IAAzCyuC,EAAmBtkC,GAAGyO,OAAOpB,QAAuB,CAC1I,MAAMA,EAAkB,GAAGi3B,EAAmBtkC,GAAGyO,MAAM0F,SAASlI,WAAWq4B,EAAmBtkC,GAAGyO,MAAMpB,UACvGm1B,EAAcnjB,KAAK,CAAEhS,UAASqB,QAAS41B,EAAmBtkC,GAAG0O,UAC7D,EAAK+yB,kBAAkBp0B,GAAWi3B,EAAmBtkC,E,CAGzD,OAAOwiC,CAAc,GAzBkB,EA0BzC,CACQqB,eAAeJ,GACrB,MAAMp8B,EAAO,CACX,CAAED,IAAK,OAAQ1I,KAAM,UACrB,CAAE0I,IAAK,UAAW1I,KAAM,UACxB,CAAE0I,IAAK,SAAU1I,KAAM,UACvB,CAAE0I,IAAK,kBAAmB1I,KAAM,UAChC,CAAE0I,IAAK,KAAM1I,KAAM,UACnB,CAAE0I,IAAK,WAAY1I,KAAM,UACzB,CAAE0I,IAAK,cAAe1I,KAAM,UAC5B,CAAE0I,IAAK,cAAe1I,KAAM,SAAU6lC,SAAS,GAC/C,CAAEn9B,IAAK,aAAc1I,KAAM,SAAU6lC,SAAS,GAC9C,CAAEn9B,IAAK,eAAgB1I,KAAM,SAAU6lC,SAAS,GAChD,CAAEn9B,IAAK,iBAAkB1I,KAAM,WAC/B,CAAE0I,IAAK,qBAAsB1I,KAAM,WACnC,CAAE0I,IAAK,kBAAmB1I,KAAM,WAChC,CAAE0I,IAAK,SAAU1I,KAAM,UACvB,CAAE0I,IAAK,MAAO1I,KAAM,UACpB,CAAE0I,IAAK,cAAe1I,KAAM,WAE9B,IAAI81B,EAAgB,CAAC,EACrB,IAAK,MAAM9uB,KAAK2B,EACd,UAAWo8B,EAAK/9B,EAAE0B,OAAS1B,EAAEhH,KAAM,CACjC,GAAIgH,EAAE6+B,QAAS,CAEb,GAAId,GAAMe,SAASl+B,QAAUkjB,MAAMC,QAAQga,GAAMe,SAAU,CACzD,MAAM77B,EAAQ86B,EAAKe,QAAQvrB,WAAWtT,GAAMA,EAAEhH,MAAQ8kC,EAAK/9B,EAAE0B,QAC9C,IAAXuB,GAAgB86B,EAAKe,QAAQ77B,GAAOhK,KAAO8kC,EAAKe,QAAQ77B,GAAOpM,WACjEknC,EAAK/9B,EAAE0B,KAAO,CAAEzI,IAAK8kC,EAAK/9B,EAAE0B,KAAM7K,SAAUknC,EAAKe,QAAQ77B,GAAOpM,U,CAGzC,iBAAhBknC,EAAK/9B,EAAE0B,OAChBq8B,EAAK/9B,EAAE0B,KAAO,CAAEzI,IAAK8kC,EAAK/9B,EAAE0B,KAAM7K,SAAU,W,CAGhDi4B,EAAS9uB,EAAE0B,KAAOq8B,EAAK/9B,EAAE0B,I,CAG7B,OAAOotB,CACT,CACQoP,kBAAkBH,EAAWnjC,EAAyBjC,IAgE1D,SAAqDrI,GACzD,IAAK,MAAMoR,KAAOpR,EAIhB,GAHIoR,EAAIq9B,OAAO,GAAG5+B,gBAAkBuB,EAAIq9B,OAAO,KAC7CzuC,EAAKoR,EAAIq9B,OAAO,GAAG5+B,cAAgBuB,EAAI5G,MAAM,IAAMxK,EAAKoR,KAEhC,IAAtBA,EAAI0Z,QAAQ,KAAa,CAC3B,MAAM4jB,EAAc,GACpB,IAAK,IAAI1kC,EAAI,EAAGA,EAAIoH,EAAId,OAAQtG,IAAK,CACnC,MAAM2kC,EAAOv9B,EAAIq9B,OAAOzkC,GACX,MAAT2kC,GACFD,EAAYrlB,KAAKjY,EAAIq9B,OAAOzkC,EAAI,GAAG4kC,eACnC5kC,KAEA0kC,EAAYrlB,KAAKslB,E,CAGrB,MAAME,EAAWH,EAAYpwB,KAAK,IAC7Bte,EAAKiqB,eAAe4kB,KACvB7uC,EAAK6uC,GAAY7uC,EAAKoR,UACfpR,EAAKoR,G,CAIpB,CAtFI09B,CAA2CrB,GAC3C,IAAK,IAAIr8B,KAAOzE,OAAO0E,KAAKo8B,GACD,iBAAdA,EAAKr8B,KACdq8B,EAAKr8B,GAAO,GAAGq8B,EAAKr8B,MAGxB5R,KAAKuvC,yBAAyBtB,EAAMnjC,EAAiBjC,GACjDolC,GAAMuB,gBAAkD,iBAAzBvB,GAAMuB,iBACvCvB,EAAKuB,eAAwD,UAAvCvB,EAAKuB,gBAAgBn/B,gBAA2E,SAAvC49B,EAAKuB,gBAAgBn/B,oBAAkChQ,IAEpI4tC,GAAMwB,oBAA0D,iBAA7BxB,GAAMwB,qBAC3CxB,EAAKwB,mBACwC,UAA3CxB,EAAKwB,oBAAoBp/B,gBAA+E,SAA3C49B,EAAKwB,oBAAoBp/B,oBAAkChQ,IAExH4tC,GAAMyB,iBAAoD,iBAA1BzB,GAAMyB,kBACxCzB,EAAKyB,gBAA0D,UAAxCzB,EAAKyB,iBAAiBr/B,gBAA4E,SAAxC49B,EAAKyB,iBAAiBr/B,oBAAkChQ,GAE7I,CACAkvC,yBAAyBtB,EAAWnjC,EAAyBjC,GAEtC,UAAjBolC,GAAM5uB,UACH4uB,EAAK0B,YAAc1B,EAAKe,SAASl+B,SACpCm9B,EAAK0B,WAAa1B,EAAKe,QAAQ,GAAG7lC,KAEhC8kC,EAAK0B,YAAc1B,EAAK2B,qBACnB3B,EAAK2B,cAGZ,CAAC,uCAAwC,wCAAwCxnC,SAAS0C,IAAiCmjC,GAAMe,SACpG,iBAApBf,EAAKe,QAAQ,KACtBf,EAAKe,QAAUznC,KAAKqvB,MAAMqX,EAAKe,UAIX,yCAApBlkC,GAA8DmjC,GAAM4B,oBAC/D5B,EAAK4B,YAGT5B,EAAK0B,YAAe1B,EAAK2B,eAAgB3B,GAAM6B,OAClD7B,EAAK2B,aAAe,CAAEzmC,IAAK8kC,EAAK6B,KAAM/oC,SAAU,YAG3B,yCAApB+D,GACqB,yCAApBA,GACoB,yCAApBA,GACoB,yCAApBA,IACFmjC,GAAMe,SAASl+B,SAEfm9B,EAAK0B,WAAa1B,EAAK4B,YAAc5B,EAAKe,SAASt+B,MAAMq/B,GAAMA,GAAGhpC,UAAU5B,WAAW,aAAc8oC,EAAK0B,YAEpF,yCAApB7kC,IAEFmjC,EAAK2B,aAAe,CAAEzmC,IAAK8kC,EAAK2B,aAAc7oC,SAAU,cAGlC,yCAApB+D,IACFmjC,EAAK2B,aAAe3B,EAAK0B,WAAa1B,EAAKe,QAAQ,GAAG7lC,IAE1D,CACM6mC,uBAAuBrxB,EAAkB3G,GAAkB,2BAC/D,mBAAqBtN,MAAM,GAAGjI,EAAAA,GAAUi6B,qBAAqB/d,iBAAwB3G,gCAAyCgkB,SAASiU,mBAAoB,GAD5F,EAEjE,CAAC,+B,cA5XUjE,GAAW,wC,MAAXA,EAAWvW,QAAXuW,EAAW,KAAA1R,WAFV,S,uJC3BR,MAAO4V,EACXxwC,YAAoBynB,EAA4C3R,GAA5C,KAAA2R,iBAAAA,EAA4C,KAAA3R,UAAAA,CAA8B,CAI9F26B,UAAUA,GACR,OAAOnwC,KAAKmnB,iBAAiBqE,cAAc2kB,EAC7C,CACA1O,SAASA,GACP,OAAkC,IAA3B2O,EAAO3O,GAAU4O,KAC1B,CACAC,wBAAwB7O,GACtB,IAAKA,EACH,MAAO,GAET,OAAQ2O,EAAO3O,GAAU4O,OACvB,KAAK,EACH,OAAOrwC,KAAKwV,UAAU+C,QAAQ,yCAEhC,KAAK,EACH,OAAOvY,KAAKwV,UAAU+C,QAAQ,qCAEhC,KAAK,EAGL,KAAK,EACH,OAAOvY,KAAKwV,UAAU+C,QAAQ,iCAEhC,KAAK,EACH,OAAOvY,KAAKwV,UAAU+C,QAAQ,mCAEhC,QACE,MAAO,GAGb,CACA9B,QAAQA,GACN,OAAOzW,KAAKmnB,iBAAiB2D,aAAarU,EAC5C,CACAqP,uBAAuBrP,GACrB,OAAOzW,KAAKmnB,iBAAiB2D,aAAarU,IAAoC,QAAxBA,EAAQzL,MAAM,EAAG,EACzE,CACAulC,aAAaC,EAAoBC,GAC/B,OAAQA,GACN,IAAK,SAEL,IAAK,QACH,OAAOzwC,KAAK0wC,MAAMF,GACpB,IAAK,SACH,OAAOxwC,KAAK2wC,cAAcH,GAC5B,IAAK,UACH,OAAOxwC,KAAK4wC,eAAeJ,GAC7B,IAAK,SACH,OAAOxwC,KAAK6wC,YAAYL,GAC1B,QACE,OAAO,EAEb,CACAG,cAAcG,GAIZ,MADW,0BACDC,KAAKD,EACjB,CACAJ,MAAMA,GAGJ,MADE,4JACQK,KAAKL,EACjB,CACAG,YAAYG,GACV,MAAM9gC,EAAI8gC,EAAO74B,MAAM,KAEvB,IAAK,MAAM84B,KAAO/gC,EAChB,IAAK+gC,EAAIngC,OACP,OAAO,EAGX,OAAOZ,EAAEY,QAAU,GAAKrO,EAAAA,GAAUyuC,aAAaC,YAAY/oC,SAAS8H,EAAEA,EAAEY,OAAS,GACnF,CACA8/B,eAAeE,GAGb,MADW,6BACDC,KAAKD,EACjB,CACAM,UAAUvoC,GAER,MADW,WACDkoC,KAAKloC,EACjB,CACA8iB,WAAWA,GACT,OAAO,CACT,CACA7T,OAAOA,EAAgB2B,EAAmB,GACxC,MACM43B,EAAO,IAAIn1B,OAAO,mBADHzC,EAAW,aAAcA,WAAoB,MACN,KAC5D,MAAe,KAAX3B,GAA4B,MAAXA,MAGVvW,OAAOuW,KAAWA,EAAOmE,MAAMo1B,GAK5C,CACAvR,IAAIA,GACF,OAAO9/B,KAAK8X,OAAOgoB,EACrB,CACAoH,IAAIpvB,GACF,MAAe,KAAXA,GAA4B,MAAXA,MAGVvW,OAAOuW,IAAW,EAAIvW,OAAOuW,IAAWvW,OAAOuW,GAAU,GAAM,EAM5E,CACAqvB,QAAQrvB,GACN,OAAO9X,KAAKknC,IAAIpvB,EAClB,CACAsxB,cAAcH,GACZ,SAAIA,GAAOn4B,OAAS,GAAKm4B,EAAM9jC,WAAW,MAAQ8jC,EAAMqI,SAAS,OACxDtxC,KAAKknC,IAAI+B,EAAMj+B,MAAM,GAAI,GAGpC,CACAid,KAAKA,GACH,SAAIA,GAAwB,KAAhBA,EAAKnX,SAAiBmX,EAAKhM,MAAM,gBAM/C,CACAiS,eAAe9H,GAEb,SADUA,EAAKnK,MAAM,iCACH,cAATmK,EAIX,CACAmrB,UAAUjoB,GACR,SAAIA,IAAOA,EAAIrN,MAAM,eAKvB,CACAu1B,iBAAiB9pB,GACf,QAAIA,EAAQzL,MAAM,yEAIpB,CACAw1B,gBAAgBnoB,GACd,IACE,IAAKtpB,KAAKuxC,UAAUjoB,GAClB,MAAM,IAAIlf,MAAM,oBAElB,GAAwB,OAApBkf,EAAIte,MAAM,EAAG,GACf,MAAM,IAAIZ,MAAM,kBAElB,MAAMsnC,GAAgBC,EAAAA,EAAAA,IAAaC,EAAAA,mBAAmBC,cAAcvoB,EAAIte,MAAM,KAC9E/G,QAAQI,IAAI,sBAAuBqtC,E,CACnC,MAAO1tC,GAEP,OADAC,QAAQC,KAAKF,EAAEspB,QAAU,aAAetpB,EAAEspB,QAAUtpB,IAC7C,C,CAET,OAAO,CACT,CACA8tC,gBAAgBljB,GACd,GAAImjB,EAAAA,GAAAA,cAAoBnjB,GACtB,MAAO,GAGT,MAAMojB,EAAYpjB,GAAOzW,MAAM,KAAK6B,QAAQi4B,GAAMA,GAAGnhC,OAAS,IAAGA,OACjE,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,IAAI1I,SAAS4pC,GAAY,CAC7C,IAAIjE,EAAQ,GACZ,GAAIiE,GAAa,IAAMA,GAAa,GAAI,CAEtCjE,EADciE,EAAY,EAAK,EAChB,sBAAwB,sB,CAEzC,MAAO,4BAA4BA,IAAYjE,G,CAGjD,GAAInf,GAAOzW,MAAM,KACf,IAAK,IAAI0W,KAAQD,GAAOzW,MAAM,KAAK6B,QAAQi4B,GAAMA,GAAGnhC,OAAS,IAAI,CAE/D,GAAiB,IADPya,EAAAA,GAAgBwD,QAAQ/U,QAAQi4B,GAAMA,IAAMpjB,IAChD/d,QAAgB+d,EACpB,MAAO,sBAAsBA,G,CAKnC,MAAO,6DACT,CAAC,+B,cAnMUqhB,GAAsB,oD,MAAtBA,EAAsBza,QAAtBya,EAAsB,O,uICHvBr6B,EAOX,MAPD,SAAYA,GACVA,EAAAA,EAAAA,YAAAA,GAAAA,cACAA,EAAAA,EAAAA,aAAAA,GAAAA,eACAA,EAAAA,EAAAA,OAAAA,GAAAA,SACAA,EAAAA,EAAAA,OAAAA,GAAAA,SACAA,EAAAA,EAAAA,QAAAA,GAAAA,UACAA,EAAAA,EAAAA,MAAAA,GAAAA,OACD,CAPD,CAAYA,IAAAA,EAAU,KAAVA,GAOX,GAKK,MAAOq8B,EAMXxyC,YACUynB,EACAgrB,EACA11B,EACAqI,EACAstB,GAJA,KAAAjrB,iBAAAA,EACA,KAAAgrB,aAAAA,EACA,KAAA11B,cAAAA,EACA,KAAAqI,uBAAAA,EACA,KAAAstB,oBAAAA,EAVH,KAAAC,QAGD,GACE,KAAAC,eAAyC,CAAC,EAQhDtyC,KAAKuyC,WACP,CACAA,aACOvyC,KAAKqyC,QAAQvhC,QAAU9Q,KAAKyc,cAAc8B,QAAUve,KAAKyc,cAAc8B,OAAOi0B,QAAQ1hC,SACzF7M,QAAQq6B,MAAM,mCACdt+B,KAAKqyC,QAAUryC,KAAKyc,cAAc8B,OAAOi0B,QAE7C,CACAt8B,IAAIO,EAAiB5W,EAAcuX,GAEjC,MAAM,EAAE7I,EAAC,EAAEM,GAAM7O,KAAKmT,MAAMsD,EAASW,IAC1B,IAAP7I,GACS,IAAPM,EACF7O,KAAKqyC,QAAQ9jC,GAAG/N,KAAKqpB,KAAK,CAAEhqB,OAAMuX,eACzBA,IAAevB,EAAW48B,eACnCzyC,KAAKqyC,QAAQ9jC,GAAG/N,KAAKqO,GAAK,CAAEhP,OAAMuX,eAGpCpX,KAAKqyC,QAAQxoB,KAAK,CAAEpT,UAASjW,KAAM,CAAC,CAAEX,OAAMuX,iBAE9CpX,KAAKyc,cAAc8B,OAAOi0B,QAAUxyC,KAAKqyC,QACzCryC,KAAKyc,cAAcqX,aACrB,CACAxD,QACEtwB,KAAKqyC,QAAU,GACfryC,KAAKsyC,eAAiB,CAAC,CACzB,CACAI,KAAKj8B,GACH,MAAM,EAAElI,EAAC,EAAEM,GAAM7O,KAAK2yC,SAASl8B,IACpB,IAAPlI,GACFvO,KAAKqyC,QAAQxoB,KAAK,CAAEpT,UAASjW,KAAM,KAErCR,KAAKyc,cAAcqX,aACrB,CACM2K,uBAAuBrH,GAAc,sCACzCnzB,QAAQq6B,MAAM,2BACd,IAAK,MAAM7nB,KAAW,EAAKgG,cAAc8B,OAAO8E,sBAC9C,EAAK2R,MAAMve,EAAS2gB,EACrB,GAJwC,EAK3C,CACMpC,MAAMve,EAAc2gB,GAAiB,GAAK,sCAI9C,QAHyB/2B,IAArBoW,GAASA,UACXA,EAAUA,EAAQA,SAEG,iBAAZA,IAGX,EAAK87B,YACDnb,GACFnzB,QAAQq6B,MAAM,uBAAyB7nB,GAErCA,IAAY,EAAK67B,eAAe77B,IAAU,CAC5C,MAAM,EAAElI,GAAM,EAAK4E,MAAMsD,EAAS,GAClC,IAAW,IAAPlI,GAAY6oB,EAAO,CASrB,EAAKkb,eAAe77B,KACpB,IAAIu6B,EAAS,GACb,IACEA,QAAe,EAAKoB,oBAAoBQ,qBAAqBn8B,E,CAC7D,MAAOzS,GAGP,OAFAC,QAAQI,IAAIoS,EAASzS,QACrB,EAAKsuC,eAAe77B,I,CAGtB,EAAK67B,eAAe77B,KAChBu6B,GAAqB,KAAXA,EACZ,EAAK96B,IAAIO,EAASu6B,EAAQn7B,EAAW48B,cAErC,EAAKC,KAAKj8B,E,EAGf,GAtC6C,EAuChD,CACAo8B,YAAYp8B,GAAe,WACzBzW,KAAKmnB,iBAAiB2rB,eAAer8B,GAASvW,UAAS,0BAAC,UAAOsnB,GAC7D,GAAIA,EACF,GAAIA,EAAI7jB,QAAU6jB,EAAI7jB,OAAOovC,UAAW,CACtC,MAAMlhC,EAAO1E,OAAO0E,KAAK2V,EAAI7jB,OAAOovC,WAC9BC,EAAc,EAAKb,aAAaa,YACtC,IAAK,MAAMphC,KAAOC,EAChB,GAAID,IAAQohC,EAAoB,OAAEC,SAChC,EAAK/8B,IAAIO,EAAS+Q,EAAI7jB,OAAOovC,UAAUC,EAAoB,OAAEC,UAAU,GAAIp9B,EAAWq9B,aACjF,GAAIthC,IAAQohC,EAAoB,OAAEC,SACvC,EAAK/8B,IAAIO,EAAS+Q,EAAI7jB,OAAOovC,UAAUC,EAAoB,OAAEC,UAAU,GAAIp9B,EAAWs9B,aACjF,GAAIvhC,IAAQohC,EAAqB,QAAEC,SAAU,CAClD,MACMG,EADa5rB,EAAI7jB,OAAOovC,UAAUC,EAAqB,QAAEC,UAAU,GACxC96B,MAAM,KACvC,GAAyB,YAArBi7B,EAAc,IAAoB,EAAKtuB,uBAAuBssB,UAAUgC,EAAc,IAAK,CAC7F,MAAMhC,EAAYgC,EAAc,IAC1B,SAAEtC,SAAmB,EAAKqB,aAAakB,mBAAchzC,EAAW+wC,GAClEN,GACF,EAAK56B,IAAIO,EAAS,IAAMq6B,EAAUj7B,EAAWy9B,Q,OAIjDrvC,QAAQI,IAAI,4BAA6BmjB,GAG7C,EAAK8qB,eAAe77B,I,MACV+Q,EAAI+rB,UACd,EAAKb,KAAKj8B,EAGhB,IAAC,mDA7BsD,GA8BzD,CACA+8B,gBAAgB/8B,GACd,MAAMg9B,EAASzzC,KAAKqyC,QAAQ57B,GAC5B,GAAIg9B,EACF,IAAK,MAAM1pC,KAAS0pC,EAClB,GAAI1pC,EAAMqN,WAAa,EACrB,OAAO,EAIb,OAAO,CACT,CACAjE,MAAMsD,EAAiBW,GACrB,IAAK7I,EAAGM,GAAKmlB,MAAM,GAAG6H,MAAM,GAC5B,IAAK,IAAIrxB,EAAI,EAAGA,EAAIxK,KAAKqyC,QAAQvhC,OAAQtG,IACvC,GAAIxK,KAAKqyC,QAAQ7nC,GAAGiM,UAAYA,EAAS,CACvClI,EAAI/D,EACJ,IAAK,IAAIkpC,EAAI,EAAGA,EAAI1zC,KAAKqyC,QAAQ7nC,GAAGhK,KAAKsQ,OAAQ4iC,IAC3C1zC,KAAKqyC,QAAQ7nC,GAAGhK,KAAKkzC,GAAGt8B,aAAeA,IACzCvI,EAAI6kC,E,CAKZ,MAAO,CAAEnlC,IAAGM,IACd,CACA8jC,SAASl8B,GACP,IAAKlI,EAAGM,GAAKmlB,MAAM,GAAG6H,MAAM,GAC5B,IAAK,IAAIrxB,EAAI,EAAGA,EAAIxK,KAAKqyC,QAAQvhC,OAAQtG,IACvC,GAAIxK,KAAKqyC,QAAQ7nC,GAAGiM,UAAYA,EAAS,CACvClI,EAAI/D,EACJ,IAAK,IAAIkpC,EAAI,EAAGA,EAAI1zC,KAAKqyC,QAAQ7nC,GAAGhK,KAAKsQ,OAAQ4iC,KAC3C1zC,KAAKqyC,QAAQ7nC,GAAGhK,KAAKkzC,GAAGt8B,WAAavI,IAAY,IAAPA,KACxC7O,KAAKqyC,QAAQ7nC,GAAGhK,KAAKkzC,GAAGt8B,aAAevB,EAAW48B,cAAgBzyC,KAAKqyC,QAAQ7nC,GAAGhK,KAAKkzC,GAAG7zC,QAE5FgP,EAAI6kC,E,CAMd,MAAO,CAAEnlC,IAAGM,IACd,CACAkhB,QAAQ4jB,GACN3zC,KAAKuyC,YACL,MAAM,EAAEhkC,EAAC,EAAEM,GAAM7O,KAAK2yC,SAASgB,GAAOl9B,SACtC,OAAW,IAAPlI,IAAmB,IAAPM,EACP,CACLhP,KAAMG,KAAKqyC,QAAQ9jC,GAAG/N,KAAKqO,GAAGhP,KAC9BuX,WAAYpX,KAAKqyC,QAAQ9jC,GAAG/N,KAAKqO,GAAGuI,WACpCX,QAASk9B,EAAMl9B,SAERk9B,GAAOC,OAChB5zC,KAAKkW,IAAIy9B,EAAMl9B,QAASk9B,EAAMC,MAAO/9B,EAAWg+B,OACzC7zC,KAAK+vB,QAAQ4jB,IAEf,CAAEl9B,QAASk9B,GAAOl9B,QAC3B,CAAC,+B,cArLUy7B,GAAa,oF,MAAbA,EAAazc,QAAbyc,EAAa,KAAA5X,WAFZ,S,oFCbR,MAAOwZ,EADbp0C,cAEE,KAAAq0C,WAAY,EACZ,KAAAC,YAAc,GACd,KAAAC,SAAkB,GAClB,KAAAC,YAAc,GAEd,KAAAC,eAAiB,IAAIp6B,EAAAA,GACZ,KAAAq6B,mBAAqB,qD,CAC9Bl+B,IAAIoX,EAAiBmF,EAAkBzyB,KAAKk0C,aAC1C,MAAMhrC,EAAO,OACbjF,QAAQI,IAAI6E,EAAO,KAAOokB,GAC1BttB,KAAKi0C,SAASpqB,KAAK,CACjB3gB,KAAMA,EACN4e,IAAKwF,EACL+mB,QAAmB,IAAV5hB,GAEb,CACA5tB,SAASyoB,EAAiBmF,EAAkBzyB,KAAKk0C,aAC/C,MAAMhrC,EAAO,SACbjF,QAAQI,IAAI6E,EAAO,KAAOokB,GAC1BttB,KAAKi0C,SAASpqB,KAAK,CACjB3gB,KAAMA,EACN4e,IAAKwF,EACL+mB,QAAmB,IAAV5hB,GAEb,CACA5K,WAAWyF,EAAiBmF,EAAkBzyB,KAAKk0C,aACjD,MAAMhrC,EAAO,UACbjF,QAAQI,IAAI6E,EAAO,KAAOokB,GAC1BttB,KAAKi0C,SAASpqB,KAAK,CACjB3gB,KAAMA,EACN4e,IAAKwF,EACL+mB,QAAmB,IAAV5hB,GAEb,CACA7K,WAAW0F,EAAiBmF,EAAkBzyB,KAAKk0C,YAAa/e,EAAc,IACxEA,GACFlxB,QAAQI,IAAI,UAAW8wB,GAEzB,MAAMjsB,EAAO,UACbjF,QAAQI,IAAI6E,EAAO,KAAOokB,GAC1BttB,KAAKi0C,SAASpqB,KAAK,CACjB3gB,KAAMA,EACN4e,IAAKwF,EACL+mB,QAAmB,IAAV5hB,EACT0C,OAEJ,CACAI,OAAO+e,EAAoBnf,GACzB,GAAIA,EACF,IAAK,MAAM7H,KAAWttB,KAAKi0C,SACrB3mB,EAAQ6H,MAAQA,IAClB7H,EAAQxF,IAAMwsB,EAItB,CACAC,YAAY7D,EAAe54B,GACzB7T,QAAQI,IAAIqsC,GAEZ1wC,KAAKi0C,SAASpqB,KAAK,CACjB3gB,KAFW,UAGXmrC,QAAS,EACTvsB,IAAK,QACL4oB,QACA54B,UAEJ,CACA08B,aAAa1D,EAAkBh5B,GAC7B7T,QAAQI,IAAIysC,GAEZ9wC,KAAKi0C,SAASpqB,KAAK,CACjB3gB,KAFW,UAGXmrC,QAAS,EACTvsB,IAAK,SACLgpB,WACAh5B,UAEJ,CACA28B,cAAcrD,EAAmBsD,EAAiB58B,GAChD7T,QAAQI,IAAI+sC,GAEZpxC,KAAKi0C,SAASpqB,KAAK,CACjB3gB,KAFW,UAGXmrC,QAAS,EACTvsB,IAAK,UACLspB,YACAsD,UACA58B,UAEJ,CACAgf,cAAcxJ,GAEZttB,KAAKi0C,SAASpqB,KAAK,CACjB3gB,KAFW,OAGX4e,IAAKwF,EACL+mB,QAAS,IACTM,QAAQ,GAEZ,CACMtd,gBAAgB/B,GAAQ,GAAK,sCACjC5zB,YACE,KACE,IAAK,IAAI8I,EAAI,EAAGA,EAAI,EAAKypC,SAASnjC,OAAQtG,IAAK,CAC7C,GAAI,EAAKypC,SAASzpC,GAAGmqC,OAAQ,CAC3B,EAAKV,SAASW,OAAOpqC,EAAG,GACxB,EAAKod,WAAW,EAAKwsB,mBAAoB,IACzC,K,CACK,GAAI,EAAKH,SAASzpC,GAAGsd,MAAQ,EAAKssB,mBAAoB,CAC3D,EAAKH,SAASW,OAAOpqC,EAAG,GACxB,K,KAIN8qB,EAAQ,IAAM,EACd,GAf+B,EAgBnC,CACAhF,QACEtwB,KAAKi0C,SAAW,EAClB,CACMnzB,aAAa3V,EAAe,IAAE,sCAClC,EAAK6oC,YAAc7oC,EACnB,EAAK4oC,WAAY,CAAK,GAFY,EAGpC,CACMc,cAAW,sCACf,EAAKb,YAAc,GACnB,EAAKD,WAAY,CACV,GAHQ,EAIjB,CAAC,+B,cAhIUD,EAAc,6B,MAAdA,EAAcre,QAAdqe,EAAc,O,qUCc3B,MAAMgB,EAAc,CAAElqC,QAAS,CAAE,eAAgB,qBAQ3C,MAAOmqC,EAqBXr1C,YAAoB2kC,EAA0B2Q,EAAiDrvC,GAA3E,KAAA0+B,KAAAA,EAA0B,KAAA2Q,kBAAAA,EAAiD,KAAArvC,aAAAA,EApB/F,KAAAsvC,QAAUxyC,EAAAA,GAAU4pC,SACpB,KAAAjkB,OAAS,CACPC,IAAK,IAAIC,WAAW,CAAC,EAAG,IAAK,MAC7BC,IAAK,IAAID,WAAW,CAAC,EAAG,IAAK,MAC7BE,IAAK,IAAIF,WAAW,CAAC,EAAG,IAAK,MAC7B4sB,IAAK,IAAI5sB,WAAW,CAAC,EAAG,IAAK,MAC7BG,KAAM,IAAIH,WAAW,CAAC,GAAI,GAAI,GAAI,MAClCU,KAAM,IAAIV,WAAW,CAAC,EAAG,IAAK,IAAK,KACnCI,KAAM,IAAIJ,WAAW,CAAC,GAAI,IAAK,GAAI,IACnCW,KAAM,IAAIX,WAAW,CAAC,GAAI,IAAK,IAAK,MACpCK,MAAO,IAAIL,WAAW,CAAC,EAAG,IAAK,IAAK,IAAK,KACzC6sB,MAAO,IAAI7sB,WAAW,CAAC,GAAI,IAAK,IAAK,GAAI,KACzCM,IAAK,IAAIN,WAAW,CAAC,EAAG,IAAK,KAC7BjL,EAAG,IAAIiL,WAAW,CAAC,EAAG,MACtBO,EAAG,IAAIP,WAAW,CAAC,EAAG,KACtBQ,GAAI,IAAIR,WAAW,CAAC,EAAG,GAAI,KAC3B8sB,GAAI,IAAI9sB,WAAW,CAAC,EAAG,GAAI,OAE7B,KAAA+sB,SAAW,IAAI/7B,IAAJ,CAAQ,KACnB,KAAAg8B,WAAa,GAC+G,CAI5HjuB,SAAS1iB,EAAa4iB,GACpB,OAAOvnB,KAAKmlC,YACT7qB,MACC4Y,EAAAA,EAAAA,KAASqiB,IACP,MAAMjO,EAAW,CACfkO,OAAQD,EAAOj/B,KACfswB,SAAU,CACR,CACEG,KAAM,mBACNpiC,IAAKA,EACL4iB,OAAQA,KAId,OAAOvnB,KAAK4oC,QAAQ,mDAAoDtB,GAAKhtB,MAC3E4Y,EAAAA,EAAAA,KAASuiB,IACP,MAAMC,EAAmBD,EAAUzhB,MAAM,KAAKlV,KAAK,KAGnD,OAFAwoB,EAAIvD,SAAWwR,EAAOxR,SACtBuD,EAAItN,UAAY,sGACTh6B,KAAK4oC,QAAQ,sDAAuD,CAACtB,IAAMhtB,MAChF4Y,EAAAA,EAAAA,KAASyiB,IACP1xC,QAAQI,IAAIkD,KAAKC,UAAUmuC,IACpB31C,KAAK4oC,QAAQ,sBAAuBrhC,KAAKC,UAAUkuC,IAAWp7B,MACnE4Y,EAAAA,EAAAA,KAAS0iB,GACA51C,KAAK61C,QAAQD,SAI3B,IAEJ,KAGJt7B,MAAKyuB,EAAAA,EAAAA,IAAYhhB,GAAQ/nB,KAAKgpC,WAAWjhB,KAC9C,CACA8tB,QAAQD,EAAYE,EAAiB,MACnC,MAAqB,iBAAVF,GAAuC,KAAjBA,EAAM9kC,QAC9BqiB,EAAAA,EAAAA,IAAG,CACR1L,SAAS,EACTC,QAAS,CACPtR,OAAQw/B,EACRE,OAAQA,MAIL3iB,EAAAA,EAAAA,IAAG,CACR1L,SAAS,EACTC,QAAS,CACPtR,OAAQ,KACR0R,IAAK8tB,IAIb,CAIAG,UAAU5V,EAAkBL,EAAc,EAAGjuB,GAE3C,OADA5N,QAAQI,IAAIy7B,EAAKK,GACVngC,KAAKmlC,YACT7qB,MACC4Y,EAAAA,EAAAA,KAASqiB,GACAv1C,KAAKypC,OAAO,6CAA6C53B,EAAKlN,eAAe2V,MAClF4Y,EAAAA,EAAAA,KAAS8iB,GACAh2C,KAAKypC,OAAO,6CAA6C53B,EAAKlN,mBAAmB2V,MACtF4Y,EAAAA,EAAAA,KAAS6R,IACP,GAAIjF,EAAM9/B,KAAKs1C,WACb,MAAM,IAAIlrC,MAAM,cAElB,MAAMmpB,EAAkBhyB,OAAOy0C,GACzB1O,EAAMtnC,KAAKymC,wBAAwB8O,EAAOj/B,KAAMid,EAASwR,EAAS5E,EAAaL,EAAKjuB,EAAKoZ,GAAIpZ,EAAKlN,KACxG,OAAO3E,KAAK6oC,UAAUvB,EAAKiO,EAAQ1jC,GAAM,EAAK,WAOzDyI,MAAKyuB,EAAAA,EAAAA,IAAYhhB,GAAQ/nB,KAAKgpC,WAAWjhB,KAC9C,CACA0e,wBAAwBnwB,EAAcid,EAAiBwR,EAAiB5E,EAAkBL,EAAa7U,EAAYtmB,GACjH,MAAM2iC,EAAW,CACfkO,OAAQl/B,EACRswB,SAAU,IAENqP,EAAY9V,EAAY8F,SAASl1B,WACjCmlC,EAAgB/V,EAAYoG,aAAax1B,WAuB/C,OAtBgB,OAAZg0B,GAEFuC,EAAIV,SAAS/c,KAAK,CAChBkd,KAAM,SACNpwB,OAAQhS,EACRm7B,IAAK,IACLvM,WAAYA,GAASxiB,WACrBklC,UAAW,MACXC,cAAe,IACfC,WAAYlrB,IAGhBqc,EAAIV,SAAS/c,KAAK,CAChBkd,KAAM,cACNpwB,OAAQhS,EACRm7B,IAAK9/B,KAAKq1C,SAASxV,MAAMC,GAAK/uB,WAC9BwiB,WAAYA,GAASxiB,WACrBklC,YACAC,gBACAh9B,QAASlZ,KAAKq1C,SAASxV,MAAMM,EAAYjnB,SAASnI,WAClDqlC,OAAQjW,EAAYiW,SAEf9O,CACT,CAIA+O,SAASxuC,EAAc+3B,EAAmBE,EAAajuB,EAAeqN,EAAwB,IAC5F,OAAOlf,KAAKmlC,YACT7qB,MACC4Y,EAAAA,EAAAA,KAASqiB,GACAv1C,KAAKypC,OAAO,6CAA6C53B,EAAKlN,eAAe2V,MAClF4Y,EAAAA,EAAAA,KAAS8iB,GACAh2C,KAAKypC,OAAO,6CAA6C53B,EAAKlN,mBAAmB2V,MACtF4Y,EAAAA,EAAAA,KAAS6R,IACP,GAAIjF,EAAM9/B,KAAKs1C,WACb,MAAM,IAAIlrC,MAAM,cAElB,MAAMmpB,EAAkBhyB,OAAOy0C,GACzB1O,EAAMtnC,KAAK0mC,wBAAwB6O,EAAOj/B,KAAMid,EAASwR,EAASnF,EAAc/tB,EAAKlN,IAAKkN,EAAKoZ,GAAIpjB,EAAMi4B,EAAK5gB,GACpH,OAAOlf,KAAK6oC,UAAUvB,EAAKiO,EAAQ1jC,EAAK,WAOnDyI,MAAKyuB,EAAAA,EAAAA,IAAYhhB,GAAQ/nB,KAAKgpC,WAAWjhB,KAC9C,CACA2e,wBACEpwB,EACAid,EACAwR,EACAnF,EACAj7B,EACAsmB,EACApjB,EACAi4B,EACA5gB,GAEA,MAAMooB,EAAW,CACfkO,OAAQl/B,EACRswB,SAAU,IAEI,OAAZ7B,GAEFuC,EAAIV,SAAS/c,KAAK,CAChBkd,KAAM,SACNpwB,OAAQhS,EACRm7B,IAAK,IACLvM,WAAYA,GAASxiB,WACrBklC,UAAW,MACXC,cAAe,IACfC,WAAYlrB,IAGhB,IAAK,IAAIzgB,EAAI,EAAGA,EAAIo1B,EAAa9uB,OAAQtG,IAAK,CAC5C,MAAM8rC,EAAa9rC,IAAMo1B,EAAa9uB,OAAS,EAAI9Q,KAAKq1C,SAASxV,MAAMC,GAAK/uB,WAAa,IACnFk1B,EAAWrG,EAAap1B,GAAGy7B,SAASl1B,WACpCw1B,EAAe3G,EAAap1B,GAAG+7B,aAAax1B,WAClD,GAAImO,EAAe,CAEjB,IAAIq3B,EADJtyC,QAAQI,IAAI,oBAAsB6a,GAElC,MAAM,KAAE6nB,EAAI,SAAEttB,EAAQ,gBAAE3O,EAAe,GAAEjC,GAAO7I,KAAK2F,aAAasZ,SAASC,GACrEs3B,EAAWl9B,IAAI,IAAMG,GAAUomB,MAAMD,EAAap1B,GAAGsN,QAC3D,IAAK0+B,EAASC,IAAI,GAAGC,GAAG,GACtB,MAAM,IAAItsC,MAAM,cAAcw1B,EAAap1B,GAAGsN,wBAAwB2B,cAExE,GAAa,UAATstB,EACFwP,EAAav2C,KAAK22C,mBAAmBhyC,EAAKi7B,EAAap1B,GAAGgM,YAAaggC,EAASxlC,QAAQ,QACnF,IAAa,QAAT+1B,EAGT,MAAM,IAAI38B,MAAM,2BAFhBmsC,EAAav2C,KAAK42C,kBAAkBjyC,EAAKi7B,EAAap1B,GAAGgM,YAAaggC,EAASxlC,QAAQ,GAAInI,E,CAI7Fy+B,EAAIV,SAAS/c,KAAK,CAChBkd,KAAM,cACNpwB,OAAQhS,EACRm7B,IAAKwW,EACL/iB,WAAYA,GAASxiB,WACrBklC,UAAWhQ,EACXiQ,cAAe3P,EACfzuB,OAAQ,IACRtB,YAAa1L,EACbi1B,WAAYwW,G,MAET,GAAyB,OAArB1uC,EAAKmD,MAAM,EAAG,GAAa,CACpC,MAAM6rC,EAAqB,CACzB9P,KAAM,cACNpwB,OAAQ9O,EACRi4B,IAAKwW,EACL/iB,WAAYA,GAASxiB,WACrBklC,UAAWhQ,EACXiQ,cAAe3P,EACfzuB,OAAQ9X,KAAKq1C,SAASxV,MAAMD,EAAap1B,GAAGsN,QAAQ/G,WACpDyF,YAAaopB,EAAap1B,GAAGgM,aAE3BopB,EAAap1B,GAAGu1B,aAClB8W,EAAc9W,WAAaH,EAAap1B,GAAGu1B,YAE7CuH,EAAIV,SAAS/c,KAAKgtB,E,MACb,GAAyB,OAArBhvC,EAAKmD,MAAM,EAAG,GAAa,CACpC,GAAI40B,EAAap1B,GAAGu1B,WAClB,MAAM,IAAI31B,MAAM,yBAElB,GAAgD,OAA5Cw1B,EAAap1B,GAAGgM,YAAYxL,MAAM,EAAG,GAAa,CACpD,MAAM8rC,EAAqB92C,KAAK+2C,0BAA0BnX,EAAap1B,GAAGgM,YAAaxW,KAAKq1C,SAASxV,MAAMD,EAAap1B,GAAGsN,QAAQ/G,YACnIu2B,EAAIV,SAAS/c,KAAK,CAChBkd,KAAM,cACNpwB,OAAQhS,EACRm7B,IAAKwW,EACL/iB,WAAYA,GAASxiB,WACrBklC,UAAWhQ,EACXiQ,cAAe3P,EACfzuB,OAAQ,IACRtB,YAAa3O,EACbk4B,WAAY+W,G,MAET,GAAgD,OAA5ClX,EAAap1B,GAAGgM,YAAYxL,MAAM,EAAG,GAAa,CAC3D,MAAM8rC,EAAqB92C,KAAKg3C,yBAAyBpX,EAAap1B,GAAGgM,YAAaxW,KAAKq1C,SAASxV,MAAMD,EAAap1B,GAAGsN,QAAQ/G,YAClIu2B,EAAIV,SAAS/c,KAAK,CAChBkd,KAAM,cACNpwB,OAAQhS,EACRm7B,IAAKwW,EACL/iB,WAAYA,GAASxiB,WACrBklC,UAAWhQ,EACXiQ,cAAe3P,EACfzuB,OAAQ,IACRtB,YAAa3O,EACbk4B,WAAY+W,G,GAKpB,OAAOxP,CACT,CAIA1hB,SAAS/d,EAAcC,EAAYg4B,EAAc,EAAGjuB,GAClD,OAAO7R,KAAKmlC,YACT7qB,MACC4Y,EAAAA,EAAAA,KAASqiB,GACAv1C,KAAKypC,OAAO,6CAA6C53B,EAAKlN,eAAe2V,MAClF4Y,EAAAA,EAAAA,KAAS8iB,GACAh2C,KAAKypC,OAAO,6CAA6C53B,EAAKlN,mBAAmB2V,MACtF4Y,EAAAA,EAAAA,KAAS6R,IACP,GAAIjF,EAAM9/B,KAAKs1C,WACb,MAAM,IAAIlrC,MAAM,cAElB,IACI6sC,EADA1jB,EAAkBhyB,OAAOy0C,GAEJ,OAArBnuC,EAAKmD,MAAM,EAAG,IAChBisC,EAAe,CACblQ,KAAM,aACNpwB,OAAQ9O,EACRi4B,IAAK9/B,KAAKq1C,SAASxV,MAAMC,GAAK/uB,WAC9BwiB,WAAYA,GAASxiB,WACrBklC,UAAW,MACXC,cAAe,KAEN,KAAPpuC,IACFmvC,EAAarxB,SAAW9d,IAEI,OAArBD,EAAKmD,MAAM,EAAG,KACvBisC,EAAe,CACblQ,KAAM,cACNpwB,OAAQ9E,EAAKlN,IACbm7B,IAAK9/B,KAAKq1C,SAASxV,MAAMC,GAAK/uB,WAC9BwiB,WAAYA,GAASxiB,WACrBklC,UAAW,OACXC,cAAe,IACfp+B,OAAQ,IACRtB,YAAa3O,EACbk4B,WAAmB,KAAPj4B,EAAY9H,KAAKk3C,sBAAsBpvC,GAAM9H,KAAKm3C,4BAGlE,MAAM7P,EAAW,CACfkO,OAAQD,EAAOj/B,KACfswB,SAAU,CAACqQ,IAeb,OAbgB,OAAZlS,IACFuC,EAAIV,SAAS,GAAKU,EAAIV,SAAS,GAC/BU,EAAIV,SAAS,GAAK,CAChBG,KAAM,SACNpwB,OAAQ9E,EAAKlN,IACbm7B,IAAK,IACLvM,QAASA,EAAQxiB,WACjBklC,UAAW,MACXC,cAAe,IACfC,WAAYtkC,EAAKoZ,IAEnBqc,EAAIV,SAAS,GAAGrT,SAAWhyB,OAAO+lC,EAAIV,SAAS,GAAGrT,SAAW,GAAGxiB,YAE3D/Q,KAAK6oC,UAAUvB,EAAKiO,EAAQ1jC,EAAK,WAOnDyI,MAAKyuB,EAAAA,EAAAA,IAAYhhB,GAAQ/nB,KAAKgpC,WAAWjhB,KAC9C,CAIA8gB,UAAUvB,EAAUiO,EAAa1jC,EAAesuB,GAAuB,GAErE,OADAl8B,QAAQI,IAAI,gBAAkBkD,KAAKC,UAAU8/B,IACtCtnC,KAAK4oC,QAAQ,mDAAoDtB,GAAKhtB,MAC3E4Y,EAAAA,EAAAA,KAASuiB,GACAz1C,KAAKqnC,WAAWC,GAAKhtB,MAC1B4Y,EAAAA,EAAAA,KAASkkB,IACP,GAAI3B,IAAY2B,EACd,MAAM,IAAIhtC,MAAM,mBAElB,GAAKyH,EAAKsZ,GAcH,CACLmc,EAAIvD,SAAWwR,EAAOxR,SACtB,MAAMsT,EAASr3C,KAAK+sB,KAAK,KAAO0oB,EAAS5jC,EAAKsZ,IACxCuqB,EAAW2B,EAAOnqB,OAExB,OADAoa,EAAItN,UAAYqd,EAAO1uB,MAChB3oB,KAAK4oC,QAAQ,sDAAuD,CAACtB,IAAMhtB,MAChF4Y,EAAAA,EAAAA,KAASokB,IACPrzC,QAAQI,IAAI,YAAckD,KAAKC,UAAU8vC,IACzCt3C,KAAK8oC,aAAawO,GAClBrzC,QAAQI,IAAI,QAAUqxC,GACf11C,KAAK4oC,QAAQ,sBAAuBrhC,KAAKC,UAAUkuC,IACvDp7B,MAAK+5B,EAAAA,EAAAA,GAAQ,MACb/5B,MACC4Y,EAAAA,EAAAA,KAAS0iB,IACP,IAAIE,EAAS,KAIb,OAHI3V,IACF2V,EAASwB,EAAQ,GAAG1Q,SAASU,EAAIV,SAAS91B,OAAS,GAAGkuB,SAASgI,iBAAiBuQ,qBAAqB,IAEhGv3C,KAAK61C,QAAQD,EAAOE,EAAO,Q,CA9B5C,OADAxO,EAAItN,UAAY,sGACTh6B,KAAK4oC,QAAQ,wDAAyD,CAAEC,UAAWvB,EAAK/B,SAAUgQ,EAAOhQ,WAAYjrB,MAC1H4Y,EAAAA,EAAAA,KAASokB,IACPrzC,QAAQI,IAAI,YAAckD,KAAKC,UAAU8vC,IACzCt3C,KAAK8oC,aAAa,CAACwO,KACZnkB,EAAAA,EAAAA,IAAG,CACR1L,SAAS,EACTC,QAAS,CACP8vB,kBAAmB/B,Q,OAiCvC,CAIAgC,UAAU/B,GACRzxC,QAAQI,IAAI,gBACZ,MAAMoxC,EAAUC,EAAS1qC,MAAM,EAAG0qC,EAAS5kC,OAAS,KAC9C6X,EAAQ3oB,KAAK03C,UAAUhC,EAAS1qC,MAAM0qC,EAAS5kC,OAAS,MAC9D,OAAOuiB,EAAAA,EAAAA,GAAYskB,EAAAA,GAAY/gB,MAAM6e,IAClCn7B,MACC4Y,EAAAA,EAAAA,KAASoU,IACPA,EAAItN,UAAYrR,EACT3oB,KAAKmlC,YAAY7qB,MACtB4Y,EAAAA,EAAAA,KAASqiB,IACPjO,EAAIvD,SAAWwR,EAAOxR,SACf/jC,KAAK4oC,QAAQ,sDAAuD,CAACtB,IAAMhtB,MAChF4Y,EAAAA,EAAAA,KAASsX,IACP,IAAIsL,EAAS,KACb,IAAK,IAAItrC,EAAI,EAAGA,EAAIggC,EAAO,GAAG5D,SAAS91B,OAAQtG,IACV,gBAA/BggC,EAAO,GAAG5D,SAASp8B,GAAGu8B,OACxB+O,EAAStL,EAAO,GAAG5D,SAASp8B,GAAGw0B,SAASgI,iBAAiBuQ,qBAAqB,IAGlF,OAAOv3C,KAAK4oC,QAAQ,sBAAuBrhC,KAAKC,UAAUkuC,IAAWp7B,MACnE4Y,EAAAA,EAAAA,KAAS0iB,GACA51C,KAAK61C,QAAQD,EAAOE,KAE9B,aAOZx7B,MAAKyuB,EAAAA,EAAAA,IAAYhhB,GAAQ/nB,KAAKgpC,WAAWjhB,KAC9C,CACA+qB,eAAe8E,GAGb,GAA0B,KAAtBA,EAAW9mC,QAA4C,QAA3B8mC,EAAW5sC,MAAM,EAAG,GAClD,MAAM,IAAIZ,MAAM,uBAElB,OAAOpK,KAAKypC,OAAO,6CAA6CmO,iBAA0Bt9B,MACxF4Y,EAAAA,EAAAA,KAAS6R,GACS,OAAZA,GACK5R,EAAAA,EAAAA,IAAG,CAAEogB,UAAU,KAEflgB,EAAAA,EAAAA,GAAYrzB,KAAK63C,WAAW9S,IAAUzqB,MAC3C4Y,EAAAA,EAAAA,KAASjI,IACP,MAAM6sB,EAAW,CACfC,QAAS,MACTptC,OAAQ,mBACR9B,GAAI,GACJ03B,OAAQ,CACNyX,UAAW/sB,EAAGgtB,EACdC,UAAWjtB,EAAGktB,IAGZhuC,EAA4B,YAAtB1H,EAAAA,GAAUu+B,QAAwB,sCAAwC,uCACtF,OAAOhhC,KAAKqkC,KAAK+T,KAAKjuC,EAAK5C,KAAKC,UAAUswC,GAAWhD,GAAax6B,MAChE4Y,EAAAA,EAAAA,KAAS1L,IACP,IACE,OAAIA,EAAI7jB,OAAO00C,UAAUJ,IAAMhtB,EAAGgtB,GAAKzwB,EAAI7jB,OAAO00C,UAAUF,IAAMltB,EAAGktB,GAC5DhlB,EAAAA,EAAAA,IAAG3L,IAEH2L,EAAAA,EAAAA,IAAG,K,CAEZ,MACA,OAAOA,EAAAA,EAAAA,IAAG,K,KAGf,OAMb,CACA2V,aAAawO,GACX,IAAIgB,GAAS,EACb,IAAK,IAAI9tC,EAAI,EAAGA,EAAI8sC,EAAQ,GAAG1Q,SAAS91B,OAAQtG,IAC9C,GAAgE,YAA5D8sC,EAAQ,GAAG1Q,SAASp8B,GAAGw0B,SAASgI,iBAAiB1vB,OAAsB,CAEzE,GADAghC,GAAS,EACLhB,EAAQ,GAAG1Q,SAASp8B,GAAGw0B,SAASgI,iBAAiBhgC,OAEnD,MADA/C,QAAQI,IAAI,6BACNizC,EAAQ,GAAG1Q,SAASp8B,GAAGw0B,SAASgI,iBAAiBhgC,OAAOswC,EAAQ,GAAG1Q,SAASp8B,GAAGw0B,SAASgI,iBAAiBhgC,OAAO8J,OAAS,GAC1H,GAAIwmC,EAAQ,GAAG1Q,SAASp8B,GAAGw0B,SAASsJ,2BACzC,IAAK,MAAMiQ,KAAOjB,EAAQ,GAAG1Q,SAASp8B,GAAGw0B,SAASsJ,2BAChD,GAA4B,WAAxBiQ,GAAK50C,QAAQ2T,OAEf,MADArT,QAAQI,IAAI,sCAAuCk0C,GAC7CA,EAAI50C,OAAOqD,OAAOuxC,EAAI50C,OAAOqD,OAAO8J,OAAS,E,CAM7D,GAAIwnC,EAEF,MADAr0C,QAAQuF,MAAM8tC,GACR,IAAIltC,MAAM,4BAEpB,CACA4+B,WAAWx/B,GAET,GADAvF,QAAQI,IAAImF,GACRA,EAAMA,OAAgC,iBAAhBA,EAAMA,MAAoB,CAGlD,MAAM26B,GADN36B,EAAQA,EAAMA,OACM2O,MAAM,MAAM9G,KAAK2C,GAC5BA,EAAKkD,SAEd,GAAIitB,GAAOrzB,OACT,IAAK,MAAMtG,KAAK25B,EACd,GAAIA,EAAM35B,GAAGrF,WAAW,UAAYg/B,EAAM35B,GAAGrF,WAAW,YAAa,CACnE,MAAM+X,EAAI3b,OAAOiJ,GAAK,EAClB25B,EAAMjnB,KACR1T,EAAQ,GAAG26B,EAAM35B,MAAM25B,EAAMjnB,K,EA2BvC,OArBI1T,EAAMA,OAASA,EAAMA,MAAM,KAC7BA,EAAQA,EAAMA,MAAM,IAElBA,EAAM8jB,QACR9jB,EAAQxJ,KAAKg1C,kBAAkB/jB,UAAUznB,EAAM8jB,SACtC9jB,EAAMX,GAEbW,EADEA,EAAMgvC,KACAx4C,KAAKg1C,kBAAkB/jB,UAAUznB,EAAMX,GAAIW,EAAMgvC,KAAMhvC,GAAOm0B,UAChD,YAAbn0B,EAAMX,IAAoBW,EAAMse,IACjC9nB,KAAKg1C,kBAAkB/jB,UAAUznB,EAAMse,KAEvC9nB,KAAKg1C,kBAAkB/jB,UAAUznB,EAAMX,IAExCW,EAAMivC,WACfjvC,EAAQA,EAAMivC,WACY,iBAAVjvC,EAChBA,EAAQxJ,KAAKg1C,kBAAkB/jB,UAAUznB,IAEzCvF,QAAQC,KAAK,wBAAyBsF,GACtCA,EAAQ,sBAEH2pB,EAAAA,EAAAA,IAAG,CACR1L,SAAS,EACTC,QAAS,CACPI,IAAKte,IAGX,CAEA69B,WAAWwB,GACT,OAAOxV,EAAAA,EAAAA,GAAYskB,EAAAA,GAAYjV,MAAMmG,IAAYvuB,MAC/C4Y,EAAAA,EAAAA,KAASwlB,IACAvlB,EAAAA,EAAAA,IAAGulB,KAGhB,CACAvT,YACE,OAAOnlC,KAAKypC,OAAO,mCACrB,CACAjqB,WAAW7a,GACT,OAAO3E,KAAKypC,OAAO,6CAA6C9kC,aAC7D2V,MACC4Y,EAAAA,EAAAA,KAASha,IACAia,EAAAA,EAAAA,IAAG,CACR1L,SAAS,EACTC,QAAS,CACPxO,QAASA,QAKhBoB,MAAKyuB,EAAAA,EAAAA,IAAYhhB,GAAQ/nB,KAAKgpC,WAAWjhB,KAC9C,CACAgZ,YAAYp8B,GACV,OAAO3E,KAAKypC,OAAO,6CAA6C9kC,KAC7D2V,MACC4Y,EAAAA,EAAAA,KAASvU,IACP,IAAIiH,EAAW,GAIf,OAHIjH,EAASiH,WACXA,EAAWjH,EAASiH,WAEfuN,EAAAA,EAAAA,IAAG,CACR1L,SAAS,EACTC,QAAS,CACP9B,SAAUA,IAEZ,KAGLtL,MAAKyuB,EAAAA,EAAAA,IAAYhhB,GAAQ/nB,KAAKgpC,WAAWjhB,KAC9C,CACA4wB,kBACE,OAAO34C,KAAKypC,OAAO,0CAChBnvB,MACC4Y,EAAAA,EAAAA,KAAS0lB,IACAzlB,EAAAA,EAAAA,IAAG,CACR1L,SAAS,EACTC,QAASkxB,OAIdt+B,MAAKyuB,EAAAA,EAAAA,IAAYhhB,GAAQ/nB,KAAKgpC,WAAWjhB,KAC9C,CACA8wB,WAAWl0C,GACT,OAAO3E,KAAKypC,OAAO,6CAA6C9kC,iBAC7D2V,MACC4Y,EAAAA,EAAAA,KAAS6R,GACS,OAAZA,GACK5R,EAAAA,EAAAA,KAAG,IAEHA,EAAAA,EAAAA,KAAG,MAIf7Y,MACCyuB,EAAAA,EAAAA,IAAYhhB,IACHoL,EAAAA,EAAAA,KAAG,KAGlB,CACAmS,WAAW3gC,GACT,OAAO3E,KAAKypC,OAAO,6CAA6C9kC,iBAAmB2V,MACjF4Y,EAAAA,EAAAA,KAASjI,IACAkI,EAAAA,EAAAA,IAAGlI,GAAM,MAGtB,CACA+H,WAAWruB,GACT,OAAO3E,KAAKypC,OAAO,6CAA6C9kC,KAC7D2V,MACC4Y,EAAAA,EAAAA,KAASvU,IACP,IAAIiH,EAAW,GAIf,OAHIjH,EAASiH,WACXA,EAAWjH,EAASiH,WAEfuN,EAAAA,EAAAA,IAAG,CACR1L,SAAS,EACTC,QAAS,CACPxO,QAASyF,EAASzF,QAClB6rB,QAASpmB,EAASomB,QAClBnf,SAAUA,EACV2N,QAAS5U,EAAS4U,UAEpB,KAGLjZ,MAAKyuB,EAAAA,EAAAA,IAAYhhB,GAAQ/nB,KAAKgpC,WAAWjhB,KAC9C,CACA+wB,mBAAmBC,EAAgBC,EAAer0C,EAAKsmB,GACrD,OAAOjrB,KAAKypC,OAAO,sBAAsBsP,sBAAmCz+B,MAC1E4Y,EAAAA,EAAAA,KAAS+lB,IACP,MAAMC,EAAUD,EAAS,GAAGx1B,WAAWvT,GAAMA,IAAM8oC,IACnD,OAAOh5C,KAAKypC,OAAO,sBAAsBsP,gBAA6Bz+B,MACpE4Y,EAAAA,EAAAA,KAASyB,IACP,IAAInN,EAAM,GAEV,MAAMoB,GADN+L,EAAKA,EAAG,GAAGukB,IACIlf,iBACRrF,EAAG4Q,gBACH5Q,EAAGqF,iBACHrF,EAAGre,YACHqe,EAAGoP,SACV,IAAK,IAAIv5B,EAAI,EAAGA,EAAImqB,EAAGiS,SAAS91B,OAAQtG,WAC/BmqB,EAAGiS,SAASp8B,GAAGw0B,SAClBrK,EAAGiS,SAASp8B,GAAG2uC,gBAEjBxkB,EAAGiS,SAASp8B,GAAG4uC,eAAiBzkB,EAAGiS,SAASp8B,GAAG2uC,qBACxCxkB,EAAGiS,SAASp8B,GAAG2uC,eAG1B,OAAOn5C,KAAK4oC,QAAQ,mDAAoDjU,GAAIra,MAC1E4Y,EAAAA,EAAAA,KAASmmB,IACP,GAAIr5C,KAAKs5C,OAAOruB,KAAQtmB,EAOtB,MAAM,IAAIyF,MAAM,oBANhB,IAAIpK,KAAKu5C,OAAOF,EAASzwB,EAAKqC,GAG5B,MAAM,IAAI7gB,MAAM,oBAKpB,OAPIod,EAAM6xB,EAAUr5C,KAAKw5C,QAAQx5C,KAAKygC,WAAW7X,EAAK5oB,KAAKooB,OAAOQ,OAO3DuK,EAAAA,EAAAA,IAAG3L,EAAI,IAEjB,IAEJ,IAGP,CACAiyB,eACE,OAAOz5C,KAAKypC,OAAO,4CACrB,CACAiQ,aAAaztB,GACX,IAAKA,EACH,MAAM,IAAI7hB,MAAM,YAElB,MAAM8hB,EAAUC,EAAAA,KAASD,QAAQE,SAASH,GAC1C,MAAO,CACLd,GAAInrB,KAAK25C,WAAWztB,EAAQG,UAAWrsB,KAAKooB,OAAOM,MACnDuC,GAAIjrB,KAAK25C,WAAWztB,EAAQI,UAAWtsB,KAAKooB,OAAOK,MACnD9jB,IAAK3E,KAAK25C,YAAWptB,EAAAA,EAAAA,SAAQL,EAAQI,UAAW,KAAM,IAAKtsB,KAAKooB,OAAOC,KAE3E,CACAuxB,cAAcnuB,EAAkBE,EAAqB,IACnD,IAAK3rB,KAAKwrB,cAAcC,GACtB,MAAM,IAAIrhB,MAAM,mBAElB,OAAOmhB,EAAAA,GAAyBE,EAAUE,GAAY3gB,MAAM,EAAG,GACjE,CACA6uC,iBAAiBpuB,EAAkBE,EAAqB,IACtD,IAAK3rB,KAAKwrB,cAAcC,GACtB,MAAM,IAAIrhB,MAAM,mBAElB,OAAOmhB,EAAAA,GAAwBE,EACjC,CACAD,cAAcC,GACZ,OAAOF,EAAAA,GAAuBE,EAChC,CACAX,aAAarU,GACX,IAEE,OADAzW,KAAKygC,WAAWhqB,EAASzW,KAAKooB,OAAOC,MAC9B,C,CACP,MAAOrkB,GACP,OAAO,C,CAEX,CACAs1C,OAAOruB,GACL,GAAkB,KAAdA,EAAGna,QAAoC,SAAnBma,EAAGjgB,MAAM,EAAG,GAAe,CACjD,MAAMoiB,EAAYptB,KAAKygC,WAAWxV,EAAIjrB,KAAKooB,OAAOK,MAClD,OAAOzoB,KAAK25C,YAAWptB,EAAAA,EAAAA,SAAQa,EAAW,KAAM,IAAKptB,KAAKooB,OAAOC,I,CAC5D,GAAkB,KAAd4C,EAAGna,QAAoC,SAAnBma,EAAGjgB,MAAM,EAAG,GAAe,CACxD,MAAMoiB,EAAYptB,KAAKygC,WAAWxV,EAAIjrB,KAAKooB,OAAOK,MAClD,OAAOzoB,KAAK25C,YAAWptB,EAAAA,EAAAA,SAAQa,EAAW,KAAM,IAAKptB,KAAKooB,OAAOG,I,CAEnE,MAAM,IAAIne,MAAM,qBAClB,CACA0vC,mBAAmBztB,GACjB,IAAIlB,EACJ,GAAIkB,EAAUpQ,MAAM,mBAClBkP,EAAKnrB,KAAK25C,WAAW35C,KAAK+5C,QAAQ1tB,GAAYrsB,KAAKooB,OAAOa,UACrD,KAAIoD,EAAUpQ,MAAM,mCAGzB,MAAM,IAAI7R,MAAM,uBAFhB+gB,EAAKkB,C,CAIP,MAAMH,EAAU,IAAI8tB,EAAAA,GAAY,aAAaC,eAAe,IAAI3xB,WAAWtoB,KAAKygC,WAAWtV,EAAInrB,KAAKooB,OAAOa,QACrGixB,EAAShuB,EAAQiuB,YAAYC,OAAO1pB,UACpC2pB,EAAYH,EAAOA,EAAOppC,OAAS,GAAK,EAAI,EAAI,EAChDwpC,EAAM,IAAItmB,MAAM,IAAI6H,KAAK,GACzBvP,EAAY,IAAIhE,WAAW,CAAC+xB,GAAWrsB,OAAOssB,EAAItsB,OAAO9B,EAAQiuB,YAAYI,OAAO7pB,WAAW1lB,OAAO,MACtGigB,EAAKjrB,KAAK25C,WAAWrtB,EAAWtsB,KAAKooB,OAAOY,MAElD,MAAO,CAAEmC,KAAIF,KAAItmB,IADL3E,KAAKs5C,OAAOruB,GAE1B,CACAuvB,cAAcC,EAAcC,GAC1B,MAAM9oC,EAAM,IAAIooC,EAAAA,GAAY,aAAaW,cAAc,CACrDpsC,EAAGksC,EACH5rC,EAAG6rC,IAECR,EAAStoC,EAAIuoC,YAAYC,OAAO1pB,UAChC2pB,EAAYH,EAAOA,EAAOppC,OAAS,GAAK,EAAI,EAAI,EAChDwpC,EAAM,IAAItmB,MAAM,IAAI6H,KAAK,GAC/B,IAAIvP,EAAY,IAAIhE,WAAW,CAAC+xB,GAAWrsB,OAAOssB,EAAItsB,OAAOpc,EAAIuoC,YAAYI,OAAO7pB,WAAW1lB,OAAO,MAClGigB,EAAKjrB,KAAK25C,WAAWrtB,EAAWtsB,KAAKooB,OAAOY,MAEhD,OADYhpB,KAAKs5C,OAAOruB,EAE1B,CACM4sB,WAAW5sB,GAAU,sCACzB,MAAM2vB,EAAY,EAAKna,WAAWxV,EAAI,EAAK7C,OAAOY,MAC5C6xB,EAAQ,EAAKrB,QAAQoB,GACrBE,QAAkBC,EAAAA,EAAAA,KAClBC,GAAaC,EAAAA,EAAAA,UAASJ,GACtBK,EAAeJ,EAAUK,oBAAoBH,GAC7CI,GAAKC,EAAAA,EAAAA,UAASH,GAAclwC,MAAM,GACxC,MAAO,CAAEitC,EAAGmD,EAAGpwC,MAAM,EAAG,IAAKmtC,EAAGiD,EAAGpwC,MAAM,GAAI,KAAO,GAP3B,EAQ3B,CACAswC,OAAOhyB,GACL,OAAOtpB,KAAK25C,WAAW35C,KAAK+5C,QAAQzwB,EAAIte,MAAM,EAAG,KAAMhL,KAAKooB,OAAOK,KACrE,CACAsxB,QAAQzwB,GACN,OAAO,IAAIhB,WACTgB,EAAIrN,MAAM,gBAAgB5K,KAAI,SAAUkY,GACtC,OAAO/P,SAAS+P,EAAG,GACrB,IAEJ,CACAiwB,QAAQ/vB,GACN,MAAMC,EAAY,IAAIpB,WAAWmB,GAC/BE,EAAW,GACb,IAAK,IAAInf,EAAI,EAAGA,EAAIkf,EAAU5Y,OAAQtG,IAAK,CACzC,MACMof,GAAa,KADPF,EAAUlf,GAAGuG,SAAS,KACH/F,OAAO,GACtC2e,EAASE,KAAKD,E,CAEhB,OAAOD,EAAS7K,KAAK,GACvB,CACA66B,WAAWjyB,EAAcqC,GACvB,MAAM7M,EAAI,IAAIoL,WAAWyB,EAAQjZ,OAAS4W,EAAQ5W,QAGlD,OAFAoM,EAAEvP,IAAIoc,GACN7M,EAAEvP,IAAI+Z,EAASqC,EAAQjZ,QAChBkZ,EAAAA,OAAiBC,EAAAA,OAAOpiB,KAAK7H,KAAKw5C,QAAQt8B,GAAI,OACvD,CACAujB,WAAWtW,EAAKJ,GACd,IAAI7M,EAAI8M,EAAAA,OAAiBG,GAEzB,OADAjN,EAAIA,EAAElS,MAAM+e,EAAQjZ,QACboM,CACT,CACAq+B,cAAc9F,GACZ,OAAOz1C,KAAKw5C,SAAQjtB,EAAAA,EAAAA,SAAQvsB,KAAK+5C,QAAQtE,GAAU,KAAM,IAC3D,CACA1oB,KAAKC,EAAe7B,GAClB,IAAK,CAAC,KAAM,KAAM,MAAM/iB,SAAS4kB,EAAMhiB,MAAM,EAAG,IAC9C,MAAM,IAAIZ,MAAM,kBAElB,GAAuB,SAAnB+gB,EAAGngB,MAAM,EAAG,GAAe,CAC7B,MAAMsL,GAAOiW,EAAAA,EAAAA,SAAQvsB,KAAK+5C,QAAQ/sB,GAAQ,KAAM,IAChDA,EAAQA,EAAMhiB,MAAM,GAEpB,IAAI4d,EADQ,IAAIoxB,EAAAA,GAAY,aAAaC,eAAe,IAAI3xB,WAAWtoB,KAAKygC,WAAWtV,EAAInrB,KAAKooB,OAAOa,QACzF8D,KAAKzW,EAAM,CAAEklC,WAAW,IACtC,MAAMlB,EAAM,IAAItmB,MAAM,IAAI6H,KAAK,GACzBzS,EAAIkxB,EAAItsB,OAAOpF,EAAIQ,EAAEsH,WAAW1lB,OAAO,IACvCywC,EAAInB,EAAItsB,OAAOpF,EAAI6yB,EAAE/qB,WAAW1lB,OAAO,IAC7C4d,EAAM,IAAIN,WAAWc,EAAE4E,OAAOytB,IAG9B,MAAO,CACLzuB,MAAOA,EACPpE,IAAKA,EACLD,MALY3oB,KAAK25C,WAAW/wB,EAAK5oB,KAAKooB,OAAO+sB,OAM7CjoB,OALaF,EAAQhtB,KAAKw5C,QAAQ5wB,G,CAO/B,CACL,MAAMtS,GAAOiW,EAAAA,EAAAA,SAAQvsB,KAAK+5C,QAAQ/sB,GAAQ,KAAM,IAChDA,EAAQA,EAAMhiB,MAAM,GACpB,MAAM4d,EAAMuD,EAAAA,KAASc,SAAS3W,EAAMtW,KAAKygC,WAAWtV,EAAInrB,KAAKooB,OAAOM,OAGpE,MAAO,CACLsE,MAAOA,EACPpE,IAAKA,EACLD,MALY3oB,KAAK25C,WAAW/wB,EAAK5oB,KAAKooB,OAAOO,OAM7CuE,OALaF,EAAQhtB,KAAKw5C,QAAQ5wB,G,CAQxC,CACA8yB,cAAcpyB,GACZ,OAAOtpB,KAAK25C,WAAW35C,KAAK+5C,QAAQzwB,GAAMtpB,KAAKooB,OAAOO,MACxD,CACA4wB,OAAOvsB,EAAepE,EAAaqC,GACjChnB,QAAQI,IAAI,QAAS2oB,GACrB,MAAM1W,GAAOiW,EAAAA,EAAAA,SAAQvsB,KAAK+5C,QAAQ/sB,GAAQ,KAAM,IAC1CgN,EAAYh6B,KAAKygC,WAAW7X,EAAK5oB,KAAKooB,OAAOO,OAC7C2D,EAAYtsB,KAAKygC,WAAWxV,EAAIjrB,KAAKooB,OAAOK,MAClD,OAAO0D,EAAAA,KAASc,SAASssB,OAAOvf,EAAW1jB,EAAMgW,EACnD,CACAorB,UAAU9uB,GACR,OAAO5oB,KAAK25C,WAAW35C,KAAK+5C,QAAQnxB,GAAM5oB,KAAKooB,OAAOO,MACxD,CACAgzB,aAAa3uB,GACX,OAAO/C,EAAAA,OAAOpiB,KAAK7H,KAAK+5C,QAAQ/sB,IAAQjc,SAAS,QACnD,CACA6qC,aAAatyB,GACX,IAAIgJ,EAAQ,EACR9X,EAAQ,EACZ,OAAU,CACR,MAAMqhC,EAAOt6C,OAAO,KAAO+nB,EAAIte,MAAM,EAAY,EAARsnB,EAAW,EAAY,EAARA,IAGxD,GAFA9X,IAAiB,IAAPqhC,GAAc,KAAOvpB,EAC/BA,IACqB,MAAT,IAAPupB,GACH,K,CAGJ,MAAO,CACLrhC,MAAOA,EACP8X,MAAOA,EAEX,CACAwpB,gBAAgBxyB,GACd,IAAIgJ,EAAQ,EACR9X,EAAQlB,IAAI,GAChB,OAAU,CACR,MAAMuiC,EAAOt6C,OAAO,KAAO+nB,EAAIte,MAAM,EAAY,EAARsnB,EAAW,EAAY,EAARA,IASxD,GAPE9X,EADY,IAAV8X,EACMhZ,KAAY,GAAPuiC,GAAa,KAAOvpB,GAAOpc,IAAIsE,GAEpClB,IAAoB,GAAP,IAAPuiC,IAAoB,GAC/Bhc,MAAM,GAAK,MAAQvN,EAAQ,IAC3Bpc,IAAIsE,GAET8X,IACqB,MAAT,IAAPupB,GACH,K,CAGJ,MAAO,CACLrhC,MAAOA,EACP8X,MAAOA,EAEX,CACA4kB,sBAAsBvyC,GACpB,MAAO,CACLqT,WAAY,KACZwC,MAAO,CACL,CAAEuhC,KAAM,QACR,CACEA,KAAM,MACNztC,KAAM,CAAC,CAAEytC,KAAM,eAEjB,CACEA,KAAM,OACNztC,KAAM,CACJ,CAAEytC,KAAM,YACR,CACE/X,OAAQr/B,KAId,CAAEo3C,KAAM,QACR,CAAEA,KAAM,gBACR,CAAEA,KAAM,SAGd,CACA5E,0BACE,MAAO,CACLn/B,WAAY,KACZwC,MAAO,CACL,CAAEuhC,KAAM,QACR,CACEA,KAAM,MACNztC,KAAM,CAAC,CAAEytC,KAAM,eAEjB,CACEA,KAAM,OACNztC,KAAM,CAAC,CAAEytC,KAAM,cAEjB,CAAEA,KAAM,gBACR,CAAEA,KAAM,SAGd,CACAhF,0BAA0BjvC,EAAYgQ,GACpC,MAAO,CACLE,WAAY,KACZwC,MAAO,CACL,CAAEuhC,KAAM,QACR,CAAEA,KAAM,MAAOztC,KAAM,CAAC,CAAEytC,KAAM,eAC9B,CACEA,KAAM,OACNztC,KAAM,CACJ,CAAEytC,KAAM,YACR,CACE/X,OAAQl8B,KAId,CAAEi0C,KAAM,oBACR,CACEA,KAAM,OACNztC,KAAM,CAAC,CAAEytC,KAAM,SAAW,CAAE9X,IAAKnsB,KAEnC,CAAEikC,KAAM,QACR,CAAEA,KAAM,mBACR,CAAEA,KAAM,SAGd,CACA/E,yBAAyBlvC,EAAYgQ,GACnC,MAAO,CACLE,WAAY,KACZwC,MAAO,CACL,CAAEuhC,KAAM,QACR,CAAEA,KAAM,MAAOztC,KAAM,CAAC,CAAEytC,KAAM,eAC9B,CACEA,KAAM,OACNztC,KAAM,CAAC,CAAEytC,KAAM,WAAa,CAAE/X,OAAQl8B,KAExC,CAAEi0C,KAAM,WAAYztC,KAAM,CAAC,CAAEytC,KAAM,UACnC,CACE,CACEA,KAAM,UACNztC,KAAM,CAAC,CAAC,CAAC,CAAEytC,KAAM,QAAU,CAAEA,KAAM,cAAgB,MAGvD,CACEA,KAAM,OACNztC,KAAM,CAAC,CAAEytC,KAAM,SAAW,CAAE9X,IAAKnsB,KAEnC,CAAEikC,KAAM,QACR,CAAEA,KAAM,mBACR,CAAEA,KAAM,SAGd,CACAC,iBAAiBr3C,GACf,IAAIs3C,EAMJ,OAJEA,EADsB,OAApBt3C,EAAIqG,MAAM,EAAG,GACP,KAAOhL,KAAKw5C,QAAQx5C,KAAKygC,WAAW97B,EAAK3E,KAAKooB,OAAOC,MAErD1jB,EAEH,CACLsjB,KAAM,CACJ,CACE8zB,KAAM,YACNztC,KAAM,CACJ,CACEytC,KAAM,KACNztC,KAAM,CACJ,CACEytC,KAAM,SACNztC,KAAM,CACJ,CACEytC,KAAM,QAER,CACEA,KAAM,OACNztC,KAAM,CACJ,CACEytC,KAAM,gBAKdG,OAAQ,CAAC,QAEX,CACEH,KAAM,OACNG,OAAQ,CAAC,iBAMnB,CACEH,KAAM,UACNztC,KAAM,CACJ,CACEytC,KAAM,cAIZ,CACEA,KAAM,OACNztC,KAAM,CACJ,CACE,CACE,CACE,CACEytC,KAAM,OAER,CACEA,KAAM,OAER,CACEA,KAAM,MACNztC,KAAM,CACJ,CACE,CACEytC,KAAM,YAOlB,CACEA,KAAM,UACNztC,KAAM,CACJ,CACE,CACEytC,KAAM,OACNztC,KAAM,CACJ,CACEytC,KAAM,SAER,CACE9X,IAAK,OAIX,CACE8X,KAAM,UAER,CACE,CACE,CACEA,KAAM,WAER,CACEA,KAAM,OAGV,CACEA,KAAM,KACNztC,KAAM,CACJ,GACA,CACE,CACE,CACEytC,KAAM,QAER,CACEA,KAAM,iBAOlB,CACE,CACEA,KAAM,MACNztC,KAAM,CACJ,CACE,CACEytC,KAAM,UAKd,CACEA,KAAM,SAGV,CACEA,KAAM,oBAER,CACEA,KAAM,WAER,CACEA,KAAM,UAER,CACE,CACE,CACEA,KAAM,WAER,CACEA,KAAM,OAGV,CACEA,KAAM,KACNztC,KAAM,CACJ,GACA,CACE,CACE,CACEytC,KAAM,QAER,CACEA,KAAM,iBAOlB,CACEA,KAAM,QAER,CACEA,KAAM,QAER,CACEA,KAAM,SAGV,CACE,CACEA,KAAM,QAER,CACEA,KAAM,MACNztC,KAAM,CACJ,CACEytC,KAAM,eAIZ,CACEA,KAAM,eAStB5U,QAAS,CAAEna,MAAOivB,GAEtB,CACAtF,mBAAmB9uC,EAAcC,EAAYgQ,GAC3C,MAAO,CACLE,WAAY,WACZwC,MAAO,CACLlM,KAAM,CACJ,CACE01B,OAAQn8B,GAEV,CACEyG,KAAM,CACJ,CACE01B,OAAQl8B,GAEV,CACEm8B,IAAKnsB,IAGTikC,KAAM,SAGVA,KAAM,QAGZ,CACAnF,kBAAkB/uC,EAAcC,EAAYgQ,EAAgBjP,GAC1D,MAAO,CACLmP,WAAY,WACZwC,MAAO,CACL,CACEuhC,KAAM,OACNztC,KAAM,CACJ,CACE01B,OAAQn8B,GAEV,CACE,CACEk0C,KAAM,OACNztC,KAAM,CACJ,CACE01B,OAAQl8B,GAEV,CACEi0C,KA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","sources":["./src/app/components/modals/modal.component.ts","./src/app/components/modals/qr-scanner/qr-scanner.component.html","./src/app/components/modals/qr-scanner/qr-scanner.component.ts","./src/app/components/ui/asset/asset.component.html","./src/app/components/ui/asset/asset.component.ts","./src/app/components/ui/button/toggle/toggle.component.ts","./src/app/components/ui/button/toggle/advanced/advanced.component.ts","./src/app/components/ui/button/toggle/advanced/advanced.component.html","./src/app/components/ui/chart/chart.component.html","./src/app/components/ui/chart/chart.component.ts","./src/app/components/ui/dropdown/dropdown.component.ts","./src/app/components/ui/generic/list.component.ts","./src/app/components/views/logged-in/account-view/activity/event/event.component.html","./src/app/components/views/logged-in/account-view/activity/event/event.component.ts","./src/app/components/views/logged-in/account-view/activity/activity.component.html","./src/app/components/views/logged-in/account-view/activity/activity.component.ts","./src/app/components/views/logged-in/account-view/nfts/token/token.component.html","./src/app/components/views/logged-in/account-view/nfts/token/token.component.ts","./src/app/components/ui/search/search.component.html","./src/app/components/ui/search/search.component.ts","./src/app/components/views/logged-in/account-view/nfts/body/body.component.html","./src/app/components/views/logged-in/account-view/nfts/body/body.component.ts","./src/app/components/views/logged-in/account-view/nfts/nfts.component.html","./src/app/components/views/logged-in/account-view/nfts/nfts.component.ts","./src/app/components/ui/button/basic/basic.component.ts","./src/app/components/ui/button/basic/send/send-button.component.html","./src/app/components/ui/button/basic/send/send-button.component.ts","./src/app/components/views/logged-in/account-view/balances/token/balance-token.component.html","./src/app/components/views/logged-in/account-view/balances/token/balance-token.component.ts","./src/app/components/views/logged-in/account-view/balances/balances.component.html","./src/app/components/views/logged-in/account-view/balances/balances.component.ts","./src/app/components/modals/send/detail/token-detail.component.html","./src/app/components/modals/send/detail/token-detail.component.ts","./src/app/components/views/logged-in/account-view/account-view.component.html","./src/app/components/views/logged-in/account-view/account-view.component.ts","./src/app/components/views/logged-in/settings/settings.component.html","./src/app/components/views/logged-in/settings/settings.component.ts","./src/app/components/views/logged-in/delegate-page/delegate-page.component.html","./src/app/components/views/logged-in/delegate-page/delegate-page.component.ts","./src/app/components/views/logged-in/logged-in-routing.module.ts","./src/app/components/views/logged-in/logged-in.module.ts","./src/app/components/views/start/activate/activate.component.html","./src/app/components/views/start/activate/activate.component.ts","./src/app/interfaces.ts","./src/app/libraries/common.ts","./src/app/libraries/utils.ts","./src/app/libraries/hd.ts","./src/app/libraries/secp256k1.ts","./src/app/libraries/indexedDB.ts","./src/app/pipes/remove-comma.pipe.ts","./src/app/pipes/time-ago.pipe.ts","./src/app/services/activity/activity.service.ts","./src/app/services/balance/balance.service.ts","./src/app/services/beacon/beacon.service.ts","./src/app/services/chart/chart.service.ts","./src/app/services/indexer/signal/signal.service.ts","./src/app/services/coordinator/coordinator.service.ts","./src/app/services/deeplink/deeplink.service.ts","./src/app/services/delegate/delegate.service.ts","./src/app/services/encryption/encryption.service.ts","./src/app/services/error-handling/rpc-errors.ts","./src/app/services/error-handling/error-handling.service.ts","./src/app/services/estimate/estimate.service.ts","./src/app/services/indexer/dipdup/dipdup.service.ts","./src/app/services/indexer/indexer.service.ts","./src/app/services/indexer/objkt/objkt.service.ts","./src/app/services/indexer/tzkt/tzkt.service.ts","./src/app/services/input-validation/input-validation.service.ts","./src/app/services/lookup/lookup.service.ts","./src/app/services/message/message.service.ts","./src/app/services/operation/operation.service.ts","./src/app/services/subject/subject.service.ts","./src/app/services/swap-liquidity/classes/Amount.ts","./src/app/services/swap-liquidity/swap-liquidity.service.ts","./src/app/services/tezos-domains/tezos-domains.service.ts","./src/app/services/token-balances/token-balances.service.ts","./src/app/services/token/token.service.ts","./src/app/services/torus/torus.service.ts","./src/app/services/tzrate/tzrate.service.ts","./src/app/services/unlockable/unlockable.service.ts","./src/app/services/utils/utils.service.ts","./src/app/services/bc/bc.service.ts","./src/app/services/wallet-connect/wallet-connect.service.ts","./src/app/services/wallet/wallet.service.ts","./src/app/services/wallet/wallet.ts","./src/environments/environment.ghostnet.ts","./src/environments/environment.ts","./src/app/services/import/import.service.ts","./src/app/components/views/start/start.component.html","./src/app/components/views/start/start.component.ts","./src/app/services/export/export.service.ts","./src/app/components/views/start/login-types/new-wallet/new-wallet.component.html","./src/app/components/views/start/login-types/new-wallet/new-wallet.component.ts","./src/app/components/views/start/login-types/mnemonic-import/mnemonic-import.component.html","./src/app/components/views/start/login-types/mnemonic-import/mnemonic-import.component.ts","./src/app/services/ledger/ledger.service.ts","./src/app/components/views/start/login-types/connect-ledger/connect-ledger.component.ts","./src/app/components/views/start/login-types/connect-ledger/connect-ledger.component.html","./src/app/components/views/error/404.component.ts","./src/app/components/views/error/404.component.html","./src/app/components/views/error/500.component.ts","./src/app/components/views/error/500.component.html","./src/app/components/views/start/agreement/privacy-policy/privacy-policy.component.ts","./src/app/components/views/start/agreement/privacy-policy/privacy-policy.component.html","./src/app/components/views/start/agreement/terms-of-use/terms-of-use.component.ts","./src/app/components/views/start/agreement/terms-of-use/terms-of-use.component.html","./src/app/services/embedded-auth/embedded-auth.service.ts","./src/app/components/misc/send/interfaces.ts","./src/app/components/modals/swap-liquidity/swap-liquidity.component.html","./src/app/components/modals/swap-liquidity/swap-liquidity.component.ts","./src/app/components/modals/send/confirm/send-confirmation.component.html","./src/app/components/modals/send/confirm/send-confirmation.component.ts","./src/app/components/ui/dropdown/prepare-send/prepare-send-dropdown.component.html","./src/app/components/ui/dropdown/prepare-send/prepare-send-dropdown.component.ts","./src/app/components/modals/send/prepare/prepare-send.component.html","./src/app/components/modals/send/prepare/prepare-send.component.ts","./src/app/components/views/embedded/confirm-send/confirm-send.component.html","./src/app/components/views/embedded/confirm-send/confirm-send.component.ts","./src/app/components/modals/swap-liquidity/swap-liquidity-confirm.component.html","./src/app/components/modals/swap-liquidity/swap-liquidity-confirm.component.ts","./src/app/components/misc/send/send.component.html","./src/app/components/misc/send/send.component.ts","./src/app/components/views/embedded/sign-expr/template/template.component.html","./src/app/components/views/embedded/sign-expr/template/template.component.ts","./src/app/components/views/embedded/sign-expr/sign-expr.component.html","./src/app/components/views/embedded/sign-expr/sign-expr.component.ts","./src/app/components/views/embedded/queue/queue.component.html","./src/app/components/views/embedded/queue/queue.component.ts","./src/app/components/views/embedded/signin/signin.component.html","./src/app/components/views/embedded/signin/signin.component.ts","./src/app/components/views/embedded/card/card.component.ts","./src/app/components/views/embedded/card/card.component.html","./src/app/components/views/embedded/embedded.component.html","./src/app/components/views/embedded/embedded.component.ts","./src/app/components/modals/receive/receive.component.html","./src/app/components/modals/receive/receive.component.ts","./src/app/components/modals/new-implicit/new-implicit.component.html","./src/app/components/modals/new-implicit/new-implicit.component.ts","./src/app/components/ui/dropdown/permission-request/permission-request.component.html","./src/app/components/ui/dropdown/permission-request/permission-request.component.ts","./src/app/components/modals/permission-request/permission-request.component.html","./src/app/components/modals/permission-request/permission-request.component.ts","./src/app/components/modals/sign-expr/sign-expr.component.html","./src/app/components/modals/sign-expr/sign-expr.component.ts","./src/app/components/modals/originate/originate.component.html","./src/app/components/modals/originate/originate.component.ts","./src/app/components/modals/delegate/delegate.component.html","./src/app/components/modals/delegate/delegate.component.ts","./src/app/components/modals/account-list/body/body.component.html","./src/app/components/modals/account-list/body/body.component.ts","./src/app/components/modals/account-list/list.component.ts","./src/app/components/modals/account-list/list.component.html","./src/app/components/modals/export-mnemonic/export-mnemonic.component.html","./src/app/components/modals/export-mnemonic/export-mnemonic.component.ts","./src/app/components/ui/dropdown/session-select/session-select.component.html","./src/app/components/ui/dropdown/session-select/session-select.component.ts","./src/app/components/modals/session-select/session-select.component.html","./src/app/components/modals/session-select/session-select.component.ts","./src/app/components/misc/uri-handler/uri-handler.component.ts","./src/app/components/misc/uri-handler/uri-handler.component.html","./src/app/components/views/logged-in/account-view/buy/buy.component.html","./src/app/components/views/logged-in/account-view/buy/buy.component.ts","./src/app/components/modals/buy/buy.component.html","./src/app/components/modals/buy/buy.component.ts","./src/app/components/views/logged-in/logged-in.component.ts","./src/app/components/views/logged-in/logged-in.component.html","./src/app/app-routing.module.ts","./src/app/components/modals/info/info.component.html","./src/app/components/modals/info/info.component.ts","./src/app/components/modals/alert/alert.component.html","./src/app/components/modals/alert/alert.component.ts","./src/app/components/ui/messages/messages.component.html","./src/app/components/ui/messages/messages.component.ts","./src/app/components/ui/dropdown/account/account-dropdown.component.html","./src/app/components/ui/dropdown/account/account-dropdown.component.ts","./src/app/components/ui/dropdown/mobile-menu/mobile-menu.component.html","./src/app/components/ui/dropdown/mobile-menu/mobile-menu.component.ts","./src/app/components/views/layouts/header/header.component.html","./src/app/components/views/layouts/header/header.component.ts","./src/app/components/views/layouts/footer/footer.component.html","./src/app/components/views/layouts/footer/footer.component.ts","./src/app/components/ui/spinner/new/spinner-new.component.ts","./src/app/components/ui/spinner/new/spinner-new.component.html","./src/app/components/ui/spinner/spinner.component.html","./src/app/components/ui/spinner/spinner.component.ts","./src/app/components/views/start/agreement/agreement.component.html","./src/app/components/views/start/agreement/agreement.component.ts","./src/app/app.component.html","./src/app/app.component.ts","./src/app/services/interceptor/interceptor.service.ts","./src/app/pipes/truncate.pipe.ts","./src/app/app.module.ts","./src/main.ts","./node_modules/moment/locale/ sync ^\\.\\/.*$"],"sourcesContent":["import { Component, OnInit, Optional, ChangeDetectorRef, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { BehaviorSubject } from 'rxjs';\n\ninterface ModalPayload {\n  name: string | null;\n  data: any;\n  forceClose?: boolean;\n}\n\n@Component({\n  selector: 'app-modal',\n  templateUrl: './modal.component.html'\n})\nexport class ModalComponent implements OnInit, OnDestroy {\n  public isOpen = false;\n  name = '';\n  static currentModel = new BehaviorSubject<ModalPayload>({\n    name: '',\n    data: null\n  });\n  private modalSub: Subscription = new Subscription();\n  constructor(@Optional() public cd?: ChangeDetectorRef) {\n    this.cd = cd;\n    this.modalSub = ModalComponent.currentModel.subscribe((load) => {\n      load.forceClose = load.forceClose === undefined ? true : load.forceClose;\n      if (!!load.name && load.name === this.name) {\n        if (!this.isOpen) {\n          this.willOpen();\n          this.open(load.data);\n        }\n      } else {\n        if (this.isOpen && load.forceClose) {\n          this.close();\n          if (this.cd) {\n            this.cd.detectChanges();\n          }\n        }\n      }\n    });\n  }\n\n  ngOnInit(): void {}\n\n  ngOnDestroy(): void {\n    this.modalSub.unsubscribe();\n  }\n\n  willOpen(): void {}\n\n  open(data?: any): void {\n    if (window.innerHeight < document.body.scrollHeight) {\n      document.body.style.marginRight = '0.5rem !important';\n      document.body.style.overflowY = 'hidden !important';\n    }\n    const isMobile = Number(document.documentElement.style.getPropertyValue('--is-mobile'));\n    if (isMobile) {\n      setTimeout(() => {\n        window.scrollTo({ top: 0 });\n      }, 0);\n    }\n    this.isOpen = true;\n  }\n\n  close(): void {\n    document.body.style.marginRight = '';\n    document.body.style.overflowY = '';\n    this.isOpen = false;\n  }\n}\n","<button *ngIf=\"!override\" class=\"scan\" (click)=\"openModal()\">Scan QR code</button>\n<img *ngIf=\"override\" class=\"scan override\" (click)=\"openModal()\" src=\"assets/img/qr.svg\" />\n<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <form autocomplete=\"off\">\n    <div class=\"content\">\n      <div class=\"flex-row top\">\n        <div class=\"flex-row button close\" (click)=\"closeModal()\"><img class=\"x\"\n            src=\"../../../assets/img/close-btn-x.png\" /></div>\n        <h1 class=\"title\">QR-Scanner</h1>\n      </div>\n      <div class=\"seperator\"></div>\n      <div class=\"flex-column qr-scanner\">\n        <div class=\"video-container\">\n          <video #videoPlayer>\n            Browser not supported\n          </video>\n          <p class=\"no-cam\" *ngIf=\"!qrScanner\">No camera detected</p>\n          <p class=\"no-cam\" *ngIf=\"!!errorMessage\">{{ errorMessage }}</p>\n          <p class=\"no-cam\" *ngIf=\"!!errorMessage\">Please check site permissions</p>\n        </div>\n        <input *ngIf=\"!override\" name=\"none\" type=\"text\" [(ngModel)]=\"manualInput\" class=\"text\" (paste)=\"handlePaste($event)\"\n          placeholder=\"...or paste pairing string here\">\n      </div>\n    </div>\n  </form>\n</div>","import { Component, ViewChild, ElementRef, Input, EventEmitter, Output } from '@angular/core';\nimport { BeaconService } from '../../../services/beacon/beacon.service';\nimport QrScanner from 'qr-scanner';\nimport { DeeplinkService } from '../../../services/deeplink/deeplink.service';\nimport { CONSTANTS as _CONSTANTS, environment } from '../../../../environments/environment';\nimport { MessageService } from '../../../services/message/message.service';\nimport { ModalComponent } from '../modal.component';\nimport { WalletConnectService } from '../../../services/wallet-connect/wallet-connect.service';\n\n@Component({\n  selector: 'app-qr-scanner',\n  templateUrl: './qr-scanner.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class QrScannerComponent extends ModalComponent {\n  readonly CONSTANTS = _CONSTANTS;\n  readonly env = environment;\n  constructor(\n    private beaconService: BeaconService,\n    private deeplinkService: DeeplinkService,\n    private messageService: MessageService,\n    private walletConnectService: WalletConnectService\n  ) {\n    super();\n  }\n  @Output('scanResponse') scanResponse = new EventEmitter();\n  @ViewChild('videoPlayer') videoplayer: ElementRef;\n  @Input() override = false;\n  qrScanner: QrScanner;\n  manualInput = '';\n  name = 'qr-scanner';\n  loadingCam = false;\n  errorMessage = '';\n  openModal(): void {\n    if (!this.override) {\n      ModalComponent.currentModel.next({ name: this.name, data: null });\n    } else {\n      super.open();\n    }\n    this.scan();\n  }\n  async scan(): Promise<void> {\n    this.loadingCam = true;\n    const hasCamera = await QrScanner.hasCamera();\n    if (hasCamera && this.videoplayer?.nativeElement) {\n      this.errorMessage = '';\n      try {\n        this.qrScanner = new QrScanner(this.videoplayer?.nativeElement, (result: QrScanner.ScanResult) => this.handleQrCode(result), {});\n        await this.qrScanner.start();\n        if (!this.isOpen) {\n          this.qrScanner.stop();\n          this.qrScanner.destroy();\n          this.qrScanner = null;\n        }\n      } catch (e) {\n        this.errorMessage = e;\n      }\n    } else {\n      console.warn('no camera found');\n    }\n    this.loadingCam = false;\n  }\n  handleQrCode(scanResult: QrScanner.ScanResult): void {\n    const qrString = scanResult.data;\n    console.log('QR Code', qrString);\n    try {\n      const pairingInfo = this.deeplinkService.QRtoPairingJson(qrString);\n      if (pairingInfo && !this.override) {\n        this.beaconService.preNotifyPairing(pairingInfo);\n        this.beaconService.addPeer(pairingInfo);\n      } else if (qrString && this.override) {\n        this.scanResponse.emit({ pkh: qrString });\n      }\n      this.closeModal();\n    } catch (e) {\n      if (!this.override) {\n        this.messageService.addError('Invalid Base58 checksum!');\n      }\n    }\n  }\n  async handlePaste(ev: ClipboardEvent) {\n    try {\n      const clipboardString = ev?.clipboardData?.getData('text');\n      const pairingInfo = clipboardString ? this.deeplinkService.QRtoPairingJson(clipboardString) : '';\n      if (!this.override && pairingInfo) {\n        this.beaconService.preNotifyPairing(pairingInfo);\n        this.beaconService.addPeer(pairingInfo);\n      } else if (clipboardString && this.override) {\n        this.scanResponse.emit({ pkh: clipboardString });\n      } else if (clipboardString.startsWith('wc')) {\n        this.walletConnectService.pair(clipboardString);\n      }\n      this.closeModal();\n    } catch (e) {\n      if (!this.override) {\n        this.messageService.addError('Invalid Base58 checksum!');\n      }\n    }\n  }\n  closeModal(): void {\n    // restore body scrollbar\n    if (this.qrScanner && !this.loadingCam) {\n      this.qrScanner.stop();\n      this.qrScanner.destroy();\n      this.qrScanner = null;\n    }\n    if (!this.override) {\n      ModalComponent.currentModel.next({ name: '', data: null });\n    } else {\n      super.close();\n    }\n    this.manualInput = '';\n  }\n}\n","<ng-container *ngIf=\"this.display === Display.image || (this.display === Display.audio && !!poster)\">\n  <!-- Need crossorigin anonymous here to leverage caching from first GET (check mime type) -->\n  <img crossorigin=\"anonymous\" #postImage [src]=\"postSrc\" id=\"postImage\" [style.objectFit]=\"postSrc?.indexOf(loaderUrl) > -1 ? 'scale-down' : ''\" (error)=\"onError($event)\" (load)=\"onLoad($event)\" />\n  <img crossorigin=\"anonymous\" #preImage [src]=\"preSrc\" id=\"preImage\" (error)=\"onError($event)\" (load)=\"onLoad($event)\" />\n</ng-container>\n<audio crossorigin=\"anonymous\" #audio *ngIf=\"this.display === Display.audio\" preload=\"metadata\" [controls]=\"controls\" [controlsList]=\"controlsList\" id=\"audio\" (error)=\"onError($event)\" (loadeddata)=\"onLoadData($event)\">\n  <source crossorigin=\"anonymous\" [src]=\"dataSrc\" [type]=\"mimeType\" />\n</audio>\n<video crossorigin=\"anonymous\" #video *ngIf=\"this.display === Display.video\" preload=\"metadata\" id=\"video\" [controls]=\"controls\" [playsinline]=\"playsinline\" [muted]=\"muted\" [loop]=\"loop\" [autoplay]=\"autoplay\" (error)=\"onError($event)\" (loadeddata)=\"onLoadData($event)\">\n  <source crossorigin=\"anonymous\" [src]=\"dataSrc\" [type]=\"mimeType\" />\n  <img crossorigin=\"anonymous\" [src]=\"loaderUrl\" class=\"spinner\" />\n</video>\n<div *ngIf=\"this.display === Display.threeD\" class=\"model-wrapper\">\n  <model-viewer crossorigin=\"anonymous\" #model id=\"modelCanvas\" auto-rotate rotation-per-second=\"30deg\"\n    [src]=\"dataSrc\" alt=\"postSrc\" (load)=\"onLoad($event)\" (error)=\"onError($event)\"\n    camera-controls ar ar-modes=\"webxr scene-viewer quick-look\"></model-viewer>\n</div>","import { AfterViewInit, Component, ElementRef, EventEmitter, Input, OnInit, Output, Sanitizer, SimpleChanges, ViewChild } from '@angular/core';\nimport { Asset, CachedAsset, TokenService } from '../../../services/token/token.service';\nimport { CONSTANTS, MODEL_3D_WHITELIST } from '../../../../environments/environment';\n\nenum Display {\n  'none',\n  'audio',\n  'image',\n  'video',\n  'threeD'\n}\n\nenum Size {\n  'icon' = 'icon',\n  'small' = 'small',\n  'medium' = 'medium',\n  'gallery' = 'gallery',\n  'raw' = 'raw'\n}\n\nconst MIMETYPE_OVERLOADS = ['unknown', 'image/gif'];\n\nconst URL_OVERRIDE_LIST = {\n  'https://static.tcinfra.net/media/medium/ipfs/QmeixniZcQoDBe9gyNFhk87xyzdFyrK7ngk9whi4nL7FH2':\n    'https://cloudflare-ipfs.com/ipfs/QmeixniZcQoDBe9gyNFhk87xyzdFyrK7ngk9whi4nL7FH2'\n};\n\n@Component({\n  selector: 'app-asset',\n  templateUrl: './asset.component.html',\n  styleUrls: ['../../../../scss/components/ui/asset/asset.component.scss']\n})\nexport class AssetComponent implements OnInit, AfterViewInit {\n  Display = Display;\n  display = Display.image;\n  @ViewChild('preImage') preImage;\n  @ViewChild('postImage') postImage;\n  @ViewChild('audio') audio;\n  @ViewChild('video') video;\n  @ViewChild('model') model;\n  @Input() assets: any;\n  @Input() size = Size.medium;\n  @Input() priorityList = ['displayAsset', 'thumbnailAsset'];\n  @Input() controlsList = 'nofullscreen nodownload noremoteplayback noplaybackrate';\n  @Input() poster: CachedAsset;\n  @Input() controls = false;\n  @Input() requires = ['all'];\n  @Input() hideSpinner = false;\n  @Input() muted = false;\n  @Input() autoplay = false;\n  @Input() loop = false;\n  @Input() playsinline = false;\n  @Output() inView = new EventEmitter(null);\n  @Output() load = new EventEmitter(null);\n  readonly loaderUrl = 'assets/img/loader.svg';\n  readonly unknownUrl = 'assets/img/unknown-token-grayscale.svg';\n  dataSrc = undefined;\n  preSrc = this.loaderUrl;\n  postSrc = this.loaderUrl;\n  mimeType = 'image/*';\n  errors = 0;\n  obs: IntersectionObserver;\n\n  constructor(private elRef: ElementRef, private tokenService: TokenService) {}\n\n  ngOnInit(): void {\n    if (this.hideSpinner) {\n      this.display = Display.none;\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (\n      changes?.assets?.previousValue &&\n      changes?.assets?.currentValue &&\n      JSON.stringify(changes?.assets?.previousValue) !== JSON.stringify(changes?.assets?.currentValue)\n    ) {\n      const p0 = this.assetToUrl(this.pickAsset(changes?.assets?.previousValue));\n      const p1 = this.assetToUrl(this.pickAsset(changes?.assets?.currentValue));\n      if (p0 !== p1) {\n        console.log('reload asset', { from: p0, to: p1 });\n        this.reload();\n      }\n    }\n  }\n\n  ngAfterViewInit(): void {\n    this.lazyLoad();\n  }\n  private reload() {\n    this.display = Display.none;\n    this.dataSrc = undefined;\n    this.preSrc = this.loaderUrl;\n    this.postSrc = this.loaderUrl;\n    this.mimeType = 'image/*';\n    this.updateDisplay();\n    this.lazyLoad();\n  }\n  updateDisplay(): void {\n    if (this.isImage() && (this.requires.includes('image') || this.requires.includes('all'))) {\n      this.display = Display.image;\n    } else if (this.isAudio() && (this.requires.includes('audio') || this.requires.includes('all'))) {\n      this.display = Display.audio;\n    } else if (this.isVideo() && (this.requires.includes('video') || this.requires.includes('all'))) {\n      this.display = Display.video;\n    } else if (this.is3D() && (this.requires.includes('model') || this.requires.includes('all'))) {\n      this.display = Display.threeD;\n    } else {\n      this.display = Display.none;\n    }\n  }\n\n  isImage(): boolean {\n    return this.mimeType?.startsWith('image/') || this.mimeType?.startsWith('application/');\n  }\n\n  isVideo(): boolean {\n    return this.mimeType?.startsWith('video/');\n  }\n\n  isAudio(): boolean {\n    return this.mimeType?.startsWith('audio/');\n  }\n\n  is3D(): boolean {\n    return this.mimeType?.startsWith('model/');\n  }\n\n  onLoad(e): void {\n    if (e?.target?.id === 'preImage') {\n      this.postSrc = this.preSrc;\n      this.updateDisplay();\n    }\n  }\n\n  onLoadData(e): void {\n    if (this.isAudio()) {\n      if (this.audio.nativeElement.muted) {\n        this.audio.nativeElement.volume = 1.0;\n      }\n    }\n  }\n\n  onError(e): void {\n    if ((e?.target?.id === 'postImage' || e?.target?.id === 'preImage') && this.isImage()) {\n      this.errors++;\n      if (this.errors <= 2) {\n        console.log('retry lazyload', this.preSrc);\n        this.reload();\n      } else {\n        console.log('failed to load asset', this.preSrc);\n        this.evaluateInvalid();\n      }\n    }\n  }\n\n  evaluateInvalid(): void {\n    this.mimeType = 'image/*';\n    this.updateDisplay();\n    this.preSrc = this.unknownUrl;\n  }\n  pickAsset(assets): Asset {\n    for (let type of this.priorityList) {\n      if (assets && assets[type] && !(typeof assets[type] === 'object' && !assets[type]?.uri)) {\n        return assets[type];\n      }\n    }\n    return null;\n  }\n\n  async evaluate(assets): Promise<void> {\n    if (this.poster) {\n      this.preSrc = this.assetToUrl(this.poster);\n    }\n    let asset = this.pickAsset(assets);\n    if (asset) {\n      try {\n        await this.determineMime(asset);\n      } catch (e) {\n        console.error(e);\n        this.evaluateInvalid();\n        return;\n      }\n      this.setSrc(asset);\n    } else {\n      this.evaluateInvalid();\n    }\n  }\n\n  lazyLoad(): void {\n    this.obs = new IntersectionObserver((entries, _) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          this.evaluate(this.assets);\n          this.obs.unobserve(this.elRef?.nativeElement);\n        }\n        this.inView.emit();\n      });\n    });\n    if (this.elRef?.nativeElement) {\n      this.obs.observe(this.elRef?.nativeElement);\n    }\n  }\n\n  async determineMime(asset: Asset) {\n    const url = this.assetToUrl(asset);\n    if (!url) {\n      throw new Error('InvalidUrl');\n    }\n    if (url?.startsWith('data:image')) {\n      this.mimeType = 'image/*';\n      return (this.preSrc = url);\n    }\n    // Ignore MIME type provided in metadata for now. Way too unreliable. Exception for nfts in 3d wl. (media proxy don't return the correct mime type)\n    if (\n      typeof asset !== 'string' &&\n      !(asset?.mimeType?.startsWith('model/') && (MODEL_3D_WHITELIST as Array<any>).includes(this.tokenService.getContractAddressFromAsset(asset?.uri)))\n    ) {\n      let response;\n      for (let i = 0; i < 3 && !response?.ok; i++) {\n        response = await fetch(url, { method: 'GET' });\n      }\n      if (!response?.ok) {\n        throw new Error('Failed to fetch asset');\n      }\n      this.mimeType = response.headers.get('content-type');\n    } else if (typeof asset === 'string') {\n      this.mimeType = 'image/*';\n    } else {\n      this.mimeType = asset.mimeType;\n    }\n  }\n\n  setSrc(asset): void {\n    this.updateDisplay();\n    if (this.isAudio() || this.isVideo() || this.is3D()) {\n      this.isAudio() ? this.load.emit() : undefined;\n      if (this.is3D()) {\n        const contractAddress = this.tokenService.getContractAddressFromAsset(asset?.uri);\n        if (!(MODEL_3D_WHITELIST as Array<any>).includes(contractAddress)) {\n          console.warn('Content blocked');\n          this.evaluateInvalid();\n          return;\n        }\n      }\n      this.dataSrc = this.assetToUrl(asset);\n    } else if (this.isImage()) {\n      this.preSrc = this.assetToUrl(asset);\n    } else {\n      console.warn(`Unrecognized MIME type: ${this.mimeType}`, '\\n', 'Assuming: image/*');\n      this.mimeType = 'image/*';\n      this.updateDisplay();\n      this.preSrc = this.assetToUrl(asset);\n    }\n  }\n  assetToUrl(asset: Asset): string {\n    let url = '';\n    const uri = typeof asset === 'string' ? asset : asset?.uri;\n    if (uri.startsWith('ipfs://')) {\n      const mediaAndSize = this.size === Size.raw ? '' : `media/${this.size}/`;\n      url = `https://static.tcinfra.net/${mediaAndSize}ipfs/${uri.slice(7)}`;\n    } else if (uri.startsWith('https://')) {\n      url = `https://static.tcinfra.net/media/${this.size}/web/${uri.slice(8)}`;\n    } else if (!CONSTANTS.MAINNET && (uri.startsWith('http://localhost') || uri.startsWith('http://127.0.0.1'))) {\n      url = uri.slice(16);\n    } else if (typeof asset === 'string') {\n      url = uri;\n    } else {\n      console.error('failed to parse asset', asset);\n    }\n    return URL_OVERRIDE_LIST[url] ?? url ?? '';\n  }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'app-ui-toggle',\n  templateUrl: './toggle.component.html'\n})\nexport class ToggleComponent implements OnInit {\n  @Input() state: boolean;\n  @Input() text = 'Advanced:';\n  @Input() default: boolean = false;\n  @Output() stateChange = new EventEmitter<boolean>();\n\n  constructor() {}\n\n  ngOnInit(): void {\n    this.state = this.default;\n  }\n\n  toggle(): void {\n    this.state = !this.state;\n    this.stateChange.emit(this.state);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ToggleComponent } from '../toggle.component';\n\n@Component({\n  selector: 'app-ui-toggle-advanced',\n  templateUrl: './advanced.component.html',\n  styleUrls: ['../../../../../../scss/components/ui/button/toggle.component.scss']\n})\nexport class AdvancedToggleComponent extends ToggleComponent implements OnInit {\n  constructor() {\n    super();\n  }\n\n  ngOnInit(): void {}\n}\n","<div class=\"flex-row advanced\">\n  <div class=\"flex-row switch-container\">\n    <span class=\"value\">{{ text }}&nbsp;&nbsp;&nbsp;&nbsp;</span>\n    <label class=\"flex-row switch\">\n      <span class=\"key\" [class]=\"state ? 'active' : ''\">{{ state ? ' ON' : 'OFF' }}</span>\n      <span class=\"slider\" [class]=\"state ? 'active' : ''\" (click)=\"toggle()\">\n        <span class=\"round\"></span>\n      </span>\n    </label>\n  </div>\n</div>","<div class=\"title-dropdown\" [class.expanded]=\"ddExpanded\">\n  <ng-container *ngFor=\"let value of ddSets\">\n    <p [class.active]=\"set === value?.name\" (click)=\"toggleSet(value?.name);ddExpanded = !ddExpanded\">{{ value?.name ||\n      '' }}</p>\n  </ng-container>\n</div>\n<div *ngIf=\"sets?.length\" class=\"flex-row mode\">\n  <div class=\"flex-column left\">\n    <span class=\"title\" (click)=\"ddExpanded = !ddExpanded\">{{ set }}<img [class.expanded]=\"ddExpanded\"\n        src=\"assets/img/chevron-down.svg\" /></span>\n    <span class=\"tooltip value\">{{ tooltipValue }}\n      <span class=\"unit\">{{ units }}</span>\n    </span>\n  </div>\n  <div class=\"right\">\n    <div class=\"attributes\">\n      <ng-container *ngFor=\"let key of Object.keys(attributes)\">\n        <span>{{ attributes[key] }}</span>\n      </ng-container>\n    </div>\n  </div>\n</div>\n<svg *ngIf=\"!sets?.length\" class=\"spinner\" viewBox=\"0 0 50 50\">\n  <circle class=\"path\" cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" stroke-width=\"5\"></circle>\n</svg>\n<span *ngIf=\"!sets?.length\" class=\"loading-text\">Loading Chart...</span>\n<div class=\"expand\" (click)=\"toggleChartExpand(); ddExpanded = false; toggleSet(set)\">{{ !chartExpanded ? 'Expand' : 'Collapse' }}\n</div>\n<ng-container *ngIf=\"design === 'default'\">\n  <div class=\"flex-column canvas-wrapper\">\n    <canvas #chart [class.loaded]=\"sets?.length\"></canvas>\n    <div *ngIf=\"sets?.length\" class=\"flex-row time\" [class.expanded]=\"chartExpanded\">\n      <span *ngIf=\"set !== 'Total Value Locked'\" [class.active]=\"series === 'day'\" (click)=\"toggleSeries('day')\">24H</span><span\n      *ngIf=\"set !== 'Total Value Locked'\" [class.active]=\"series === 'week'\" (click)=\"toggleSeries('week')\">1W</span>\n      <span [class.active]=\"series === 'month'\" (click)=\"toggleSeries('month')\">1M</span><span\n      *ngIf=\"set !== 'Total Value Locked'\" [class.active]=\"series === 'year'\" (click)=\"toggleSeries('year')\">1Y</span>\n    </div>\n  </div>\n</ng-container>\n<ng-container *ngIf=\"design === 'mini'\">\n  <div class=\"canvas-wrapper\">\n    <canvas #chart [class.loaded]=\"sets?.length\"></canvas>\n    <div *ngIf=\"sets?.length\" class=\"flex-row time\" [class.expanded]=\"chartExpanded\">\n      <span *ngIf=\"set !== 'Total Value Locked'\" [class.active]=\"series === 'day'\"\n        (click)=\"toggleSeries('day')\">24H</span><span *ngIf=\"set !== 'Total Value Locked'\"\n        [class.active]=\"series === 'week'\" (click)=\"toggleSeries('week')\">1W</span>\n      <span [class.active]=\"series === 'month'\" (click)=\"toggleSeries('month')\">1M</span><span\n        *ngIf=\"set !== 'Total Value Locked'\" [class.active]=\"series === 'year'\" (click)=\"toggleSeries('year')\">1Y</span>\n    </div>\n  </div>\n</ng-container>","import { Component, ElementRef, EventEmitter, Input, Output, SimpleChange, SimpleChanges, ViewChild } from '@angular/core';\nimport { Chart, ChartOptions, ChartTypeRegistry, registerables } from 'chart.js';\nimport { ChartTitle } from '../../../services/chart/chart.service';\n\nChart.register(...registerables);\n\nlet width, height, gradient;\nfunction getGradientBackground(ctx, chartArea) {\n  const style = getComputedStyle(document.body);\n  const theme = style.getPropertyValue('--theme').replace(/[ \\\"]/g, '');\n  const chartWidth = chartArea.right - chartArea.left;\n  const chartHeight = chartArea.bottom - chartArea.top;\n  if (gradient === null || width !== chartWidth || height !== chartHeight) {\n    width = chartWidth;\n    height = chartHeight;\n    gradient = ctx.createLinearGradient(0, chartArea.bottom, 0, chartArea.top);\n    // gradient.addColorStop(1, '#5963ff88');\n    // gradient.addColorStop(0.5, '#5963ff33');\n    // gradient.addColorStop(0, '#5963ff19');\n    if (theme === 'dark') {\n      gradient.addColorStop(1, '#383d7d');\n      gradient.addColorStop(0.5, '#2e304f');\n      gradient.addColorStop(0, '#2a2c3f');\n    } else {\n      gradient.addColorStop(1, '#c2c5fc');\n      gradient.addColorStop(0.5, '#e0e1fb');\n      gradient.addColorStop(0, '#e8eafb');\n    }\n  }\n\n  return gradient;\n}\n\nexport enum ChartSeries {\n  'day' = 'day',\n  'week' = 'week',\n  'month' = 'month',\n  'year' = 'year'\n}\n@Component({\n  selector: 'app-ui-chart',\n  templateUrl: './chart.component.html',\n  styleUrls: ['../../../../scss/components/ui/chart/chart.component.scss']\n})\nexport class ChartComponent {\n  Object = Object;\n  @Input() attributes: any = {};\n  @Input() type: keyof ChartTypeRegistry = 'line';\n  @Input() data = { datasets: [], labels: [] };\n  @Input() datas = {};\n  @Input() options: ChartOptions = {};\n  @Input() design: string;\n  @Input() ddSets = [];\n  @Input() sets = [];\n  @Input() set = '';\n  @Input() units = {};\n  @Input() layout = 'default';\n  tooltipValue: string = '';\n  @ViewChild('chart') chartRef: ElementRef;\n  @Output('drawn') drawn = new EventEmitter();\n\n  chart = null;\n  series: ChartSeries = ChartSeries.day;\n  ddExpanded = false;\n  chartExpanded = false;\n\n  constructor() {\n    Chart.register({\n      id: 'my-plugin',\n      afterTooltipDraw: (chart, args, options) => {\n        if (chart) {\n          let x = chart.tooltip.dataPoints[0].element.x;\n          let yAxis = chart.scales.y;\n          let ctx = chart.ctx;\n          ctx.save();\n          ctx.beginPath();\n          ctx.moveTo(x, yAxis.bottom + 60);\n          ctx.lineTo(x, yAxis.top + 60);\n          ctx.lineWidth = 2;\n          ctx.setLineDash([3, 1]);\n          ctx.strokeStyle = 'rgba(0, 0, 255, 0.3)';\n          ctx.stroke();\n          ctx.setLineDash([0, 0]);\n          ctx.textAlign = 'center';\n          if (x >= chart.chartArea.right + -30) {\n            ctx.textAlign = 'right';\n          } else if (x <= chart.chartArea.left + 30) {\n            ctx.textAlign = 'left';\n          }\n          ctx.font = '14px sans-serif';\n          ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--base-font-color-secondary');\n          ctx.fillText(chart.tooltip.title[0], x, yAxis.top + 45);\n          ctx.restore();\n        }\n      }\n    });\n  }\n\n  toggleChartExpand() {\n    this.chartExpanded = !this.chartExpanded;\n    (this.chartRef.nativeElement as HTMLCanvasElement).parentElement.parentElement.classList.toggle('expanded');\n  }\n\n  refreshDDSets(): void {\n    this.ddSets = this.sets?.sort(function (a, b) {\n      const nameA = a.name.toLowerCase(),\n        nameB = b.name.toLowerCase();\n      if (nameA > nameB) return -1;\n      if (nameA < nameB) return 1;\n      return 0;\n    });\n  }\n\n  draw(): void {\n    if (this.set === ChartTitle.totalValueLocked) {\n      const data = this.datas[this.series]?.datasets?.find((ds) => ds.label === ChartTitle.totalValueLocked).data;\n      if (!data) {\n        return;\n      }\n      this.tooltipValue = parseFloat(parseFloat(data[data.length - 1].toString()).toFixed(2)).toLocaleString();\n    } else if (this.set === ChartTitle.XTZtzBTC) {\n      const data = this.datas[this.series]?.datasets?.find((ds) => ds.label === ChartTitle.XTZtzBTC).data;\n      if (!data) {\n        return;\n      }\n      this.tooltipValue = parseFloat(data[data.length - 1].toString()).toFixed(8);\n    } else if (this.set === ChartTitle.tzBTCXTZ) {\n      const data = this.datas[this.series]?.datasets?.find((ds) => ds.label === ChartTitle.tzBTCXTZ).data;\n      if (!data) {\n        return;\n      }\n      this.tooltipValue = parseFloat(parseFloat(data[data.length - 1].toString()).toFixed(6)).toLocaleString();\n    }\n\n    if (this.chartRef?.nativeElement && this.datas[this.series]?.datasets) {\n      const ctx = this.chartRef.nativeElement.getContext('2d');\n      this.chart?.destroy();\n      this.sets = this.data?.datasets.map((set) => ({ name: set.label }));\n      this.chart = new Chart(ctx, {\n        type: this.type,\n        data: this.data,\n        options: this.options,\n        plugins: []\n      });\n      this.drawn.emit(null);\n    }\n  }\n  toggleSeries(series): void {\n    this.series = series;\n    this.data = this.datas[series];\n    this.overrideDatasetConfig();\n    this.options = this.getChartOptions();\n    this.draw();\n  }\n  toggleSet(set): void {\n    this.reset();\n    this.overrideDatasetConfig();\n    for (let key of Object.keys(this.datas)) {\n      for (let i = 0; i < this.datas[key].datasets.length; ++i) {\n        if (this.datas[key].datasets[i].label === set) {\n          this.datas[key].datasets[i].hidden = false;\n          if (set === ChartTitle.XTZtzBTC) {\n            this.units = 'tzBTC';\n          } else if (set === ChartTitle.tzBTCXTZ) {\n            this.units = 'XTZ';\n          } else {\n            this.toggleSeries(ChartSeries['month']);\n            this.units = 'usd';\n          }\n        } else {\n          this.datas[key].datasets[i].hidden = true;\n        }\n      }\n    }\n    this.data = this.datas[this.series];\n    this.sets = this.data?.datasets.map((set) => ({ name: set.label }));\n    this.set = set ?? this.sets[0].name;\n    this.refreshDDSets();\n    this.options = this.getChartOptions();\n    this.draw();\n  }\n  reset(): void {\n    this.ddSets = [];\n    this.sets = [];\n    this.set = '';\n    this.data = null;\n  }\n  overrideDatasetConfig(): void {\n    for (let i = 0; i < this.datas[this.series]?.datasets.length; ++i) {\n      this.datas[this.series].datasets[i].pointHoverBorderWidth = this.design === 'mini' && !this.chartExpanded ? 0 : 6;\n      this.datas[this.series].datasets[i].pointHitRadius = this.design === 'mini' && !this.chartExpanded ? 0 : 6;\n      this.datas[this.series].datasets[i].pointHoverBackgroundColor = this.design === 'mini' && !this.chartExpanded ? '#00000000' : '#5963ff88';\n      this.datas[this.series].datasets[i].pointHoverBorderColor = this.design === 'mini' && !this.chartExpanded ? '#00000000' : '#5963ff88';\n      this.datas[this.series].datasets[i].pointBackgroundColor = this.design === 'mini' && !this.chartExpanded ? '#00000000' : '#5963ff88';\n      this.datas[this.series].datasets[i].backgroundColor = function (context) {\n        const chart = context.chart;\n        const { ctx, chartArea } = chart;\n\n        if (!chartArea) {\n          return null;\n        }\n        return getGradientBackground(ctx, chartArea);\n      };\n    }\n  }\n  getChartOptions(): any {\n    let yTickPadding = -102;\n    if (this.set === ChartTitle.tzBTCXTZ) {\n      yTickPadding = -71;\n    } else if (this.set === ChartTitle.totalValueLocked) {\n      yTickPadding = -95;\n    }\n    return {\n      layout: {\n        padding: 0\n      },\n      scales: {\n        y: {\n          beginAtZero: false,\n          position: 'right',\n          ticks: {\n            maxTicksLimit: 5,\n            display: this.design === 'mini' && this.chartExpanded === false ? false : true,\n            padding: yTickPadding,\n            align: 'start',\n            font: {\n              size: 14,\n              weight: 500,\n              family: 'Roboto'\n            },\n            textStrokeColor: '#333',\n            z: 1,\n            callback: (label, index, ticks) => {\n              if (index >= 1 && index < 4) {\n                return label < 1 ? label.toFixed(8) : Number(label.toFixed(8).replace(/(\\.0+|0+)$/, '')).toLocaleString();\n              } else {\n                return '';\n              }\n            }\n          },\n          grid: {\n            drawBorder: false,\n            lineWidth: 0\n          }\n        },\n        x: {\n          ticks: {\n            maxTicksLimit: 0,\n            display: false\n          },\n          grid: {\n            drawBorder: false,\n            lineWidth: 0\n          }\n        }\n      },\n      responsive: true,\n      maintainAspectRatio: false,\n      legend: {\n        display: false\n      },\n      hover: {\n        mode: 'nearest',\n        axis: 'x',\n        intersect: false\n      },\n      tooltips: {\n        mode: 'index',\n        axis: 'x',\n        intersect: false\n      },\n      interaction: {\n        intersect: false,\n        mode: 'index',\n        axis: 'x'\n      },\n      elements: {\n        line: {\n          tension: 0.0\n        },\n        point: {\n          radius: 0\n        }\n      },\n      plugins: {\n        tooltip: {\n          enabled: this.design === 'mini' && !this.chartExpanded ? false : true,\n          mode: 'nearest',\n          intersect: false,\n          backgroundColor: 'rgba(0, 0, 0, 0.0)',\n          titleColor: 'rgba(0, 0, 0, 0.0)',\n          bodyColor: 'rgba(0, 0, 0, 0.0)',\n          footerColor: 'rgba(0, 0, 0, 0.0)',\n          displayColors: false,\n          callbacks: {\n            label: (item, a, b) => {\n              this.tooltipValue =\n                item.dataset.data[item.dataIndex] < 1\n                  ? item.dataset.data[item.dataIndex].toFixed(8).toLocaleString()\n                  : parseFloat(item.dataset.data[item.dataIndex].toFixed(2).replace(/(\\.0+|0+)$/, '')).toLocaleString() ?? '';\n              return parseFloat(item.dataset.data[item.dataIndex].toFixed(8)).toLocaleString();\n            }\n          }\n        },\n        legend: { display: false }\n      }\n    };\n  }\n}\n","import { Component, EventEmitter, HostListener, Input, OnInit, Output } from '@angular/core';\nimport { ListComponent } from '../generic/list.component';\n\n@Component({\n  selector: 'app-ui-dropdown',\n  templateUrl: './dropdown.component.html'\n})\nexport class DropdownComponent extends ListComponent implements OnInit {\n  @Output() dropdownResponse = new EventEmitter();\n  @Input() options: any[];\n  selection: any;\n  ecmpId = this.constructor['cmp'].id;\n  isOpen = false;\n  constructor() {\n    super();\n  }\n\n  ngOnInit(): void {}\n\n  @HostListener('document:click', ['$event'])\n  @HostListener('document:touchend', ['$event'])\n  closeDropdown(e): void {\n    if (!e.target.closest('#' + this.ecmpId) && this.isOpen) {\n      this.isOpen = false;\n    }\n  }\n\n  toggleDropdown(): void {\n    this.isOpen = !this.isOpen;\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html'\n})\nexport class ListComponent implements OnInit {\n  @Input() current;\n  @Input() list: any[];\n\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","<div class=\"flex-column\" [class]=\"getType().replace('undelegated', 'delegated')\"\n  [class.unconfirmed]=\"activity.status === OpStatus.UNCONFIRMED\" [class.half_confirmed]=\"activity.status === OpStatus.HALF_CONFIRMED\"\n  [class.confirmed]=\"activity.status === OpStatus.CONFIRMED\" [class.new]=\"fresh && activity.status === OpStatus.CONFIRMED\"\n  [class.failed]=\"activity.status === OpStatus.FAILED\">\n  <div class=\"flex-row top\">\n    <div class=\"flex-row title\">\n      <ng-container *ngIf=\"!activity.entrypoint; else callEntrypoint\">\n        <ng-container [ngSwitch]=\"getType()?.replace('undelegated', 'delegated')\">\n          <img *ngSwitchCase=\"'sent'\" [src]=\"activity.status === OpStatus.FAILED ? '../../../../assets/img/up-arrow-red.svg' : '../../../../assets/img/up-arrow-black.svg'\"\n            style=\"transform: rotate(45deg)\" />\n          <img *ngSwitchCase=\"'received'\" [src]=\"activity.status === OpStatus.FAILED ? '../../../../assets/img/up-arrow-red.svg' : '../../../../assets/img/up-arrow.svg'\" style=\"transform: rotate(135deg)\" />\n          <div *ngSwitchDefault class=\"blank\"></div>\n        </ng-container>{{ printAmount() }}\n      </ng-container>\n      <ng-template #callEntrypoint>\n        <ng-container *ngIf=\"zeroSent(activity); else notZero\">\n          <div class=\"blank\"></div>\n        </ng-container>\n        <ng-template #notZero>\n          <img src=\"../../../../assets/img/up-arrow-black.svg\" style=\"transform: rotate(45deg)\" />\n        </ng-template>\n        {{ sentKind(activity) }}\n      </ng-template>\n    </div>\n    <span class=\"failed\" *ngIf=\"activity.status === OpStatus.FAILED\">Error</span>\n    <div class=\"updating-balances\" *ngIf=\"activity.status === OpStatus.HALF_CONFIRMED\">\n      <img class=\"spinner\" src=\"../../../../../assets/img/feeLoader.gif\">\n      <span>Updating balances</span>\n    </div>\n  </div>\n  <div class=\"flex-row bottom\">\n    <div class=\"flex-row address\"><img\n        *ngIf=\"!!getCounterparty(activity)?.lookupType && getCounterparty(activity)?.lookupType !== 5\"\n        [src]=\"getEventIcon()\" class=\"event-icon\" />\n      <div class=\"flex-row value\">{{ getAddressPrefix(getType()) }}&nbsp;{{getCounterparty(activity)?.name ||\n        getCounterparty(activity)?.address || ''}}</div>\n      <img class=\"copy\" src=\"../../../../assets/img/copy-icon.svg\"\n          (click)=\"copy(getCounterparty(activity)?.address)\" />\n    </div>\n    <span class=\"flex-row time\">\n      <img [src]=\"getEventStatusIcon()\" />\n      <a class=\"status\" *ngIf=\"activity.status !== OpStatus.UNCONFIRMED\" href=\"{{ explorerURL(activity.hash) }}\" target=\"_blank\">\n        <ng-container *ngIf=\"activity.status !== OpStatus.HALF_CONFIRMED; else halfConfirmed\">\n          {{ activity.timestamp | timeAgo:trigger }}\n        </ng-container>\n        <ng-template #halfConfirmed>\n          Confirmed\n        </ng-template>\n      </a>\n      <div class=\"status\" *ngIf=\"activity.status === OpStatus.UNCONFIRMED\">Unconfirmed</div>\n    </span>\n  </div>\n</div>","import { Component, Input, OnChanges, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\nimport { Account, Activity, OpStatus } from '../../../../../../services/wallet/wallet';\nimport { TimeAgoPipe } from '../../../../../../pipes/time-ago.pipe';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MessageService } from '../../../../../../services/message/message.service';\nimport { ActivityService } from '../../../../../../services/activity/activity.service';\nimport { TokenService } from '../../../../../../services/token/token.service';\nimport { CONSTANTS } from '../../../../../../../environments/environment';\nimport { LookupType } from '../../../../../../services/lookup/lookup.service';\nimport copy from 'copy-to-clipboard';\nimport { SubjectService } from '../../../../../../services/subject/subject.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-event',\n  templateUrl: './event.component.html',\n  styleUrls: ['../../../../../../../scss/components/views/logged-in/account-view/cards/activity/event.component.scss']\n})\nexport class EventComponent implements OnInit, OnChanges, OnDestroy {\n  public OpStatus = OpStatus;\n  public LookupType = LookupType;\n  public fresh = undefined;\n  private subscriptions: Subscription = new Subscription();\n  constructor(\n    public translate: TranslateService,\n    public messageService: MessageService,\n    public timeAgoPipe: TimeAgoPipe,\n    private activityService: ActivityService,\n    public tokenService: TokenService,\n    private subjectService: SubjectService\n  ) {}\n  trigger = true;\n  @Input() activity: Activity;\n  @Input() account: Account;\n  ngOnInit(): void {\n    setInterval(() => {\n      this.trigger = !this.trigger;\n    }, 1000);\n    this.subscriptions.add(\n      this.subjectService.confirmedOp.subscribe((opHash) => {\n        if (opHash === this.activity.hash && this.fresh === undefined) {\n          this.fresh = true;\n          setTimeout(() => {\n            this.fresh = false;\n          }, 20000);\n        }\n      })\n    );\n  }\n  ngOnChanges(changes: SimpleChanges): void {}\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  getType(): string {\n    if (this.activity.type !== 'transaction') {\n      if (this.activity.type === 'delegation') {\n        if (this.activity.destination.address) {\n          return 'delegated';\n        } else {\n          return 'undelegated';\n        }\n      } else {\n        return this.activity.type;\n      }\n    } else {\n      let operationType = '';\n      if (this.activity.source.address === this.account.address) {\n        operationType = 'sent';\n      } else {\n        operationType = 'received';\n      }\n      return operationType;\n    }\n  }\n\n  explorerURL(hash: string): string {\n    const baseURL = CONSTANTS.BLOCK_EXPLORER_URL;\n    return `${baseURL}/${hash}`;\n  }\n  getCounterparty(transaction): any {\n    const c = this.activityService.getCounterparty(transaction, this.account);\n    if (!c.name) {\n      c.name = c.address ? `${c.address.slice(0, 7)}...${c.address.slice(-4)}` : '';\n    }\n    c.name.trim();\n    return c;\n  }\n  getEventIcon(): string {\n    return `../../../../assets/img/${LookupType[this.getCounterparty(this.activity)?.lookupType].toLowerCase().replace('tezosdomains', 'domain')}-logo.svg`;\n  }\n  getEventStatusIcon(): string {\n    return this.fresh && this.activity.status === OpStatus.CONFIRMED\n      ? '../../../../assets/img/event-new.png'\n      : this.activity.status === OpStatus.CONFIRMED\n      ? '../../../../assets/img/event-confirmed.png'\n      : this.activity.status === OpStatus.UNCONFIRMED\n      ? '../../../../assets/img/event-unconfirmed.png'\n      : this.activity.status === OpStatus.FAILED\n      ? '../../../../assets/img/event-error.png'\n      : this.activity.status === OpStatus.HALF_CONFIRMED\n      ? '../../../../../assets/img/event-half-confirmed.png'\n      : '../../../../assets/img/event-unconfirmed.png';\n  }\n  printAmount(): string {\n    switch (this.getType()) {\n      case 'sent':\n        return this.tokenService.formatAmount(this.activity.tokenId, this.activity.amount.toString());\n      case 'received':\n        return this.tokenService.formatAmount(this.activity.tokenId, this.activity.amount.toString());\n      case 'delegated':\n        return 'Staked';\n      case 'undelegated':\n        return 'Unstaked';\n      case 'origination':\n        return this.tokenService.formatAmount(this.activity.tokenId, this.activity.amount.toString());\n      default:\n        return '';\n    }\n  }\n  sentKind(activity): string {\n    if (activity.entrypoint) {\n      if (activity.amount !== '0') {\n        return `${this.printAmount()}, Call ${activity.entrypoint}`;\n      }\n      return `Call ${activity.entrypoint}`;\n    }\n    return '0';\n  }\n  zeroSent(activity): boolean {\n    return this.sentKind(activity).length > 4 && activity.amount === '0';\n  }\n  receivedKind(activity): string {\n    return activity.tokenId && activity.source.address && activity.tokenId.split(':')[0] === activity.source.address ? 'Minted' : 'Received';\n  }\n  getAddressPrefix(type: string) {\n    switch (type.toLowerCase()) {\n      case 'sent':\n        return 'Sent to:';\n      case 'received':\n        return this.receivedKind(this.activity) + ' from:';\n      case 'delegated':\n        return 'To:';\n      case 'undelegated':\n        return 'To:';\n      case 'origination':\n        return 'Originated contract:';\n    }\n  }\n  copy(address: string): void {\n    copy(address);\n    const copyToClipboard = this.translate.instant('OVERVIEWCOMPONENT.COPIEDTOCLIPBOARD');\n    this.messageService.add(address + ' ' + copyToClipboard, 5);\n  }\n}\n","<div class=\"selectable main-container\">\n  <div class=\"top-container-activity\">\n    <h1>Recent Activity</h1>\n    <div class=\"right\">\n      <a class=\"view-all\" href=\"{{ explorerURL(account.address) }}\" target=\"_blank\">View in Explorer</a>\n      <!-- <img class=\"button icon\" src=\"../../../../assets/img/info.svg\" /> -->\n    </div>\n  </div>\n  <div class=\"selectable\" id=\"operations-container\" *ngIf=\"this.translate.store.translations.en\">\n    <ng-container *ngIf=\"account.activities; else loading\">\n      <ng-container *ngIf=\"!account.activities.length\">\n        <div class=\"line\"><span>No activity yet</span></div>\n      </ng-container>\n      <ng-container *ngFor=\"let activity of account.activities | slice:0:10; trackBy: trackEvent\">\n        <app-event [activity]=\"activity\" [account]=\"account\"></app-event>\n      </ng-container>\n    </ng-container>\n    <ng-template #loading>Loading activity...</ng-template>\n  </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { Account } from '../../../../../services/wallet/wallet';\nimport { TimeAgoPipe } from '../../../../../pipes/time-ago.pipe';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MessageService } from '../../../../../services/message/message.service';\nimport { CONSTANTS } from '../../../../../../environments/environment';\nimport { TokenService } from '../../../../../services/token/token.service';\n\n@Component({\n  selector: 'app-activity',\n  templateUrl: './activity.component.html',\n  styleUrls: ['../../../../../../scss/components/views/logged-in/account-view/cards/activity/activity.component.scss']\n})\nexport class ActivityComponent implements OnInit {\n  public currTimeStamp: number;\n  constructor(public translate: TranslateService, public messageService: MessageService, public timeAgoPipe: TimeAgoPipe, public tokenService: TokenService) {}\n  trigger = true;\n  @Input() activity: any;\n  @Input() account: Account;\n  ngOnInit(): void {}\n  explorerURL(hash: string): string {\n    const baseURL = CONSTANTS.BLOCK_EXPLORER_URL;\n    return `${baseURL}/${hash}`;\n  }\n\n  trackEvent(index: number, activity: any): string {\n    return activity.block + activity.hash;\n  }\n}\n","<div class=\"flex-row token\" (click)=\"viewToken(token)\">\n  <div class=\"dot\"></div>\n  <div class=\"wrapper\">\n    <app-asset class=\"asset\" (inView)=\"balanceChangeTimer()\" [assets]=\"token\" [size]=\"'small'\" [muted]=\"true\" [autoplay]=\"true\" [playsinline]=\"true\" [loop]=\"true\" [priorityList]=\"['thumbnailAsset', 'displayAsset']\"></app-asset>\n    <div *ngIf=\"Number.parseInt(token?.balance) > 1\" class=\"balance\">x{{\n      formatBalance(token) }}</div>\n  </div>\n  <div class=\"flex-column right\">\n    <div class=\"title\">\n      {{token?.name}}\n    </div>\n    <div *ngIf=\"token?.series\" class=\"series\">\n      {{ token?.series }}\n    </div>\n  </div>\n</div>","import { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MessageService } from '../../../../../../services/message/message.service';\nimport { TokenService } from '../../../../../../services/token/token.service';\nimport { CONSTANTS } from '../../../../../../../environments/environment';\nimport { ModalComponent } from '../../../../../modals/modal.component';\nimport { TokenBalancesService } from '../../../../../../services/token-balances/token-balances.service';\nimport { DisplayLinkOption } from '../../../../../../interfaces';\nimport Big from 'big.js';\n\n@Component({\n  selector: 'app-nfts-token',\n  templateUrl: './token.component.html',\n  styleUrls: ['../../../../../../../scss/components/views/logged-in/account-view/cards/nfts/token.component.scss']\n})\nexport class NftsTokenComponent implements OnInit, OnChanges {\n  DisplayLinkOption = DisplayLinkOption;\n  Number = Number;\n  @Input() token;\n  isNew = false;\n  contractAliases = CONSTANTS.CONTRACT_ALIASES;\n  constructor(\n    public translate: TranslateService,\n    public messageService: MessageService,\n    public tokenService: TokenService,\n    public tokenBalancesService: TokenBalancesService\n  ) {}\n  ngOnInit(): void {}\n  ngOnChanges(changes: SimpleChanges): void {\n    if (\n      changes.token.previousValue?.balance > -1 &&\n      changes.token.currentValue?.balance > -1 &&\n      changes.token.currentValue?.balance != changes.token.previousValue?.balance\n    ) {\n      this.isNew = true;\n    }\n  }\n  viewToken(token): void {\n    ModalComponent.currentModel.next({ name: 'token-detail', data: token });\n  }\n  balanceChangeTimer(): void {\n    setTimeout(() => {\n      this.isNew = false;\n    }, 5000);\n  }\n  formatBalance(token): string {\n    return Big(token.balance)\n      .div(10 ** parseInt(token.decimals))\n      .toFixed();\n  }\n}\n","<form autocomplete=\"off\">\n  <div class=\"flex-row\" [id]=\"ecmpId\">\n    <div class=\"flex-row search-bar\" [class.active]=\"isActive\" [class.has-value]=\"hasValue\">\n      <img class=\"search-button\" src=\"assets/img/search.svg\" (click)=\"searchButtonClicked()\" />\n      <input #input name=\"none\" type=\"text\" [(ngModel)]=\"searchText\" [placeholder]=\"placeholderText\" (focus)=\"onFocus()\"\n        (keydown)=\"onKeydown($event)\" />\n      <div *ngIf=\"isActive && hasValue\" class=\"flex-row match-count\"><span>{{ matchCount + ' matches' }}</span></div>\n    </div>\n    <div *ngIf=\"!hasValue\" class=\"flex-row item-count\"><span>{{ '(' + itemCount + ')' }}</span></div>\n  </div>\n</form>","import { Component, ElementRef, EventEmitter, HostListener, Input, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { SubjectService } from '../../../services/subject/subject.service';\nimport { DropdownComponent } from '../dropdown/dropdown.component';\n\n@Component({\n  selector: 'app-search-bar',\n  templateUrl: './search.component.html',\n  styleUrls: ['../../../../scss/components/ui/search-bar/search.component.scss']\n})\nexport class SearchBarComponent extends DropdownComponent implements OnInit, OnDestroy {\n  @ViewChild('input') input: ElementRef;\n  @Output() onInput = new EventEmitter();\n  @Input() itemCount = 0;\n  @Input() matchCount = 0;\n  inputUpdated = new Subject<any>();\n  filter = '.*';\n  isActive = false;\n  hasValue = false;\n  @Input() placeholder = '';\n  placeholderText = '';\n  searchText = '';\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(private subjectService: SubjectService) {\n    super();\n    this.subscriptions.add(\n      this.inputUpdated.pipe(debounceTime(150)).subscribe((e) => {\n        this.filter = !!e?.target.value ? `${e.target.value.replace(/(\\W)/g, '\\\\$1')}` : '';\n        if (!!e) {\n          this.onInput.emit(this.filter);\n        }\n        this.hasValue = !!this.filter;\n      })\n    );\n    this.subscriptions.add(\n      this.subjectService.activeAccount.subscribe((_) => {\n        this.reset();\n      })\n    );\n  }\n  ngOnInit(): void {\n    this.placeholderText = this.placeholder;\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  onKeydown(e): void {\n    this.inputUpdated.next(e);\n  }\n  onFocus(): void {\n    this.isActive = true;\n    this.onInput.emit(this.filter);\n  }\n  searchButtonClicked(): void {\n    if (!this.isActive) {\n      this.input.nativeElement.focus();\n    }\n  }\n  @HostListener('document:click', ['$event'])\n  @HostListener('document:touchend', ['$event'])\n  onBlur(e): void {\n    if (!e.target.closest('#' + this.ecmpId) && this.isActive && !this.hasValue) {\n      this.isActive = false;\n      this.onInput.emit('');\n    }\n  }\n  reset(): void {\n    this.isActive = false;\n    this.filter = '';\n    this.searchText = '';\n    this.hasValue = false;\n    this.onInput.emit(this.filter);\n  }\n}\n","<app-search-bar *ngIf=\"tokens?.length > 12 && searchable\" [placeholder]=\"'Search'\"\n  [matchCount]=\"tokensToDisplay?.filtered.length || 0\" [itemCount]=\"tokensToDisplay?.raw.length || 0\"\n  (onInput)=\"updateFilter($event)\"></app-search-bar>\n<div class=\"scroll-wrapper\">\n  <div #body [style.display]=\"!isDisplaying ? 'none' : ''\" class=\"body\">\n    <ng-container *ngFor=\"let token of tokensToDisplay.loaded; trackBy:trackToken\">\n      <app-nfts-token class=\"token\" [token]=\"token\"></app-nfts-token>\n    </ng-container>\n    <ng-container *ngIf=\"filter !== '.*' && !tokensToDisplay.filtered.length\">\n      No Matches Found\n    </ng-container>\n  </div>\n</div>","import { AfterViewInit, Component, Input, OnChanges, OnInit, ViewChild } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MessageService } from '../../../../../../services/message/message.service';\nimport { TokenService } from '../../../../../../services/token/token.service';\nimport { CONSTANTS } from '../../../../../../../environments/environment';\nimport { TokenBalancesService } from '../../../../../../services/token-balances/token-balances.service';\nimport { DisplayLinkOption } from '../../../../../../interfaces';\nimport { Subject } from 'rxjs';\nimport { Token } from '../../../../../../services/wallet/wallet';\n\n@Component({\n  selector: 'app-nfts-body',\n  templateUrl: './body.component.html',\n  styleUrls: ['../../../../../../../scss/components/views/logged-in/account-view/cards/nfts/body.component.scss']\n})\nexport class NftsBodyComponent implements OnInit, OnChanges, AfterViewInit {\n  DisplayLinkOption = DisplayLinkOption;\n  @ViewChild('body') body;\n  @Input() isDisplaying;\n  @Input() tokens;\n  @Input() searchable = false;\n  tokensToDisplay = { loaded: [], filtered: [], raw: [] };\n  contractAliases = CONSTANTS.CONTRACT_ALIASES;\n  readonly chunkSize = 24;\n  sliceEnd = this.chunkSize;\n  inputUpdated = new Subject<any>();\n  filter = '.*';\n\n  constructor(\n    public translate: TranslateService,\n    public messageService: MessageService,\n    public tokenService: TokenService,\n    public tokenBalancesService: TokenBalancesService\n  ) {}\n  ngOnInit(): void {\n    this.refresh();\n  }\n  ngOnChanges(): void {\n    if (this.isDisplaying) {\n      this.refresh();\n    }\n  }\n  refresh(): void {\n    this.tokensToDisplay.raw = this.tokens;\n    this.tokensToDisplay.filtered = this.search(this.tokens);\n    this.tokensToDisplay.loaded = this.tokensToDisplay.filtered?.slice(0, this.sliceEnd);\n  }\n  ngAfterViewInit(): void {\n    const cb = (e) => {\n      if (\n        this.body?.nativeElement?.scrollTop >= this.body?.nativeElement?.scrollHeight - this.body?.nativeElement?.clientHeight - 15 &&\n        (this.sliceEnd < this.tokensToDisplay.raw?.length ?? 0)\n      ) {\n        this.sliceEnd += this.chunkSize;\n        this.refresh();\n      }\n    };\n    this.body?.nativeElement.addEventListener('scroll', cb, { passive: true });\n    this.body?.nativeElement.addEventListener('touchmove', cb, { passive: true });\n  }\n  search(tokens): Token[] {\n    if (this.filter.length > 0 && this.filter !== '.*') {\n      return tokens.filter(\n        (t: any) =>\n          t.name.match(new RegExp(`.*${this.filter}.*`, 'i')) ||\n          (!isNaN(Number(this.filter)) && t.id.toString().match(new RegExp(`.*${parseInt(this.filter)}.*`, 'g')))\n      );\n    }\n    return tokens;\n  }\n  updateFilter(filter: string): void {\n    const prevFilter = this.filter;\n    this.filter = filter || '.*';\n    if (prevFilter !== this.filter) {\n      this.sliceEnd = this.chunkSize;\n      this.refresh();\n      this.body.nativeElement.scrollTo(0, 0);\n    }\n  }\n  trackToken(index: number, token: any): string | number {\n    return token?.contractAddress ? token?.contractAddress + ':' + token?.id : index;\n  }\n}\n","<div class=\"main-container\" *ngIf=\"displayTokenCard()\">\n  <div class=\"flex-row top-container-nfts\">\n    <div class=\"flex-row toggle\">\n      <h1 class=\"flex-row\" [class.selected]=\"!isDiscover\" (click)=\"isDiscover = false\">NFT<span> / Collectibles</span>\n      </h1>\n      <h1 class=\"flex-row\" [class.selected]=\"isDiscover\" (click)=\"isDiscover = true\">{{ 'Discover' }}</h1>\n    </div>\n    <div class=\"flex-row right\">\n      <ng-container *ngIf=\"this.nfts && Object.keys(this.nfts).length > 0 && !isDiscover\">\n        <span class=\"flex-row button icon-grey\" [class.selected]=\"filter === 'ALL'\" (click)=\"filter = 'ALL';\">ALL</span>\n        <span class=\"flex-row button icon-grey\" [class.selected]=\"filter !== 'ALL'\" (click)=\"filter = '';\">APP</span>\n      </ng-container>\n      <!-- <img class=\"button icon\" src=\"../../../../assets/img/filter.svg\" />\n      <img class=\"button icon\" src=\"../../../../assets/img/info.svg\" /> -->\n    </div>\n  </div>\n  <div class=\"flex-row-wrap nfts\" [class.d]=\"isDiscover\">\n    <!-- loop through contracts -->\n    <ng-container *ngIf=\"!nftsArray?.length && !isDiscover\"><span>There are no NFTs in this account</span>\n    </ng-container>\n    <ng-container *ngFor=\"let contract of displayedNftsArray; trackBy:trackContract\">\n      <div class=\"flex-column collection\" [class.expanded]=\"filter === sanitizeKey(contract?.key)\"\n        [id]=\"sanitizeKey(contract?.key)\" [style.display]=\"!isDiscover && filter !== 'ALL' ? '' : 'none'\">\n        <div class=\"flex-row head\" (click)=\"toggleDropdown(sanitizeKey(contract?.key))\">\n          <div class=\"flex-row left\">\n            <app-asset class=\"nfts-head-thumbnail\" [assets]=\"{ thumbnailAsset:contract?.thumbnailUrl}\"></app-asset>\n            <div class=\"title\">\n              {{ contract?.name }}\n            </div>\n          </div>\n          <div class=\"flex-row right\">\n            <div class=\"count\">({{ contract?.tokens?.length }})</div>\n            <div class=\"flex-row button toggle\"><img src=\"../../../../assets/img/caret-left.svg\" /></div>\n          </div>\n        </div>\n        <div class=\"flex-column scroll\">\n          <app-nfts-body [isDisplaying]=\"filter === sanitizeKey(contract?.key)\" [tokens]=\"contract?.tokens\">\n          </app-nfts-body>\n        </div>\n      </div>\n    </ng-container>\n    <div class=\"flex-column collection scroll all\" [style.display]=\"!isDiscover && filter === 'ALL' ? '' : 'none'\">\n      <app-nfts-body class=\"all\" [isDisplaying]=\"!isDiscover && filter === 'ALL'\" [tokens]=\"tokens\" [searchable]=\"true\">\n      </app-nfts-body>\n    </div>\n    <ng-container *ngIf=\"isDiscover\">\n      <ng-container *ngFor=\"let contractAlias of contractAliases\">\n        <ng-container *ngIf=\"shouldDisplayLink(contractAlias?.shouldDisplayLink)\">\n          <a class=\"flex-column discover\" rel=\"noreferrer\" [href]=\"contractAlias?.link || '/'\" target=\"_blank\"\n            [style.display]=\"isDiscover ? '' : 'none'\">\n            <div class=\"flex-row top\">{{ getContractAlias(contractAlias?.category) || '' }}</div>\n            <div class=\"flex-column middle\" [class.zoom]=\"contractAlias?.zoomDiscoverImg\"\n              [style.backgroundColor]=\"contractAlias?.backgroundColor\">\n              <app-asset class=\"discover\" [class.zoom]=\"contractAlias?.zoomDiscoverImg\" [size]=\"'raw'\"\n                [assets]=\"{displayAsset: contractAlias.discoverUrl, thumbnailAsset: contractAlias.thumbnailUrl}\">\n              </app-asset>\n            </div>\n            <div class=\"flex-row bottom\">\n              <div class=\"flex-column left\">\n                <div class=\"title\">{{ contractAlias?.name || key }}</div>\n                <div class=\"description\">{{ contractAlias?.description }}</div>\n              </div>\n              <div class=\"flex-column right\">\n                <a class=\"link-to-app\">\n                  <button class=\"flex-row button\">GO <img src=\"assets/img/discover-right-angle.svg\" /></button>\n                </a>\n              </div>\n            </div>\n          </a>\n        </ng-container>\n      </ng-container>\n    </ng-container>\n  </div>\n</div>","import { Component, EventEmitter, HostListener, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { TorusWallet } from '../../../../../services/wallet/wallet';\nimport { WalletService } from '../../../../../services/wallet/wallet.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MessageService } from '../../../../../services/message/message.service';\nimport { TokenService } from '../../../../../services/token/token.service';\nimport { CONSTANTS } from '../../../../../../environments/environment';\nimport { TokenBalancesService } from '../../../../../services/token-balances/token-balances.service';\nimport { SubjectService } from '../../../../../services/subject/subject.service';\nimport { DisplayLinkOption } from '../../../../../interfaces';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-nfts',\n  templateUrl: './nfts.component.html',\n  styleUrls: ['../../../../../../scss/components/views/logged-in/account-view/cards/nfts/nfts.component.scss']\n})\nexport class NftsComponent implements OnInit, OnDestroy {\n  DisplayLinkOption = DisplayLinkOption;\n  Object = Object;\n  nfts = undefined;\n  nftsArray = [];\n  displayedNftsArray = [];\n  tokens = [];\n  isDiscover: boolean = false;\n  isInitLoad: boolean = true;\n  filter: string = 'APP';\n  contractAliases = Object.keys(CONSTANTS.CONTRACT_ALIASES).map((key: any) => ({ key, ...CONSTANTS.CONTRACT_ALIASES[key] }));\n  activeAddress: string = '';\n  sliceEnd = 20;\n  sliceIncrement = 10;\n  private subscriptions: Subscription = new Subscription();\n  constructor(\n    public translate: TranslateService,\n    public messageService: MessageService,\n    public tokenService: TokenService,\n    public tokenBalancesService: TokenBalancesService,\n    private subjectService: SubjectService,\n    private walletService: WalletService\n  ) {\n    this.subscriptions.add(\n      this.subjectService.nftsUpdated.subscribe((n) => {\n        this.populateNfts(n);\n      })\n    );\n    this.subscriptions.add(\n      this.subjectService.logout.subscribe((o) => {\n        if (o) {\n          this.reset();\n          this.activeAddress = '';\n        }\n      })\n    );\n    this.subscriptions.add(\n      this.subjectService.activeAccount.subscribe((activeAccount) => {\n        const activeAddress = activeAccount?.address;\n        if (activeAddress !== this.activeAddress) {\n          this.activeAddress = activeAddress;\n          this.reset();\n        }\n      })\n    );\n  }\n  @Input() activity: any;\n  @Input() account;\n  ngOnInit(): void {\n    document.addEventListener(\n      'scroll',\n      (event) => {\n        const height = Math.max(\n          document.body.scrollHeight,\n          document.body.offsetHeight,\n          document.documentElement.clientHeight,\n          document.documentElement.scrollHeight,\n          document.documentElement.offsetHeight\n        );\n        if (height < document.body.scrollTop + document.body.clientHeight + 250) {\n          this.refreshDisplayedNfts(true);\n        }\n      },\n      true\n    );\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  populateNfts(n) {\n    if (!n) return;\n    if (this.isInitLoad) {\n      if (!n?.nfts || !Object.keys(n.nfts)?.length) {\n        this.isDiscover = true;\n      } else {\n        this.isInitLoad = false;\n        this.isDiscover = false;\n      }\n    }\n    this.nfts = n?.nfts;\n    this.nftsArray = n?.nfts ? Object.keys(n.nfts).map((key: any) => ({ key, ...n.nfts[key] })) : [];\n    this.refreshDisplayedNfts();\n    this.tokens = n?.nfts\n      ? Object.keys(n.nfts)\n          .map((key: any) => n.nfts[key]?.tokens)\n          .flat()\n      : [];\n  }\n  refreshDisplayedNfts(showMore = false) {\n    if (!this.tokenService?.initialized) {\n      return;\n    }\n    let incremented = false;\n    if (showMore && this.sliceEnd <= this.displayedNftsArray.length) {\n      this.sliceEnd += this.sliceIncrement;\n      incremented = true;\n    }\n    if (!showMore || incremented) {\n      this.displayedNftsArray = this.nftsArray.slice(0, this.sliceEnd);\n    }\n  }\n  displayTokenCard(): boolean {\n    return this.nfts !== undefined;\n  }\n  toggleDropdown(sel): void {\n    if (this.filter === sel) {\n      this.filter = '';\n    } else {\n      this.filter = sel;\n      const c = document.querySelector('#' + sel) as HTMLElement;\n      if (window.innerWidth < 1024) {\n        setTimeout(() => {\n          document.body.scroll(0, c.offsetTop - 25);\n        }, 25);\n      }\n    }\n  }\n  shouldDisplayLink(option: DisplayLinkOption): boolean {\n    if (option === 0 || (option === 1 && this.walletService.wallet instanceof TorusWallet)) {\n      return true;\n    }\n    return false;\n  }\n  sanitizeKey(key: string): string {\n    return 'ku' + key?.replace(/ /g, '');\n  }\n\n  trackContract(index: number, contract: any): string | number {\n    return contract?.key ? contract.key : index;\n  }\n\n  getContractAlias(category): string {\n    return category?.join('  ');\n  }\n  reset(): void {\n    this.nfts = undefined;\n    this.isDiscover = false;\n    this.tokens = [];\n    this.nftsArray = [];\n    this.displayedNftsArray = [];\n    this.isInitLoad = true;\n    this.filter = 'APP';\n    this.sliceEnd = 20;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-basic-button',\n  templateUrl: './basic.component.html'\n})\nexport class BasicButtonComponent implements OnInit {\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","<button *ngIf=\"symbol && !override; else detailButton\" class=\"flex-row button button-primary with-image\"\n  [class]=\"symbol === 'tez' ? 'tez' : ''\" (click)=\"prepareTransaction()\">\n  <svg *ngIf=\"symbol === 'tez'\" width=\"18\" height=\"18\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 18\">\n    <path id=\"svg_1\"\n      d=\"m16.4439,9.50064c-0.764,0.764 -2.003,0.764 -2.767,0l-2.66,-2.659l0,9.231c0,1.105 -0.895,2 -2,2c-1.104,0 -2,-0.895 -2,-2l0,-9.254l-2.679,2.68c-0.767,0.767 -2.01,0.767 -2.777,0c-0.767,-0.767 -0.767,-2.01 0,-2.776l5.936,-5.936c0.037,-0.044 0.052,-0.099 0.093,-0.14c0.203,-0.203 0.558,-0.344 0.693,-0.439c0.716,-0.307 1.575,-0.176 2.16,0.409c0.101,0.101 0.152,0.227 0.227,0.342l5.774,5.774c0.765,0.764 0.765,2.004 0,2.768z\"\n      fill=\"rgb(255, 255, 255)\" fill-rule=\"evenodd\" />\n  </svg>\n  <img *ngIf=\"symbol !== 'tez'\" [src]=\"'../../../../assets/img/up-arrow.svg'\" />\n  <div class=\"tooltip\">\n    <div class=\"description\">Send {{ symbol }}</div>\n  </div>\n</button>\n<ng-template #detailButton>\n  <button class=\"button button-primary detail\" (click)=\"prepareTransaction()\">SEND</button>\n</ng-template>","import { Component, OnInit, Input } from '@angular/core';\nimport { Account } from '../../../../../services/wallet/wallet';\nimport { TokenService } from '../../../../../services/token/token.service';\nimport { SubjectService } from '../../../../../services/subject/subject.service';\nimport { BasicButtonComponent } from '../basic.component';\n\n@Component({\n  selector: 'app-send-button',\n  templateUrl: './send-button.component.html',\n  styleUrls: ['../../../../../../scss/components/ui/button/send.component.scss']\n})\nexport class SendButtonComponent extends BasicButtonComponent implements OnInit {\n  @Input() activeAccount: Account;\n  @Input() tokenTransfer: string;\n  @Input() symbol: string;\n  @Input() override = false;\n  asset = null;\n  constructor(public tokenService: TokenService, private subjectService: SubjectService) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.asset = this.tokenService.getAsset(this.tokenTransfer);\n  }\n  prepareTransaction(): void {\n    this.subjectService.prepareTokenTransfer.next({\n      account: this.activeAccount,\n      tokenTransfer: this.tokenTransfer,\n      symbol: this.symbol\n    });\n  }\n}\n","<div class=\"flex-row balance\">\n  <div class=\"flex-row left\">\n    <app-asset class=\"asset\" [priorityList]=\"['thumbnailAsset', 'displayAsset', 'fallback']\" [assets]=\"token\" [class.sd]=\"token.name === 'tezos'\"\n      (click)=\"viewToken()\">\n    </app-asset>\n    <div class=\"flex-row title\" (click)=\"viewToken()\">{{token.name === 'tezos' ? 'Tezos' : token.symbol}}</div>\n    <div class=\"flex-column prices\">\n      <div class=\"price\">{{ token.name === 'tezos' ? (getBalance() | number: '1.0-' + (token?.decimals || 6) | removeComma) || '' :\n        getBalance() }}</div>\n      <div class=\"price-usd\">{{ getBalanceFiat() ? '$' + (getBalanceFiat() | number:'1.2-2' | removeComma) : '' }}\n      </div>\n    </div>\n  </div>\n  <div class=\"flex-row right\">\n    <ng-container *ngIf=\"token?.name === 'tezos'\">\n      <button *ngIf=\"this.account?.balanceXTZ && !(walletService.isWatchWallet())\" class=\"flex-row button button-primary with-image buy\" (click)=\"buy()\">\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M12 5.00024V19.0002\" stroke=\"#ffffff\" stroke-width=\"3\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          <path d=\"M5 12H19\" stroke=\"#ffffff\" stroke-width=\"3\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n        </svg>\n        <div class=\"tooltip\">\n          <div class=\"description\">Get tez</div>\n        </div>\n      </button>\n      <button *ngIf=\"this.account?.balanceXTZ === 0\" class=\"flex-row button button-primary with-image buy tez\" (click)=\"buy()\">\n        <span style=\"text-transform: none;\">GET</span>\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M12 5.00024V19.0002\" stroke=\"#ffffff\" stroke-width=\"3\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          <path d=\"M5 12H19\" stroke=\"#ffffff\" stroke-width=\"3\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n        </svg>\n        <div class=\"tooltip\" style=\"right: 0%;\">\n          <div class=\"description\">Get tez</div>\n        </div>\n      </button>\n    </ng-container>\n    <app-send-button *ngIf=\"token && this.account?.balanceXTZ !== 0\" [activeAccount]=\"account\"\n      [tokenTransfer]=\"token?.name === 'tezos' ? null : token?.contractAddress + ':' + token?.id\"\n      [symbol]=\"token?.name === 'tezos' ? 'tez' : token?.symbol\"></app-send-button>\n  </div>\n</div>","import { Component, HostListener, Input, OnInit } from '@angular/core';\nimport { ModalComponent } from '../../../../../modals/modal.component';\nimport { CONSTANTS } from '../../../../../../../environments/environment';\nimport { Big } from 'big.js';\nimport { RemoveCommaPipe } from '../../../../../../pipes/remove-comma.pipe';\nimport { SubjectService } from '../../../../../../services/subject/subject.service';\nimport { WalletService } from '../../../../../../services/wallet/wallet.service';\n\n@Component({\n  selector: 'app-balance-token',\n  templateUrl: './balance-token.component.html',\n  styleUrls: ['../../../../../../../scss/components/views/logged-in/account-view/cards/balances/balance-token.component.scss']\n})\nexport class BalanceTokenComponent implements OnInit {\n  @Input() token = null;\n  @Input() account;\n  contractAliases = CONSTANTS.CONTRACT_ALIASES;\n\n  constructor(public removeCommaPipe: RemoveCommaPipe, private subjectService: SubjectService, private walletService: WalletService) {}\n  ngOnInit(): void {}\n\n  getBalance(): number | string {\n    return this.token?.name === 'tezos'\n      ? this.account?.balanceXTZ !== null\n        ? Big(this.account?.balanceXTZ).div(1000000).toFixed()\n        : undefined\n      : this.token?.balance;\n  }\n\n  getBalanceFiat(): number | undefined {\n    return this.token.name === 'tezos' ? this.account?.balanceUSD || undefined : this.token?.price && this.token.price >= 0.005 ? this.token.price : undefined;\n  }\n  viewToken(): void {\n    if (this.token?.name !== 'tezos') {\n      ModalComponent.currentModel.next({\n        name: 'token-detail',\n        data: this.token\n      });\n    }\n  }\n\n  buy() {\n    ModalComponent.currentModel.next({\n      name: 'buy',\n      data: undefined\n    });\n  }\n}\n","<div class=\"main-container\">\n  <div class=\"flex-row top-container-balances\">\n    <h1>Balances</h1>\n    <div class=\"flex-row button right\">\n      <button *ngIf=\"account?.isImplicit()\" class=\"swap-liquidity\" (click)=\"openSwap()\">Liquidity Baking</button>\n    </div>\n  </div>\n  <div class=\"scroll-wrapper\">\n    <app-balance-token [account]=\"account\" [token]=\"{name: 'tezos', fallback: 'assets/img/tezos-xtz-logo.svg'}\" class=\"tez no-box\"></app-balance-token>\n    <div *ngIf=\"!!this.tokenBalancesService?.balances?.length\" class=\"flex-column balances\">\n      <ng-container *ngFor=\"let balance of balances; let i = index; trackBy: trackToken\">\n        <app-balance-token [account]=\"account\" [token]=\"balance\" [class.first]=\"i === 0\"></app-balance-token>\n      </ng-container>\n    </div>\n    <div class=\"flex-row total-balances no-box\">\n      <div class=\"flex-row left\">\n        <h3>TOTAL VALUE:</h3>\n        <h1>{{ !!totalBalances && isFiat ? '$' + (totalBalances | number: '1.2-2' | removeComma) : '' }}{{ !!totalBalances && !isFiat ? (totalBalances | number: '1.0-6' | removeComma) + ' tez' : '' }}{{ !totalBalances ? '' : '' }}</h1>\n      </div>\n      <div class=\"flex-row\" (click)=\"toggleTotalBalances()\">\n        <span class=\"fiat\" [class.selected]=\"isFiat\">\n          {{ 'usd' }}\n        </span>\n        <span class=\"sep\">&nbsp;{{ '|' }}&nbsp;</span>\n        <span class=\"tez\" [class.selected]=\"!isFiat\">\n          {{ 'tez' }}\n        </span>\n      </div>\n    </div>\n  </div>\n</div>","import { AfterViewChecked, Component, Input, OnDestroy, OnInit } from '@angular/core';\nimport { Account } from '../../../../../services/wallet/wallet';\nimport { CONSTANTS } from '../../../../../../environments/environment';\nimport { TokenBalancesService } from '../../../../../services/token-balances/token-balances.service';\nimport { SubjectService } from '../../../../../services/subject/subject.service';\nimport { WalletService } from '../../../../../services/wallet/wallet.service';\nimport { Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { Big } from 'big.js';\nimport { RemoveCommaPipe } from '../../../../../pipes/remove-comma.pipe';\nimport { ModalComponent } from '../../../../../components/modals/modal.component';\nimport { MessageService } from '../../../../../services/message/message.service';\n\n@Component({\n  selector: 'app-balances',\n  templateUrl: './balances.component.html',\n  styleUrls: ['../../../../../../scss/components/views/logged-in/account-view/cards/balances/balances.component.scss']\n})\nexport class BalancesComponent implements OnInit, AfterViewChecked, OnDestroy {\n  Object = Object;\n  @Input() account: Account;\n  contractAliases = CONSTANTS.CONTRACT_ALIASES;\n  totalBalances: string | number = 0;\n  balances: any[];\n  isFiat = false;\n\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(\n    public tokenBalancesService: TokenBalancesService,\n    private subjectService: SubjectService,\n    private walletService: WalletService,\n    public removeCommaPipe: RemoveCommaPipe,\n    private messageService: MessageService\n  ) {\n    this.subscriptions.add(\n      this.subjectService.activeAccount.pipe(filter((account: Account) => account?.address !== this.account?.address)).subscribe((account) => {\n        this.account = account;\n        this.balances = this.tokenBalancesService?.balances;\n        this.calcTotalBalances();\n      })\n    );\n    this.subscriptions.add(\n      this.subjectService.nftsUpdated.subscribe((p) => {\n        this.balances = p?.balances ?? this.tokenBalancesService?.balances;\n        this.calcTotalBalances();\n      })\n    );\n    this.subscriptions.add(\n      this.subjectService.walletUpdated.subscribe(() => {\n        this.balances = this.tokenBalancesService?.balances;\n        this.calcTotalBalances();\n      })\n    );\n  }\n  e(wrap) {\n    if (!!wrap) {\n      if (wrap.scrollTop < 1 || this.tokenBalancesService?.balances?.length <= 5) {\n        document.querySelector('.scroll-wrapper .tez').classList.add('no-box');\n        document.querySelector('.total-balances').classList.add('no-box');\n      } else {\n        document.querySelector('.scroll-wrapper .tez').classList.remove('no-box');\n        document.querySelector('.total-balances').classList.remove('no-box');\n      }\n\n      if (this.tokenBalancesService?.balances?.length > 4) {\n        wrap.style.overflowY = 'auto';\n        wrap.style.width = 'calc(100% - 2.675rem)';\n        wrap.style.padding = '0 0 0 2rem';\n      } else {\n        wrap.style.overflowY = '';\n        wrap.style.width = '';\n        wrap.style.padding = '';\n      }\n    }\n  }\n  ngOnInit(): void {\n    this.balances = this.tokenBalancesService?.balances;\n    this.calcTotalBalances();\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  ngAfterViewChecked(): void {\n    const wrap = document.querySelector('.scroll-wrapper .balances') as HTMLElement;\n    this.e(wrap);\n  }\n  trackToken(index: number, token: any): string | number {\n    return token?.contractAddress ? token.contractAddress + ':' + token?.id + ':' + token?.balance + ':' + token?.thumbnailAsset : index;\n  }\n\n  toggleTotalBalances(): void {\n    this.isFiat = !this.isFiat;\n    this.calcTotalBalances();\n  }\n  calcTotalBalances(): void {\n    this.totalBalances = this.isFiat\n      ? this.balances.reduce((prev, balance) => prev + parseFloat(balance?.price ?? 0), 0) + this.account?.balanceUSD\n      : this.balances.reduce((prev, balance) => prev + parseFloat(balance?.price ?? 0), 0) / this.walletService.wallet.XTZrate +\n        parseFloat(\n          Big(this.account?.balanceXTZ ?? 0)\n            .div(1000000)\n            .toFixed()\n        );\n  }\n  openSwap() {\n    this.messageService.startSpinner();\n    ModalComponent.currentModel.next({ name: 'swap-liquidity', data: null });\n  }\n}\n","<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"close()\"><img class=\"x\"\n          src=\"../../../../../assets/img/close-btn-x.png\" />\n      </div>\n      <h1 class=\"title\">Token Info</h1>\n    </div>\n    <div class=\"flex-column token-info\">\n      <div class=\"flex-row-wrap data\">\n        <div class=\"flex-column wrapper\" [class]=\"imageExpanded ? 'expanded' : ''\">\n          <app-asset [style.display]=\"imageExpanded ? 'none' : ''\" class=\"flex-row button sd-only\"\n            [priorityList]=\"['displayAsset', 'thumbnailAsset']\"\n            [assets]=\"{thumbnailAsset: token?.thumbnailAsset, displayAsset: token?.displayAsset}\" [size]=\"'medium'\"\n            (click)=\"expandImage()\" (loaded)=\"assetLoaded = true\" [autoplay]=\"true\" [muted]=\"true\" [loop]=\"true\"\n            [playsinline]=\"true\"></app-asset>\n          <app-asset [style.display]=\"!imageExpanded ? 'none' : ''\" class=\"flex-row button sd-only\"\n            [priorityList]=\"['artifactAsset', 'displayAsset', 'thumbnailAsset']\"\n            [assets]=\"{thumbnailAsset: token?.thumbnailAsset, displayAsset: token?.displayAsset, artifactAsset: token?.artifactAsset}\"\n            [size]=\"'raw'\" [poster]=\"token?.displayAsset\" [controls]=\"true\"></app-asset>\n          <img *ngIf=\"imageExpanded\" class=\"flex-row button close\" (click)=\"expandImage()\"\n            src=\"../../../../../assets/img/close-btn-x.png\" />\n          <img *ngIf=\"!imageExpanded && assetLoaded && !token.displayAsset?.mimeType?.startsWith('model/')\"\n            class=\"expand\" src=\"../../../../../assets/img/expand.png\" (click)=\"expandImage()\" />\n          <b *ngIf=\"!imageExpanded && token.artifactAsset?.mimeType?.startsWith('model/')\" class=\"expand icon-threed\"\n            (click)=\"expandImage()\">3D</b>\n        </div>\n        <div class=\"flex-column meta\">\n          <div class=\"flex-column top\">\n            <div *ngIf=\"token?.name\" class=\"flex-column key-value\">\n              <div class=\"key\">\n                name\n              </div>\n              <div class=\"value\">\n                {{ token?.name }}\n              </div>\n            </div>\n            <div *ngIf=\"!isNFT && token?.symbol\" class=\"flex-column key-value\">\n              <div class=\"key\">\n                symbol\n              </div>\n              <div class=\"value\">\n                {{ token?.symbol }}\n              </div>\n            </div>\n            <div *ngIf=\"!isNFT && !!token?.decimals\" class=\"flex-column key-value\">\n              <div class=\"key\">\n                decimals\n              </div>\n              <div class=\"value\">\n                {{ token?.decimals }}\n              </div>\n            </div>\n            <!-- <div *ngIf=\"isNFT && !!tokenFiltered?.last_sale\" class=\"flex-column key-value\">\n              <div class=\"key\">\n                Last Sale Price\n              </div>\n              <div class=\"value\">\n                {{ tokenFiltered.last_sale + ' tez' }}\n              </div>\n            </div> -->\n            <div *ngIf=\"token?.description\" class=\"flex-column key-value desc\">\n              <div class=\"key\">\n                description\n              </div>\n              <div class=\"value\" style=\"white-space: pre-line; overflow-wrap: break-word;\">\n                {{token?.description}}\n              </div>\n            </div>\n          </div>\n        </div>\n        <app-asset [style.height]=\"isAudio ? '' : '0px'\" class=\"flex-row audio minimal-controls\" [requires]=\"['audio']\"\n          [assets]=\"token\" [priorityList]=\"['artifactAsset']\" [size]=\"'raw'\" [autoplay]=\"true\" [muted]=\"true\"\n          [hideSpinner]=\"true\" [controls]=\"true\" (load)=\"isAudio = true\"></app-asset>\n      </div>\n      <span *ngIf=\"isNFT && token?.floorPrice\" class=\"floor-price\">Collection Floor Price: <span>{{ token?.floorPrice + ' tez' }}</span></span>\n      <ng-container *ngFor=\"let type of Object.keys(CONSTANTS.FEATURE_CONTRACTS)\">\n        <ng-container *ngFor=\"let feat of Object.keys(CONSTANTS.FEATURE_CONTRACTS[type])\">\n          <app-ui-toggle-advanced\n            *ngIf=\"CONSTANTS.FEATURE_CONTRACTS[type][feat]?.includes(token?.contractAddress + ':' + token?.id)\"\n            [class]=\"'feat ' + feat\" style=\"width: 100%; margin: 0 0 1em 0\" (stateChange)=\"toggleFeature(type, feat)\"\n            [text]=\"(feat + ' Mode').toUpperCase()\" [state]=\"theme === feat\" [default]=\"theme === feat\">\n          </app-ui-toggle-advanced>\n        </ng-container>\n      </ng-container>\n      <div *ngIf=\"tokenFiltered?.attributes?.length\" class=\"flex-column attr-more\">\n        <div class=\"flex-row button attr-info\" [class]=\"attrInfo ? 'open' : ''\" (click)=\"attrInfo = !attrInfo\">\n          <span>Attributes <span class=\"count\">&nbsp;{{ tokenFiltered?.attributes.length }}</span></span><img src=\"../../../assets/img/chevron-down.svg\" />\n        </div>\n        <div class=\"flex-row-wrap attributes\" [style.maxHeight]=\"attrInfo ? (4.5 * Object.keys(tokenFiltered?.attributes)?.length + 6) + 'em' : '0em'\"\n        [style.overflowY]=\"attrInfo ? 'auto' : 'hidden'\">\n          <ng-container *ngFor=\"let a of tokenFiltered.attributes\">\n            <div class=\"flex-column attr\">\n              <div class=\"name\">\n                {{ a.attribute.name }}\n              </div>\n              <div class=\"value\">\n                {{ a.attribute.value }}\n              </div>\n              <div *ngIf=\"!!a.attribute.freq\" class=\"freq\">\n                {{ a.attribute.freq || '-' }}\n              </div>\n            </div>\n          </ng-container>\n        </div>\n      </div>\n      <div *ngIf=\"!!token\" class=\"flex-row button more-info\" [class]=\"moreInfo ? 'open' : ''\" (click)=\"expand()\">\n        <span>{{ moreInfo ? 'LESS' : 'MORE' }} INFO</span><img src=\"../../../assets/img/chevron-down.svg\" />\n      </div>\n      <div *ngIf=\"!!token\" [style.maxHeight]=\"moreInfo ? (3.25 * Object.keys(tokenFiltered).length) + 'rem' : ''\"\n        [style.overflowY]=\"autoOverflow ? 'auto' : ''\" class=\"flex-column meta-more\">\n        <ng-container *ngFor=\"let key of Object.keys(tokenFiltered)\">\n          <div *ngIf=\"key === 'contractAddress'\" class=\"flex-column key-value\">\n            <div class=\"key\">\n              {{ 'CONTRACT (ID)' }}\n            </div>\n            <div class=\"value\">\n              {{ token[key] + ' ' + '(' + token['id'] + ')' }}\n            </div>\n          </div>\n        </ng-container>\n      </div>\n      <div *ngIf=\"!token?.isUnknownToken\" class=\"flex-column bottom\">\n        <div class=\"seperator\"></div>\n        <app-send-button class=\"send\" [override]=\"true\" [activeAccount]=\"activeAccount\"\n          [tokenTransfer]=\"!token ? null : token['contractAddress']+':'+token['id']\"\n          [symbol]=\"!token ? 'tez' : token?.symbol\">\n        </app-send-button>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ModalComponent } from '../../modal.component';\nimport { TokenBalancesService } from '../../../../services/token-balances/token-balances.service';\nimport { Subscription } from 'rxjs';\nimport { SubjectService } from '../../../../services/subject/subject.service';\nimport { CONSTANTS } from '../../../../../environments/environment';\nimport { UnlockableService } from '../../../../services/unlockable/unlockable.service';\nimport { ObjktService } from '../../../../services/indexer/objkt/objkt.service';\nimport { TokenService } from '../../../../services/token/token.service';\nimport Big from 'big.js';\n@Component({\n  selector: 'app-token-detail',\n  templateUrl: './token-detail.component.html',\n  styleUrls: ['../../../../../scss/components/modals/modal.scss']\n})\nexport class TokenDetail extends ModalComponent implements OnInit, OnDestroy {\n  Object = Object;\n  CONSTANTS = CONSTANTS;\n  token = null;\n  tokenFiltered: any = {};\n  activeAccount = null;\n  moreInfo = false;\n  attrInfo = false;\n  imageExpanded = false;\n  autoOverflow = false;\n  descOverflow = false;\n  isNFT = false;\n  assetLoaded = false;\n  isAudio = false;\n  name = 'token-detail';\n  readonly blacklistMeta = [\n    'name',\n    'kind',\n    'artifactAsset',\n    'displayAsset',\n    'thumbnailAsset',\n    'rawUrl',\n    'isTransferable',\n    'isBooleanAmount',\n    'balance',\n    'category',\n    'symbol',\n    'decimals',\n    'status',\n    'shouldPreferSymbol',\n    'price',\n    'formats',\n    'isUnknownToken'\n  ];\n\n  theme = '';\n\n  private subscriptions: Subscription = new Subscription();\n  constructor(\n    private subjectService: SubjectService,\n    private tokenBalancesService: TokenBalancesService,\n    private tokenService: TokenService,\n    private unlockableService: UnlockableService,\n    private objktService: ObjktService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.subscriptions.add(\n      this.subjectService.activeAccount.subscribe((activeAccount) => {\n        this.activeAccount = activeAccount;\n      })\n    );\n    for (let type of Object.keys(CONSTANTS.FEATURE_CONTRACTS)) {\n      for (let feat of Object.keys(CONSTANTS.FEATURE_CONTRACTS[type])) {\n        if (document.documentElement.classList.contains(feat)) {\n          this.theme = feat;\n        }\n        return;\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  async open(data): Promise<void> {\n    this.token = data;\n    !!this.token\n      ? Object.keys(this.token)\n          .filter((key) => !this.blacklistMeta.includes(key))\n          .forEach((key) => (this.tokenFiltered[key] = this.token[key]))\n      : this.token;\n    this.isNFT = this.tokenBalancesService.isNFT(this.token);\n    this.descOverflow = this.token?.description && this.token?.description.length > 250 ? true : false;\n    this.objktService.resolveToken(this.token.contractAddress, this.token.id).then((d) => {\n      if (Object.keys(this.tokenFiltered).length === 0) {\n        return;\n      }\n      this.token.floorPrice = d?.floor_price ? Big(d.floor_price).div(1000000) : undefined;\n      d?.last_sale ? (d.last_sale = Big(d.last_sale).div(1000000)) : undefined;\n      this.tokenFiltered = { ...d, ...this.tokenFiltered };\n      this.tokenFiltered.attributes = this.tokenFiltered?.attributes?.sort((a, b) =>\n        a.attribute.name > b.attribute.name ? 1 : a.attribute.name < b.attribute.name ? -1 : 0\n      );\n      const size = d?.editions;\n      this.tokenFiltered.attributes = this.tokenFiltered?.attributes\n        ? this.tokenFiltered.attributes?.map((attr) => {\n            if (attr.attribute?.attribute_counts?.length) {\n              attr.attribute.freq = (attr.attribute?.attribute_counts[0].editions * 100) / size;\n              attr.attribute.freq = attr.attribute.freq === 0 ? undefined : attr.attribute.freq > 100 ? '' : attr.attribute.freq.toFixed(2) + '%';\n            }\n            return attr;\n          })\n        : [];\n    });\n    super.open();\n  }\n\n  close(): void {\n    this.reset();\n    super.close();\n  }\n\n  expand(): void {\n    this.moreInfo = !this.moreInfo;\n    if (!this.autoOverflow) {\n      setTimeout(() => {\n        this.autoOverflow = !this.autoOverflow;\n      }, 160);\n    } else {\n      this.autoOverflow = !this.autoOverflow;\n    }\n  }\n\n  expandImage(): void {\n    this.imageExpanded = !this.imageExpanded;\n  }\n\n  async toggleFeature(type, feat): Promise<void> {\n    this.theme = this.unlockableService.toggleFeature(type, feat) ? feat : '';\n  }\n\n  reset(): void {\n    this.moreInfo = false;\n    this.attrInfo = false;\n    this.imageExpanded = false;\n    this.descOverflow = false;\n    this.assetLoaded = false;\n    this.isAudio = false;\n    this.tokenFiltered = {};\n  }\n}\n","<div class=\"flex-column wrapper\" *ngIf=\"account\">\n  <div class=\"grid\" [class.more-than-15]=\"moreThan15\">\n    <app-balances [account]=\"account\"></app-balances>\n    <app-nfts [account]=\"account\"></app-nfts>\n    <app-activity [account]=\"account\"></app-activity>\n  </div>\n</div>\n<app-token-detail></app-token-detail>","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\nimport { Account, Activity, ImplicitAccount } from '../../../../services/wallet/wallet';\nimport { TimeAgoPipe } from '../../../../pipes/time-ago.pipe';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MessageService } from '../../../../services/message/message.service';\nimport * as copy from 'copy-to-clipboard';\nimport { CONSTANTS } from '../../../../../environments/environment';\nimport { ActivityService } from '../../../../services/activity/activity.service';\nimport { TokenService } from '../../../../services/token/token.service';\nimport { Subscription } from 'rxjs';\nimport { SubjectService } from '../../../../services/subject/subject.service';\n\n@Component({\n  selector: 'app-account-view',\n  templateUrl: './account-view.component.html',\n  styleUrls: ['../../../../../scss/components/views/logged-in/account-view/account-view.component.scss']\n})\nexport class AccountViewComponent implements OnInit, OnDestroy {\n  account: Account;\n  private subscriptions: Subscription = new Subscription();\n  constructor(\n    public translate: TranslateService,\n    public messageService: MessageService,\n    public timeAgoPipe: TimeAgoPipe,\n    private activityService: ActivityService,\n    public tokenService: TokenService,\n    private subjectService: SubjectService\n  ) {}\n  trigger = true;\n  @Input() activity: any;\n  moreThan15 = false;\n  ngOnInit(): void {\n    this.subscriptions.add(\n      this.subjectService.activeAccount.subscribe((activeAccount) => {\n        this.account = activeAccount;\n      })\n    );\n    this.subscriptions.add(\n      this.subjectService.nftsUpdated.subscribe((p) => {\n        this.moreThan15 = Object.keys(p?.nfts ?? {})?.length > 15 ? true : false;\n      })\n    );\n    setInterval(() => (this.trigger = !this.trigger), 1000);\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  getType(transaction: Activity): string {\n    if (transaction.type !== 'transaction') {\n      if (transaction.type === 'delegation') {\n        if (transaction.destination.address) {\n          return 'delegated';\n        } else {\n          return 'undelegated';\n        }\n      } else {\n        return transaction.type;\n      }\n    } else {\n      let operationType = '';\n      if (transaction.source.address === this.account.address) {\n        operationType = 'sent';\n      } else {\n        operationType = 'received';\n      }\n      return operationType;\n    }\n  }\n\n  getCounterparty(transaction: any): string {\n    return this.activityService.getCounterparty(transaction, this.account);\n  }\n  copy(account: Account): void {\n    copy(account.address);\n    const copyToClipboard = this.translate.instant('OVERVIEWCOMPONENT.COPIEDTOCLIPBOARD');\n    this.messageService.add(account.address + ' ' + copyToClipboard, 5);\n  }\n  explorerURL(hash: string): string {\n    const baseURL = CONSTANTS.BLOCK_EXPLORER_URL;\n    return `${baseURL}/${hash}`;\n  }\n  printAmount(activity: Activity): string {\n    return this.tokenService.formatAmount(activity.tokenId, activity.amount.toString());\n  }\n  sentKind(activity): string {\n    if (activity.entrypoint) {\n      return `Called ${activity.entrypoint}`;\n    }\n    return 'Sent';\n  }\n  zeroSent(activity): boolean {\n    return this.sentKind(activity).length > 4 && activity.amount === '0';\n  }\n  receivedKind(activity): string {\n    return activity.tokenId && activity.source.address && activity.tokenId.split(':')[0] === activity.source.address ? 'Minted' : 'Received';\n  }\n  displayTokenCard(): boolean {\n    return this.account instanceof ImplicitAccount || this.account?.tokens?.length > 0;\n  }\n}\n","<div class=\"flex-column settings\">\n  <a><button class=\"flex-row back\" [routerLink]=\"'/account/' + activeAccount?.address\"><img\n        src=\"../../../../../assets/img/left-arrow.svg\">BACK</button></a>\n  <h3>Connect with dApps</h3>\n  <div class=\"seperator\"></div>\n  <div class=\"flex-column handler\">\n    <div>\n      <h4>Connect to dApps on <u>another device</u> by scanning a QR code.</h4>\n    </div>\n    <div class=\"scan-button\">\n      <app-qr-scanner></app-qr-scanner>\n    </div>\n  </div>\n  <ng-container *ngIf=\"walletConnectService.pairings?.size || walletConnectService.sessions?.size\">\n    <h3 style=\"height: 1.5rem\">Wallet Connect</h3>\n    <div class=\"seperator\"></div>\n    <div style=\"margin-left: 1rem\">\n      <ng-container>\n        <ng-container *ngIf=\"walletConnectService.pairings.size\">\n          <h4>Pairings <span class=\"blue-click\"\n              (click)=\"walletConnectService.pairings.expanded = !walletConnectService.pairings.expanded\">&nbsp;{{\n              walletConnectService.pairings.expanded ? '&ndash;' : '+'}}&nbsp;</span>\n            <ng-container\n              *ngIf=\"walletConnectService.pairings.size\">({{walletConnectService.pairings.size}})</ng-container>\n          </h4>\n          <table *ngIf=\"walletConnectService.pairings.expanded\">\n            <tbody class=\"wc pairings\">\n              <ng-container *ngFor=\"let dapp of walletConnectService.pairings.dapp | keyvalue\">\n                <tr class=\"dapp\">\n                  <td>{{ dapp.key }}<ng-container *ngIf=\"dapp?.value?.p?.length > 1\">&nbsp;<span class=\"blue-click\"\n                        (click)=\"walletConnectService.pairings.dapp[dapp.key].expanded = !walletConnectService.pairings.dapp[dapp.key].expanded\">\n                        {{ dapp?.value?.expanded ? '&ndash;' : '+' }}\n                      </span>\n                      <ng-container *ngIf=\"walletConnectService.pairings?.dapp[dapp.key].p?.length > 1\">\n                        ({{walletConnectService.pairings.dapp[dapp.key].p.length}})</ng-container>\n                    </ng-container>\n                  </td>\n                  <td><img (click)=\"walletConnectService.deletePairings(dapp?.value?.p)\"\n                      src=\"../../../assets/img/wc_delete.svg\"></td>\n                </tr>\n                <ng-container *ngIf=\"dapp?.value?.expanded && dapp?.value?.p?.length > 1\">\n                  <tr *ngFor=\"let p of dapp?.value?.p | keyvalue: unsorted\">\n                    <td>&emsp;#{{ p.key }}</td>\n                    <td><img (click)=\"walletConnectService.deletePairings([p?.value])\"\n                        src=\"../../../assets/img/wc_delete.svg\"></td>\n                  </tr>\n                </ng-container>\n              </ng-container>\n            </tbody>\n          </table>\n        </ng-container>\n        <ng-container *ngIf=\"walletConnectService.sessions.size\">\n          <h4>Sessions <span class=\"blue-click\"\n              (click)=\"walletConnectService.sessions.expanded = !walletConnectService.sessions.expanded\">&nbsp;{{\n              walletConnectService.sessions.expanded ? '&ndash;' : '+'}}&nbsp;</span>\n            <ng-container\n              *ngIf=\"walletConnectService.sessions.size\">({{walletConnectService.sessions.size}})</ng-container>\n          </h4>\n          <table *ngIf=\"walletConnectService.sessions.expanded\">\n            <tbody class=\"wc sessions\">\n              <ng-container *ngFor=\"let dapp of walletConnectService.sessions.dapp | keyvalue\">\n                <tr class=\"dapp\">\n                  <td>{{ dapp.key }}<ng-container *ngIf=\"dapp?.value?.s?.length > 1\">&nbsp;<span class=\"blue-click\"\n                        (click)=\"walletConnectService.sessions.dapp[dapp.key].expanded = !walletConnectService.sessions.dapp[dapp.key].expanded\">\n                        {{ dapp?.value?.expanded ? '&ndash;' : '+' }}\n                      </span>\n                      <ng-container *ngIf=\"walletConnectService.sessions?.dapp[dapp.key].s?.length > 1\">\n                        ({{walletConnectService.sessions.dapp[dapp.key].s.length}})</ng-container>\n                    </ng-container>\n                  </td>\n                  <td>\n                    <ng-container *ngIf=\"!dapp?.value?.expanded || dapp.value.s.length === 1\">{{\n                      dapp.value.s[dapp.value.s.length - 1].address }}\n                    </ng-container>\n                  </td>\n                  <td>\n                    <img class=\"modify\" (click)=\"changeSession(dapp.value.s[dapp.value.s.length-1])\"\n                      src=\"../../../assets/img/wc_modify.svg\">\n                    <img (click)=\"walletConnectService.deleteSessions(dapp?.value?.s)\"\n                      src=\"../../../assets/img/wc_delete.svg\">\n                  </td>\n                </tr>\n                <ng-container *ngIf=\"dapp?.value?.expanded && dapp?.value?.s?.length > 1\">\n                  <tr *ngFor=\"let s of dapp?.value?.s | keyvalue: unsorted\">\n                    <td>&nbsp;&nbsp;&nbsp;&nbsp;#{{ s.key }}</td>\n                    <td>{{s?.value?.address}}</td>\n                    <td><img (click)=\"walletConnectService.deleteSessions([s?.value])\"\n                        src=\"../../../assets/img/wc_delete.svg\">\n                    </td>\n                  </tr>\n                </ng-container>\n              </ng-container>\n            </tbody>\n          </table>\n        </ng-container>\n      </ng-container>\n    </div>\n  </ng-container>\n  <h3>Peers</h3>\n  <div class=\"seperator\"></div>\n  <table *ngIf=\"beaconService.peers.length\">\n    <thead>\n      <tr>\n        <th>Name</th>\n        <th>Relay server</th>\n        <th><span (click)=\"beaconService.removePeers()\">Remove&nbsp;all</span></th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let peer of beaconService.peers; index as i\">\n        <td>{{ peer.name }}</td>\n        <td>{{ peer.relayServer }}</td>\n        <td (click)=\"beaconService.removePeer(i)\"><img (click)=\"beaconService.removePeer(i)\"\n            src=\"../../../assets/img/cross.svg\"></td>\n      </tr>\n    </tbody>\n  </table>\n  <h3>Permissions</h3>\n  <div class=\"seperator\"></div>\n  <table *ngIf=\"beaconService.permissions.length\">\n    <thead>\n      <tr>\n        <th>Name</th>\n        <th>Address</th>\n        <th><span (click)=\"beaconService.removePermissions()\">Remove&nbsp;all</span></th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let permission of beaconService.permissions; index as i\"\n        [class.inactive]=\"!accountAvailable(permission.address)\">\n        <td>{{ permission.appMetadata.name }}</td>\n        <td>{{ formatAddress(permission.address) }}</td>\n        <td><img (click)=\"beaconService.removePermission(i)\" src=\"../../../assets/img/cross.svg\"></td>\n      </tr>\n    </tbody>\n  </table>\n  <h3>Tokens<span style=\"width: 100%\"></span><ng-container *ngIf=\"canRevealMnemonic()\">Backup</ng-container></h3>\n  <div class=\"seperator\"></div>\n  <!--<button class=\"rescan\" (click)=\"rescan()\">Rescan unknown tokens</button>-->\n  <div class=\"button-wrapper\">\n    <button id=\"all\" class=\"rescan\" (click)=\"rescanAll()\">Clear all token metadata</button>\n    <button *ngIf=\"canRevealMnemonic()\" class=\"reveal-mnemonic\" (click)=\"revealMnemonic()\">Reveal Seed Words</button>  \n  </div>\n</div>","import { Component, OnInit, HostListener, OnDestroy } from '@angular/core';\nimport { BeaconService } from '../../../../services/beacon/beacon.service';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { Router } from '@angular/router';\nimport { TokenService } from '../../../../services/token/token.service';\nimport { MessageService } from '../../../../services/message/message.service';\nimport { Subscription } from 'rxjs';\nimport { CoordinatorService } from '../../../../services/coordinator/coordinator.service';\nimport { SubjectService } from '../../../../services/subject/subject.service';\nimport { ModalComponent } from '../../../../components/modals/modal.component';\nimport { HdWallet, LegacyWalletV3, TorusWallet, ExportedSocialWallet } from '../../../../services/wallet/wallet';\nimport { WalletConnectService } from '../../../../services/wallet-connect/wallet-connect.service';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['../../../../../scss/components/views/logged-in/settings/settings.component.scss']\n})\nexport class SettingsComponent implements OnInit, OnDestroy {\n  implicitAccounts = [];\n  wideAccounts = false;\n  activeAccount = null;\n  private subscriptions: Subscription = new Subscription();\n  constructor(\n    public beaconService: BeaconService,\n    private messageService: MessageService,\n    private walletService: WalletService,\n    private router: Router,\n    private tokenService: TokenService,\n    private coordinatorService: CoordinatorService,\n    private subjectService: SubjectService,\n    public walletConnectService: WalletConnectService\n  ) {}\n\n  ngOnInit(): void {\n    if (this.walletService.wallet) {\n      this.implicitAccounts = this.walletService.wallet.getImplicitAccounts();\n      this.beaconService.syncBeaconState();\n      this.onResize();\n    }\n\n    this.subscriptions.add(\n      this.subjectService.activeAccount.subscribe((activeAccount) => {\n        this.activeAccount = activeAccount;\n      })\n    );\n  }\n  ngOnDestroy(): void {}\n  accountAvailable(pkh: string): boolean {\n    const index = this.implicitAccounts.findIndex((impAcc: any) => impAcc.pkh === pkh);\n    if (index === -1) {\n      return false;\n    }\n    return true;\n  }\n  @HostListener('window:resize')\n  onResize(): void {\n    this.wideAccounts = window.innerWidth > 600;\n  }\n  formatAddress(address: string): string {\n    if (this.wideAccounts) {\n      return address;\n    } else {\n      return address.slice(0, 6) + '...' + address.slice(-4);\n    }\n  }\n  rescan(): void {\n    this.tokenService.resetCounters();\n    this.messageService.add('Scanning for token metadata...');\n    this.coordinatorService.update(this.activeAccount.address);\n    this.router.navigate([`/account/${this.activeAccount.address}`]);\n  }\n  rescanAll(): void {\n    this.tokenService.resetAllMetadata();\n    this.messageService.add('Rescanning all token metadata...');\n    this.coordinatorService.update(this.activeAccount.address);\n    this.router.navigate([`/account/${this.activeAccount.address}`]);\n  }\n  revealMnemonic(): void {\n    ModalComponent.currentModel.next({ name: 'export-mnemonic', data: null });\n  }\n  canRevealMnemonic(): boolean {\n    return (\n      this.walletService.wallet &&\n      (this.walletService.wallet instanceof HdWallet ||\n        this.walletService.wallet instanceof LegacyWalletV3 ||\n        this.walletService.wallet instanceof TorusWallet ||\n        this.walletService.wallet instanceof ExportedSocialWallet)\n    );\n  }\n  changeSession(session: any): void {\n    ModalComponent.currentModel.next({ name: 'session-select', data: { topic: session.topic, preSelectedAccountAddress: session.address } });\n  }\n  unsorted() {}\n}\n","<div class=\"flex-column delegate-page\">\n  <div class=\"content\">\n    <div class=\"flex-column manual\">\n      <div class=\"flex-column delegate\">\n        <a [routerLink]=\"'/account/' + activeAccount?.address\"><button class=\"flex-row back\"><img\n              src=\"../../../../../assets/img/left-arrow.svg\">BACK</button></a>\n        <h1>Staking</h1>\n        <div class=\"flex-row toolbar\"><span class=\"button blue\" (click)=\"toggleCustom()\">Enter Custom Baker</span><span\n            *ngIf=\"!delegates?.length\" class=\"button blue\" (click)=\"this.delegateService.getDelegates()\">Reload</span>\n        </div>\n        <ng-container *ngIf=\"isShowingCustom\">\n          <span>Address or domain of a registered baker</span>\n          <div class=\"custom\">\n            <input [(ngModel)]=\"customAddress\" placeholder=\"Custom baker address\" /><button class=\"button\" (click)=\"stake({address: customAddress})\">STAKE</button>\n          </div>\n        </ng-container>\n      </div>\n    </div>\n    <div class=\"flex-column list\">\n      <ng-container *ngFor=\"let delegate of delegates\">\n        <div class=\"flex-row delegate desktop\">\n          <img class=\"logo\" [src]=\"delegate.logo ? delegate.logo : ''\" />\n          <span class=\"name\">{{ delegate.name }}</span>\n          <span class=\"fee\">SPLIT:&nbsp;<b class=\"value\">{{ toPercent(delegate?.fee) }}</b></span>\n          <span class=\"freespace\" [class.insufficent]=\"delegate.freeSpace < balanceXTZ\">SPACE:&nbsp;<b class=\"value\">{{ round(delegate?.freeSpace) + ' tez' }}</b></span>\n          <span class=\"estROI\">EST REWARDS:&nbsp;<b class=\"value\">{{ toPercent(delegate?.estimatedRoi) }}</b></span>\n          <span class=\"accuracy\">ACCURACY:&nbsp;<b class=\"value\">{{ delegate?.payoutAccuracy }}</b></span>\n          <button *ngIf=\"delegate?.address !== activeAccount?.delegate\" class=\"button\" (click)=\"stake(delegate)\">STAKE</button>\n          <span class=\"current\" *ngIf=\"delegate?.address === activeAccount?.delegate\">CURRENT</span>\n        </div>\n        <div class=\"flex-row delegate mobile\">\n          <div class=\"flex-column props\">\n            <img class=\"logo\" [src]=\"delegate.logo ? delegate.logo : ''\" />\n            <span class=\"name\">{{ delegate.name }}</span>\n            <span class=\"fee\">SPLIT:&nbsp;<b class=\"value\">{{ toPercent(delegate?.fee) }}</b></span>\n            <span class=\"freespace\" [class.insufficent]=\"delegate.freeSpace < balanceXTZ\">SPACE:&nbsp;<b class=\"value\">{{ round(delegate?.freeSpace) + ' tez' }}</b></span>\n            <span class=\"estROI\">EST REWARDS:&nbsp;<b class=\"value\">{{ toPercent(delegate?.estimatedRoi) }}</b></span>\n          </div>\n          <button *ngIf=\"delegate?.address !== activeAccount?.delegate\" class=\"button\" (click)=\"stake(delegate)\">STAKE</button>\n          <span class=\"current\" *ngIf=\"delegate?.address === activeAccount?.delegate\">CURRENT</span>\n        </div>\n      </ng-container>\n    </div>\n  </div>\n</div>","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { DelegateService } from '../../../../services/delegate/delegate.service';\nimport { ModalComponent } from '../../../modals/modal.component';\nimport { InputValidationService } from '../../../../services/input-validation/input-validation.service';\nimport { MessageService } from '../../../../services/message/message.service';\nimport { Subscription } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { SubjectService } from '../../../../services/subject/subject.service';\n\n@Component({\n  selector: 'app-delegate-page',\n  templateUrl: './delegate-page.component.html',\n  styleUrls: ['../../../../../scss/components/views/logged-in/delegate/delegate.component.scss']\n})\nexport class DelegatePageComponent implements OnInit, OnDestroy {\n  delegates;\n  activeAccount = null;\n  customAddress: string = '';\n  isShowingCustom = false;\n  balanceXTZ = 0;\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(\n    public delegateService: DelegateService,\n    public router: Router,\n    public walletService: WalletService,\n    public inputValidationService: InputValidationService,\n    private messageServcie: MessageService,\n    private subjectService: SubjectService\n  ) {\n    this.subscriptions.add(\n      this.subjectService.activeAccount.subscribe((activeAccount) => {\n        if (this.activeAccount !== activeAccount) {\n          this.activeAccount = activeAccount;\n          this.balanceXTZ = this.activeAccount ? this.activeAccount.balanceXTZ / 1000000 : 0;\n          this.subscriptions.add(\n            this.delegateService.delegates.pipe(take(1)).subscribe((d) => {\n              this.delegates = this.filter(d);\n            })\n          );\n        }\n      })\n    );\n\n    this.subscriptions.add(\n      this.delegateService.delegates.subscribe((d) => {\n        this.balanceXTZ = this.activeAccount ? this.activeAccount.balanceXTZ / 1000000 : 0;\n        this.delegates = this.filter(d);\n      })\n    );\n  }\n\n  ngOnInit(): void {}\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  filter(delegates: any): any[] | null {\n    if (delegates?.length) {\n      const del = delegates.filter((d) => {\n        try {\n          if (\n            d.estimatedRoi >= 0 &&\n            d.openForDelegation === true &&\n            d.minDelegation < this.balanceXTZ &&\n            d.serviceType !== 'exchange' &&\n            d.serviceHealth !== 'closed' &&\n            d.serviceHealth !== 'dead'\n          ) {\n            return d;\n          }\n        } catch {\n          return;\n        }\n      });\n      const d2 = del.filter((d) => d.freeSpace < this.balanceXTZ).sort((a, b) => b.freeSpace - a.freeSpace);\n      const d1 = del.filter((d) => d.freeSpace >= this.balanceXTZ).sort((a, b) => b.estimatedRoi - a.estimatedRoi);\n      return [...d1, ...d2].sort((x, y) => (x.address === this.activeAccount?.delegate ? -1 : y === this.activeAccount?.delegate ? 1 : 0));\n    }\n    return [];\n  }\n  stake(delegate: any): void {\n    if (delegate.address === '' || (this.inputValidationService.validDelegationAddress(delegate.address) && delegate.address !== this.activeAccount.address)) {\n      ModalComponent.currentModel.next({\n        name: 'delegate-confirm',\n        data: delegate\n      });\n    } else {\n      this.messageServcie.addError(`Invalid baker address: ${delegate?.address}`);\n    }\n  }\n\n  round(val): string {\n    return Math.round(Number(val)).toString();\n  }\n\n  toPercent(val): string {\n    return parseFloat((Number(val) * 100).toFixed(2)).toString() + '%';\n  }\n\n  toggleCustom(): void {\n    this.isShowingCustom = this.isShowingCustom ? false : true;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AccountViewComponent } from './account-view/account-view.component';\nimport { SettingsComponent } from './settings/settings.component';\nimport { DelegatePageComponent } from './delegate-page/delegate-page.component';\nimport { ActivateComponent } from '../start/activate/activate.component';\n\nconst routes: Routes = [\n  { path: ':address', component: AccountViewComponent },\n  { path: ':address/settings', component: SettingsComponent },\n  { path: ':address/stakers', component: DelegatePageComponent },\n  { path: 'activate', component: ActivateComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LoggedInRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { EstimateService } from '../../../services/estimate/estimate.service';\nimport { SendComponent } from '../../misc/send/send.component';\nimport { ReceiveComponent } from '../../modals/receive/receive.component';\nimport { DelegateComponent } from '../../modals/delegate/delegate.component';\nimport { DelegatePageComponent } from './delegate-page/delegate-page.component';\nimport { ActivateComponent } from '../start/activate/activate.component';\nimport { NewImplicitComponent } from '../../modals/new-implicit/new-implicit.component';\nimport { UriHandlerComponent } from '../../misc/uri-handler/uri-handler.component';\nimport { PermissionRequestComponent } from '../../modals/permission-request/permission-request.component';\nimport { PermissionRequestDropdownComponent } from '../../ui/dropdown/permission-request/permission-request.component';\nimport { SettingsComponent } from './settings/settings.component';\nimport { QrScannerComponent } from '../../modals/qr-scanner/qr-scanner.component';\nimport { SignExprComponent } from '../../modals/sign-expr/sign-expr.component';\nimport { ConfirmSendComponent } from '../../modals/send/confirm/send-confirmation.component';\nimport { PrepareSendComponent } from '../../modals/send/prepare/prepare-send.component';\nimport { OriginateComponent } from '../../modals/originate/originate.component';\nimport { LoggedInComponent } from './logged-in.component';\nimport { LoggedInRoutingModule } from './logged-in-routing.module';\nimport { ConfirmSendEmbedComponent } from '../embedded/confirm-send/confirm-send.component';\nimport { SignExprEmbedComponent } from '../embedded/sign-expr/sign-expr.component';\nimport { AdvancedToggleComponent } from '../../ui/button/toggle/advanced/advanced.component';\nimport { PrepareSendDropdownComponent } from '../../ui/dropdown/prepare-send/prepare-send-dropdown.component';\nimport { AssetComponent } from '../../ui/asset/asset.component';\nimport { NftsBodyComponent } from './account-view/nfts/body/body.component';\nimport { NftsTokenComponent } from './account-view/nfts/token/token.component';\nimport { AccountListComponent } from '../../modals/account-list/list.component';\nimport { AccountListBodyComponent } from '../../modals/account-list/body/body.component';\nimport { ListComponent } from '../../ui/generic/list.component';\nimport { SearchBarComponent } from '../../ui/search/search.component';\nimport { RemoveCommaPipe } from '../../../pipes/remove-comma.pipe';\nimport { ExprTemplateComponent } from '../embedded/sign-expr/template/template.component';\nimport { QueueEmbedComponent } from '../embedded/queue/queue.component';\nimport { SwapLiquidityComponent } from '../../modals/swap-liquidity/swap-liquidity.component';\nimport { SwapLiquidityService } from '../../../services/swap-liquidity/swap-liquidity.service';\nimport { InfoComponent } from '../../modals/info/info.component';\nimport { ExportMnemonicComponent } from '../../modals/export-mnemonic/export-mnemonic.component';\nimport { SwapLiquidityConfirmComponent } from '../../modals/swap-liquidity/swap-liquidity-confirm.component';\nimport { ChartComponent } from '../../ui/chart/chart.component';\nimport { ChartService } from '../../../../app/services/chart/chart.service';\nimport { BuyComponent } from './account-view/buy/buy.component';\nimport { BuyModalComponent } from '../../modals/buy/buy.component';\nimport { SessionSelectComponent } from '../../modals/session-select/session-select.component';\nimport { SessionSelectDropdownComponent } from '../../ui/dropdown/session-select/session-select.component';\n\n@NgModule({\n  declarations: [\n    SendComponent,\n    ReceiveComponent,\n    DelegatePageComponent,\n    SwapLiquidityComponent,\n    ActivateComponent,\n    LoggedInComponent,\n    NewImplicitComponent,\n    UriHandlerComponent,\n    PermissionRequestComponent,\n    PermissionRequestDropdownComponent,\n    SettingsComponent,\n    QrScannerComponent,\n    SignExprComponent,\n    OriginateComponent,\n    ConfirmSendComponent,\n    PrepareSendComponent,\n    DelegateComponent,\n    AdvancedToggleComponent,\n    ConfirmSendEmbedComponent,\n    SignExprEmbedComponent,\n    QueueEmbedComponent,\n    PrepareSendDropdownComponent,\n    AssetComponent,\n    NftsBodyComponent,\n    NftsTokenComponent,\n    AccountListComponent,\n    AccountListBodyComponent,\n    ListComponent,\n    SearchBarComponent,\n    RemoveCommaPipe,\n    ExprTemplateComponent,\n    SwapLiquidityConfirmComponent,\n    InfoComponent,\n    RemoveCommaPipe,\n    ExportMnemonicComponent,\n    ChartComponent,\n    BuyComponent,\n    BuyModalComponent,\n    SessionSelectComponent,\n    SessionSelectDropdownComponent\n  ],\n  imports: [CommonModule, LoggedInRoutingModule, HttpClientModule, FormsModule],\n  exports: [\n    BuyComponent,\n    BuyModalComponent,\n    AdvancedToggleComponent,\n    SendComponent,\n    ConfirmSendEmbedComponent,\n    SignExprEmbedComponent,\n    QueueEmbedComponent,\n    AssetComponent,\n    NftsBodyComponent,\n    NftsTokenComponent,\n    PermissionRequestComponent,\n    PermissionRequestDropdownComponent,\n    SessionSelectComponent,\n    SessionSelectDropdownComponent,\n    ListComponent,\n    AccountListComponent,\n    AccountListBodyComponent,\n    SearchBarComponent,\n    RemoveCommaPipe,\n    ExprTemplateComponent,\n    InfoComponent,\n    ChartComponent\n  ],\n  providers: [SwapLiquidityService, ChartService, EstimateService, RemoveCommaPipe]\n})\nexport class LoggedInModule {}\n","<form autocomplete=\"off\">\n  <div class=\"flex-column card\">\n    <a routerLink=\"/import/\" [state]=\"{ option: 2 }\"><button class=\"flex-row back\"><img\n          src=\"../../../../../assets/img/left-arrow.svg\">BACK</button></a>\n    <div class=\"flex-column body\">\n      <h1>\n        Activate a Fundraiser wallet\n      </h1>\n      <p class=\"description\">Wallets created during the fundraiser need to be activated. No private key is required for\n        the activation process.</p>\n      <span class=\"description\">Your public key hash</span>\n      <input name=\"none\" type=\"text\" class=\"text\" [(ngModel)]=\"pkh\" [placeholder]=\"'tz1...'\">\n      <span class=\"description\">Your activation code</span>\n      <input name=\"none\" type=\"text\" class=\"text\" [(ngModel)]=\"secret\" [placeholder]=\"'Code'\">\n      <button class=\"button next\" (click)=\"activate()\">Activate</button>\n      <span *ngIf=\"formInvalid\" class=\"description red\">\n        {{ formInvalid }}\n      </span>\n    </div>\n  </div>\n</form>","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { MessageService } from '../../../../services/message/message.service';\nimport { OperationService } from '../../../../services/operation/operation.service';\nimport { InputValidationService } from '../../../../services/input-validation/input-validation.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-activate',\n  templateUrl: './activate.component.html',\n  styleUrls: ['../../../../../scss/components/views/start/login.component.scss']\n})\nexport class ActivateComponent implements OnInit, OnDestroy {\n  pkh: string;\n  secret: string;\n  formInvalid = '';\n  private subscriptions: Subscription = new Subscription();\n  constructor(\n    private messageService: MessageService,\n    private operationService: OperationService,\n    private inputValidationService: InputValidationService,\n    private translate: TranslateService\n  ) {}\n\n  ngOnInit(): void {}\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  activate(): void {\n    this.formInvalid = this.checkInput();\n    if (!this.formInvalid) {\n      const pkh = this.pkh;\n      const secret = this.secret;\n      this.pkh = '';\n      this.secret = '';\n      this.subscriptions.add(\n        this.operationService.activate(pkh, secret).subscribe(\n          (ans: any) => {\n            if (ans.success) {\n              if (ans.payload.opHash) {\n                this.subscriptions.add(\n                  this.translate.get('ACTIVATECOMPONENT.ACTIVATESUCCESS').subscribe(\n                    (res: string) => this.messageService.addSuccess(res) // 'Activation successfully broadcasted to the blockchain!'\n                  )\n                );\n              } else {\n                this.subscriptions.add(\n                  this.translate.get('ACTIVATECOMPONENT.RETRIEVEFAIL').subscribe(\n                    (res: string) => this.messageService.addWarning(res) // Could not retrieve an operation hash\n                  )\n                );\n              }\n            } else {\n              let errorMessage = '';\n              if (typeof ans.payload.msg === 'string') {\n                errorMessage = 'NodeError ' + ans.payload.msg;\n              } else {\n                errorMessage = 'NodeError ' + JSON.stringify(ans.payload.msg);\n              }\n              this.messageService.addError(errorMessage);\n              console.log(JSON.stringify(ans.payload.msg));\n            }\n          },\n          (err) => {\n            this.subscriptions.add(\n              this.translate.get('ACTIVATECOMPONENT.ACTIVATEFAIL').subscribe(\n                (res: string) => {\n                  let errorMessage = '';\n                  const activateFailed = res;\n                  if (typeof err.payload.msg === 'string') {\n                    errorMessage = activateFailed + ' ' + err.payload.msg;\n                  } else {\n                    errorMessage = activateFailed;\n                  }\n                  this.messageService.addError(errorMessage);\n                } // 'Failed to activate wallet!'\n              )\n            );\n            console.log(JSON.stringify(err));\n          }\n        )\n      );\n    }\n  }\n  checkInput(): string {\n    if (!this.inputValidationService.address(this.pkh)) {\n      return 'Invalid public key hash!';\n    } else if (!this.inputValidationService.code(this.secret)) {\n      return 'Invalid activation code!';\n    }\n    return '';\n  }\n}\n","import { Activity, Account as WalletAccount } from './services/wallet/wallet';\nimport { Asset, ContractType } from './services/token/token.service';\n\nexport { Activity };\n\nexport interface KeyPair {\n  sk: string | null;\n  pk: string | null;\n  pkh: string;\n}\nexport interface Wallet {\n  seed: null | string;\n  salt: null | string;\n  pk?: string;\n  encryptionVersion: number | null;\n  type: WalletType;\n  balance: Balance;\n  XTZrate: number | null;\n  accounts: Account[];\n  derivationPath?: string;\n}\nexport interface Account {\n  pkh: string | null;\n  delegate: string;\n  balance: Balance;\n  numberOfActivites: number;\n  activities: Activity[];\n}\nexport interface Balance {\n  balanceXTZ: number | null;\n  pendingXTZ: number | null;\n  balanceFiat: number | null;\n  pendingFiat: number | null;\n}\nexport enum WalletType {\n  LegacyWallet,\n  ViewOnlyWallet,\n  ObserverWallet,\n  LedgerWallet,\n  HdWallet,\n  ExportedSocialWallet\n}\nexport enum StorableWalletType {\n  LegacyWallet,\n  HdWallet,\n  ExportedSocialWallet\n}\nexport interface Baker {\n  baker_name: string;\n  image: string;\n  rolls: number;\n  identity: string;\n  vote: string;\n  vote2: string;\n  // vote: []\n}\nexport interface Vote {\n  voting_period: string;\n  period_kind: PeriodKind;\n  proposal_hash: string[];\n  proposal_alias: string[];\n  votes: number[];\n  operation: string[];\n}\nexport interface Period {\n  amendment: string;\n  period: number;\n  period_kind: string;\n  proposal_hash: string[];\n  proposal_alias: string[];\n  start_level: number;\n  end_level: number;\n  level: number;\n  progress: number;\n  remaining: number;\n}\nexport interface ParticipationPerPeriod {\n  proposal?: [\n    {\n      hash: string;\n      alias: string;\n      count: number;\n      votes: number;\n    }\n  ];\n  unused_count: number;\n  total_count: number;\n  unused_votes: number;\n  total_votes: number;\n}\nexport interface Ballot {\n  proposal: string;\n  nb_yay: number;\n  nb_nay: number;\n  nb_pass: number;\n  vote_yay: number;\n  vote_nay: number;\n  vote_pass: number;\n}\nexport enum PeriodKind {\n  Proposal,\n  Exploration,\n  Testing,\n  Promotion\n}\nexport interface DefaultTransactionParams {\n  gas: number;\n  storage: number;\n  fee: number;\n  burn: number;\n  reveal?: boolean;\n  customLimits?: {\n    gasLimit: number;\n    storageLimit: number;\n  }[];\n}\n\nexport enum DisplayLinkOption {\n  All,\n  DirectAuth,\n  None\n}\n\nexport interface OpLimits {\n  gas?: number;\n  storage?: number;\n}\n\nexport interface ExternalRequest {\n  operationRequest: any;\n  selectedAccount: WalletAccount;\n}\nexport interface Constants {\n  NAME: string;\n  TEZOS_DOMAIN: {\n    CONTRACT?: string; // deprecated?\n    TOP_DOMAINS: string[];\n  };\n  NETWORK: string;\n  MAINNET: boolean;\n  NODE_URL: string[];\n  API_URL: string;\n  OBJKT_URL?: string;\n  BLOCK_EXPLORER_URL: string;\n  HARD_LIMITS: {\n    hard_gas_limit_per_operation: number;\n    hard_gas_limit_per_block: number;\n    hard_storage_limit_per_operation: number;\n  };\n  ASSETS: Record<string, ContractType>;\n  CONTRACT_OVERRIDES: Record<string, OpLimits>;\n  CONTRACT_ALIASES: Record<\n    string,\n    {\n      name?: string;\n      address: string[];\n      thumbnailUrl: Asset;\n      discoverUrl?: string;\n      zoomDiscoverImg?: boolean;\n      link?: string;\n      shouldDisplayLink: DisplayLinkOption;\n      category?: string[];\n      backgroundColor?: string;\n      description?: string;\n    }\n  >;\n  NFT_CONTRACT_OVERRIDES: string[];\n  FEATURE_CONTRACTS: {};\n}\n","import * as Bs58check from 'bs58check';\n\nconst prefix = {\n  tz1: new Uint8Array([6, 161, 159]),\n  tz2: new Uint8Array([6, 161, 161]),\n  tz3: new Uint8Array([6, 161, 164]),\n  edpk: new Uint8Array([13, 15, 37, 217]),\n  edsk: new Uint8Array([43, 246, 78, 7]),\n  edsig: new Uint8Array([9, 245, 205, 134, 18]),\n  sig: new Uint8Array([4, 130, 43]),\n  o: new Uint8Array([5, 116]),\n  B: new Uint8Array([1, 52]),\n  TZ: new Uint8Array([3, 99, 29]),\n  KT1: new Uint8Array([2, 90, 121]),\n  sppk: new Uint8Array([3, 254, 226, 86]),\n  spsk: new Uint8Array([17, 162, 224, 201])\n};\n\nconst mergebuf = (b: Uint8Array, wm = Uint8Array.from([3])): Uint8Array => {\n  const r = new Uint8Array(wm.length + b.length);\n  r.set(wm);\n  r.set(b, wm.length);\n  return r;\n};\n\nconst hexToBuf = (hex: string): Uint8Array => {\n  return Uint8Array.from(\n    hex.match(/[\\da-f]{2}/gi).map(function (h) {\n      return parseInt(h, 16);\n    })\n  );\n};\n\nconst bufToHex = (buffer: Uint8Array): string => {\n  const byteArray = Uint8Array.from(buffer),\n    hexParts = [];\n  for (let i = 0; i < byteArray.length; i++) {\n    const hex = byteArray[i].toString(16);\n    const paddedHex = ('00' + hex).slice(-2);\n    hexParts.push(paddedHex);\n  }\n  return hexParts.join('');\n};\n\nconst base58encode = (payload: Uint8Array, prefixx?: Uint8Array): string => {\n  const n = new Uint8Array(prefixx.length + payload.length);\n  n.set(prefixx);\n  n.set(payload, prefixx.length);\n  return Bs58check.encode(Buffer.from(bufToHex(n), 'hex'));\n};\n\nconst base58decode = (enc: string, prefixx: Uint8Array): Uint8Array => {\n  let n = Bs58check.decode(enc);\n  n = n.slice(prefixx.length);\n  return n;\n};\n\nconst hexToPk = (hex: string): string => {\n  return base58encode(hexToBuf(hex.slice(2, 66)), prefix.edpk);\n};\n\nexport { base58encode, base58decode, mergebuf, hexToBuf, hexToPk, bufToHex, prefix };\n","import * as bip39 from 'bip39';\nimport { blake2b } from 'blakejs';\nimport { sign as naclSign } from 'tweetnacl';\nimport { KeyPair, SignedOps } from './interfaces';\nimport { base58encode, base58decode, mergebuf, hexToBuf, bufToHex, prefix as _prefix } from './common';\n\nconst validBase58string = (base58string: string, prefix: string): boolean => {\n  try {\n    let b58prefix: Uint8Array;\n    if (base58string.slice(0, prefix.length) === prefix && Object.prototype.hasOwnProperty.call(_prefix, prefix)) {\n      b58prefix = _prefix[prefix];\n    } else {\n      return false;\n    }\n    base58decode(base58string, b58prefix);\n    return true;\n  } catch {\n    return false;\n  }\n};\n\nconst validImplicitAddress = (address: string): boolean => {\n  return address && address.length === 36 && (validBase58string(address, 'tz1') || validBase58string(address, 'tz2') || validBase58string(address, 'tz3'));\n};\n\nconst validContractAddress = (address: string): boolean => {\n  return address && address.length === 36 && validBase58string(address, 'KT1');\n};\n\nconst validAddress = (address: string): boolean => {\n  return validImplicitAddress(address) || validContractAddress(address);\n};\n\nconst validOperationHash = (opHash: string): boolean => {\n  return opHash.length === 51 && validBase58string(opHash, 'o');\n};\n\nconst validPublicKey = (pk: string): boolean => {\n  return pk && pk.length === 54 && validBase58string(pk, 'edpk');\n};\n\nconst validSecretKey = (sk: string): boolean => {\n  return sk && sk.length === 98 && validBase58string(sk, 'edsk');\n};\n\nconst generateMnemonic = (numberOfWords = 15): string => {\n  if ([15, 18, 21, 24].indexOf(numberOfWords) !== -1) {\n    return bip39.generateMnemonic((numberOfWords * 32) / 3);\n  } else {\n    throw new Error('InvalidNumberOfWords');\n  }\n};\n\nconst validMnemonic = (mnemonic: string): boolean => {\n  return bip39.validateMnemonic(mnemonic);\n};\n\nconst mnemonicToSeed = (mnemonic: string, passphrase = '', bip32Seed = false): Buffer => {\n  if (!validMnemonic(mnemonic)) {\n    throw new Error('InvalidMnemonic');\n  }\n  return bip39.mnemonicToSeedSync(mnemonic, passphrase).slice(0, bip32Seed ? 64 : 32);\n};\n\nconst mnemonicToEntropy = (mnemonic: string): Uint8Array => {\n  if (!validMnemonic(mnemonic)) {\n    throw new Error('InvalidMnemonic');\n  }\n  return hexToBuf(bip39.mnemonicToEntropy(mnemonic));\n};\n\nconst entropyToMnemonic = (entropy: Uint8Array): string => {\n  return bip39.entropyToMnemonic(bufToHex(entropy));\n};\n\nconst seedToKeyPair = (seed: Buffer): KeyPair => {\n  if (!seed || !(seed.length === 32 || seed.length === 64)) {\n    throw new Error('Invalid seed');\n  }\n  const keyPair = naclSign.keyPair.fromSeed(seed);\n  return {\n    sk: base58encode(keyPair.secretKey, _prefix.edsk),\n    pk: base58encode(keyPair.publicKey, _prefix.edpk),\n    pkh: base58encode(blake2b(keyPair.publicKey, null, 20), _prefix.tz1)\n  };\n};\n\nconst secretKeyToKeyPair = (sk: string): KeyPair => {\n  if (!validSecretKey) {\n    throw new Error('Invalid secret key');\n  }\n  const keyPair = naclSign.keyPair.fromSecretKey(base58decode(sk, _prefix.edsk));\n  return {\n    sk: base58encode(keyPair.secretKey, _prefix.edsk),\n    pk: base58encode(keyPair.publicKey, _prefix.edpk),\n    pkh: base58encode(blake2b(keyPair.publicKey, null, 20), _prefix.tz1)\n  };\n};\n\nconst deriveContractAddress = (sopBytes: string, n = 0): string => {\n  const hash = blake2b(mergebuf(hexToBuf(sopBytes)), null, 32);\n  const index = new Uint8Array([0, 0, 0, n]);\n  const hash2 = blake2b(mergebuf(index, hash), null, 32);\n  return base58encode(hash2, _prefix.KT1);\n};\n\nconst addressToHex = (address: string): string => {\n  if (!validAddress(address)) {\n    throw new TypeError('Invalid address');\n  } else if (address.slice(0, 2) === 'KT') {\n    return '01' + bufToHex(base58decode(address, _prefix.KT1)) + '00';\n  } else if (address.slice(0, 3) === 'tz1') {\n    return '0000' + bufToHex(base58decode(address, _prefix.tz1));\n  } else if (address.slice(0, 3) === 'tz2') {\n    return '0001' + bufToHex(base58decode(address, _prefix.tz2));\n  } else if (address.slice(0, 3) === 'tz3') {\n    return '0002' + bufToHex(base58decode(address, _prefix.tz3));\n  } else {\n    throw new Error('Base58DecodingError');\n  }\n};\n\nconst sign = (bytes: string, sk: string): SignedOps => {\n  const hash = blake2b(mergebuf(hexToBuf(bytes)), null, 32);\n  const sig = naclSign.detached(hash, base58decode(sk, _prefix.edsk));\n  const edsig = base58encode(sig, _prefix.edsig);\n  const sbytes = bytes + bufToHex(sig);\n  return {\n    bytes,\n    sig,\n    edsig,\n    sbytes\n  };\n};\n\nconst pkToPkh = (pk: string): string => {\n  if (!validPublicKey(pk)) {\n    throw new Error('Invalid public key');\n  }\n  const pkDecoded = base58decode(pk, _prefix.edpk);\n  return base58encode(blake2b(pkDecoded, null, 20), _prefix.tz1);\n};\n\nexport {\n  generateMnemonic,\n  mnemonicToSeed,\n  seedToKeyPair,\n  validMnemonic,\n  validAddress,\n  validImplicitAddress,\n  validContractAddress,\n  validOperationHash,\n  validPublicKey,\n  validSecretKey,\n  validBase58string,\n  deriveContractAddress,\n  sign,\n  addressToHex,\n  pkToPkh,\n  secretKeyToKeyPair,\n  mnemonicToEntropy,\n  entropyToMnemonic\n};\n","import { sign as naclSign } from 'tweetnacl';\nimport { full as naclAuthFull } from 'tweetnacl-auth';\nimport { blake2b } from 'blakejs';\nimport { base58encode, prefix as _prefix } from './common';\nimport { KeyPair, Node } from './interfaces';\n\n/*\n    Hardened HD derivations for Tezos (bip32-ed25519)\n\n    https://github.com/satoshilabs/slips/blob/master/slip-0010.md\n    https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki\n    https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki\n    https://github.com/satoshilabs/slips/blob/master/slip-0044.md\n\n    https://github.com/LedgerHQ/ledger-live-common/blob/master/src/derivation.js#L84\n    m / 44' / 1729' / account_index' / 0'\n*/\n\nconst deriveNode = (message: Buffer, key: Buffer): Node => {\n  const hmac = naclAuthFull(message, key);\n  return {\n    privateKey: hmac.slice(0, 32),\n    chainCode: hmac.slice(32)\n  };\n};\n\nconst deriveRootNode = (seed: Buffer): Node => {\n  if (seed.length !== 64) {\n    throw new Error('Invalid seed size');\n  }\n  const domainSeperator = Buffer.from('ed25519 seed');\n  return deriveNode(seed, domainSeperator);\n};\n\nconst deriveChildNode = (node: Node, index: number): Node => {\n  const indexBuf: Buffer = Buffer.allocUnsafe(4);\n  indexBuf.writeUInt32BE(index, 0);\n  const message: Buffer = Buffer.concat([Buffer.alloc(1, 0), Buffer.from(node.privateKey), indexBuf]);\n  return deriveNode(message, Buffer.from(node.chainCode));\n};\n\nconst derivationPathToArray = (derivationPath: string): number[] => {\n  derivationPath = derivationPath.replace('m/', '').replace(/'/g, 'h');\n  if (!derivationPath.match(/^44h\\/1(729)?(h\\/[0-9]+)+h$/g)) {\n    throw new Error('Invalid derivation path. Only hardened derivation paths on Tezos domain space is supported.');\n  }\n  return derivationPath.split('/').map((level: string) => {\n    level = level.slice(0, -1);\n    if (Number(level) >= Number('0x80000000')) {\n      throw new Error('Invalid derivation path. Out of bound.');\n    }\n    return Number(level) + Number('0x80000000');\n  });\n};\n\nconst seedToKeyPair = (seed: Buffer, derivationPath: string): KeyPair => {\n  const pathArray = derivationPathToArray(derivationPath);\n  let node = deriveRootNode(seed);\n  for (const index of pathArray) {\n    node = deriveChildNode(node, index);\n  }\n  const { secretKey, publicKey } = naclSign.keyPair.fromSeed(Buffer.from(node.privateKey));\n  return {\n    sk: base58encode(secretKey, _prefix.edsk),\n    pk: base58encode(publicKey, _prefix.edpk),\n    pkh: base58encode(blake2b(publicKey, null, 20), _prefix.tz1)\n  };\n};\n\nconst keyPairFromAccountIndex = (seed: Buffer, accountIndex: number): KeyPair => {\n  return seedToKeyPair(seed, `44h/1729h/${accountIndex}h/0h`);\n};\n\nexport { seedToKeyPair, keyPairFromAccountIndex };\n","import * as bip39 from 'bip39';\nimport { base58encode, base58decode, prefix as _prefix } from './common';\nimport { entropyToMnemonic, mnemonicToEntropy, validBase58string, validMnemonic } from './utils';\n\nfunction getShiftedWord(word: string) {\n  const mnemonicWordIndexMap: Record<string, number> = {};\n  bip39.wordlists.english.forEach((word, index) => (mnemonicWordIndexMap[word] = index));\n  const index = mnemonicWordIndexMap[word];\n  if (index === undefined) {\n    throw new Error('Invalid word to shift');\n  }\n  const checksumByte = index % 256;\n  const newIndex = index - checksumByte + ((checksumByte + 128) % 256);\n  return bip39.wordlists.english[newIndex];\n}\n\n// We allow users to export their Social Login secret keys as a mnemonic, but\n// these are tz2 addresses. Most Tezos wallets do not support tz2 so we do not\n// want users to try to import these mnemonics in other wallets and get the\n// wrong key so we offset the last byte to break the checksum. When we\n// import these keys we must revert that behavior.\nfunction shiftChecksum(mnemonic: string) {\n  let isValidMnemonic = 0;\n  if (mnemonic.split(' ').length !== 24) {\n    throw new Error('Invalid length');\n  }\n  validMnemonic(mnemonic) ? isValidMnemonic++ : null;\n  const words = mnemonic.split(' ');\n  words[23] = getShiftedWord(words[23]);\n  mnemonic = words.join(' ');\n  validMnemonic(mnemonic) ? isValidMnemonic++ : null;\n  if (isValidMnemonic !== 1) {\n    throw new Error('Invalid mnemonic');\n  }\n  return mnemonic;\n}\nfunction spskToShiftedMnemonic(sk: string): string {\n  const entropy = base58decode(sk, _prefix.spsk);\n  const mnemonic = entropyToMnemonic(entropy);\n  return shiftChecksum(mnemonic);\n}\nfunction mnemonicToSpsk(mnemonic: string): string {\n  return base58encode(mnemonicToEntropy(mnemonic), _prefix.spsk);\n}\n\nfunction shiftedMnemonicToMnemonic(mnemonic: string): string {\n  return shiftChecksum(mnemonic);\n}\n\nconst validSecretKey = (sk: string): boolean => {\n  return sk && sk.length === 54 && validBase58string(sk, 'spsk');\n};\n\nexport { spskToShiftedMnemonic, shiftedMnemonicToMnemonic, validSecretKey, mnemonicToSpsk };\n","import Dexie from 'dexie';\n\nconst db: any = new Dexie('Kukai');\nconst wc_db: any = new Dexie('WALLET_CONNECT_V2_INDEXED_DB');\ndb.version(1).stores({\n  key_value_store: 'key'\n});\n\nconst dbExist = async (dbName: string, version = 1) => {\n  let newDb = false;\n  await ((): Promise<void> => {\n    return new Promise((resolve) => {\n      const req = indexedDB.open(dbName, version);\n      req.onupgradeneeded = () => {\n        req.transaction.abort();\n        newDb = true;\n        resolve();\n      };\n      req.onsuccess = () => {\n        resolve();\n      };\n    });\n  })();\n  return newDb;\n};\n\nconst saveToKvDb = async (key: string, value: any): Promise<void> => {\n  return new Promise((resolve) => {\n    if (db.key_value_store) db.key_value_store.clear();\n    db.key_value_store.add({ key: key, value }).then(() => {\n      resolve();\n    });\n  });\n};\nconst getFromKvDb = async (key: string): Promise<any> => {\n  const key_value_store = await db.key_value_store.where('key').equals(key).toArray();\n  if (key_value_store && key_value_store.length > 0) {\n    return key_value_store[0].value;\n  }\n  return null;\n};\nconst readWcDb = async (key: string): Promise<any> => {\n  return new Promise(async (resolve, reject) => {\n    const indexedDB: any = window['indexedDB'] || window['mozIndexedDB'] || window['webkitIndexedDB'] || window['msIndexedDB'] || window['shimIndexedDB'];\n    if (await dbExist('WALLET_CONNECT_V2_INDEXED_DB')) {\n      console.log('wc db doesnt exist yet');\n      return null;\n    }\n    const open = indexedDB.open('WALLET_CONNECT_V2_INDEXED_DB', 1);\n    open.onerror = (event) => {\n      console.error(event);\n      reject(event);\n    };\n    open.onsuccess = (event) => {\n      const db = open.result;\n      const tx = db.transaction(['keyvaluestorage'], 'readwrite');\n      const store = tx.objectStore('keyvaluestorage');\n      const value = store.get(key);\n      value.onerror = (event) => {\n        console.error(event);\n        reject(event);\n      };\n      value.onsuccess = (event) => {\n        if (value?.result) {\n          resolve(value?.result);\n        } else {\n          console.error(`No value found for key: ${key}`);\n          reject();\n        }\n      };\n      tx.oncomplete = (event) => {\n        db.close();\n      };\n    };\n  });\n};\nexport { saveToKvDb, getFromKvDb, readWcDb };\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'removeComma'\n})\nexport class RemoveCommaPipe implements PipeTransform {\n  transform(value: string): string {\n    if (value !== undefined && value !== null) {\n      return value.replace(/,/g, '');\n    } else {\n      return '';\n    }\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\nimport { TranslateService } from '@ngx-translate/core'; // Multiple instances created ?\nimport * as timediff from 'timediff';\n\n@Pipe({\n  name: 'timeAgo',\n  pure: true // if false pipe will be called at each changes - necessary for translation - is there a better way?\n})\nexport class TimeAgoPipe implements PipeTransform {\n  constructor(private translate: TranslateService) {}\n  transform(timestamp: number): string {\n    const now = this.translate.instant('TIMEAGOPIPE.JUSTNOW');\n    const sec = this.translate.instant('TIMEAGOPIPE.SEC');\n    const secs = sec;\n    const mn = this.translate.instant('TIMEAGOPIPE.MINUTE');\n    const mns = mn;\n    const hr = this.translate.instant('TIMEAGOPIPE.HOUR');\n    const hrs = this.translate.instant('TIMEAGOPIPE.HOURS');\n    const day = this.translate.instant('TIMEAGOPIPE.DAY');\n    const days = this.translate.instant('TIMEAGOPIPE.DAYS');\n    const month = this.translate.instant('TIMEAGOPIPE.MONTH');\n    const months = this.translate.instant('TIMEAGOPIPE.MONTHS');\n    const year = this.translate.instant('TIMEAGOPIPE.YEAR');\n    const years = this.translate.instant('TIMEAGOPIPE.YEARS');\n\n    const timeNow = new Date().getTime();\n    const diff = timediff(timestamp, timeNow, 'YMDHmS');\n\n    const keys = Object.keys(diff);\n    let count = 0;\n    let output = '';\n\n    for (const key of keys) {\n      if (diff[key] || count) {\n        if (count) {\n          output = output + ' ';\n        }\n        switch (key) {\n          case 'years':\n            output = `${diff[key]}${diff[key] === 1 ? year : years}`;\n            break;\n          case 'months':\n            output = output + `${diff[key]}${diff[key] === 1 ? month : months}`;\n            break;\n          case 'days':\n            output = output + `${diff[key]}${diff[key] === 1 ? day : days}`;\n            break;\n          case 'hours':\n            output = output + `${diff[key]}${diff[key] === 1 ? hr : hrs}`;\n            break;\n          case 'minutes':\n            output = output + `${diff[key]}${diff[key] === 1 ? mn : mns}`;\n            break;\n          case 'seconds':\n            if (!diff.minutes && diff.seconds < 60) {\n              output = now;\n            } else if (diff.minutes < 2) {\n              output = output + `${diff[key]}${diff[key] === 1 ? sec : secs}`;\n            }\n            break;\n        }\n        if (count++) {\n          break;\n        }\n      }\n    }\n    return output;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { WalletService } from '../wallet/wallet.service';\nimport { of, Observable, from as fromPromise } from 'rxjs';\nimport { flatMap } from 'rxjs/operators';\nimport { delay, takeUntil } from 'rxjs/operators';\nimport { Activity, Account, OpStatus } from '../wallet/wallet';\nimport { MessageService } from '../message/message.service';\nimport { LookupService } from '../lookup/lookup.service';\nimport { IndexerService } from '../indexer/indexer.service';\nimport { TokenService } from '../token/token.service';\nimport { BehaviorSubject } from 'rxjs';\nimport { SubjectService } from '../subject/subject.service';\n\n@Injectable()\nexport class ActivityService {\n  readonly maxTransactions = 10;\n  public tokenBalanceUpdated = new BehaviorSubject(null);\n  constructor(\n    private walletService: WalletService,\n    private messageService: MessageService,\n    private lookupService: LookupService,\n    private indexerService: IndexerService,\n    private tokenService: TokenService,\n    private subjectService: SubjectService\n  ) {}\n  updateTransactions(pkh): Observable<any> {\n    try {\n      const account = this.walletService.wallet.getAccount(pkh);\n      return this.getTransactonsCounter(account).pipe(\n        flatMap((ans: any) => {\n          return of(ans);\n        })\n      );\n    } catch (e) {\n      console.log(e);\n    }\n  }\n  getTransactonsCounter(account: Account): Observable<any> {\n    const knownTokenIds: string[] = this.tokenService.knownTokenIds();\n    return fromPromise(this.indexerService.accountInfo(account.address, knownTokenIds)).pipe(\n      flatMap((data) => {\n        const counter = data.counter;\n        const unknownTokenIds = data.unknownTokenIds ? data.unknownTokenIds : [];\n        this.tokenService.searchAllMetadata(unknownTokenIds);\n        this.tokenService.recheckMetadata(data?.tokens);\n        if (account.state !== counter) {\n          if (data.tokens) {\n            this.updateTokenBalances(account, data.tokens);\n          } else {\n            this.updateTokenBalances(account, []);\n          }\n          return this.getAllTransactions(account, counter);\n        } else {\n          if (!account.state) {\n            if (!account.activities || !account.tokens) {\n              if (!account.activities) {\n                account.activities = [];\n              }\n              if (!account.tokens) {\n                account.tokens = [];\n              }\n              this.updateTokenBalances(account, []);\n              this.walletService.storeWallet();\n            }\n          }\n          return of({\n            upToDate: true,\n            balance: data?.balance ? data.balance : 0\n          });\n        }\n      })\n    );\n  }\n  async updateTokenBalances(account, tokens) {\n    if (Array.isArray(tokens)) {\n      const idsWithBalance: string[] = [];\n      if (!tokens.length) {\n        account.updateTokenBalance('', '');\n      } else {\n        for (const token of tokens) {\n          idsWithBalance.push(token.tokenId);\n          account.updateTokenBalance(token.tokenId, token.balance.toString());\n        }\n        const currentTokenIds = account.getTokenBalances().map((token) => {\n          return token.tokenId;\n        });\n        for (const tokenId of currentTokenIds) {\n          if (!idsWithBalance.includes(tokenId)) {\n            account.updateTokenBalance(tokenId, '0');\n          }\n        }\n      }\n      this.tokenBalanceUpdated.next(true);\n      this.walletService.storeWallet();\n    }\n  }\n  getAllTransactions(account: Account, counter: string): Observable<any> {\n    const knownTokenIds: string[] = this.tokenService.knownTokenIds();\n    return fromPromise(this.indexerService.getOperations(account.address, knownTokenIds, this.walletService.wallet)).pipe(\n      flatMap((resp) => {\n        const operations = resp.operations;\n        this.tokenService.searchAllMetadata(resp.unknownTokenIds);\n        if (Array.isArray(operations)) {\n          const oldActivities = account.activities;\n          const unconfirmedOps = [];\n          if (oldActivities && oldActivities.length) {\n            for (let op of oldActivities) {\n              if (op.status === OpStatus.UNCONFIRMED || op.status === OpStatus.HALF_CONFIRMED) {\n                let save = true;\n                for (const opNew of operations) {\n                  if (opNew.hash === op.hash) {\n                    save = false;\n                    break;\n                  }\n                }\n                if (save) {\n                  unconfirmedOps.push(op);\n                }\n              }\n            }\n          }\n          account.activities = unconfirmedOps.concat(operations);\n          const oldState = account.state;\n          account.state = counter;\n          this.walletService.storeWallet();\n          if (oldState !== '') {\n            // Exclude inital loading\n            this.promptNewActivities(account, oldActivities, operations);\n          }\n          for (const activity of operations) {\n            const counterParty = this.getCounterparty(activity, account, false);\n            this.lookupService.check(counterParty);\n          }\n        }\n        return of({\n          upToDate: false\n        });\n      })\n    );\n  }\n  promptNewActivities(account: Account, oldActivities: Activity[], newActivities: Activity[]) {\n    for (const activity of newActivities) {\n      const index = oldActivities.findIndex((a) => a.hash === activity.hash && a.status === OpStatus.CONFIRMED);\n      if (index === -1) {\n        const now = new Date().getTime();\n        const timeDiff = now - (activity?.timestamp ? activity.timestamp : now);\n        if (timeDiff < 1800000) {\n          // 1/2 hour\n          if (activity.hash) {\n            setTimeout(() => {\n              this.subjectService.confirmedOp.next(activity.hash);\n            }, 0);\n          }\n          if (activity.type === 'transaction') {\n            if (account.address === activity.source.address) {\n              this.messageService.addSuccess(account.shortAddress() + ': Sent ' + this.tokenService.formatAmount(activity.tokenId, activity.amount.toString()));\n            }\n            if (account.address === activity.destination.address) {\n              const ref = activity.tokenId ? Date.now().toString() + activity.tokenId : '';\n              this.messageService.addSuccess(\n                (account.shortAddress() + ': Received ' + this.tokenService.formatAmount(activity.tokenId, activity.amount.toString())).replace(\n                  '[Unknown token]',\n                  'Token'\n                ),\n                undefined,\n                ref\n              );\n              if (activity.tokenId && this.tokenService.getAsset(activity.tokenId) === null) {\n                // unknown token\n                this.subjectService.metadataUpdated.pipe(takeUntil(of(true).pipe(delay(8000)))).subscribe((token: any) => {\n                  // unsub after 8s\n                  if (token?.contractAddress && token.id !== undefined) {\n                    const tokenId = token.contractAddress + ':' + token.id.toString();\n                    if (activity.tokenId === tokenId) {\n                      this.messageService.modify(\n                        account.shortAddress() + ': Received ' + this.tokenService.formatAmount(activity.tokenId, activity.amount.toString()),\n                        ref\n                      );\n                    }\n                  }\n                });\n              }\n            }\n          } else if (activity.type === 'delegation') {\n            this.messageService.addSuccess(account.shortAddress() + ': Delegate updated');\n          } else if (activity.type === 'origination') {\n            this.messageService.addSuccess(account.shortAddress() + ': Contract originated');\n          } else if (activity.type === 'activation') {\n            this.messageService.addSuccess(account.shortAddress() + ': Account activated');\n          }\n          const counter = this.getCounterparty(activity, account, false);\n          if (counter?.address) {\n            this.lookupService.check(counter.address, true);\n          }\n        }\n      }\n    }\n  }\n  getCounterparty(transaction: Activity, account: Account, withLookup = true): any {\n    let counterParty = { address: '' };\n    if (transaction.type === 'delegation') {\n      if (transaction.destination) {\n        counterParty = transaction.destination;\n      } else {\n        counterParty = { address: '' }; // User has undelegated\n      }\n    } else if (transaction.type === 'transaction') {\n      if (account.address === transaction.source.address) {\n        counterParty = transaction.destination; // to\n      } else {\n        counterParty = transaction.source; // from\n      }\n    } else if (transaction.type === 'origination') {\n      if (account.address === transaction.source.address) {\n        counterParty = transaction.destination ? transaction.destination : { address: '' };\n      } else {\n        counterParty = transaction.source;\n      }\n    } else {\n      counterParty = { address: '' };\n    }\n    if (withLookup) {\n      return this.lookupService.resolve(counterParty);\n    } else {\n      return counterParty;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { WalletService } from '../wallet/wallet.service';\nimport { TzrateService } from '../tzrate/tzrate.service';\nimport { OperationService } from '../operation/operation.service';\nimport { Account } from '../wallet/wallet';\n\n@Injectable()\nexport class BalanceService {\n  constructor(private walletService: WalletService, private tzrateService: TzrateService, private operationService: OperationService) {}\n\n  getBalanceAll() {\n    for (const account of this.walletService.wallet.getAccounts()) {\n      this.getAccountBalance(account);\n    }\n  }\n  getAccountBalance(account: Account) {\n    console.log('for ' + account.address);\n    this.operationService.getBalance(account.address).subscribe((ans: any) => {\n      if (ans.success) {\n        this.updateAccountBalance(account, Number(ans.payload.balance));\n      } else {\n        console.log('Balance Error: ' + JSON.stringify(ans.payload.msg));\n      }\n    });\n  }\n  updateAccountBalance(account: Account, newBalance: number) {\n    if (account && (account.balanceXTZ === null || account.balanceXTZ === undefined || newBalance !== account.balanceXTZ)) {\n      account.balanceXTZ = newBalance;\n      this.updateTotalBalance();\n      this.tzrateService.updateFiatBalances();\n      this.walletService.storeWallet();\n    }\n  }\n  updateTotalBalance() {\n    let balance = 0;\n    let change = false;\n    for (const account of this.walletService.wallet.getAccounts()) {\n      if (!(account.balanceXTZ === null || account.balanceXTZ === undefined)) {\n        balance = balance + Number(account.balanceXTZ);\n        change = true;\n      }\n    }\n    if (change) {\n      this.walletService.wallet.totalBalanceXTZ = balance;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { MessageService } from '../../services/message/message.service';\nimport {\n  WalletClient,\n  BeaconMessageType,\n  PermissionResponseInput,\n  SignPayloadResponseInput,\n  P2PPairingRequest,\n  BeaconErrorType,\n  BEACON_VERSION,\n  ErrorResponse,\n  getSenderId,\n  ExtendedP2PPairingResponse\n} from '@airgap/beacon-sdk';\nimport { Asset } from '../token/token.service';\nimport { TzktService } from '../indexer/tzkt/tzkt.service';\n@Injectable({\n  providedIn: 'root'\n})\nexport class BeaconService {\n  client: WalletClient = null;\n  peers = [];\n  permissions = [];\n  constructor(private messageService: MessageService, private tzktService: TzktService) {}\n  preNotifyPairing(pairInfoJson: string) {\n    const pairInfo: P2PPairingRequest = JSON.parse(pairInfoJson);\n    if (this.isNewPairingRequest(pairInfo)) {\n      this.messageService.addBeaconWait(`Pairing with ${pairInfo.name}. Please wait!`);\n    }\n  }\n  isNewPairingRequest(pairInfo: P2PPairingRequest): boolean {\n    const peersJson = localStorage.getItem('beacon:communication-peers-wallet');\n    let newPublicKey = true;\n    if (peersJson) {\n      const peers = JSON.parse(peersJson);\n      if (peers && peers.length > 0 && pairInfo.publicKey) {\n        for (const peer of peers) {\n          if (peer.publicKey && peer.publicKey === pairInfo.publicKey) {\n            newPublicKey = false;\n            console.log('Existing public key found!');\n            break;\n          }\n        }\n      }\n    }\n    return newPublicKey;\n  }\n  async addPeer(pairInfoJson: string, force = true) {\n    const pairInfo = JSON.parse(pairInfoJson);\n    console.log('PairInfo', pairInfo);\n    await this.client.addPeer(pairInfo, force);\n    this.syncBeaconState();\n    this.messageService.removeBeaconMsg();\n  }\n  async syncBeaconState() {\n    this.peers = await this.getPeers();\n    this.permissions = await this.getPermissions();\n  }\n  async removePeers() {\n    while (this.peers.length > 0) {\n      await this.removePeer(0);\n    }\n  }\n  async removePeer(index: number) {\n    const pairInfo: P2PPairingRequest = this.peers[index];\n    const senderId = await getSenderId(pairInfo.publicKey);\n    const peerResponse: ExtendedP2PPairingResponse = {\n      ...pairInfo,\n      type: 'p2p-pairing-response',\n      senderId\n    };\n    await this.client.removePeer(peerResponse);\n    await this.client.removeAppMetadata(senderId);\n    this.syncBeaconState();\n  }\n  async removePermissions() {\n    await this.client.removeAllPermissions();\n    this.syncBeaconState();\n  }\n  async removePermission(index: number) {\n    await this.client.removePermission(this.permissions[index].accountIdentifier);\n    this.syncBeaconState();\n  }\n  async getPeers(): Promise<any> {\n    return await this.client.getPeers();\n  }\n  async getPermissions(): Promise<any> {\n    return await this.client.getPermissions();\n  }\n  async getAppMetadataList(): Promise<any> {\n    return await this.client.getAppMetadataList();\n  }\n  async rejectOnPermission(message: any) {\n    await this.respondWithError(BeaconErrorType.NOT_GRANTED_ERROR, message);\n  }\n  async rejectOnNetwork(message: any) {\n    await this.respondWithError(BeaconErrorType.NETWORK_NOT_SUPPORTED, message);\n  }\n  async rejectOnUserAbort(message: any) {\n    await this.respondWithError(BeaconErrorType.ABORTED_ERROR, message);\n  }\n  async rejectOnSourceAddress(message: any) {\n    await this.respondWithError(BeaconErrorType.NO_PRIVATE_KEY_FOUND_ERROR, message);\n  }\n  async rejectOnTooManyOps(message: any) {\n    await this.respondWithError(BeaconErrorType.TOO_MANY_OPERATIONS, message);\n  }\n  async rejectOnUnknown(message: any) {\n    await this.respondWithError(BeaconErrorType.UNKNOWN_ERROR, message);\n  }\n  async rejectOnParameters(message: any) {\n    await this.respondWithError(BeaconErrorType.PARAMETERS_INVALID_ERROR, message);\n  }\n  async rejectOnBroadcastError(message: any) {\n    await this.respondWithError(BeaconErrorType.BROADCAST_ERROR, message);\n  }\n  async respondWithError(errorType: BeaconErrorType, requestMessage: any) {\n    if (requestMessage) {\n      const response: ErrorResponse = {\n        type: BeaconMessageType.Error,\n        errorType,\n        version: BEACON_VERSION,\n        id: requestMessage.id,\n        senderId: await this.client.beaconId\n      };\n      await this.client.respond(response);\n    }\n  }\n  async approvePermissionRequest(message: any, publicKey: string) {\n    const response: PermissionResponseInput = {\n      type: BeaconMessageType.PermissionResponse,\n      network: message.network,\n      scopes: message.scopes,\n      id: message.id,\n      publicKey: publicKey\n    };\n    await this.client.respond(response);\n  }\n  async approveSignPayloadRequest(message: any, signature: string) {\n    const response: SignPayloadResponseInput = {\n      type: BeaconMessageType.SignPayloadResponse,\n      id: message.id,\n      signingType: message.signingType,\n      signature\n    };\n    await this.client.respond(response);\n  }\n  async responseSync() {\n    localStorage.setItem('beacon:request-response', 'true');\n    localStorage.removeItem('beacon:request-response');\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ChartSeries } from '../../../app/components/ui/chart/chart.component';\nimport { SwapLiquidityService } from '../swap-liquidity/swap-liquidity.service';\n\nexport enum ChartTitle {\n  XTZtzBTC = 'XTZ/tzBTC',\n  tzBTCXTZ = 'tzBTC/XTZ',\n  totalValueLocked = 'Total Value Locked'\n}\n\nlet width, height, gradient;\nfunction getGradientBackground(ctx, chartArea) {\n  const style = getComputedStyle(document.body);\n  const theme = style.getPropertyValue('--theme').replace(/[ \\\"]/g, '');\n  const chartWidth = chartArea.right - chartArea.left;\n  const chartHeight = chartArea.bottom - chartArea.top;\n  if (gradient === null || width !== chartWidth || height !== chartHeight) {\n    width = chartWidth;\n    height = chartHeight;\n    gradient = ctx.createLinearGradient(0, chartArea.bottom, 0, chartArea.top);\n    if (theme === 'dark') {\n      gradient.addColorStop(1, '#383d7d');\n      gradient.addColorStop(0.5, '#2e304f');\n      gradient.addColorStop(0, '#2a2c3f');\n    } else {\n      gradient.addColorStop(1, '#c2c5fc');\n      gradient.addColorStop(0.5, '#e0e1fb');\n      gradient.addColorStop(0, '#e8eafb');\n    }\n  }\n\n  return gradient;\n}\n\n@Injectable({ providedIn: 'root' })\nexport class ChartService {\n  ChartTitle = ChartTitle;\n  stats = null;\n  constructor(private swapLiquidityService: SwapLiquidityService) {}\n\n  async fetchLBGraphData(series: ChartSeries = ChartSeries.day): Promise<{ labels: any[]; datasets: any[] }> {\n    let tzbtc = await this.fetchHistoricalQuotesByContract(this.swapLiquidityService.tzBTCContract + '_0', series);\n    let stats = (this.stats = !this.stats ? await this.fetchHistoricalStatsByContract(this.swapLiquidityService.lqdContract, series) : this.stats);\n    let interval = 1000 * 60 * 60 * 24;\n    const a = [];\n    const b = [];\n    const d = [];\n    const labels = [];\n    let now = new Date().getTime();\n    if (series === ChartSeries.month) {\n      interval = 1000 * 60 * 60 * 24;\n      tzbtc = tzbtc.slice(0, 32);\n      stats = stats.slice(0, 32);\n    } else if (series === ChartSeries.day) {\n      interval = 1000 * 60 * 60;\n      tzbtc = tzbtc.slice(0, 25);\n      stats = stats.slice(0, 25);\n    } else if (series === ChartSeries.week) {\n      interval = 1000 * 60 * 60 * 4;\n      tzbtc = tzbtc.slice(0, 7 * 24).filter((e, i) => i % 4 === 0);\n      stats = stats.slice(0, 7 * 24).filter((e, i) => i % 4 === 0);\n    } else if (series === ChartSeries.year) {\n      interval = 1000 * 60 * 60 * 24 * 31;\n      tzbtc = tzbtc.slice(0, 365).filter((e, i) => i % 31 === 0);\n      stats = stats.slice(0, 365).filter((e, i) => i % 31 === 0);\n    }\n    tzbtc = tzbtc.reverse();\n    stats = stats.reverse();\n    for (let i = 0; i < tzbtc.length; ++i) {\n      a.push(1 / parseFloat(tzbtc[i].close));\n      b.push(parseFloat(tzbtc[i].close));\n      if (stats[i]?.tvlUsd) {\n        d.push(parseFloat(stats[i].tvlUsd));\n      }\n      const c = new Date((now -= interval));\n      if (series === ChartSeries.month) {\n        labels.push(c.toLocaleString('en-US', { month: 'short' }) + ' ' + c.getDate());\n      } else if (series === ChartSeries.day) {\n        labels.push('' + c.getHours() + ':00');\n      } else if (series === ChartSeries.week) {\n        labels.push(c.toLocaleString('en-US', { month: 'short' }) + ' ' + c.getDate() + ' ' + (c.getHours() + 1) + ':00');\n      } else if (series === ChartSeries.year) {\n        labels.push(c.toLocaleString('en-US', { month: 'short' }) + ' ' + c.getDate());\n      }\n    }\n    const defaultDatasetValues = {\n      hidden: true,\n      backgroundColor: function (context) {\n        const chart = context.chart;\n        const { ctx, chartArea } = chart;\n\n        if (!chartArea) {\n          return null;\n        }\n        return getGradientBackground(ctx, chartArea);\n      },\n      borderColor: '#5963ff88',\n      borderRadius: 1,\n      borderWidth: 3,\n      pointBorderWidth: 0,\n      pointBackgroundColor: '#5963ff88',\n      pointBorderColor: '#5963ff88',\n      pointRadius: 0,\n      pointHoverBorderWidth: 6,\n      pointHoverColor: '#5963ff88',\n      pointHitRadius: 6,\n      fill: true\n    };\n    const datasets = [\n      {\n        label: ChartTitle.XTZtzBTC,\n        data: a,\n        ...defaultDatasetValues\n      },\n      {\n        label: ChartTitle.tzBTCXTZ,\n        data: b,\n        ...defaultDatasetValues\n      },\n      {\n        label: ChartTitle.totalValueLocked,\n        data: d,\n        ...defaultDatasetValues\n      }\n    ];\n    return { datasets, labels: labels.reverse() };\n  }\n\n  async fetchHistoricalQuotesByContract(\n    contract: string = 'KT1TxqZ8QtKvLu3V3JH7Gx58n7Co8pgtpQU5',\n    series: ChartSeries = ChartSeries.day,\n    offset: number = 0\n  ): Promise<any> {\n    const baseUrl = `https://dex.dipdup.net/v1/graphql`;\n    let req;\n    if (series === ChartSeries.month || series === ChartSeries.year) {\n      req = {\n        query: `{quotes1d(offset: ${offset} limit: 100 where: {exchangeId:{_eq: \"${this.swapLiquidityService.lqdContract}\"} tokenId: {_eq: \"${contract}\"}, close: {_is_null: false}}) { close }}`\n      };\n    } else if (series === ChartSeries.day || series === ChartSeries.week) {\n      req = {\n        query: `{quotes1h(offset: ${offset} limit: 100 where: {exchangeId:{_eq: \"${this.swapLiquidityService.lqdContract}\"} tokenId: {_eq: \"${contract}\"}, close: {_is_null: false}}) { close }}`\n      };\n    }\n    try {\n      let result = await (\n        await fetch(baseUrl, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(req)\n        })\n      ).json();\n      if (series === ChartSeries.week) {\n        if (result.data?.quotes1h.length === 100) {\n          result = result?.data?.quotes1h;\n          offset += 100;\n          return result.concat(await this.fetchHistoricalQuotesByContract(this.swapLiquidityService.tzBTCContract + '_0', series, offset));\n        } else {\n          return result?.data?.quotes1h;\n        }\n      }\n      if (series === ChartSeries.month) {\n        return result?.data?.quotes1d;\n      } else if (series === ChartSeries.day) {\n        return result?.data?.quotes1h;\n      } else if (series === ChartSeries.year) {\n        if (result.data?.quotes1d.length === 100) {\n          result = result?.data?.quotes1d;\n          offset += 100;\n          return result.concat(await this.fetchHistoricalQuotesByContract(this.swapLiquidityService.tzBTCContract + '_0', series, offset));\n        } else {\n          return result?.data?.quotes1d;\n        }\n      }\n    } catch (e) {\n      return [];\n    }\n  }\n\n  async fetchHistoricalStatsByContract(\n    contract: string = 'KT1TxqZ8QtKvLu3V3JH7Gx58n7Co8pgtpQU5',\n    series: string = 'day',\n    offset: number = 0\n  ): Promise<Array<any>> {\n    const baseUrl = `https://dex.dipdup.net/v1/graphql`;\n    let req;\n    if (series === 'day') {\n      req = {\n        query: `{  stats1d(\n        where: {exchangeId: {_eq: \"${contract}\"}, bucket: {_is_null: false}, tvlUsd: {_is_null: false}}\n      ) {\n        bucket\n        exchangeId\n        interactions\n        sharePx\n        sharePxBtc\n        sharePxUsd\n        tvl\n        tvlBtc\n        tvlUsd\n        users\n      }}`\n      };\n    } else if (series === 'week') {\n      req = {\n        query: `{  stats1d(\n        where: {exchangeId: {_eq: \"${contract}\"}, bucket: {_is_null: false}, tvlUsd: {_is_null: false}}\n      ) {\n        bucket\n        exchangeId\n        interactions\n        sharePx\n        sharePxBtc\n        sharePxUsd\n        tvl\n        tvlBtc\n        tvlUsd\n        users\n      }}`\n      };\n    } else if (series === 'month') {\n      req = {\n        query: `{  stats1d(\n        where: {exchangeId: {_eq: \"${contract}\"}, bucket: {_is_null: false}, tvlUsd: {_is_null: false}}\n      ) {\n        bucket\n        exchangeId\n        interactions\n        sharePx\n        sharePxBtc\n        sharePxUsd\n        tvl\n        tvlBtc\n        tvlUsd\n        users\n      }}`\n      };\n    } else if (series === 'year') {\n      req = {\n        query: `{  stats1d(\n        where: {exchangeId: {_eq: \"${contract}\"}, bucket: {_is_null: false}, tvlUsd: {_is_null: false}}\n      ) {\n        bucket\n        exchangeId\n        interactions\n        sharePx\n        sharePxBtc\n        sharePxUsd\n        tvl\n        tvlBtc\n        tvlUsd\n        users\n      }}`\n      };\n    }\n    try {\n      let result = await (\n        await fetch(baseUrl, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(req)\n        })\n      ).json();\n      if (series === ChartSeries.week) {\n        if (result.data?.stats1d.length === 100) {\n          result = result?.data?.stats1d;\n          offset += 100;\n          return result.concat(await this.fetchHistoricalStatsByContract(this.swapLiquidityService.tzBTCContract + '_0', series, offset));\n        } else {\n          return result?.data?.stats1d;\n        }\n      }\n      if (series === ChartSeries.month) {\n        return result?.data?.stats1d;\n      } else if (series === ChartSeries.day) {\n        return result?.data?.stats1d;\n      } else if (series === ChartSeries.year) {\n        return result?.data?.stats1d;\n      }\n    } catch {\n      return [];\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HubConnectionBuilder } from '@microsoft/signalr';\nimport { CONSTANTS } from '../../../../environments/environment';\nimport { WalletService } from '../../wallet/wallet.service';\nimport { Account, OpStatus } from '../../wallet/wallet';\nimport { ActivityService } from '../../activity/activity.service';\nimport { OperationService } from '../../operation/operation.service';\nimport { BalanceService } from '../../balance/balance.service';\nimport { DelegateService } from '../../delegate/delegate.service';\nimport { Router } from '@angular/router';\nimport { Location } from '@angular/common';\n@Injectable({\n  providedIn: 'root'\n})\nexport class SignalService {\n  connection: any = null;\n  constructor(\n    private walletService: WalletService,\n    private activityService: ActivityService,\n    private operationService: OperationService,\n    private balanceService: BalanceService,\n    private delegateService: DelegateService\n  ) {}\n  async init() {\n    this.connection = new HubConnectionBuilder().withUrl(`${CONSTANTS.API_URL}/events`).build();\n    this.connection.on('operations', (msg) => {\n      for (const op of msg.data) {\n        if (op?.status === 'applied') {\n          console.log('%csignalR msg', 'color: green;', op);\n          const sender: string = op?.sender?.address ?? '';\n          const target: string = op?.target?.address ?? '';\n          const opHash: string = op?.hash ?? '';\n          const invoke: boolean = !!op?.parameter;\n          this.confirmStatus(opHash, sender, op.timestamp, invoke);\n          this.confirmStatus(opHash, target, op.timestamp, invoke);\n        }\n      }\n    });\n    this.connection.onclose(async () => {\n      await this.start();\n    });\n    this.start();\n  }\n  confirmStatus(opHash: string, address: string, timestamp: string, invoke: boolean) {\n    if (opHash && address && this.walletService.wallet) {\n      if (this.walletService.wallet) {\n        const account: Account = this.walletService.wallet.getAccount(address);\n        if (account) {\n          for (let i in account.activities) {\n            if (account.activities[i].hash === opHash && account.activities[i].status === OpStatus.UNCONFIRMED) {\n              account.activities[i].timestamp = new Date(timestamp).getTime();\n              if (invoke) {\n                account.activities[i].status = OpStatus.HALF_CONFIRMED;\n              } else {\n                account.activities[i].status = OpStatus.CONFIRMED;\n                this.activityService.promptNewActivities(account, [], [account.activities[i]]);\n                this.updateAccountData(address);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  updateAccountData(pkh: string) {\n    this.operationService.getAccount(pkh).subscribe((ans: any) => {\n      if (ans.success) {\n        this.balanceService.updateAccountBalance(this.walletService.wallet?.getAccount(pkh), Number(ans.payload.balance));\n        const acc = this.walletService.wallet?.getAccount(pkh);\n        this.delegateService.handleDelegateResponse(acc, ans.payload.delegate);\n      } else {\n      }\n    });\n  }\n\n  async start() {\n    try {\n      if (!!this.connection?.start) {\n        await this.connection?.start();\n        console.log('%cSignalR Connected!', 'color:green;');\n      } else {\n        setTimeout(() => {\n          this.start();\n        }, 5000);\n      }\n    } catch (err) {\n      console.log(err);\n      setTimeout(() => {\n        this.start();\n      }, 5000);\n    }\n  }\n\n  async subscribeToAccount(address: string) {\n    console.log('Listen to: ' + address);\n    try {\n      await this.connection.invoke('SubscribeToOperations', {\n        address,\n        types: 'transaction,delegation,origination'\n      });\n    } catch (e) {}\n  }\n  ngOnDestroy(): void {\n    try {\n      this.connection.stop();\n      console.log('%cSignalR Disconnected!', 'color:red;');\n    } catch (e) {}\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivityService } from '../activity/activity.service';\nimport { TzrateService } from '../tzrate/tzrate.service';\nimport { BalanceService } from '../balance/balance.service';\nimport { WalletService } from '../wallet/wallet.service';\nimport { DelegateService } from '../delegate/delegate.service';\nimport { OperationService } from '../operation/operation.service';\nimport { Account, OpStatus, TorusWallet } from '../wallet/wallet';\nimport Big from 'big.js';\nimport { TokenService } from '../token/token.service';\nimport { LookupService } from '../lookup/lookup.service';\nimport { CONSTANTS } from '../../../environments/environment';\nimport { SubjectService } from '../subject/subject.service';\nimport { interval } from 'rxjs';\nimport { SignalService } from '../indexer/signal/signal.service';\nimport { UnlockableService } from '../unlockable/unlockable.service';\nimport { DipDupService } from '../indexer/dipdup/dipdup.service';\nimport { Router } from '@angular/router';\nimport { Location } from '@angular/common';\n\nexport interface ScheduleData {\n  pkh: string;\n  state: State;\n  interval: any;\n  stateCounter: number;\n}\nenum State {\n  UpToDate,\n  Wait,\n  Updating\n}\n\n@Injectable()\nexport class CoordinatorService {\n  scheduler: Map<string, any> = new Map<string, any>(); // pkh + delay\n  defaultDelayActivity = CONSTANTS.MAINNET ? 30000 : 15000; // 30/15s\n  shortDelayActivity = 5000; // 5s\n  longDelayActivity = 120000; // 2m\n  defaultDelayPrice = 300000; // 5m\n  tzrateInterval: any;\n  accounts: Account[];\n  constructor(\n    private activityService: ActivityService,\n    private tzrateService: TzrateService,\n    private walletService: WalletService,\n    private balanceService: BalanceService,\n    private delegateService: DelegateService,\n    private operationService: OperationService,\n    private tokenService: TokenService,\n    private dipdupService: DipDupService,\n    private lookupService: LookupService,\n    private subjectService: SubjectService,\n    private signalService: SignalService,\n    private unlockableService: UnlockableService,\n    public router: Router,\n    private location: Location\n  ) {\n    this.subjectService.logout.subscribe((o) => {\n      if (!!o) {\n        this.stopAll();\n      }\n    });\n    this.subjectService.activeAccount.subscribe((activeAccount) => {\n      if (this.walletService.wallet) {\n        this.accounts = this.walletService.wallet.getAccounts();\n        this.accounts.forEach(({ address }) => {\n          if (address === activeAccount?.address) {\n            this.start(activeAccount.address, this.defaultDelayActivity);\n          } else {\n            this.start(address, this.longDelayActivity);\n          }\n        });\n        this.startXTZ();\n      }\n    });\n  }\n  startXTZ() {\n    if (!this.tzrateInterval) {\n      console.debug('Start scheduler XTZ');\n      this.signalService.init();\n      const update = () => {\n        this.tzrateService.getTzrate();\n        this.dipdupService.fetchTokensMidPrice();\n        this.lookupService.recheckWalletAddresses(true);\n      };\n      this.tzrateInterval = interval(this.defaultDelayPrice).subscribe(() => update());\n      update();\n    }\n  }\n  async start(pkh: string, delay: number) {\n    this.unlockableService.restoreFeatures();\n    if (pkh && !this.scheduler.get(pkh)) {\n      this.accounts = this.walletService.wallet.getAccounts();\n      console.debug('Start scheduler ' + this.scheduler.size + ' ' + pkh);\n      const scheduleData: ScheduleData = {\n        pkh: pkh,\n        state: State.UpToDate,\n        interval: interval(this.defaultDelayActivity).subscribe(() => this.update(pkh)),\n        stateCounter: 0\n      };\n      this.scheduler.set(pkh, scheduleData);\n      this.update(pkh);\n      this.updateAccountData(pkh);\n    } else if (pkh && this.scheduler.get(pkh)) {\n      this.setDelay(pkh, delay);\n    }\n  }\n  async boost(pkh: string, metadata: any = null) {\n    const path = this.location.path();\n    const embedded = path.startsWith('/embedded');\n    if (embedded) {\n      return;\n    }\n    // Expect action\n    console.log('boost ' + pkh);\n    if (this.walletService.addressExists(pkh)) {\n      if (metadata) {\n        this.addUnconfirmedOperations(pkh, metadata);\n      }\n      if (!this.scheduler.get(pkh)) {\n        await this.start(pkh, this.defaultDelayActivity);\n      }\n      this.signalService.subscribeToAccount(pkh);\n      if (this.scheduler.get(pkh).state !== State.Wait) {\n        this.changeState(pkh, State.Wait);\n        this.update(pkh);\n        const counter = this.scheduler.get(pkh).stateCounter;\n        setTimeout(() => {\n          // Failsafe\n          if (this.scheduler?.size && this.scheduler.get(pkh).stateCounter === counter) {\n            console.log('Timeout from wait state');\n            this.changeState(pkh, State.UpToDate);\n          }\n        }, 75000);\n      }\n    }\n  }\n  async update(pkh) {\n    this.setDelay(pkh, this.defaultDelayActivity);\n    this.activityService.updateTransactions(pkh).subscribe(\n      (ans: any) => {\n        switch (this.scheduler.get(pkh) ? this.scheduler.get(pkh).state : -1) {\n          case State.UpToDate: {\n            if (!ans.upToDate) {\n              this.changeState(pkh, State.Updating);\n            } else if (ans?.balance) {\n              const balance = this.walletService.wallet?.getAccount(pkh).balanceXTZ;\n              if (balance !== ans.balance) {\n                console.log('recheck balance');\n                this.updateAccountData(pkh);\n              }\n            }\n            break;\n          }\n          case State.Wait: {\n            if (!ans.upToDate) {\n              this.changeState(pkh, State.Updating);\n            } else {\n              this.setDelay(pkh, this.shortDelayActivity);\n            }\n            break;\n          }\n          case State.Updating: {\n            if (ans.upToDate) {\n              this.changeState(pkh, State.UpToDate);\n            } else {\n              this.setDelay(pkh, this.shortDelayActivity);\n            }\n            break;\n          }\n          default: {\n            console.log('No state found!');\n            break;\n          }\n        }\n        const acc = this.walletService.wallet?.getAccount(pkh);\n        if (acc?.activities?.length) {\n          const latestActivity = acc.activities[0];\n          if (latestActivity.status === OpStatus.UNCONFIRMED) {\n            const age = new Date().getTime() - new Date(latestActivity.timestamp).getTime();\n            if (age > 3600000) {\n              // 60m\n              acc.activities.shift();\n              this.walletService.storeWallet();\n            }\n          }\n        }\n        if (this.walletService.wallet instanceof TorusWallet) {\n          this.walletService.wallet.checkSkExpiration();\n        }\n      },\n      (err) => {\n        console.log('Error in update()');\n        console.error(err);\n      },\n      () => {\n        console.debug(\n          `account[${this.accounts.findIndex((a) => a.address === pkh)}][${\n            typeof this.scheduler.get(pkh)?.state !== 'undefined' ? this.scheduler.get(pkh).state : '*'\n          }]: <<`\n        );\n      }\n    );\n  }\n  changeState(pkh: string, newState: State) {\n    const scheduleData: ScheduleData = this.scheduler.get(pkh);\n    scheduleData.state = newState;\n    if (newState === State.UpToDate || newState === State.Updating) {\n      this.updateAccountData(pkh);\n    }\n    if (newState === State.Wait || newState === State.Updating) {\n      scheduleData.interval.unsubscribe();\n      scheduleData.interval = interval(this.shortDelayActivity).subscribe(() => this.update(pkh));\n    }\n    scheduleData.stateCounter++;\n    this.scheduler.set(pkh, scheduleData);\n  }\n  setDelay(pkh: string, time: number) {\n    const scheduleData: ScheduleData = this.scheduler.get(pkh);\n    if (scheduleData.interval) {\n      scheduleData.interval.unsubscribe();\n    }\n    scheduleData.interval = interval(time).subscribe(() => this.update(pkh));\n    this.scheduler.set(pkh, scheduleData);\n  }\n  stopAll() {\n    if (this.walletService.wallet) {\n      if (this.accounts?.length) {\n        console.log('Stop all schedulers');\n        for (const account of this.accounts) {\n          this.stop(account.address);\n        }\n      }\n      if (this.tzrateInterval) {\n        this.tzrateInterval.unsubscribe();\n        this.tzrateInterval = null;\n      }\n    }\n  }\n  async stop(pkh) {\n    console.log('Stop scheduler ' + this.accounts.findIndex((a) => a.address === pkh));\n    if (this.scheduler.get(pkh)) {\n      this.scheduler.get(pkh).interval.unsubscribe();\n      this.scheduler.get(pkh).interval = null;\n      this.scheduler.delete(pkh);\n    }\n  }\n  updateAccountData(pkh: string) {\n    // Maybe also check for originations to account?\n    console.debug('update account data for ' + pkh);\n    this.operationService.getAccount(pkh).subscribe((ans: any) => {\n      if (ans.success) {\n        this.balanceService.updateAccountBalance(this.walletService.wallet?.getAccount(pkh), Number(ans.payload.balance));\n        const acc = this.walletService.wallet?.getAccount(pkh);\n        this.delegateService.handleDelegateResponse(acc, ans.payload.delegate);\n      } else {\n        console.log('updateAccountData -> getAccount failed ', ans.payload.msg);\n      }\n    });\n  }\n  addUnconfirmedOperations(from: string, metadata: any) {\n    const account = this.walletService.wallet?.getAccount(from);\n    if (!account.activities) {\n      return;\n    }\n    if (metadata.transactions) {\n      console.log('Unconfirmed transactions:');\n      console.log(metadata.transactions);\n      const decimals =\n        metadata.tokenTransfer && this.tokenService.getAsset(metadata.tokenTransfer) ? this.tokenService.getAsset(metadata.tokenTransfer).decimals : 6;\n      for (const op of metadata.transactions) {\n        const transaction = {\n          type: 'transaction',\n          status: OpStatus.UNCONFIRMED,\n          amount: Big(op.amount)\n            .times(10 ** decimals)\n            .toString(),\n          fee: null,\n          source: { address: from },\n          destination: { address: op.destination },\n          hash: metadata.opHash,\n          block: null,\n          timestamp: new Date().getTime(),\n          tokenId: metadata.tokenTransfer ? metadata.tokenTransfer : undefined,\n          entrypoint: op.parameters?.entrypoint ? op.parameters.entrypoint : ''\n        };\n        account.activities.unshift(transaction);\n        const destinationAccount = this.walletService.wallet?.getAccount(op.destination);\n        if (destinationAccount) {\n          destinationAccount.activities.unshift({ ...transaction });\n        }\n      }\n    } else if (metadata.delegate !== undefined) {\n      const delegation = {\n        type: 'delegation',\n        status: OpStatus.UNCONFIRMED,\n        amount: null,\n        fee: null,\n        source: { address: from },\n        destination: { address: metadata.delegate },\n        hash: metadata.opHash,\n        block: null,\n        timestamp: new Date().getTime()\n      };\n      account?.activities.unshift(delegation);\n    } else if (metadata.origination !== undefined) {\n      const origination = {\n        type: 'origination',\n        status: OpStatus.UNCONFIRMED,\n        amount: metadata.origination.balance,\n        fee: null,\n        source: { address: from },\n        destination: { address: metadata.kt1 },\n        hash: metadata.opHash,\n        block: null,\n        timestamp: new Date().getTime()\n      };\n      account?.activities.unshift(origination);\n    } else {\n      console.log('Unknown metadata', metadata);\n    }\n    this.walletService.storeWallet();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Params } from '@angular/router';\nimport { OperationService } from '../operation/operation.service';\nimport { WalletService } from '../../services/wallet/wallet.service';\nimport { MessageService } from '../../services/message/message.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DeeplinkService {\n  private pairingJson = '';\n  constructor(private operationService: OperationService, private walletService: WalletService, private messageService: MessageService) {}\n  set(params: Params) {\n    console.log(params);\n    this.pairingJson = this.extractPairingJson(params);\n    if (this.pairingJson && !this.walletService.wallet) {\n      this.messageService.addWarning('Access your wallet to complete the pairing');\n    }\n    console.log(this.pairingJson);\n  }\n  extractPairingJson(params: Params): string {\n    if (params.type === 'tzip10' && params.data) {\n      try {\n        return this.operationService.b58cdecode(params.data, '').toString();\n      } catch (e) {\n        return '';\n      }\n    } else if (params?.uri && params.uri.startsWith('wc:')) {\n      return params.uri;\n    }\n    return '';\n  }\n  popPairingJson(): string {\n    const pairingJson = this.pairingJson;\n    this.pairingJson = '';\n    return pairingJson;\n  }\n  QRtoPairingJson(qrPayload: string): string {\n    if (qrPayload.length > 26 && qrPayload.slice(0, 26) === 'tezos://?type=tzip10&data=') {\n      qrPayload = qrPayload.slice(26);\n    }\n    try {\n      return this.operationService.b58cdecode(qrPayload, '').toString();\n    } catch {}\n    return '';\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { WalletService } from '../wallet/wallet.service';\nimport { OperationService } from '../operation/operation.service';\nimport { Account } from '../wallet/wallet';\nimport { CONSTANTS } from '../../../environments/environment';\nimport { BehaviorSubject } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { Location } from '@angular/common';\n\n@Injectable()\nexport class DelegateService {\n  public readonly bb = 'https://api.baking-bad.org/v2';\n  public delegates = new BehaviorSubject<any>([]);\n\n  constructor(private walletService: WalletService, private operationService: OperationService, public router: Router, private location: Location) {\n    const path = this.location.path();\n    const embedded = path.startsWith('/embedded');\n    if (!embedded) {\n      this.getDelegates();\n    }\n  }\n  getDelegate(account: Account) {\n    this.operationService.getDelegate(account.address).subscribe(\n      (data: any) => {\n        if (data.success) {\n          this.handleDelegateResponse(account, data.payload.delegate);\n        }\n      },\n      (err) => console.log(JSON.stringify(err))\n    );\n  }\n  handleDelegateResponse(account: Account, data: any) {\n    if (data) {\n      if (account.delegate !== data) {\n        account.delegate = data;\n        this.walletService.storeWallet();\n      } else {\n        console.debug('delegate for ' + account.address + ' up to date');\n      }\n    } else {\n      if (account.delegate !== '') {\n        account.delegate = '';\n        this.walletService.storeWallet();\n      }\n    }\n  }\n  getDelegates(): void {\n    if (CONSTANTS.NETWORK !== 'ghostnet') {\n      fetch(`${this.bb}/bakers`)\n        .then((response) => response.json())\n        .then((d) => this.delegates.next(d));\n    } else {\n      fetch('https://api.ghostnet.tzkt.io/v1/accounts/tz1YgDUQV2eXm8pUWNz3S5aWP86iFzNp4jnD')\n        .then((r) => r.json())\n        .then((k) => {\n          const freeSpace = Math.round((k.balance * 10 - k.stakingBalance) / 10 ** 6);\n          this.delegates.next([\n            {\n              address: 'tz1YgDUQV2eXm8pUWNz3S5aWP86iFzNp4jnD',\n              estimatedRoi: 0,\n              fee: 0.2,\n              freeSpace,\n              logo: 'https://services.tzkt.io/v1/avatars/tz1S5WxdZR5f9NzsPXhr7L9L1vrEb5spZFur',\n              minDelegation: 0,\n              name: 'Baking Benjamins',\n              openForDelegation: true,\n              payoutAccuracy: 'precise',\n              serviceType: 'tezos_only'\n            }\n          ]);\n        });\n    }\n  }\n\n  resolveDelegateByAddress(address: string): Promise<any> {\n    return new Promise((resolve) => {\n      this.delegates.pipe(take(1)).subscribe((d) => resolve(d?.find((d) => d?.address === address)));\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport * as pbkdf2 from 'pbkdf2';\nimport * as AES from 'aes-js';\nimport * as scrypt from 'scryptsy';\nimport * as cryptob from 'crypto-browserify';\nimport * as forge from 'node-forge';\ndeclare const Buffer;\n@Injectable()\nexport class EncryptionService {\n  constructor() {}\n  async encrypt(plaintext: any, password: string, version: number, salt: string = null): Promise<any> {\n    if (version === 1) {\n      throw new Error('Encryption version no longer supported');\n    } else if (version === 2) {\n      return this.encrypt_v2(plaintext, password);\n    } else if (version === 3) {\n      return this.encrypt_v2(plaintext, password, salt);\n    } else {\n      throw new Error('Unrecognized encryption format');\n    }\n  }\n  async decrypt(chiphertext: string, password: string, salt: string, version: number): Promise<any> {\n    if (version === 1) {\n      return this.decrypt_v1(chiphertext, password, salt);\n    } else if (version === 2 || version === 3) {\n      return this.decrypt_v2(chiphertext, password, salt);\n    } else {\n      throw new Error('Unrecognized encryption format');\n    }\n  }\n  // Version 1\n  async encrypt_v1(plaintext: any, password: string, salt: string): Promise<string> {\n    return new Promise((resolve) => {\n      try {\n        if (!password || !salt) {\n          throw new Error('Missing password or salt');\n        }\n        pbkdf2.pbkdf2(password, salt, 10000, 32, 'sha512', (err, key) => {\n          if (err) {\n            throw err;\n          }\n          const aesCtr = new AES.ModeOfOperation.ctr(key);\n          let chiphertext = aesCtr.encrypt(plaintext);\n          chiphertext = AES.utils.hex.fromBytes(chiphertext);\n          resolve(chiphertext);\n        });\n      } catch (e) {\n        console.warn(e);\n        resolve('');\n      }\n    });\n  }\n  async decrypt_v1(chiphertext: string, password: string, salt: string): Promise<any> {\n    return new Promise((resolve) => {\n      try {\n        if (!password || !salt) {\n          throw new Error('Missing password or salt');\n        }\n        pbkdf2.pbkdf2(password, salt, 10000, 32, 'sha512', (err, key) => {\n          if (err) {\n            throw err;\n          }\n          chiphertext = AES.utils.hex.toBytes(chiphertext);\n          const aesCtr = new AES.ModeOfOperation.ctr(key);\n          const plaintext = aesCtr.decrypt(chiphertext);\n          resolve(plaintext);\n        });\n      } catch (e) {\n        resolve('');\n      }\n    });\n  }\n  // Version 2\n  async encrypt_v2(plaintext: any, password: string, salt?: string): Promise<any> {\n    if (!password) {\n      throw new Error('Missing password');\n    }\n    let salty;\n    if (salt) {\n      salty = new Buffer(salt, 'hex');\n    } else {\n      salty = cryptob.randomBytes(16);\n    }\n    const key = await scrypt.async(password, salty, 65536, 8, 1, 32);\n    const cipher: any = forge.cipher.createCipher('AES-GCM', key.toString('binary'));\n    cipher.start({\n      iv: salty\n    });\n    const byteStringBuffer = forge.util.createBuffer(plaintext.toString('binary'), 'utf-8');\n    cipher.update(byteStringBuffer);\n    cipher.finish();\n    const chiphertext = cipher.output.toHex() + '==' + cipher.mode.tag.toHex();\n    return { chiphertext: chiphertext, iv: salty.toString('hex') };\n  }\n  async decrypt_v2(chipher: string, password: string, salt: string): Promise<string> {\n    try {\n      if (!password || !salt) {\n        throw new Error('Missing password or salt');\n      }\n      const parts = chipher.split('==');\n      const chiphertext = parts[0];\n      const tag = parts[1];\n      const key = await scrypt.async(password, new Buffer(salt, 'hex'), 65536, 8, 1, 32);\n      const decipher: any = forge.cipher.createDecipher('AES-GCM', key.toString('binary'));\n      decipher.start({\n        iv: new Buffer(salt, 'hex'),\n        tag: forge.util.createBuffer(new Buffer(tag, 'hex').toString('binary'), 'utf-8') // authentication tag from encryption\n      });\n      decipher.update(forge.util.createBuffer(new Buffer(chiphertext, 'hex').toString('binary'), 'utf-8'));\n      const pass = decipher.finish();\n      if (pass) {\n        return new Buffer(decipher.output.toHex(), 'hex');\n      } else {\n        return null;\n      }\n    } catch (err) {\n      return null;\n    }\n  }\n  shiftIV(salt: string, offset: number) {\n    if (!Number.isInteger(offset) || offset > 255 || offset < 1) {\n      throw new Error('Invalid offset for IV');\n    }\n    const buf = new Buffer(salt, 'hex');\n    buf[13] = (buf[13] + offset) % 256;\n    return buf.toString('hex');\n  }\n}\n","/* eslint-disable */\n// Last updated on: 2024-01-18\n// Inform users of the most common errors\n// generated by scripts/generate-rpc-errors-file.ts\n// source: http://tezos.gitlab.io/api/errors.html\n\ninterface RPCError {\n  msg: string;\n  category: string;\n}\n\nexport const rpcErrors: Record<string, RPCError> =\n{\n  \"proto.alpha.Badly_formed_constant_expression\": {\n    \"msg\": \"Found a badly formed constant expression. The 'constant' primitive must always be followed by a string of the hash of the expression it points to.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Bounded_history_repr.Smart_rollup_inbox_history.key_bound_to_different_value\": {\n    \"msg\": \"Smart_rollup_inbox_history: Remember called with a key that is already bound to a different value.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Bounded_history_repr.Smart_rollup_level_inbox_history.key_bound_to_different_value\": {\n    \"msg\": \"Smart_rollup_level_inbox_history: Remember called with a key that is already bound to a different value.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Bounded_history_repr.dal_slots_cache.key_bound_to_different_value\": {\n    \"msg\": \"dal_slots_cache: Remember called with a key that is already bound to a different value.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Dal_attestation_for_wrong_round\": {\n    \"msg\": \"The DAL attestation targets an unexpected round.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Dal_data_availibility_attester_not_in_committee\": {\n    \"msg\": \"The attester is not part of the DAL committee for this level\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Dal_operation_for_future_level\": {\n    \"msg\": \"The Dal operation targets a future level\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Dal_operation_for_old_level\": {\n    \"msg\": \"The Dal operation targets an old level\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Dal_slot_repr.add_element_in_slots_skip_list_violates_ordering\": {\n    \"msg\": \"Attempting to add an element on top of the Dal confirmed slots skip list that violates the ordering.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Dal_slot_repr.invalid_proof_deserialization\": {\n    \"msg\": \"Error occured during dal proof deserialization\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Dal_slot_repr.invalid_proof_serialization\": {\n    \"msg\": \"Error occured during dal proof serialization\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Dissecting_during_final_move\": {\n    \"msg\": \"Tried to play a dissecting when the final move started\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Dissection_choice_not_found\": {\n    \"msg\": \"Dissection choice not found\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Dissection_unexpected_section_size\": {\n    \"msg\": \"The distance for a proof should be equal to 1\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Expected_binary_proof\": {\n    \"msg\": \"An invalid proof has been submitted\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Expression_already_registered\": {\n    \"msg\": \"Attempted to register an expression as global constant that has already been registered.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Expression_too_deep\": {\n    \"msg\": \"Attempted to register an expression that, after fully expanding all referenced global constants, would result in too many levels of nesting.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Expression_too_large\": {\n    \"msg\": \"Encountered an expression that, after expanding all constants, is larger than the expression size limit.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Failed_to_get_script\": {\n    \"msg\": \"Failed to get script for contract when scanning operations for tickets\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Failed_to_hash_node\": {\n    \"msg\": \"Failed to hash node for a key in the ticket-balance table\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Failed_to_load_big_map_value_type\": {\n    \"msg\": \"Failed to load big-map value type when computing ticket diffs.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Merkle_list_invalid_position\": {\n    \"msg\": \"Merkle_list_invalid_position\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Negative_ticket_balance\": {\n    \"msg\": \"Attempted to set a negative ticket balance value\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Nonexistent_global\": {\n    \"msg\": \"No registered global was found at the given hash in storage.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Proof_start_state_hash_mismatch\": {\n    \"msg\": \"The start state hash of the proof is invalid\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Proof_stop_state_hash_failed_to_refute\": {\n    \"msg\": \"Failed to refute the stop state hash with the proof\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Proof_stop_state_hash_failed_to_validate\": {\n    \"msg\": \"Failed to validate the stop state hash with the proof\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Unsupported_non_empty_overlay\": {\n    \"msg\": \"Unsupported big-map value with non-empty overlay\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Unsupported_type_operation\": {\n    \"msg\": \"Types embedding operations are not supported\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.Used_storage_underflow\": {\n    \"msg\": \"Attempt to free more bytes than allocated for the tickets balance\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.apply.missing_shell_header\": {\n    \"msg\": \"During finalisation of a block header in Application mode or Full construction mode, a shell header should be provided so that a cache nonce can be computed.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.baking.insufficient_attestation_power\": {\n    \"msg\": \"The attestation power is insufficient to satisfy the consensus threshold.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.bitfield_invalid_position\": {\n    \"msg\": \"Bitfields does not accept negative positions\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.block.multiple_revelation\": {\n    \"msg\": \"A manager operation should not contain more than one revelation\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.block_header.invalid_block_signature\": {\n    \"msg\": \"A block was not signed with the expected private key.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.block_header.invalid_commitment\": {\n    \"msg\": \"The block header has invalid commitment.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.block_header.invalid_payload_round\": {\n    \"msg\": \"The given payload round is invalid.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.block_header.invalid_stamp\": {\n    \"msg\": \"The block's proof-of-work stamp is insufficient\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.block_header.wrong_timestamp\": {\n    \"msg\": \"Block timestamp not the expected one.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.bootstrap.unrevealed_public_key\": {\n    \"msg\": \"Tried to delegate from an unrevealed public key\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.cannot_retrieve_predecessor_level\": {\n    \"msg\": \"Cannot retrieve predecessor level.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.constants.invalid_protocol_constants\": {\n    \"msg\": \"The provided protocol constants are not coherent.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.context.failed_to_decode_parameter\": {\n    \"msg\": \"Unexpected JSON object.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.context.failed_to_parse_parameter\": {\n    \"msg\": \"The protocol parameters are not valid JSON.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.context.storage_error\": {\n    \"msg\": \"An error that should never happen unless something has been deleted or corrupted in the database.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.contract.balance_too_low\": {\n    \"msg\": \"An operation tried to spend more tokens than the contract has\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.contract.cannot_pay_storage_fee\": {\n    \"msg\": \"The storage fee is higher than the contract balance\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.contract.counter_in_the_future\": {\n    \"msg\": \"An operation assumed a contract counter in the future\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.contract.counter_in_the_past\": {\n    \"msg\": \"An operation assumed a contract counter in the past\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.contract.empty_transaction\": {\n    \"msg\": \"Forbidden to credit 0 to a contract without code.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.contract.failure\": {\n    \"msg\": \"Unexpected contract storage error\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.contract.invalid_contract_notation\": {\n    \"msg\": \"A malformed contract notation was given to an RPC or in a script.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.contract.manager.inconsistent_hash\": {\n    \"msg\": \"A revealed manager public key is inconsistent with the announced hash\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.contract.manager.inconsistent_public_key\": {\n    \"msg\": \"A provided manager public key is different with the public key stored in the contract\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.contract.manager.unregistered_delegate\": {\n    \"msg\": \"A contract cannot be delegated to an unregistered delegate\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.contract.missing_manager_contract\": {\n    \"msg\": \"The manager contract is missing from the storage\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.contract.negative_storage_input\": {\n    \"msg\": \"The storage amount asked for an operation is null or negative\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.contract.non_empty_transaction_from_source\": {\n    \"msg\": \"This address cannot initiate non-empty transactions\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.contract.non_existing_contract\": {\n    \"msg\": \"A contract handle is not present in the context (either it never was or it has been destroyed)\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.contract.previously_revealed_key\": {\n    \"msg\": \"One tried to reveal twice a manager public key\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.contract.unrevealed_key\": {\n    \"msg\": \"One tried to apply a manager operation without revealing the manager public key\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.contract_not_originated\": {\n    \"msg\": \"Non originated contract detected in ticket update.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.dal_attestation_size_limit_exceeded\": {\n    \"msg\": \"The attestation for data availability is a too big\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.dal_attestation_unexpected_size\": {\n    \"msg\": \"The attestation for data availability has a different size\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.dal_cryptobox_error\": {\n    \"msg\": \"Error occurred while initialising the cryptobox\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.dal_publish_slot_header_duplicate\": {\n    \"msg\": \"A slot header for this slot was already proposed\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.dal_publish_slot_header_invalid_index\": {\n    \"msg\": \"Bad index for slot header\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.dal_publish_slot_header_invalid_proof\": {\n    \"msg\": \"The slot header's commitment proof does not check\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.dal_publish_slot_header_with_low_fees\": {\n    \"msg\": \"Slot header with too low fees\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.dal_register_invalid_slot\": {\n    \"msg\": \"Attempt to register a slot which is invalid (the index is out of bounds).\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.dal_slot_index_negative_orabove_hard_limit\": {\n    \"msg\": \"Slot index above hard limit\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.dal_slot_index_repr.index.invalid_index\": {\n    \"msg\": \"The given index is out of range of representable slot indices\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.dal_slot_repr.slots_history.dal_proof_error\": {\n    \"msg\": \"Error occurred during Dal proof production or validation\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.dal_slot_repr.slots_history.unexpected_page_size\": {\n    \"msg\": \"The size of the given page content doesn't match the expected one.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.dal_unexpected_attestation_at_root_level\": {\n    \"msg\": \"DAL attestations are not expected at root level\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.delegate.already_active\": {\n    \"msg\": \"Useless delegate reactivation\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.delegate.consensus_key.active\": {\n    \"msg\": \"The delegate consensus key is already used by another delegate\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.delegate.consensus_key.invalid_noop\": {\n    \"msg\": \"Tried to update the consensus key with the active key\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.delegate.consensus_key.tz4\": {\n    \"msg\": \"Consensus key cannot be a tz4 (BLS public key).\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.delegate.empty_delegate_account\": {\n    \"msg\": \"Cannot register a delegate when its implicit account is empty\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.delegate.forbidden_tz4\": {\n    \"msg\": \"Delegates are forbidden to be tz4 (BLS) accounts.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.delegate.no_deletion\": {\n    \"msg\": \"Tried to unregister a delegate\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.delegate.not_registered\": {\n    \"msg\": \"The provided public key hash is not the address of a registered delegate.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.delegate.stake_distribution_not_set\": {\n    \"msg\": \"The stake distribution for the current cycle is not set.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.delegate.unchanged\": {\n    \"msg\": \"Contract already delegated to the given delegate\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.delegate_service.balance_rpc_on_non_delegate\": {\n    \"msg\": \"The account whose balance was requested is not a delegate.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.destination_repr.invalid_b58check\": {\n    \"msg\": \"Failed to read a valid destination from a b58check_encoding data\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.durations.non_increasing_rounds\": {\n    \"msg\": \"The provided rounds are not increasing.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.failure\": {\n    \"msg\": \"Exception safely wrapped in an error\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.frozen_bonds.must_be_spent_at_once\": {\n    \"msg\": \"Frozen bonds must be spent at once.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.gas_exhausted.block\": {\n    \"msg\": \"The sum of gas consumed by all the operations in the block exceeds the hard gas limit per block\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.gas_exhausted.operation\": {\n    \"msg\": \"A script or one of its callee took more time than the operation said it would\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.gas_limit_too_high\": {\n    \"msg\": \"A transaction tried to exceed the hard limit on gas\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.illformedViewType\": {\n    \"msg\": \"An entrypoint type is incompatible with TZIP-4 view type.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.implicit.empty_implicit_contract\": {\n    \"msg\": \"No manager operations are allowed on an empty implicit contract.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.implicit.empty_implicit_delegated_contract\": {\n    \"msg\": \"Emptying an implicit delegated account is not allowed.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.indexable.index_cannot_be_negative\": {\n    \"msg\": \"A negative integer cannot be used as an index for a value.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.internal.smart_rollup_add_zero_messages\": {\n    \"msg\": \"Message adding functions must be called with a positive number of messages\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.internal.smart_rollup_inbox_proof_error\": {\n    \"msg\": \"An inbox proof error.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.internal.smart_rollup_merklized_payload_hashes_proof\": {\n    \"msg\": \"A merkelized payload hashes proof error.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.internal_operation_replay\": {\n    \"msg\": \"An internal operation was emitted twice by a script\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.invalid_arg\": {\n    \"msg\": \"Negative multiple of periods are not allowed.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.invalid_binary_format\": {\n    \"msg\": \"Could not deserialize some piece of data from its binary representation\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.invalid_fitness\": {\n    \"msg\": \"Fitness representation should be exactly 4 times 4 bytes long.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.invalid_ticket_transfer\": {\n    \"msg\": \"Invalid ticket transfer detected in ticket balance update.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.level_not_in_alpha\": {\n    \"msg\": \"Level not in Alpha family\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.level_offset_too_high\": {\n    \"msg\": \"The block's level offset is too high.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.level_repr.invalid_cycle_eras\": {\n    \"msg\": \"The cycles eras are not valid: empty list or non-decreasing first levels or first cycles.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.locked_round_not_less_than_round\": {\n    \"msg\": \"The round is smaller than or equal to the locked round.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.main.begin_application.cannot_apply_in_partial_validation\": {\n    \"msg\": \"Cannot instantiate an application state using the 'Partial_validation' mode.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.malformed_period\": {\n    \"msg\": \"Period is negative.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.bad_contract_parameter\": {\n    \"msg\": \"Either no parameter was supplied to a contract with a non-unit parameter type, a non-unit parameter was passed to an account, or a parameter was supplied of the wrong type\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.bad_dupn_argument\": {\n    \"msg\": \"DUP expects an argument of at least 1 (passed 0)\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.bad_dupn_stack\": {\n    \"msg\": \"Stack present when typing DUP n was too short\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.bad_pair_argument\": {\n    \"msg\": \"PAIR expects an argument of at least 2\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.bad_return\": {\n    \"msg\": \"Unexpected stack at the end of a lambda or script.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.bad_stack\": {\n    \"msg\": \"The stack has an unexpected length or contents.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.bad_stack_item\": {\n    \"msg\": \"The type of a stack item is unexpected (this error is always accompanied by a more precise one).\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.bad_unpair_argument\": {\n    \"msg\": \"UNPAIR expects an argument of at least 2\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.bad_view_name\": {\n    \"msg\": \"In a view declaration, the view name must be a string\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.cannot_serialize_failure\": {\n    \"msg\": \"Argument of FAILWITH was too big to be serialized with the provided gas\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.cannot_serialize_log\": {\n    \"msg\": \"Execution trace with stacks was to big to be serialized with the provided gas\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.cannot_serialize_storage\": {\n    \"msg\": \"The returned storage was too big to be serialized with the provided gas\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.comparable_type_expected\": {\n    \"msg\": \"A non comparable type was used in a place where only comparable types are accepted.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.deprecated_instruction\": {\n    \"msg\": \"A deprecated instruction usage is disallowed in newly created contracts\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.duplicate_entrypoint\": {\n    \"msg\": \"Two entrypoints have the same name.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.duplicate_map_keys\": {\n    \"msg\": \"Map literals cannot contain duplicated keys\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.duplicate_script_field\": {\n    \"msg\": \"When parsing script, a field was found more than once\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.duplicate_set_values_in_literal\": {\n    \"msg\": \"Set literals cannot contain duplicate elements, but a duplicate was found while parsing.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.duplicated_view_name\": {\n    \"msg\": \"The name of view in toplevel should be unique.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.entrypoint_name_too_long\": {\n    \"msg\": \"An entrypoint name exceeds the maximum length of 31 characters.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.fail_not_in_tail_position\": {\n    \"msg\": \"There is non trivial garbage code after a FAIL instruction.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.forbidden_instr_in_context\": {\n    \"msg\": \"An instruction was encountered in a context where it is forbidden.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.forbidden_zero_amount_ticket\": {\n    \"msg\": \"It is not allowed to use a zero amount ticket in this operation.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.ill_formed_type\": {\n    \"msg\": \"The toplevel error thrown when trying to parse a type expression (always followed by more precise errors).\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.ill_typed_contract\": {\n    \"msg\": \"The toplevel error thrown when trying to typecheck a contract code against given input, output and storage types (always followed by more precise errors).\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.ill_typed_data\": {\n    \"msg\": \"The toplevel error thrown when trying to typecheck a data expression against a given type (always followed by more precise errors).\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.ill_typed_view\": {\n    \"msg\": \"The return of a view block did not match the expected type\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.inconsistent_memo_sizes\": {\n    \"msg\": \"Memo sizes of two sapling states or transactions do not match\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.inconsistent_stack_lengths\": {\n    \"msg\": \"A stack was of an unexpected length (this error is always in the context of a located error).\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.inconsistent_type_sizes\": {\n    \"msg\": \"Two types were expected to be equal but they have different sizes.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.inconsistent_types\": {\n    \"msg\": \"This is the basic type clash error, that appears in several places where the equality of two types have to be proven, it is always accompanied with another error that provides more context.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.invalid_arity\": {\n    \"msg\": \"In a script or data expression, a primitive was applied to an unsupported number of arguments.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.invalid_big_map\": {\n    \"msg\": \"A script or data expression references a big_map that does not exist or assumes a wrong type for an existing big_map.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.invalid_constant\": {\n    \"msg\": \"A data expression was invalid for its expected type.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.invalid_contract\": {\n    \"msg\": \"A script or data expression references a contract that does not exist or assumes a wrong type for an existing contract.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.invalid_expression_kind\": {\n    \"msg\": \"In a script or data expression, an expression was of the wrong kind (for instance a string where only a primitive applications can appear).\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.invalid_iter_body\": {\n    \"msg\": \"The body of an ITER instruction must result in the same stack type as before the ITER.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.invalid_map_block_fail\": {\n    \"msg\": \"FAIL cannot be the only instruction in the body. The proper type of the return list cannot be inferred.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.invalid_map_body\": {\n    \"msg\": \"The body of a map block did not match the expected type\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.invalid_never_expr\": {\n    \"msg\": \"In a script or data expression, an expression was provided but a value of type never was expected. No expression can have type never.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.invalid_primitive\": {\n    \"msg\": \"In a script or data expression, a primitive was unknown.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.invalid_primitive_name\": {\n    \"msg\": \"In a script or data expression, a primitive name is unknown or has a wrong case.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.invalid_primitive_name_case\": {\n    \"msg\": \"In a script or data expression, a primitive name is neither uppercase, lowercase or capitalized.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.invalid_primitive_namespace\": {\n    \"msg\": \"In a script or data expression, a primitive was of the wrong namespace.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.invalid_seq_arity\": {\n    \"msg\": \"In a script or data expression, a sequence was used with a number of elements too small.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.invalid_syntactic_constant\": {\n    \"msg\": \"A compile-time constant was invalid for its expected form.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.invalid_tx_rollup_ticket_amount\": {\n    \"msg\": \"Ticket amount to be deposited in a transaction rollup should be strictly positive and fit in a signed 64-bit integer\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.missing_script_field\": {\n    \"msg\": \"When parsing script, a field was expected, but not provided\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.no_such_entrypoint\": {\n    \"msg\": \"An entrypoint was not found when calling a contract.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.non_dupable_type\": {\n    \"msg\": \"DUP was used on a non-dupable type (e.g. tickets).\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.non_printable_character\": {\n    \"msg\": \"Michelson strings are only allowed to contain printable characters (either the newline character or characters in the [32, 126] ASCII range).\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.runtime_error\": {\n    \"msg\": \"Toplevel error for all runtime script errors\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.sc_rollup_disabled\": {\n    \"msg\": \"Cannot use smart rollup features as they are disabled.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.script_overflow\": {\n    \"msg\": \"While interpreting a Michelson script, an overflow was detected\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.script_rejected\": {\n    \"msg\": \"A FAILWITH instruction was reached\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.tx_rollup_bad_deposit_parameter\": {\n    \"msg\": \"The parameter to the deposit entrypoint of a transaction rollup should be a pair of a ticket and the address of a recipient transaction rollup.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.type_too_large\": {\n    \"msg\": \"An instruction generated a type larger than the limit.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.typechecking_too_many_recursive_calls\": {\n    \"msg\": \"Too many recursive calls were needed for typechecking\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.undefined_binop\": {\n    \"msg\": \"A binary operation is called on operands of types over which it is not defined.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.undefined_unop\": {\n    \"msg\": \"A unary operation is called on an operand of type over which it is not defined.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.unexpected_annotation\": {\n    \"msg\": \"A node in the syntax tree was improperly annotated\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.unexpected_contract\": {\n    \"msg\": \"When parsing script, a contract type was found in the storage or parameter field.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.unexpected_default_entrypoint\": {\n    \"msg\": \"A node in the syntax tree was improperly annotated. An annotation used to designate an entrypoint cannot be exactly 'default'.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.unexpected_forged_value\": {\n    \"msg\": \"A forged value was encountered but disallowed for that position.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.unexpected_implicit_account_parameters_type\": {\n    \"msg\": \"An implicit account can only accept either a unit or a ticket value as a call parameter.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.unexpected_lazy_storage\": {\n    \"msg\": \"When parsing script, a big_map or sapling_state type was found in a position where it could end up stored inside a big_map, which is forbidden for now.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.unexpected_operation\": {\n    \"msg\": \"When parsing script, an operation type was found in the storage or parameter field.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.unexpected_ticket\": {\n    \"msg\": \"A ticket type has been found\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.unexpected_ticket_owner\": {\n    \"msg\": \"Ticket can only be created by a smart contract\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.ungrouped_annotations\": {\n    \"msg\": \"Annotations of the same kind must be grouped\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.unknown_primitive_name\": {\n    \"msg\": \"In a script or data expression, a primitive was unknown.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.unmatched_branches\": {\n    \"msg\": \"At the join point at the end of two code branches the stacks have inconsistent lengths or contents.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.unordered_map_literal\": {\n    \"msg\": \"Map keys must be in strictly increasing order\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.unordered_set_literal\": {\n    \"msg\": \"Set values must be in strictly increasing order\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.unparsing_stack_overflow\": {\n    \"msg\": \"Too many recursive calls were needed for unparsing\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.unreachable_entrypoint\": {\n    \"msg\": \"An entrypoint in the contract is not reachable.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.michelson_v1.view_name_too_long\": {\n    \"msg\": \"A view name exceeds the maximum length of 31 characters.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.negative_level_and_offset_sum\": {\n    \"msg\": \"Negative sum of level and offset\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.negative_level_offset\": {\n    \"msg\": \"The specified level offset is negative\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.negative_round\": {\n    \"msg\": \"Round cannot be built out of negative integers.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.no_available_snapshots\": {\n    \"msg\": \"No available snapshots\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.nonce.already_revealed\": {\n    \"msg\": \"Duplicated revelation for a nonce.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.nonce.inconsistent\": {\n    \"msg\": \"The provided nonce is inconsistent with the committed nonce hash.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.nonce.too_early_revelation\": {\n    \"msg\": \"Nonce revelation happens before cycle end\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.nonce.too_late_revelation\": {\n    \"msg\": \"Nonce revelation happens too late\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.arith_pvm_disabled\": {\n    \"msg\": \"Arith PVM is disabled in this network.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.ballot_from_unregistered_delegate\": {\n    \"msg\": \"Cannot cast a ballot for an unregistered delegate.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.cannot_parse\": {\n    \"msg\": \"The operation is ill-formed or for another protocol version\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.cannot_stake_with_unfinalizable_unstake_requests_to_another_delegate\": {\n    \"msg\": \"A contract tries to stake to its delegate while having unstake requests to a previous delegate that cannot be finalized yet. Try again in a later cycle (no more than preserved_cycles + max_slashing_period).\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.contents_list_error\": {\n    \"msg\": \"An operation contents list has an unexpected shape; it should be either a single operation or a non-empty list of manager operations\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.dal_disabled\": {\n    \"msg\": \"Data-availability layer will be enabled in a future proposal.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.double_inclusion_of_consensus_operation\": {\n    \"msg\": \"double inclusion of consensus operation\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.drain_delegate_key_on_unregistered_delegate\": {\n    \"msg\": \"Cannot drain an unregistered delegate.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.error_while_taking_fees\": {\n    \"msg\": \"There was an error while taking the fees, which should not happen and means that the operation's validation was faulty.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.faulty_validation_wrong_slot\": {\n    \"msg\": \"The consensus operation uses an invalid slot. This error should not happen: the operation validation should have failed earlier.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.invalid_drain.inactive_key\": {\n    \"msg\": \"Cannot drain with an inactive consensus key.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.invalid_drain.insufficient_funds_for_burn_or_fees\": {\n    \"msg\": \"Cannot drain without enough allocation burn and drain fees.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.invalid_drain.no_consensus_key\": {\n    \"msg\": \"Cannot drain a delegate without consensus key.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.invalid_drain.noop\": {\n    \"msg\": \"Cannot drain a delegate to itself.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.invalid_signature\": {\n    \"msg\": \"The operation signature is ill-formed or has been made with the wrong public key\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.manual_staking_forbidden\": {\n    \"msg\": \"Manual staking operations are forbidden because staking is currently automated.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.missing_signature\": {\n    \"msg\": \"The operation is of a kind that must be signed, but the signature is missing\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.proposals_from_unregistered_delegate\": {\n    \"msg\": \"Cannot submit proposals with an unregistered delegate.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.riscv_pvm_disabled\": {\n    \"msg\": \"RISCV PVM is disabled in this network.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.rollup_invalid_entrypoint\": {\n    \"msg\": \"Rollups only support transactions to the default entrypoint.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.rollup_invalid_transaction_amount\": {\n    \"msg\": \"Because rollups are outside of the delegation mechanism of Tezos, they cannot own Tez, and therefore transactions targeting a rollup must have its amount field set to zero.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.set_deposits_limit_on_unregistered_delegate\": {\n    \"msg\": \"Cannot set deposits limit on an unregistered delegate.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.update_consensus_key_on_unregistered_delegate\": {\n    \"msg\": \"Cannot update consensus key an unregistered delegate.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.zk_rollup_deposit_as_external\": {\n    \"msg\": \"Zk_rollup: attempted a deposit through an external op\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.zk_rollup_disabled\": {\n    \"msg\": \"ZK rollups will be enabled in a future proposal.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.zk_rollup_failed_verification\": {\n    \"msg\": \"Zk_rollup_update: failed verification\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.zk_rollup_inconsistent_state_update\": {\n    \"msg\": \"Zk_rollup_update: new state is of incorrect size\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.zk_rollup_invalid_circuit\": {\n    \"msg\": \"Zk_rollup_update: invalid circuit\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.zk_rollup_invalid_deposit_amount\": {\n    \"msg\": \"Zk_rollup: attempted a deposit with an invalid amount\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.zk_rollup_invalid_deposit_ticket\": {\n    \"msg\": \"Zk_rollup: attempted a deposit with an invalid ticket\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.zk_rollup_negative_nb_ops\": {\n    \"msg\": \"The value of [nb_ops] should never be negative.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.zk_rollup_pending_bound\": {\n    \"msg\": \"Zk_rollup_update: update with fewer pending ops than allowed\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operation.zk_rollup_wrong_deposit_parameters\": {\n    \"msg\": \"Zk_rollup: attempted a deposit with invalid parameters\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operations.invalid_nonzero_transaction_amount\": {\n    \"msg\": \"A transaction expected a zero-amount but got non-zero.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operations.invalid_self_transaction_destination\": {\n    \"msg\": \"A pseudo-transaction destination must equal its sender.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operations.invalid_sender\": {\n    \"msg\": \"Invalid sender for an internal operation restricted to implicit and originated accounts.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operations.invalid_staking_parameters\": {\n    \"msg\": \"The staking parameters are invalid.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operations.invalid_staking_parameters_sender\": {\n    \"msg\": \"The staking parameters can only be set by delegates.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operations.invalid_transfer_to_smart_rollup_from_implicit_account\": {\n    \"msg\": \"Invalid transfer to smart rollup from implicit account\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operations.stake_modification_with_no_delegate_set\": {\n    \"msg\": \"(Un)Stake operations are only allowed when delegate is set.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operations.staking_for_delegator_while_external_staking_disabled\": {\n    \"msg\": \"As long as external staking is not enabled, staking operations are only allowed from delegates.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.operations.staking_to_delegate_that_refuses_external_staking\": {\n    \"msg\": \"The delegate currently does not accept staking operations from sources other than itself: its `limit_of_staking_over_baking` parameter is set to 0.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.out_of_bound_issuance_bonus\": {\n    \"msg\": \"Computed issuance bonus is out of bound\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.outdated_fitness\": {\n    \"msg\": \"Outdated fitness: referring to a previous version\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.period_overflow\": {\n    \"msg\": \"Last operation generated an integer overflow.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.prefilter.Consensus_operation_in_far_future\": {\n    \"msg\": \"Consensus operation too far in the future are not accepted.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.prefilter.fees_too_low\": {\n    \"msg\": \"Operation fees are too low\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.prefilter.wrong_operation\": {\n    \"msg\": \"Failing_noop operations are not accepted in the mempool.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.raw_context.consensus.slot_map_not_found\": {\n    \"msg\": \"Pre-computed map by first slot not found.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.rollup.error_zk_rollup_address_generation\": {\n    \"msg\": \"Error while generating rollup address\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.round_of_past_timestamp\": {\n    \"msg\": \"Provided timestamp is before the expected level start.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.round_overflow\": {\n    \"msg\": \"Round cannot be built out of integer greater than maximum int32 value.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.round_too_high\": {\n    \"msg\": \"block round too high.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.run_operation_does_not_support_consensus_operations\": {\n    \"msg\": \"The run_operation RPC does not support consensus operations.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.sampler_already_set\": {\n    \"msg\": \"Internal error: Raw_context.set_sampler_for_cycle was called twice for a given cycle\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.seed.unknown_seed\": {\n    \"msg\": \"The requested seed is not available\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.slot.invalid_slot\": {\n    \"msg\": \"Invalid slot\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_add_zero_messages\": {\n    \"msg\": \"Tried to add zero messages to a smart rollup\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_address_generation\": {\n    \"msg\": \"Error while generating a smart rollup address\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_arith_invalid_claim_about_outbox\": {\n    \"msg\": \"Invalid claim about outbox\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_arith_output_proof_production_failed\": {\n    \"msg\": \"Output proof production failed\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_arith_proof_production_failed\": {\n    \"msg\": \"Proof production failed\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_bad_commitment_serialization\": {\n    \"msg\": \"Unable to hash the commitment serialization.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_bad_inbox_level\": {\n    \"msg\": \"Attempted to commit to a bad inbox level.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_commitment_disputed\": {\n    \"msg\": \"Attempted to cement a disputed commitment.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_commitment_from_future\": {\n    \"msg\": \"Commitment inbox level is greater or equal than current level\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_commitment_past_curfew\": {\n    \"msg\": \"A commitment exists for this inbox level for longer than the curfew period.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_commitment_too_old\": {\n    \"msg\": \"Published commitment is too old\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_commitment_too_recent\": {\n    \"msg\": \"Attempted to cement a commitment before its refutation deadline.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_dissection_edge_ticks_mismatch\": {\n    \"msg\": \"Mismatch in the edge ticks of the dissection\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_dissection_invalid_distribution\": {\n    \"msg\": \"Ticks should only increase in dissection\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_dissection_invalid_number_of_sections\": {\n    \"msg\": \"Invalid number of sections in the dissection\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_dissection_invalid_successive_states_shape\": {\n    \"msg\": \"Cannot recover from a blocked state in a dissection\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_dissection_number_of_sections_mismatch\": {\n    \"msg\": \"Mismatch in the number of sections in the dissection\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_dissection_start_hash_mismatch\": {\n    \"msg\": \"Mismatch in the start hash of the dissection\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_dissection_stop_hash_mismatch\": {\n    \"msg\": \"Mismatch in the stop hash of the dissection\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_dissection_ticks_not_increasing\": {\n    \"msg\": \"Ticks should only increase in dissection\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_does_not_exist\": {\n    \"msg\": \"Attempted to use a smart rollup that has not been originated.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_double_publish\": {\n    \"msg\": \"No commitment to cement\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_duplicated_key_in_whitelist\": {\n    \"msg\": \"No commitment to cement\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_empty_whitelist\": {\n    \"msg\": \"Smart rollup whitelist cannot be empty\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_game_already_started\": {\n    \"msg\": \"Refutation game already started, must play with is_opening_move = false.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_inbox_level_reached_message_limit\": {\n    \"msg\": \"There can be only 1000000 messages in an inbox level, the limit has been reached.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_inbox_message_decoding\": {\n    \"msg\": \"Failed to decode a smart rollup management protocol inbox message value\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_inbox_message_encoding\": {\n    \"msg\": \"Failed to encode a rollup management protocol inbox message value\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_invalid_last_cemented_commitment\": {\n    \"msg\": \"Invalid last-cemented-commitment\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_invalid_outbox_level\": {\n    \"msg\": \"Invalid outbox level\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_invalid_outbox_message_index\": {\n    \"msg\": \"Invalid rollup outbox message index\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_invalid_output_proof\": {\n    \"msg\": \"Invalid output proof\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_invalid_parameters_type\": {\n    \"msg\": \"Invalid parameters type for smart rollup\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_invalid_serialized_inbox_proof\": {\n    \"msg\": \"The serialized inbox proof can not be de-serialized\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_management_protocol_invalid_destination\": {\n    \"msg\": \"Invalid destination\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_max_number_of_messages_reached_for_commitment_period\": {\n    \"msg\": \"Maximum number of messages reached for commitment period\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_maximal_number_of_parallel_games_reached\": {\n    \"msg\": \"Maximal number of parallel games reached\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_no_commitment_to_cement\": {\n    \"msg\": \"No commitment to cement\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_no_conflict\": {\n    \"msg\": \"No conflict.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_no_game\": {\n    \"msg\": \"Refutation game does not exist\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_no_stakers\": {\n    \"msg\": \"No stakers for the targeted smart rollup.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_no_valid_commitment_to_cement\": {\n    \"msg\": \"Attempted to cement a commitment but there is no valid commitment to cement.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_not_staked\": {\n    \"msg\": \"This implicit account is not a staker of this smart rollup.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_not_staked_on_lcc_or_ancestor\": {\n    \"msg\": \"Attempted to withdraw while not staked on the last cemented commitment or its ancestor.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_not_valid_commitments_conflict\": {\n    \"msg\": \"Conflicting commitments do not have a common ancestor\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_outbox_level_expired\": {\n    \"msg\": \"Outbox level expired\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_outbox_message_already_applied\": {\n    \"msg\": \"Outbox message already applied\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_outbox_message_repr.error_decoding_outbox_message\": {\n    \"msg\": \"Failed to decode a rollup management protocol outbox message value\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_outbox_message_repr.error_encoding_outbox_message\": {\n    \"msg\": \"Failed to encode a rollup management protocol outbox message value\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_outdated_whitelist_update\": {\n    \"msg\": \"Outdated whitelist update\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_parent_not_lcc\": {\n    \"msg\": \"Parent is not the last cemented commitment.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_proof_check\": {\n    \"msg\": \"An invalid proof has been submitted\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_remove_lcc_or_ancestor\": {\n    \"msg\": \"Can not remove a staker committed on cemented.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_rollup_is_public\": {\n    \"msg\": \"No commitment to cement\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_staker_double_stake\": {\n    \"msg\": \"Staker tried to double stake.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_staker_funds_too_low\": {\n    \"msg\": \"Staker doesn't have enough funds to make a smart rollup deposit.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_staker_in_game\": {\n    \"msg\": \"Attempted to start a game where one staker is already busy\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_staker_not_in_whitelist\": {\n    \"msg\": \"No commitment to cement\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_timeout_level_not_reached\": {\n    \"msg\": \"Attempt to timeout game too early\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_too_far_ahead\": {\n    \"msg\": \"Commitment is too far ahead of the last cemented commitment.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_unknown_commitment\": {\n    \"msg\": \"Unknown commitment.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_wasm_invalid_claim_about_outbox\": {\n    \"msg\": \"Invalid claim about outbox\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_wasm_invalid_dissection_distribution\": {\n    \"msg\": \"Invalid dissection distribution: not all ticks are a multiplier of the maximum number of ticks of a snapshot\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_wasm_output_proof_production_failed\": {\n    \"msg\": \"Output proof production failed\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_wasm_output_proof_verification_failed\": {\n    \"msg\": \"Output proof verification failed\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_wasm_proof_production_failed\": {\n    \"msg\": \"Proof production failed\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_wasm_proof_verification_failed\": {\n    \"msg\": \"Proof verification failed\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_whitelist_disabled\": {\n    \"msg\": \"The whitelist must be None when the feature is deactivated.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_wrong_staker_for_conflict_commitment\": {\n    \"msg\": \"Given commitment is not staked by given staker\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_wrong_turn\": {\n    \"msg\": \"Attempt to play move but not staker's turn\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.smart_rollup_zero_tick_commitment\": {\n    \"msg\": \"Tried to publish a 0 tick commitment\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.storage_exhausted.operation\": {\n    \"msg\": \"A script or one of its callee wrote more bytes than the operation said it would\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.storage_limit_too_high\": {\n    \"msg\": \"A transaction tried to exceed the hard limit on storage\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.tez.addition_overflow\": {\n    \"msg\": \"An addition of two tez amounts overflowed\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.tez.invalid_divisor\": {\n    \"msg\": \"Multiplication of a tez amount by a non positive integer\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.tez.multiplication_overflow\": {\n    \"msg\": \"A multiplication of a tez amount by an integer overflowed\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.tez.negative_multiplicator\": {\n    \"msg\": \"Multiplication of a tez amount by a negative integer\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.tez.subtraction_underflow\": {\n    \"msg\": \"A subtraction of two tez amounts underflowed (i.e., would have led to a negative amount)\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.timestamp_add\": {\n    \"msg\": \"Overflow when adding timestamps.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.timestamp_sub\": {\n    \"msg\": \"Subtracting timestamps resulted in negative period.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.too_many_internal_operations\": {\n    \"msg\": \"A transaction exceeded the hard limit of internal operations it can emit\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.undefined_operation_nonce\": {\n    \"msg\": \"An origination was attempted out of the scope of a manager operation\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.undetermined_issuance_coeff_for_cycle\": {\n    \"msg\": \"Issuance coefficient is only determined for the current cycle and the next [preserved_cycles] cycles to come. Requested cycle is not in this window.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.unexpected_level\": {\n    \"msg\": \"Level must be non-negative.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.unexpected_nonce_length\": {\n    \"msg\": \"Nonce length is incorrect.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.block.inconsistent_validation_passes_in_block\": {\n    \"msg\": \"Validation of operation should be ordered by their validation passes in a block.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.block.insufficient_locked_round_evidence\": {\n    \"msg\": \"Insufficient locked round evidence.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.block.invalid_double_baking_evidence\": {\n    \"msg\": \"A double-baking evidence is inconsistent (two distinct levels)\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.block.invalid_payload_hash\": {\n    \"msg\": \"Invalid payload hash.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.block.locked_round_after_block_round\": {\n    \"msg\": \"Locked round after block round.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.block.not_enough_attestations\": {\n    \"msg\": \"The block being validated does not include the required minimum number of attestations.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.consensus_operation_for_future_level\": {\n    \"msg\": \"Consensus operation for future level.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.consensus_operation_for_future_round\": {\n    \"msg\": \"Consensus operation for future round.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.consensus_operation_for_old_level\": {\n    \"msg\": \"Consensus operation for old level.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.consensus_operation_for_old_round\": {\n    \"msg\": \"Consensus operation for old round.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.consensus_operation_not_allowed\": {\n    \"msg\": \"Consensus operation not allowed.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.double_inclusion_of_consensus_operation\": {\n    \"msg\": \"Double inclusion of consensus operation.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.already_denounced\": {\n    \"msg\": \"The same denunciation has already been validated.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.already_proposed\": {\n    \"msg\": \"The delegate has already submitted one of the operation's proposals.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.already_submitted_a_ballot\": {\n    \"msg\": \"The delegate has already submitted a ballot for the current voting period.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.ballot_for_wrong_proposal\": {\n    \"msg\": \"Ballot provided for a proposal that is not the current one.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.block.inconsistent_denunciation\": {\n    \"msg\": \"A denunciation operation is inconsistent (two distinct delegates)\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.block.invalid_denunciation\": {\n    \"msg\": \"A denunciation is malformed\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.block.outdated_denunciation\": {\n    \"msg\": \"A denunciation is outdated.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.block.too_early_denunciation\": {\n    \"msg\": \"A denunciation is too far in the future\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.conflict_too_many_proposals\": {\n    \"msg\": \"The delegate exceeded the maximum number of allowed proposals due to, among others, previous Proposals operations in the current block/mempool.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.conflicting_activation\": {\n    \"msg\": \"The account has already been activated by a previous operation in the current validation state.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.conflicting_ballot\": {\n    \"msg\": \"The delegate has already submitted a ballot in a previously validated operation of the current block or mempool.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.conflicting_denunciation\": {\n    \"msg\": \"The same denunciation has already been validated in the current validation state.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.conflicting_drain\": {\n    \"msg\": \"A manager operation or another drain operation is in conflict.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.conflicting_nonce_revelation\": {\n    \"msg\": \"A revelation for the same nonce has already been validated for the current validation state.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.conflicting_proposals\": {\n    \"msg\": \"The current block/mempool already contains a testnest dictator proposals operation, so it cannot have any other voting operation.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.conflicting_vdf_revelation\": {\n    \"msg\": \"A revelation for the same vdf has already been validated for the current validation state.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.empty_proposals\": {\n    \"msg\": \"Proposal list cannot be empty.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.failing_noop_error\": {\n    \"msg\": \"A failing_noop operation can never be validated.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.gas_quota_exceeded_init_deserialize\": {\n    \"msg\": \"Gas limit was not high enough to deserialize the transaction parameters or origination script code or initial storage etc., making the operation impossible to parse within the provided gas bounds.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.inconsistent_counters\": {\n    \"msg\": \"Inconsistent counters in operation. Counters of an operation must be successive.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.inconsistent_sources\": {\n    \"msg\": \"The operation batch includes operations from different sources.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.incorrect_reveal_position\": {\n    \"msg\": \"Incorrect reveal operation position in batch: only allowed in first position.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.insufficient_gas_for_manager\": {\n    \"msg\": \"Gas limit is too low to cover the initial cost of manager operations: a minimum of 100 gas units is required.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.invalid_activation\": {\n    \"msg\": \"The given key and secret do not correspond to any existing preallocated contract.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.manager_restriction\": {\n    \"msg\": \"An operation with the same manager has already been validated in the current block.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.proposals_contain_duplicate\": {\n    \"msg\": \"The list of proposals contains a duplicate element.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.source_not_in_vote_listings\": {\n    \"msg\": \"The delegate is not in the vote listings.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.testnet_dictator_multiple_proposals\": {\n    \"msg\": \"A testnet dictator cannot submit more than one proposal at a time.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.wrong_voting_period_index\": {\n    \"msg\": \"The voting operation contains a voting period index different from the current one.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.wrong_voting_period_kind\": {\n    \"msg\": \"The voting operation is incompatible the current voting period kind.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.operation.zk_rollup_disabled\": {\n    \"msg\": \"ZK rollups will be enabled in a future proposal.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.preattestation_round_too_high\": {\n    \"msg\": \"Preattestation round too high.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.temporarily_forbidden_delegate\": {\n    \"msg\": \"The delegate has committed too many misbehaviours.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.unexpected_attestation_in_block\": {\n    \"msg\": \"Unexpected attestation in block.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.unexpected_preattestation_in_block\": {\n    \"msg\": \"Unexpected preattestation in block.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.wrong_payload_hash_for_consensus_operation\": {\n    \"msg\": \"Wrong payload hash for consensus operation.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.validate.wrong_slot_for_consensus_operation\": {\n    \"msg\": \"Wrong slot used for a preattestation or attestation.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.vdf.previously_revealed\": {\n    \"msg\": \"Duplicate VDF revelation in cycle\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.vdf.too_early_revelation\": {\n    \"msg\": \"VDF revelation before the end of the nonce revelation period\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.vdf.unverified_result\": {\n    \"msg\": \"VDF verification failed\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.viewCallbackOriginationFailed\": {\n    \"msg\": \"View callback origination failed\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.viewNeverReturns\": {\n    \"msg\": \"A view never initiated a transaction to the given callback contract.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.viewNotFound\": {\n    \"msg\": \"The contract does not have a view of the given name.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.viewUnexpectedReturn\": {\n    \"msg\": \"A view initiated a list of operations while the TZIP-4 standard expects only a transaction to the given callback contract.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.viewedContractHasNoScript\": {\n    \"msg\": \"A view was called on a contract with no script.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.viewerUnexpectedStorage\": {\n    \"msg\": \"A VIEW instruction returned an unexpected value.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.wrong_fitness\": {\n    \"msg\": \"Wrong fitness.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.zk_rollup_does_not_exist\": {\n    \"msg\": \"Attempted to use a ZK rollup that has not been originated.\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.zk_rollup_invalid_op code\": {\n    \"msg\": \"Invalid op code in append\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.zk_rollup_negative_length\": {\n    \"msg\": \"Negative length for pending list prefix\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.zk_rollup_pending_list_too_short\": {\n    \"msg\": \"Pending list is too short\",\n    \"category\": \"temporary\"\n  },\n  \"proto.alpha.zk_rollup_ticket_payload_size_limit_exceeded\": {\n    \"msg\": \"The payload of the deposited ticket exceeded the size limit\",\n    \"category\": \"temporary\"\n  },\n  \"node.bootstrap_pipeline.invalid_locator\": {\n    \"msg\": \"Block locator is invalid.\",\n    \"category\": \"permanent\"\n  },\n  \"node.bootstrap_pipeline.too_short_locator\": {\n    \"msg\": \"Block locator is too short.\",\n    \"category\": \"permanent\"\n  },\n  \"node.config.trusted_setup_not_found\": {\n    \"msg\": \"No trusted setup found in the explored paths\",\n    \"category\": \"permanent\"\n  },\n  \"node.mempool.rejected_by_full_mempool\": {\n    \"msg\": \"Operation fees are too low to be considered in full mempool\",\n    \"category\": \"temporary\"\n  },\n  \"node.mempool.removed_from_full_mempool\": {\n    \"msg\": \"Operation removed from full mempool because its fees are too low\",\n    \"category\": \"temporary\"\n  },\n  \"node.p2p_conn.peer_discovery_disabled\": {\n    \"msg\": \"The peer discovery is disabled, sending advertise messages is forbidden.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_connect_handler.identity_check_failure\": {\n    \"msg\": \"Peer announced an identity which does not match the one specified on the command-line.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_io_scheduler.connection_closed\": {\n    \"msg\": \"IO error: connection with a peer is closed.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_io_scheduler.connection_error\": {\n    \"msg\": \"IO error: connection error while reading from a peer.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_maintenance.disabled\": {\n    \"msg\": \"Attempt to trigger the maintenance failed as the maintenance is disabled.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_pool.connected\": {\n    \"msg\": \"Fail to connect with a peer: a connection is already established.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_pool.connection_failed\": {\n    \"msg\": \"TCP connection failed (refused or no route to host).\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_pool.disabled\": {\n    \"msg\": \"The P2P layer on this node is not active.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_pool.peer_banned\": {\n    \"msg\": \"The peer identity you tried to connect is banned.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_pool.pending_connection\": {\n    \"msg\": \"Fail to connect with a peer: a connection is already pending.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_pool.point_banned\": {\n    \"msg\": \"The address you tried to connect is banned.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_pool.private_mode\": {\n    \"msg\": \"Node is in private mode.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_pool.rejected\": {\n    \"msg\": \"Connection to peer was rejected by us.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_pool.too_many_connections\": {\n    \"msg\": \"Too many connections.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_socket.decipher_error\": {\n    \"msg\": \"An error occurred while deciphering.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_socket.decoding_error\": {\n    \"msg\": \"An error occurred while decoding.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_socket.invalid_auth\": {\n    \"msg\": \"Rejected peer connection: invalid authentication.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_socket.invalid_chunks_size\": {\n    \"msg\": \"Size of chunks is not valid.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_socket.invalid_incoming_ciphertext_size\": {\n    \"msg\": \"The announced size for the incoming ciphertext is invalid.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_socket.invalid_message_size\": {\n    \"msg\": \"The size of the message to be written is invalid.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_socket.myself\": {\n    \"msg\": \"Remote peer is actually yourself.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_socket.not_enough_proof_of_work\": {\n    \"msg\": \"Remote peer cannot be authenticated: not enough proof of work.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_socket.rejected_by_nack\": {\n    \"msg\": \"Rejected peer connection: The peer rejected the socket connection by Nack with a list of alternative peers.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_socket.rejected_no_common_protocol\": {\n    \"msg\": \"Rejected peer connection: rejected socket connection as we have no common network protocol with the peer.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_socket.rejected_socket_connection\": {\n    \"msg\": \"Rejected peer connection: rejected socket connection.\",\n    \"category\": \"permanent\"\n  },\n  \"node.p2p_socket.rejecting_incoming\": {\n    \"msg\": \"Rejecting peer connection with motive.\",\n    \"category\": \"permanent\"\n  },\n  \"node.peer_validator.known_invalid\": {\n    \"msg\": \"Known invalid block found in the peer's chain\",\n    \"category\": \"permanent\"\n  },\n  \"node.peer_validator.unknown_ancestor\": {\n    \"msg\": \"Unknown ancestor block found in the peer's chain\",\n    \"category\": \"permanent\"\n  },\n  \"node.prevalidation.future_block_header\": {\n    \"msg\": \"The block was annotated with a time too far in the future.\",\n    \"category\": \"temporary\"\n  },\n  \"node.prevalidation.oversized_operation\": {\n    \"msg\": \"The operation size is bigger than allowed.\",\n    \"category\": \"permanent\"\n  },\n  \"node.prevalidation.parse_error\": {\n    \"msg\": \"Raised when an operation has not been parsed correctly during prevalidation.\",\n    \"category\": \"permanent\"\n  },\n  \"node.prevalidation.too_many_operations\": {\n    \"msg\": \"The prevalidation context is full.\",\n    \"category\": \"temporary\"\n  },\n  \"node.protocol_validator.cannot_load_protocol\": {\n    \"msg\": \"Cannot load protocol from disk\",\n    \"category\": \"permanent\"\n  },\n  \"node.protocol_validator.invalid_protocol\": {\n    \"msg\": \"Invalid protocol.\",\n    \"category\": \"permanent\"\n  },\n  \"node.state.bad_data_dir\": {\n    \"msg\": \"The data directory could not be read. This could be because it was generated with an old version of the octez-node program. Deleting and regenerating this directory may fix the problem.\",\n    \"category\": \"permanent\"\n  },\n  \"node.state.block.inconsistent_context_hash\": {\n    \"msg\": \"When committing the context of a block, the announced context hash was not the one computed at commit time.\",\n    \"category\": \"permanent\"\n  },\n  \"node.state.block.missing_block_metadata_hash\": {\n    \"msg\": \"A block was expected to commit to a block metadata hash, however none was given.\",\n    \"category\": \"permanent\"\n  },\n  \"node.state.block.missing_operation_metadata_hashes\": {\n    \"msg\": \"A block was expected to commit to operation metadata hashes, however none were given.\",\n    \"category\": \"permanent\"\n  },\n  \"node.state.block_not_invalid\": {\n    \"msg\": \"The invalid block to be unmarked was not actually invalid.\",\n    \"category\": \"permanent\"\n  },\n  \"node.state.unknown_chain\": {\n    \"msg\": \"The chain identifier could not be found in the chain identifiers table.\",\n    \"category\": \"permanent\"\n  },\n  \"node.validator.checkpoint_error\": {\n    \"msg\": \"The block belongs to a branch that is not compatible with the current checkpoint.\",\n    \"category\": \"branch\"\n  },\n  \"node.validator.inactive_chain\": {\n    \"msg\": \"Attempted validation of a block from an inactive chain.\",\n    \"category\": \"branch\"\n  },\n  \"validator.cannot_validate_while_shutting_down\": {\n    \"msg\": \"Cannot validate block while the node is shutting down.\",\n    \"category\": \"temporary\"\n  },\n  \"validator.inconsistent_operations_hash\": {\n    \"msg\": \"The provided list of operations is inconsistent with the block header.\",\n    \"category\": \"temporary\"\n  },\n  \"validator.invalid_block\": {\n    \"msg\": \"Invalid block.\",\n    \"category\": \"permanent\"\n  },\n  \"validator.missing_test_protocol\": {\n    \"msg\": \"Missing test protocol when forking the test chain\",\n    \"category\": \"temporary\"\n  },\n  \"validator.unavailable_protocol\": {\n    \"msg\": \"The protocol required for validating a block is missing.\",\n    \"category\": \"temporary\"\n  },\n  \"validator.validation_process_failed\": {\n    \"msg\": \"Failed to validate block using external validation process.\",\n    \"category\": \"temporary\"\n  },\n  \"micheline.parse_error.annotation_exceeds_max_length\": {\n    \"msg\": \"While parsing a piece of Micheline source, an annotation exceeded the maximum length (255).\",\n    \"category\": \"permanent\"\n  },\n  \"micheline.parse_error.empty_expression\": {\n    \"msg\": \"Tried to interpret an empty piece or Micheline source as a single expression.\",\n    \"category\": \"permanent\"\n  },\n  \"micheline.parse_error.extra_token\": {\n    \"msg\": \"While parsing a piece of Micheline source, an extra semi colon or parenthesis was encountered.\",\n    \"category\": \"permanent\"\n  },\n  \"micheline.parse_error.invalid_hex_bytes\": {\n    \"msg\": \"While parsing a piece of Micheline source, a byte sequence (0x...) was not valid as a hex byte.\",\n    \"category\": \"permanent\"\n  },\n  \"micheline.parse_error.invalid_utf8_sequence\": {\n    \"msg\": \"While parsing a piece of Micheline source, a sequence of bytes that is not valid UTF-8 was encountered.\",\n    \"category\": \"permanent\"\n  },\n  \"micheline.parse_error.misaligned_node\": {\n    \"msg\": \"While parsing a piece of Micheline source, an expression was not aligned with its siblings of the same mother application or sequence.\",\n    \"category\": \"permanent\"\n  },\n  \"micheline.parse_error.missing_break_after_number\": {\n    \"msg\": \"While parsing a piece of Micheline source, a number was not visually separated from its follower token, leading to misreadability.\",\n    \"category\": \"permanent\"\n  },\n  \"micheline.parse_error.unclosed_token\": {\n    \"msg\": \"While parsing a piece of Micheline source, a parenthesis or a brace was unclosed.\",\n    \"category\": \"permanent\"\n  },\n  \"micheline.parse_error.undefined_escape_sequence\": {\n    \"msg\": \"While parsing a piece of Micheline source, an unexpected escape sequence was encountered in a string.\",\n    \"category\": \"permanent\"\n  },\n  \"micheline.parse_error.unexpected_character\": {\n    \"msg\": \"While parsing a piece of Micheline source, an unexpected character was encountered.\",\n    \"category\": \"permanent\"\n  },\n  \"micheline.parse_error.unexpected_token\": {\n    \"msg\": \"While parsing a piece of Micheline source, an unexpected token was encountered.\",\n    \"category\": \"permanent\"\n  },\n  \"micheline.parse_error.unterminated_comment\": {\n    \"msg\": \"While parsing a piece of Micheline source, a commentX was not terminated.\",\n    \"category\": \"permanent\"\n  },\n  \"micheline.parse_error.unterminated_integer\": {\n    \"msg\": \"While parsing a piece of Micheline source, an integer was not terminated.\",\n    \"category\": \"permanent\"\n  },\n  \"micheline.parse_error.unterminated_string\": {\n    \"msg\": \"While parsing a piece of Micheline source, a string was not terminated.\",\n    \"category\": \"permanent\"\n  },\n  \"rpc_client.request_failed\": {\n    \"msg\": \"\",\n    \"category\": \"permanent\"\n  },\n  \"Block_validator_process.applying_non_validated_block\": {\n    \"msg\": \"Applying non validated block\",\n    \"category\": \"permanent\"\n  },\n  \"Block_validator_process.failed_to_checkout_context\": {\n    \"msg\": \"The context checkout failed using a given hash\",\n    \"category\": \"permanent\"\n  },\n  \"RPC.Empty_error_list\": {\n    \"msg\": \"The RPC returned with an error code but no associated error.\",\n    \"category\": \"branch\"\n  },\n  \"RPC.Unexpected_error_encoding\": {\n    \"msg\": \"The RPC returned with an error code, and the associated body was not a valid error trace. It is likely that the answer does not comes directly from a compatible node.\",\n    \"category\": \"branch\"\n  },\n  \"RPC_context.Gone\": {\n    \"msg\": \"RPC lookup failed. Block has been pruned and requested data deleted.\",\n    \"category\": \"branch\"\n  },\n  \"RPC_context.Not_found\": {\n    \"msg\": \"RPC lookup failed. No RPC exists at the URL or the RPC tried to access non-existent data.\",\n    \"category\": \"branch\"\n  },\n  \"RPC_error.bad_version\": {\n    \"msg\": \"The RPC was called with a bad version number.\",\n    \"category\": \"permanent\"\n  },\n  \"Validator_process.system_error_while_validating\": {\n    \"msg\": \"The validator failed because of a system error\",\n    \"category\": \"temporary\"\n  },\n  \"block_store.v_3_0_upgrade_missing_floating_block\": {\n    \"msg\": \"Failed to upgrade the floating store\",\n    \"category\": \"permanent\"\n  },\n  \"block_validation.cannot_serialize_metadata\": {\n    \"msg\": \"Unable to serialize metadata\",\n    \"category\": \"permanent\"\n  },\n  \"canceled\": {\n    \"msg\": \"A promise was unexpectedly canceled\",\n    \"category\": \"temporary\"\n  },\n  \"cli.key.invalid_uri\": {\n    \"msg\": \"A key has been provided with an invalid uri.\",\n    \"category\": \"permanent\"\n  },\n  \"cli.signature_mismatch\": {\n    \"msg\": \"The signer produced an invalid signature\",\n    \"category\": \"permanent\"\n  },\n  \"cli.unexisting_scheme\": {\n    \"msg\": \"The requested scheme does not exist\",\n    \"category\": \"permanent\"\n  },\n  \"cli.unregistered_key_scheme\": {\n    \"msg\": \"A key has been provided with an unregistered scheme (no corresponding plugin)\",\n    \"category\": \"permanent\"\n  },\n  \"cli.wrong_key_scheme\": {\n    \"msg\": \"A certain scheme type has been requested but another one was found\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.Bad deserialized counter\": {\n    \"msg\": \"The byte sequence references a multisig counter that does not match the one currently stored in the given multisig contract\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.ForbiddenNegativeInt\": {\n    \"msg\": \"invalid number, must a non negative natural \",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.InvalidAddressForSmartContract\": {\n    \"msg\": \"Invalid input, expected a smart contract address in base58 check notation (KT1...)\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.actionDeserialisation\": {\n    \"msg\": \"When trying to deserialise an action from a sequence of bytes, we got an expression that does not correspond to a known multisig action\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.actionUnwrappingError\": {\n    \"msg\": \"The argument's type does not correspond to that of the corresponding FA1.2 entrypoint.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.badDeserializedContract\": {\n    \"msg\": \"When trying to deserialise an action from a sequence of bytes, we got an action for another multisig contract\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.badMaxPriorityArg\": {\n    \"msg\": \"invalid priority in -max-priority\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.badMaxWaitingTimeArg\": {\n    \"msg\": \"invalid duration in -max-waiting-time\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.badMinimalFeesArg\": {\n    \"msg\": \"invalid fee threshold in -fee-threshold\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.badPreservedLevelsArg\": {\n    \"msg\": \"invalid number of levels in -preserved-levels\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.badTezArg\": {\n    \"msg\": \"Invalid  notation in parameter.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.bytesDeserialisation\": {\n    \"msg\": \"When trying to deserialise an action from a sequence of bytes, we got an error\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.contractHasNoScript\": {\n    \"msg\": \"A multisig command has referenced a scriptless smart contract instead of a multisig smart contract.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.contractHasNoStorage\": {\n    \"msg\": \"A multisig command has referenced a smart contract without storage instead of a multisig smart contract.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.contractHasUnexpectedStorage\": {\n    \"msg\": \"A multisig command has referenced a smart contract whose storage is of a different shape than the expected one.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.contractWithoutCode\": {\n    \"msg\": \"Attempt to get the code of a contract failed because it has nocode. No scriptless contract should remain.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.entrypointMismatch\": {\n    \"msg\": \"An FA1.2 command has referenced a smart contract whose script does not implement at least one FA1.2 entrypoint, or with an incompatible type. See TZIP-7 (https://gitlab.com/tezos/tzip/-/blob/master/proposals/tzip-7/tzip-7.md) for documentation on FA1.2.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.fa12ContractHasNoScript\": {\n    \"msg\": \"An FA1.2 command has referenced a scriptless contract.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.fa12ContractHasNoStorage\": {\n    \"msg\": \"An FA1.2 command made a call on a contract that has no storage.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.fa12UnexpectedError\": {\n    \"msg\": \"An unexpected Michelson error was reached during the interpretation of an FA1.2 contract.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.illTypedArgumentForMultisig\": {\n    \"msg\": \"The provided argument for a transfer from a multisig contract is ill-typed\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.illTypedLambdaForMultisig\": {\n    \"msg\": \"The provided lambda for a transfer from a multisig contract is ill-typed\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.invalidSignature\": {\n    \"msg\": \"A signature was given for a multisig contract that matched none of the public keys of the contract signers\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.michelson.macros.bas_arity\": {\n    \"msg\": \"A wrong number of arguments was provided to a macro\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.michelson.macros.sequence_expected\": {\n    \"msg\": \"An macro expects a sequence, but a sequence was not provided\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.michelson.macros.unexpected_annotation\": {\n    \"msg\": \"A macro had an annotation, but no annotation was permitted on this macro.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.michelson.stack.wrong_stack\": {\n    \"msg\": \"Failed to parse a typed stack.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.michelson.stack.wrong_stack_item\": {\n    \"msg\": \"Failed to parse an item in a typed stack.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.michelson.wrong_extra_big_maps\": {\n    \"msg\": \"Failed to parse a description of extra big maps.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.michelson.wrong_extra_big_maps_item\": {\n    \"msg\": \"Failed to parse an item in a description of extra big maps.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.michelson.wrong_other_contracts\": {\n    \"msg\": \"Failed to parse a description of other contracts.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.michelson.wrong_other_contracts_item\": {\n    \"msg\": \"Failed to parse an item in a description of other contracts.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.nonPositiveThreshold\": {\n    \"msg\": \"A multisig threshold should be a positive number\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.notASupportedMultisigContract\": {\n    \"msg\": \"A multisig command has referenced a smart contract whose script is not one of the known multisig contract scripts.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.notAViewableEntrypoint\": {\n    \"msg\": \"A transaction made a call on an entrypoint expecting it to implement the 'view' type.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.notAnEntrypoint\": {\n    \"msg\": \"The parameter value of the contract call refers to a non-existing entrypoint.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.notEnoughAllowance\": {\n    \"msg\": \"An FA1.2 transfer failed because the receiver does not have enough allowance to ask for a transfer from the sender.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.notEnoughBalance\": {\n    \"msg\": \"An FA1.2 transfer failed because the sender does not have enough balance.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.notEnoughSignatures\": {\n    \"msg\": \"To run an action on a multisig contract, you should provide at least as many signatures as indicated by the threshold stored in the multisig contract.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.thresholdTooHigh\": {\n    \"msg\": \"The given threshold is higher than the number of keys, this would lead to a frozen multisig contract\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.tzt.duplicated_toplevel\": {\n    \"msg\": \"A toplevel TZT primitive was used several times.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.tzt.invalid_format\": {\n    \"msg\": \"Invalid format for a TZT toplevel primitive\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.tzt.invalid_toplevel\": {\n    \"msg\": \"Invalid format for a TZT toplevel entry\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.tzt.missing_mandatory\": {\n    \"msg\": \"A mandatory toplevel TZT primitive was missing.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.tzt.unknown_toplevel\": {\n    \"msg\": \"A toplevel TZT primitive was unknown.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.tzt.wrong_toplevel_arity\": {\n    \"msg\": \"A known toplevel TZT primitive was used with a bad arity.\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.unsafeAllowanceChange\": {\n    \"msg\": \"An FA1.2 non-zero allowance change failed because the current allowance is non-zero. For more explanation on why such allowance change is unsafe, please look at TZIP-7 (https://gitlab.com/tezos/tzip/-/blob/master/proposals/tzip-7/tzip-7.md#approve).\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.unsupportedGenericMultisigFeature\": {\n    \"msg\": \"This multisig contract does not feature calling contracts with arguments\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.unsupportedGenericMultisigFeatureTy\": {\n    \"msg\": \"This multisig contract does not feature calling contracts with arguments\",\n    \"category\": \"permanent\"\n  },\n  \"client.alpha.unsupportedGenericMultisigLambda\": {\n    \"msg\": \"This multisig contract does not feature running lambdas\",\n    \"category\": \"permanent\"\n  },\n  \"config_file.cannot_switch_history_mode\": {\n    \"msg\": \"Cannot switch history mode.\",\n    \"category\": \"permanent\"\n  },\n  \"context_hash.unsupported_version\": {\n    \"msg\": \"Unsupported context hash version.\",\n    \"category\": \"permanent\"\n  },\n  \"dal.node.initialisation_twice\": {\n    \"msg\": \"DAL parameters were initialised twice\",\n    \"category\": \"permanent\"\n  },\n  \"dal.node.invalid_precomputation_hash\": {\n    \"msg\": \"Unexpected precomputation hash\",\n    \"category\": \"permanent\"\n  },\n  \"dal.node.trusted_setup_loading_failed\": {\n    \"msg\": \"Trusted setup failed to load\",\n    \"category\": \"permanent\"\n  },\n  \"decoding_error\": {\n    \"msg\": \"Error while decoding a value\",\n    \"category\": \"permanent\"\n  },\n  \"encoding_error\": {\n    \"msg\": \"Error while encoding a value for a socket\",\n    \"category\": \"permanent\"\n  },\n  \"failure\": {\n    \"msg\": \"Exception safely wrapped in an error\",\n    \"category\": \"temporary\"\n  },\n  \"injection_operation_error_case\": {\n    \"msg\": \"The injection of this operation failed. The error trace are the following errors in this list.\",\n    \"category\": \"permanent\"\n  },\n  \"injection_operation_succeed_case\": {\n    \"msg\": \"The injection of this operation succeed among a list of injections containing at least one error.\",\n    \"category\": \"permanent\"\n  },\n  \"injection_operations_error\": {\n    \"msg\": \"While injecting several operations at once, one or several injections failed.\",\n    \"category\": \"permanent\"\n  },\n  \"internal-event-activation-error\": {\n    \"msg\": \"Activation of an Internal Event SINK with an URI failed\",\n    \"category\": \"permanent\"\n  },\n  \"prevalidation.operation_conflict\": {\n    \"msg\": \"The operation cannot be added because the mempool already contains a conflicting operation.\",\n    \"category\": \"temporary\"\n  },\n  \"prevalidation.operation_replacement\": {\n    \"msg\": \"The operation has been replaced.\",\n    \"category\": \"temporary\"\n  },\n  \"snapshots.inconsistent_operation_hashes\": {\n    \"msg\": \"The operations given do not match their hashes.\",\n    \"category\": \"permanent\"\n  },\n  \"socket.unexpected_size_of_decoded_value\": {\n    \"msg\": \"A decoded value comes from a buffer of unexpected size.\",\n    \"category\": \"permanent\"\n  },\n  \"store.bad_head_invariant\": {\n    \"msg\": \"Bad invariant during Store.set_head\",\n    \"category\": \"permanent\"\n  },\n  \"store.bad_level\": {\n    \"msg\": \"Read a block at level past our current head.\",\n    \"category\": \"permanent\"\n  },\n  \"store.bad_ordering_invariant\": {\n    \"msg\": \"The ordering invariant does not hold\",\n    \"category\": \"permanent\"\n  },\n  \"store.block_not_found\": {\n    \"msg\": \"Block not found\",\n    \"category\": \"permanent\"\n  },\n  \"store.cannot_cement_blocks\": {\n    \"msg\": \"Cannot cement blocks\",\n    \"category\": \"temporary\"\n  },\n  \"store.cannot_cement_blocks_metadata\": {\n    \"msg\": \"Cannot cement blocks metadata\",\n    \"category\": \"temporary\"\n  },\n  \"store.cannot_checkout_context\": {\n    \"msg\": \"Failed to checkout context\",\n    \"category\": \"temporary\"\n  },\n  \"store.cannot_encode_block\": {\n    \"msg\": \"Failed to encode block\",\n    \"category\": \"temporary\"\n  },\n  \"store.cannot_find_chain_dir\": {\n    \"msg\": \"Cannot find chain dir while upgrading storage\",\n    \"category\": \"permanent\"\n  },\n  \"store.cannot_find_protocol\": {\n    \"msg\": \"Cannot find protocol\",\n    \"category\": \"temporary\"\n  },\n  \"store.cannot_fork_testchain\": {\n    \"msg\": \"Failed to fork testchain\",\n    \"category\": \"temporary\"\n  },\n  \"store.cannot_instanciate_temporary_floating_store\": {\n    \"msg\": \"Cannot instanciate temporary floating store\",\n    \"category\": \"temporary\"\n  },\n  \"store.cannot_load_degraded_store\": {\n    \"msg\": \"Cannot load a degraded block store.\",\n    \"category\": \"permanent\"\n  },\n  \"store.cannot_load_testchain\": {\n    \"msg\": \"Failed to load the testchain\",\n    \"category\": \"temporary\"\n  },\n  \"store.cannot_merge_store\": {\n    \"msg\": \"Cannot merge the store.\",\n    \"category\": \"permanent\"\n  },\n  \"store.cannot_retrieve_savepoint\": {\n    \"msg\": \"Failed to retrieve savepoint\",\n    \"category\": \"temporary\"\n  },\n  \"store.cannot_set_target\": {\n    \"msg\": \"The given block to be set as target is invalid.\",\n    \"category\": \"temporary\"\n  },\n  \"store.cannot_store_block\": {\n    \"msg\": \"Failed to store block\",\n    \"category\": \"temporary\"\n  },\n  \"store.cannot_update_floating_store\": {\n    \"msg\": \"Cannot update floating store\",\n    \"category\": \"temporary\"\n  },\n  \"store.cannot_write_in_readonly\": {\n    \"msg\": \"Cannot write data in store when in readonly\",\n    \"category\": \"permanent\"\n  },\n  \"store.corrupted_store\": {\n    \"msg\": \"The store is corrupted\",\n    \"category\": \"permanent\"\n  },\n  \"store.failed_to_get_live_blocks\": {\n    \"msg\": \"Unable to compute live blocks from a given block.\",\n    \"category\": \"permanent\"\n  },\n  \"store.failed_to_init_cemented_block_store\": {\n    \"msg\": \"Failed to initialize the cemented block store\",\n    \"category\": \"temporary\"\n  },\n  \"store.fork_testchain_not_allowed\": {\n    \"msg\": \"Forking the test chain is not allowed\",\n    \"category\": \"temporary\"\n  },\n  \"store.inconsistent_block_hash\": {\n    \"msg\": \"Inconsistent block hash found\",\n    \"category\": \"temporary\"\n  },\n  \"store.inconsistent_block_predecessor\": {\n    \"msg\": \"Inconsistent block predecessor\",\n    \"category\": \"temporary\"\n  },\n  \"store.inconsistent_cemented_file\": {\n    \"msg\": \"Failed to read a cemented file\",\n    \"category\": \"temporary\"\n  },\n  \"store.inconsistent_cemented_store\": {\n    \"msg\": \"Failed to check indexes consistency\",\n    \"category\": \"temporary\"\n  },\n  \"store.inconsistent_cementing_highwatermark\": {\n    \"msg\": \"The stored cementing highwatermark is inconsistent with the store.\",\n    \"category\": \"permanent\"\n  },\n  \"store.inconsistent_chain_store\": {\n    \"msg\": \"Failed to load chain store\",\n    \"category\": \"temporary\"\n  },\n  \"store.inconsistent_genesis\": {\n    \"msg\": \"The given genesis block is inconsistent with the store.\",\n    \"category\": \"permanent\"\n  },\n  \"store.inconsistent_history_mode\": {\n    \"msg\": \"The history mode does not correspond to the store.\",\n    \"category\": \"permanent\"\n  },\n  \"store.inconsistent_protocol_commit_info\": {\n    \"msg\": \"Inconsistent protocol commit info while restoring snapshot\",\n    \"category\": \"temporary\"\n  },\n  \"store.invalid_blocks_to_cement\": {\n    \"msg\": \"Invalid block list to cement\",\n    \"category\": \"temporary\"\n  },\n  \"store.invalid_genesis_marking\": {\n    \"msg\": \"Cannot mark genesis as invalid\",\n    \"category\": \"temporary\"\n  },\n  \"store.invalid_head_switch\": {\n    \"msg\": \"The given head is not consistent with the current store's savepoint\",\n    \"category\": \"permanent\"\n  },\n  \"store.merge_already_running\": {\n    \"msg\": \"The store's merge is already running\",\n    \"category\": \"temporary\"\n  },\n  \"store.merge_error\": {\n    \"msg\": \"Error while merging the store\",\n    \"category\": \"temporary\"\n  },\n  \"store.metadata_not_found\": {\n    \"msg\": \"Block metadata not found\",\n    \"category\": \"permanent\"\n  },\n  \"store.missing_activation_block\": {\n    \"msg\": \"Missing activation block while restoring snapshot\",\n    \"category\": \"temporary\"\n  },\n  \"store.missing_commit_info\": {\n    \"msg\": \"Failed to retreive commit info\",\n    \"category\": \"temporary\"\n  },\n  \"store.missing_last_allowed_fork_level_block\": {\n    \"msg\": \"Current head's last allowed fork level block (or its associated metadata) cannot be found in the store.\",\n    \"category\": \"temporary\"\n  },\n  \"store.protocol_not_found\": {\n    \"msg\": \"Protocol not found\",\n    \"category\": \"permanent\"\n  },\n  \"store.resulting_context_hash_not_found\": {\n    \"msg\": \"Resulting context hash not found\",\n    \"category\": \"permanent\"\n  },\n  \"store.target_mismatch\": {\n    \"msg\": \"Target is reached but it is not a head's ancestor.\",\n    \"category\": \"permanent\"\n  },\n  \"store.temporary_cemented_file_exists\": {\n    \"msg\": \"The temporary cemented file already exists\",\n    \"category\": \"temporary\"\n  },\n  \"store.unexpected_missing_activation_block\": {\n    \"msg\": \"An activation block is unexpectedly missing from the store.\",\n    \"category\": \"permanent\"\n  },\n  \"store.unexpected_missing_block\": {\n    \"msg\": \"A block is unexpectedly missing from the store.\",\n    \"category\": \"permanent\"\n  },\n  \"store.unexpected_missing_block_metadata\": {\n    \"msg\": \"A block's metadata is unexpectedly missing from the store.\",\n    \"category\": \"permanent\"\n  },\n  \"store.unexpected_missing_protocol\": {\n    \"msg\": \"A protocol is unexpectedly missing from the store.\",\n    \"category\": \"permanent\"\n  },\n  \"store.wrong_floating_kind_swap\": {\n    \"msg\": \"Try to swap wrong floating store kind\",\n    \"category\": \"temporary\"\n  },\n  \"store.wrong_predecessor\": {\n    \"msg\": \"Failed to get block's predecessor\",\n    \"category\": \"temporary\"\n  },\n  \"unexpected_size_of_encoded_value\": {\n    \"msg\": \"An encoded value is not of the expected size.\",\n    \"category\": \"permanent\"\n  },\n  \"utils.Timeout\": {\n    \"msg\": \"Timeout\",\n    \"category\": \"temporary\"\n  }\n};","import { Pipe, PipeTransform } from '@angular/core';\nimport { rpcErrors } from './rpc-errors';\n\ninterface CustomError {\n  msg: string;\n}\n\nconst customErrors: Record<string, CustomError> = {\n  TooHighFee: {\n    msg: 'Fee exceeded hard cap!'\n  },\n  'Timeout has occurred': {\n    msg: 'Node error: Timeout has occurred! Please try again later.'\n  },\n  'Only one manager operation per manager per block allowed': {\n    msg: 'Error while applying operation: Please try again.'\n  }\n};\n\n@Pipe({\n  name: 'errorHandling'\n})\nexport class ErrorHandlingService implements PipeTransform {\n  transform(errorId: string, withObj?: any, location?: number): any {\n    const protocol = errorId.match(/[0-9]{3}-P\\w{7}/g);\n    if (protocol && protocol[0]) {\n      errorId = errorId.replace(protocol[0], 'alpha');\n    }\n    let errorMessage = '';\n    console.log('ErrorHandlingService encountered errorId:', errorId);\n    if (withObj) {\n      console.log('withObj', withObj);\n    }\n    const error = customErrors[errorId] || rpcErrors[errorId] || null;\n    if (errorId === 'proto.alpha.michelson_v1.script_rejected' && withObj) {\n      if (withObj.string) {\n        if (withObj.string.toLowerCase() === 'fa2_insufficient_balance') {\n          errorMessage = 'Insufficient FA2 token balance';\n        } else if (withObj.string.toLowerCase() === 'fa1.2_insufficientbalance') {\n          errorMessage = 'Insufficient FA1.2 token balance';\n        } else if (withObj.string.toLowerCase() === 'notenoughbalance') {\n          errorMessage = 'Insufficient token balance';\n        } else {\n          errorMessage = `${error.msg} | ${withObj.string}`;\n        }\n      } else if (withObj?.int === '4' && location === 206) {\n        errorMessage = 'Tokens deposited is greater than maximum tokens deposited. Please retry in a while.';\n      } else {\n        let jsonWith = JSON.stringify(withObj);\n        if (jsonWith.length > 200) {\n          jsonWith = '[...]';\n          console.error('FAILWITH', withObj);\n        }\n        errorMessage = `${error.msg} ${jsonWith}`;\n      }\n      console.log(withObj);\n    } else if (error) {\n      errorMessage = error.msg;\n    } else {\n      if (errorId.indexOf('branch refused (Error:') !== -1 && errorId.indexOf('already used for contract') !== -1) {\n        errorMessage =\n          'Counter error: Another operation in mempool is blocking your operation. Wait for it to be included in a block or pruned from mempool (up to 60 minutes).';\n      } else {\n        if (errorId?.startsWith('Failed to parse the request body')) {\n          const lines = errorId.split('At /kind, unexpected string instead of ');\n          for (let line of lines) {\n            if (line.startsWith('reveal\\n  Unhandled error')) {\n              return line.replace('reveal\\n  ', '');\n            }\n          }\n        } else {\n          return 'Unrecognized error: ' + errorId;\n        }\n      }\n    }\n    return errorMessage;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { OperationService } from '../operation/operation.service';\nimport { flatMap, catchError } from 'rxjs/operators';\nimport { of, Observable } from 'rxjs';\nimport { DefaultTransactionParams, OpLimits } from '../../interfaces';\nimport Big from 'big.js';\nimport { CONSTANTS } from '../../../environments/environment';\nimport { InputValidationService } from '../input-validation/input-validation.service';\nimport { UtilsService } from '../utils/utils.service';\n\nconst httpOptions = { headers: { 'Content-Type': 'application/json' } };\n@Injectable()\nexport class EstimateService {\n  readonly costPerByte = '250';\n  readonly revealGasLimit = 200;\n  readonly extraGas = 25;\n  readonly contractsOverride: Record<string, OpLimits>;\n  readonly tooSlowPreloadError: string = 'Simulation error: Node timed out on preload';\n  queue = [];\n  pkh: string;\n  pk: string;\n  hash: string;\n  chainId: string;\n  manager: string;\n  counter: number;\n  constructor(\n    private utilsService: UtilsService,\n    private http: HttpClient,\n    private operationService: OperationService,\n    private imputValidationService: InputValidationService\n  ) {\n    this.contractsOverride = CONSTANTS.CONTRACT_OVERRIDES;\n  }\n  init(hash: string, chainId: string, counter: number, manager: string, pk: string, pkh: string) {\n    this.hash = hash;\n    this.chainId = chainId;\n    this.counter = counter;\n    this.manager = manager;\n    this.pk = pk;\n    this.pkh = pkh;\n  }\n  async preLoadData(pkh: string, pk: string) {\n    this.pkh = pkh;\n    this.pk = pk;\n    this.hash = this.chainId = this.counter = this.manager = undefined;\n    const [head, counter, manager] = await Promise.all([this.operationService.getHeader().toPromise(), this.getCounter(pkh), this.getManager(pkh)]);\n    if (head && counter && (manager || manager === null)) {\n      this.init(head.hash, head.chain_id, counter, manager, pk, pkh);\n    }\n  }\n  public async estimateTransactions(transactions: any, from: string, tokenTransfer: string = '', callback) {\n    this.estimate(transactions, from, tokenTransfer, callback, false);\n  }\n  public async estimateOrigination(origination: any, from: string, callback) {\n    this.estimate([origination], from, '', callback, true);\n  }\n  private async estimate(transactions: any, from: string, tokenTransfer: string = '', callback, isOrigination: boolean) {\n    this.queue.push({ transactions, from, callback });\n    if (this.queue.length === 1) {\n      while (this.queue.length > 0) {\n        while (this.queue.length > 1) {\n          this.queue[0].callback(null);\n          this.queue.shift();\n        }\n        let retry = false;\n        for (let i = 0; i < 1 || (retry && i < 2); i++) {\n          let c = 0;\n          while (!this.hash) {\n            if (c < 10) {\n              await this.utilsService.sleep(500);\n            } else {\n              this.queue[0].callback({ error: this.tooSlowPreloadError });\n              this.queue.shift();\n              return;\n            }\n            c++;\n          }\n          await this._estimate(this.queue[0].transactions, this.queue[0].from, tokenTransfer, isOrigination)\n            .then((res) => {\n              this.queue[0].callback(res);\n            })\n            .catch(async (error) => {\n              if (error.message && error.message === 'An operation assumed a contract counter in the past' && !retry) {\n                console.log('Update counter');\n                await this.preLoadData(this.pkh, this.pk);\n                retry = true;\n              } else {\n                this.queue[0].callback({ error });\n              }\n            });\n        }\n        this.queue.shift();\n      }\n    }\n  }\n  private async _estimate(operations: any, from: string, tokenTransfer: string, isOrigination: boolean = false): Promise<any> {\n    if (!this.hash) {\n      return null;\n    }\n    const simulation = {\n      fee: 0,\n      gasLimit: Math.min(\n        CONSTANTS.HARD_LIMITS.hard_gas_limit_per_operation,\n        Math.floor(CONSTANTS.HARD_LIMITS.hard_gas_limit_per_block / (operations.length + 1))\n      ),\n      storageLimit: CONSTANTS.HARD_LIMITS.hard_storage_limit_per_operation\n    };\n    for (const tx of operations) {\n      console.log(tx);\n      if (!isOrigination) {\n        if (!tx.amount) {\n          tx.amount = 0;\n        }\n        if (tx.destination.slice(0, 3) !== 'KT1' && !tokenTransfer) {\n          tx.amount = 0.000001;\n        }\n      }\n      tx.gasLimit = simulation.gasLimit;\n      tx.storageLimit = simulation.storageLimit;\n    }\n    if (this.hash && this.counter && (this.manager || this.manager === null)) {\n      const op = isOrigination\n        ? this.operationService.createOriginationObject(this.hash, this.counter, this.manager, operations[0], simulation.fee, this.pk, this.pkh)\n        : this.operationService.createTransactionObject(\n            this.hash,\n            this.counter,\n            this.manager,\n            operations,\n            this.pkh,\n            this.pk,\n            from,\n            simulation.fee,\n            tokenTransfer\n          );\n      const result = await this.simulate(op)\n        .toPromise()\n        .catch((e) => {\n          console.warn(e);\n          return null;\n        });\n      if (result && result.contents) {\n        let reveal = false;\n        const limits = [];\n        for (const i in result.contents) {\n          if (result.contents[i].kind === 'reveal') {\n            reveal = true;\n          } else if (['transaction', 'origination'].includes(result.contents[i].kind) && result.contents[i].metadata.operation_result.status === 'applied') {\n            const index: number = Number(i) + (result.contents[0]?.kind === 'reveal' ? -1 : 0);\n            const opObj = index > -1 ? operations[index] : null;\n            const { gas, storage } = this.getOpUsage(result.contents[i], opObj);\n            limits.push({ gasLimit: gas, storageLimit: storage });\n          } else {\n            return null;\n          }\n        }\n        return await this.operationService\n          .localForge(op)\n          .pipe(\n            flatMap((fop) => {\n              const bytes = fop.length / 2 + 64;\n              const gas = this.totalGasLimit(limits);\n              const storage = this.totalStorageLimit(limits);\n              const dtp: DefaultTransactionParams = {\n                customLimits: limits,\n                fee: this.recommendFee(limits, reveal, bytes),\n                burn: this.burnFee(limits),\n                gas,\n                storage,\n                reveal\n              };\n              console.log(JSON.stringify(dtp));\n              return of(dtp);\n            })\n          )\n          .toPromise();\n      } else if (typeof result?.success === 'boolean' && result.success === false) {\n        console.log(result);\n        throw new Error(result.payload.msg);\n      }\n    }\n    return null;\n  }\n  getOpUsage(content: any, op: any): OpLimits {\n    let gasUsage = 0;\n    let burn = Big(0);\n    if (content.source && content.source === this.pkh) {\n      burn = burn.minus(content.amount ? content.amount : '0');\n      burn = burn.minus(content.fee ? content.fee : '0');\n      burn = burn.minus(content.balance ? content.balance : '0');\n    }\n    if (content.destination && content.destination === this.pkh) {\n      burn = burn.plus(content.amount ? content.amount : '0');\n    }\n    if (content.metadata.operation_result.balance_updates) {\n      for (const balanceUpdate of content.metadata.operation_result.balance_updates) {\n        if (balanceUpdate.contract === this.pkh) {\n          burn = burn.minus(balanceUpdate.change);\n        }\n      }\n    }\n    if (content.metadata.balance_updates) {\n      for (const balanceUpdate of content.metadata.balance_updates) {\n        if (balanceUpdate.contract === this.pkh) {\n          burn = burn.minus(balanceUpdate.change);\n        }\n      }\n    }\n    gasUsage += content.metadata.operation_result.consumed_milligas ? Math.ceil(Number(content.metadata.operation_result.consumed_milligas) / 1000) : 0;\n    if (content.metadata.internal_operation_results) {\n      for (const internalResult of content.metadata.internal_operation_results) {\n        if (internalResult.result) {\n          if (internalResult.result.consumed_milligas) {\n            gasUsage +=\n              internalResult.result && internalResult.result.consumed_milligas ? Math.ceil(Number(internalResult.result.consumed_milligas) / 1000) : 0;\n          }\n          if (internalResult.result.balance_updates) {\n            for (const balanceUpdate of internalResult.result.balance_updates) {\n              if (balanceUpdate.contract === this.pkh && balanceUpdate.change.slice(0, 1) === '-') {\n                burn = burn.minus(balanceUpdate.change);\n              }\n            }\n          }\n        }\n      }\n    }\n    const storageUsage = Math.round(burn / Number(this.costPerByte));\n    if (\n      gasUsage < 0 ||\n      gasUsage > CONSTANTS.HARD_LIMITS.hard_gas_limit_per_operation ||\n      storageUsage < 0 ||\n      storageUsage > CONSTANTS.HARD_LIMITS.hard_storage_limit_per_operation\n    ) {\n      throw new Error('InvalidUsageCalculation');\n    }\n    return this.getOpLimits(content, op, gasUsage, storageUsage);\n  }\n  /*\n    Need to be updated when fee market appear or default behavior for bakers changes\n  */\n  recommendFee(limits: any, reveal: boolean, bytes: number): number {\n    const minimalFee = 100;\n    const feePerByte = 1;\n    const feePerGasUnit = 0.1;\n    let gasUnits = 0;\n    let numberOfOperations = 0;\n    if (reveal) {\n      gasUnits += this.revealGasLimit;\n      numberOfOperations++;\n    }\n    for (const data of limits) {\n      gasUnits += data.gasLimit;\n      numberOfOperations++;\n    }\n    bytes += 10 * numberOfOperations; // add 10 extra bytes for variation in amount & fee\n    return Number(\n      Big(Math.ceil(minimalFee + feePerByte * bytes + feePerGasUnit * gasUnits))\n        .div(1000000)\n        .toString()\n    );\n  }\n  totalGasLimit(limits: any): number {\n    let totalGasLimit = 0;\n    for (const data of limits) {\n      totalGasLimit += data.gasLimit;\n    }\n    return totalGasLimit;\n  }\n  totalStorageLimit(limits: any): number {\n    let totalStorageLimit = 0;\n    for (const data of limits) {\n      totalStorageLimit += data.storageLimit;\n    }\n    return totalStorageLimit;\n  }\n  burnFee(limits: any): number {\n    let totalStorageLimit = Big(0);\n    for (const data of limits) {\n      totalStorageLimit = totalStorageLimit.plus(data.storageLimit);\n    }\n    return Number(Big(totalStorageLimit).times(this.costPerByte).div('1000000').toString());\n  }\n  simulate(op: any): Observable<any> {\n    op.signature = 'edsigtXomBKi5CTRf5cjATJWSyaRvhfYNHqSUGrn4SdbYRcGwQrUGjzEfQDTuqHhuA8b2d8NarZjz8TRf65WkpQmo423BtomS8Q';\n    return this.operationService\n      .postRpc('chains/main/blocks/head/helpers/scripts/run_operation', {\n        operation: op,\n        chain_id: this.chainId\n      })\n      .pipe(\n        flatMap((res) => {\n          this.operationService.checkApplied([res]);\n          return of(res);\n        })\n      )\n      .pipe(\n        catchError((err) => {\n          return this.operationService.errHandler(err);\n        })\n      );\n  }\n  private getOpLimits(content: any, op: any, gasUsage: number, storageUsage: number): OpLimits {\n    // check for hardcoded override\n    let limit: OpLimits = {};\n    const entrypoint = content?.parameters?.entrypoint;\n    const destination = content?.destination;\n    if (entrypoint && destination) {\n      const contractOverride: OpLimits = this.contractsOverride[`${destination}:${entrypoint}`];\n      if (contractOverride) {\n        limit = contractOverride;\n      }\n    }\n    // gas\n    if (!limit.gas) {\n      let gasRecommendation: number = 0;\n      if (op?.gasRecommendation) {\n        if (this.imputValidationService.gas(op.gasRecommendation)) {\n          gasRecommendation = Number(op.gasRecommendation);\n        } else if (this.imputValidationService.relativeLimit(op.gasRecommendation)) {\n          let percentage: number = Number(op.gasRecommendation.slice(1, -1));\n          percentage = Math.min(Math.max(percentage, 2), 900);\n          gasRecommendation = Math.round(gasUsage * (1 + percentage / 100));\n        }\n      }\n      const gasEstimation = Math.max(Math.ceil(gasUsage * 1.02), Math.round(gasUsage + this.extraGas));\n      limit.gas = Math.max(gasRecommendation, gasEstimation); // make sure dapps don't underestimate (ithaca side effect)\n    }\n    // storage\n    if (!limit.storage) {\n      let storageRecommendation: number = 0;\n      if (op?.storageRecommendation) {\n        if (this.imputValidationService.storage(op.storageRecommendation)) {\n          storageRecommendation = Number(op.storageRecommendation);\n        } else if (this.imputValidationService.relativeLimit(op.storageRecommendation)) {\n          const percentage: number = Number(op.storageRecommendation.slice(1, -1));\n          storageRecommendation = Math.round(storageUsage * (1 + percentage / 100));\n        }\n      }\n      const storageEstimation = Math.round(storageUsage);\n      limit.storage = Math.max(storageRecommendation, storageEstimation);\n    }\n    return limit;\n  }\n  private async getCounter(pkh: string): Promise<number> {\n    return this.operationService.getRpc(`chains/main/blocks/head/context/contracts/${pkh}/counter`).toPromise();\n  }\n  private async getManager(pkh: string): Promise<string> {\n    return this.operationService.getRpc(`chains/main/blocks/head/context/contracts/${pkh}/manager_key`).toPromise();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { SubjectService } from '../../subject/subject.service';\nimport { SwapLiquidityService } from '../../swap-liquidity/swap-liquidity.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DipDupService {\n  private readonly storeKey = 'dipdup';\n  private readonly maxTokensReturned = 1000;\n  public tokens = new Map<string, any>();\n  constructor(private subjectService: SubjectService) {\n    this.rehydrate();\n  }\n  async fetchTokensMidPrice(offset = 0): Promise<void> {\n    const baseUrl = `https://dex.dipdup.net/v1/graphql`;\n    const req = {\n      query: `{\n            token(where: {} offset: ${offset}) {\n              exchanges(where: {_not: {name: {_eq: \"lb\"}}}) {\n                midPrice,\n                sharesTotal,\n                token {\n                  address,\n                  tokenId\n                }\n              }\n      }}`\n    };\n    const response = await (\n      await fetch(baseUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(req)\n      })\n    ).json();\n    if (response?.data?.token?.length) {\n      if (offset === 0) {\n        this.tokens = new Map<string, any>();\n      }\n      for (const t of response.data.token) {\n        const exchange = t.exchanges.reduce((p, c) =>\n          (!!c?.sharesTotal && !!p?.sharesTotal && Number(c.sharesTotal) > Number(p.sharesTotal)) || (c?.sharesTotal && !p?.sharesTotal) ? c : p\n        );\n        if (exchange?.token?.address === 'KT1TjnZYs5CGLbmV6yuW169P8Pnr9BiVwwjz' && exchange?.token?.tokenId === 0) {\n          // exception for oXTZ\n          exchange.midPrice = '1';\n        }\n        this.tokens.set(`${exchange.token.address}:${exchange.token.tokenId}`, Boolean(Number(exchange?.midPrice)) ? exchange?.midPrice : '0');\n      }\n    }\n    if (response?.data?.token?.length >= this.maxTokensReturned) {\n      this.fetchTokensMidPrice(offset + this.maxTokensReturned);\n    } else if (this.tokens.size) {\n      this.store();\n    }\n    return;\n  }\n  store() {\n    const obj = Object.fromEntries(this.tokens);\n    localStorage.setItem(\n      this.storeKey,\n      JSON.stringify({\n        midPrices: obj\n      })\n    );\n    this.subjectService.refreshTokens.next(null);\n  }\n  rehydrate() {\n    const json = localStorage.getItem(this.storeKey);\n    if (json) {\n      const parsed = JSON.parse(json);\n      if (parsed?.midPrices) {\n        for (const key of Object.keys(parsed.midPrices)) {\n          this.tokens.set(key, parsed.midPrices[key]);\n        }\n        this.subjectService.refreshTokens.next(null);\n      }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { TzktService, MetadataSource } from './tzkt/tzkt.service';\nimport { WalletObject } from '../wallet/wallet';\nimport { Asset } from '../token/token.service';\n\nexport interface Indexer {\n  getContractAddresses(pkh: string): Promise<any>;\n  accountInfo(address: string, knownTokenIds: string[], init: boolean): Promise<any>;\n  getOperations(address: string, knownTokenIds: string[], wallet: WalletObject): Promise<any>;\n}\n@Injectable({\n  providedIn: 'root'\n})\nexport class IndexerService {\n  constructor(public tzktService: TzktService) {}\n  async isUsedAccount(address: string): Promise<boolean> {\n    return this.tzktService.isUsedAccount(address);\n  }\n  async getContractAddresses(address: string): Promise<any> {\n    return this.tzktService.getContractAddresses(address);\n  }\n  async accountInfo(address: string, knownTokenIds: string[] = []): Promise<any> {\n    return this.tzktService.accountInfo(address, knownTokenIds);\n  }\n  async getOperations(address: string, knownTokenIds: string[], wallet: WalletObject): Promise<any> {\n    return this.tzktService.getOperations(address, knownTokenIds, wallet);\n  }\n  async getTokenMetadata(contractAddress: string, id: string, metadataSource = MetadataSource.Any): Promise<any> {\n    return this.tzktService.getTokenMetadata(contractAddress, id, metadataSource);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CONSTANTS } from '../../../../environments/environment';\nimport { UtilsService } from '../../utils/utils.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ObjktService {\n  private queue = [];\n  pending = false;\n  constructor(private utilsService: UtilsService) {}\n\n  async resolveToken(contractAddress, id) {\n    const req = {\n      query: `{\n        token(where: {fa_contract: {_eq: \"${contractAddress}\"}, token_id: {_eq: \"${id}\"}}) {\n          highest_offer\n          lowest_ask\n          metadata\n          name\n          attributes {\n            attribute {\n              name,\n              value,\n              attribute_counts(where: {fa_contract: {_eq: \"${contractAddress}\"}}) {\n                editions\n              }\n            }\n          }\n        }\n        event(\n          where: {token: {fa_contract: {_eq: \"${contractAddress}\"}, token_id: {_eq: \"${id}\"}}}\n          order_by: {level: asc, timestamp: desc}\n          limit: 1\n        ) {\n          price_xtz\n        }\n        fa(where: {contract: {_eq: \"${contractAddress}\"}}) {\n          editions\n          floor_price\n        }\n      }`\n    };\n    try {\n      const result = await (\n        await fetch(CONSTANTS.OBJKT_URL, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(req)\n        })\n      ).json();\n      return {\n        ...result?.data?.token[0],\n        last_sale: result?.data?.event[0]?.price_xtz,\n        floor_price: result?.data?.fa[0]?.floor_price,\n        editions: result?.data?.fa[0]?.editions\n      };\n    } catch (e) {\n      console.error(e);\n      return undefined;\n    }\n  }\n  async resolveCollection(address): Promise<any> {\n    if (!CONSTANTS.OBJKT_URL) {\n      return {};\n    }\n    while (this.queue.length >= 500) {\n      // max 500 results per call\n      await this.utilsService.sleep(3000);\n    }\n    if (!this.pending) {\n      this.pending = true;\n      this.collect();\n    }\n    return new Promise((resolve, reject) => {\n      this.queue.push({ address, resolve, reject });\n    });\n  }\n\n  async collect() {\n    setTimeout(async () => {\n      this.pending = false;\n      const queue = this.queue;\n      this.queue = [];\n      const addresses = queue.map((q) => {\n        return q.address;\n      });\n      const items = await this.resolveCollections(addresses).catch((e) => {\n        for (const q of queue) {\n          q.reject(e);\n          throw e;\n        }\n      });\n      while (queue.length) {\n        const promise = queue.shift();\n        if (items[promise.address]?.name) {\n          promise.resolve(items[promise.address]);\n        } else {\n          promise.resolve(null);\n        }\n      }\n    }, 3000);\n  }\n\n  async resolveCollections(contractAddresses: string[]) {\n    if (!CONSTANTS?.OBJKT_URL) {\n      return;\n    }\n    const req = {\n      query: `{\n        fa(where: {contract: {_in: ${JSON.stringify(contractAddresses)}}}) {\n          contract\n          name\n          logo\n        }\n      }`\n    };\n    const _objkts = (\n      await (\n        await fetch(CONSTANTS.OBJKT_URL, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(req)\n        })\n      ).json()\n    )?.data?.fa;\n    const objkts: any = {};\n    if (_objkts) {\n      for (const objkt of _objkts) {\n        objkts[objkt.contract] = { name: objkt.name, logo: objkt.logo };\n      }\n    }\n    console.log('resolveCollections', objkts);\n    return objkts;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CONSTANTS, MODEL_3D_WHITELIST, BLACKLISTED_TOKEN_CONTRACTS } from '../../../../environments/environment';\nimport { Indexer } from '../indexer.service';\nimport * as cryptob from 'crypto-browserify';\nimport { WalletObject, Activity, OpStatus, Token } from '../../wallet/wallet';\nimport { TezosToolkit } from '@taquito/taquito';\nimport { Tzip12Module, tzip12 } from '@taquito/tzip12';\nimport { TezosStorageHandler } from '@taquito/tzip16';\nimport { Handler, IpfsHttpHandler, MetadataProvider } from '@taquito/tzip16';\nimport { SubjectService } from '../../subject/subject.service';\nimport Big from 'big.js';\n\ninterface TokenMetadata {\n  name: string;\n  tokenType: 'FA2' | 'FA1.2';\n  decimals: number;\n  symbol?: string;\n  description?: string;\n  artifactUri?: string;\n  displayUri?: string;\n  thumbnailUri?: string;\n  category?: string;\n  isTransferable?: boolean;\n  shouldPreferSymbol?: boolean;\n  isBooleanAmount?: boolean;\n  series?: string;\n  ttl?: number;\n  mintingTool: string;\n}\n\nexport enum MetadataSource {\n  Any = 0,\n  TzktOnly = 1,\n  TaquitoOnly = 2\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TzktService implements Indexer {\n  tokenBalanceCache = {};\n  readonly TZKT_TOKEN_QUERY_SIZE: number = 10000;\n  Tezos: TezosToolkit;\n  constructor(private subjectService: SubjectService) {\n    this.Tezos = new TezosToolkit(CONSTANTS.NODE_URL[0]);\n    const customHandlers = new Map<string, Handler>([\n      ['ipfs', new IpfsHttpHandler('cloudflare-ipfs.com')],\n      ['tezos-storage', new TezosStorageHandler()]\n    ]);\n    const customMetadataProvider = new MetadataProvider(customHandlers);\n    this.Tezos.addExtension(new Tzip12Module(customMetadataProvider));\n  }\n  async getContractAddresses(pkh: string): Promise<any> {\n    return fetch(`${CONSTANTS.API_URL}/operations/originations?contractManager=${pkh}`)\n      .then((response) => response.json())\n      .then((data) =>\n        data\n          .map((op: any) => {\n            return op?.status === 'applied' && op?.originatedContract?.kind === 'delegator_contract' ? op.originatedContract.address : '';\n          })\n          .filter((address: string) => address.length)\n      );\n  }\n\n  async getHashAndBlockByIds(transactionIds: number[]): Promise<any> {\n    if (!transactionIds?.length) {\n      return {};\n    }\n    return fetch(`${CONSTANTS.API_URL}/operations/transactions?id.in=${transactionIds.join(',')}`)\n      .then((res) => {\n        return res.json();\n      })\n      .then((o) => {\n        let res = {};\n        for (let i = 0; i < o.length; i++) {\n          if (o[i]?.id && o[i].hash && o[i].block) {\n            res[`t${o[i].id}`] = { hash: o[i].hash, block: o[i].block };\n          }\n        }\n        return res;\n      });\n  }\n  async accountInfo(address: string, knownTokenIds: string[]): Promise<any> {\n    const unknownTokenIds = [];\n    const data = await (await fetch(`${CONSTANTS.API_URL}/accounts/${address}`)).json();\n    const tokenBalances = address.startsWith('tz') ? await this.getAllTokenBalances(address) : [];\n    if (data) {\n      if (tokenBalances?.length) {\n        for (const token of tokenBalances) {\n          if (!knownTokenIds.includes(token.tokenId)) {\n            unknownTokenIds.push(token.tokenId);\n          }\n        }\n      }\n      tokenBalances.sort(function (a: any, b: any) {\n        if (a.tokenId < b.tokenId) {\n          return -1;\n        } else {\n          return 1;\n        }\n      });\n      const payload: string = (data.balance ? data.balance : '') + (data.counter ? data.counter : '') + (tokenBalances ? JSON.stringify(tokenBalances) : '');\n      const input = Buffer.from(payload);\n      const hash = cryptob.createHash('sha512').update(input).digest('hex');\n      if (payload && payload !== '[]') {\n        const balance = data?.balance !== undefined ? data.balance : 0;\n        return { counter: hash, unknownTokenIds, tokens: tokenBalances, balance };\n      }\n    }\n    return { counter: '', tokens: tokenBalances };\n  }\n  async isUsedAccount(address: string): Promise<boolean> {\n    const accountInfo = await (await fetch(`${CONSTANTS.API_URL}/accounts/${address}`)).json();\n    return Boolean(accountInfo && (accountInfo?.type === 'user' || accountInfo?.balance || accountInfo?.tokenBalancesCount));\n  }\n  async getOperations(address: string, knownTokenIds: string[], wallet: WalletObject): Promise<any> {\n    const ops = await fetch(`${CONSTANTS.API_URL}/accounts/${address}/operations?limit=20&type=delegation,origination,transaction`)\n      .then((response) => response.json())\n      .then((data) =>\n        data\n          .map((op) => {\n            if (!op.hasInternals || !wallet.getAccount(op.target.address)) {\n              const status: OpStatus = op.status === 'applied' ? OpStatus.CONFIRMED : OpStatus.FAILED;\n              let destination = { address: '' };\n              let amount = '0';\n              let entrypoint = '';\n              let opId = '';\n              switch (op.type) {\n                case 'transaction':\n                  if (address !== op.target.address && address !== op.sender.address) {\n                    return null;\n                  }\n                  destination = op.target;\n                  amount = op.amount.toString();\n                  entrypoint = this.extractEntrypoint(op);\n                  opId = op?.id ? `t${op.id}` : '';\n                  break;\n                case 'delegation':\n                  if (address !== op.sender.address) {\n                    return null;\n                  }\n                  destination = op.newDelegate ? op.newDelegate : { address: '' };\n                  amount = '0';\n                  opId = op?.id ? `d${op.id}` : '';\n                  break;\n                case 'origination':\n                  destination = op.originatedContract;\n                  if (op.contractBalance) {\n                    amount = op.contractBalance.toString();\n                  }\n                  opId = op?.id ? `o${op.id}` : '';\n                  break;\n                default:\n                  console.log(`Ignoring kind ${op.type}`);\n                  return null;\n              }\n              const activity: Activity = {\n                type: op.type,\n                block: op.block,\n                status,\n                amount,\n                source: op.sender,\n                destination,\n                hash: op.hash,\n                counter: op.counter,\n                timestamp: new Date(op.timestamp).getTime(),\n                entrypoint,\n                opId\n              };\n              return activity;\n            }\n          })\n          .filter((obj) => obj)\n      );\n    const unknownTokenIds: string[] = [];\n    const tokenTxs = await (await fetch(`${CONSTANTS.API_URL}/tokens/transfers?anyof.from.to=${address}&limit=20&offset=0&sort.desc=id`)).json();\n    const tokenArr = [];\n    const opIds = [];\n    for (let i = 0; i < tokenTxs.length; ++i) {\n      if (BLACKLISTED_TOKEN_CONTRACTS.includes(tokenTxs[i].token.contract.address)) {\n        continue;\n      }\n      const tokenId = `${tokenTxs[i].token.contract.address}:${tokenTxs[i].token.tokenId}`;\n      if (tokenTxs[i].token.contract && tokenId) {\n        if (!knownTokenIds.includes(tokenId)) {\n          unknownTokenIds.push(tokenId);\n        }\n        const source: any = { address: tokenTxs[i].from?.address };\n        if (tokenTxs[i].from === '' && tokenTxs[i].token.contract) {\n          source.address = tokenTxs[i].contract.address;\n        }\n        if (tokenTxs[i].transactionId) {\n          opIds.push(tokenTxs[i].transactionId);\n        }\n        const activity: Activity = {\n          type: 'transaction',\n          block: '',\n          hash: '',\n          status: OpStatus.CONFIRMED,\n          amount: tokenTxs[i].amount,\n          tokenId,\n          source,\n          destination: { address: tokenTxs[i].to?.address ?? '' },\n          timestamp: new Date(tokenTxs[i].timestamp).getTime(),\n          opId: tokenTxs[i].transactionId ? `t${tokenTxs[i].transactionId}` : undefined\n        };\n        tokenArr.push(activity);\n      }\n    }\n    const extra = await this.getHashAndBlockByIds(opIds);\n    for (const token of tokenArr) {\n      if (extra[token?.opId]) {\n        token.block = extra[token?.opId].block;\n        token.hash = extra[token?.opId].hash;\n      }\n    }\n    let operations = tokenArr\n      .concat(ops)\n      .filter((op) => op?.entrypoint !== 'transfer' && op?.entrypoint !== 'claim')\n      .sort(function (a: any, b: any) {\n        if (b.timestamp === a.timestamp && a.opId && b.opId) {\n          return parseInt(new Big(b.opId.substring(1)).minus(a.opId.substring(1)).toString());\n        }\n        return b.timestamp - a.timestamp;\n      });\n    return { operations, unknownTokenIds };\n  }\n  private extractEntrypoint(op: any): string {\n    return op?.entrypoint ?? op?.parameter?.entrypoint ?? '';\n  }\n  async getTokenMetadata(contractAddress: string, id: string, metadataSource: MetadataSource): Promise<TokenMetadata> {\n    let meta;\n    let tokenType = 'FA2';\n    const tokenId = `${contractAddress}:${id}`;\n    if (this.tokenBalanceCache[tokenId]) {\n      meta = this.tokenBalanceCache[tokenId].token.metadata;\n      tokenType = this.tokenBalanceCache[tokenId].token.standard && this.tokenBalanceCache[tokenId].token.standard === 'fa1.2' ? 'FA1.2' : 'FA2';\n    }\n    if (meta) {\n      this.normalizeMetadata(meta, contractAddress, id);\n      this.filterMetadata(meta);\n    }\n    // default to 0\n    if (meta?.decimals === undefined) {\n      meta.decimals = 0;\n    }\n    if (!(meta && (meta.name || meta.symbol) && !isNaN(meta.decimals) && meta.decimals >= 0) || metadataSource === MetadataSource.TaquitoOnly) {\n      meta = null;\n    }\n    if (!meta && metadataSource !== MetadataSource.TzktOnly) {\n      console.debug('fallback on taquito', { contractAddress, id });\n      meta = await this.getTokenMetadataWithTaquito(contractAddress, id);\n      if (meta) {\n        this.normalizeMetadata(meta, contractAddress, id);\n        this.filterMetadata(meta);\n      }\n    }\n    if (meta?.decimals === undefined) {\n      meta.decimals = 0;\n    }\n    if (!(meta && (meta.name || meta.symbol) && !isNaN(meta.decimals) && meta.decimals >= 0)) {\n      meta = null;\n    }\n    if (!meta) {\n      console.warn(`cannot find token_id ${id} for contract: ${contractAddress}`);\n      return null;\n    }\n    return { ...meta, tokenType };\n  }\n  async getTokenMetadataWithTaquito(contractAddress, id) {\n    try {\n      const contract = await this.Tezos.contract.at(contractAddress, tzip12);\n      let metadata: any;\n      if (['KT1TnVQhjxeNvLutGvzwZvYtC7vKRpwPWhc6'].includes(contractAddress)) {\n        // nl hotfix\n        const contract = await this.Tezos.contract.at(contractAddress);\n        const storage: any = await contract.storage();\n        const parsed_uri = storage.token_metadata_uri.replace('{tokenId}', id);\n        const response = await (await fetch(parsed_uri)).json();\n        if (response) {\n          response.tokenId = id;\n          metadata = response;\n        }\n      } else {\n        metadata = await contract.tzip12().getTokenMetadata(Number(id));\n      }\n      return metadata;\n    } catch (e) {\n      return null;\n    }\n  }\n  async getAllTokenBalances(address: string): Promise<Array<Token>> {\n    const fetchToken = async (offset: number): Promise<Array<any>> => {\n      let res = await (\n        await fetch(`${CONSTANTS.API_URL}/tokens/balances?account=${address}&offset=${offset}&limit=${this.TZKT_TOKEN_QUERY_SIZE}&balance.ne=0`)\n      ).json();\n      if (res?.length) {\n        if (res.length === this.TZKT_TOKEN_QUERY_SIZE) {\n          // get more if limit reached\n          return [...res, ...(await fetchToken(offset + this.TZKT_TOKEN_QUERY_SIZE))];\n        } else {\n          return res;\n        }\n      } else {\n        return [];\n      }\n    };\n    let tzktTokensResponse = await fetchToken(0);\n    const tokenBalances: Token[] = [];\n    for (let i = 0; i < tzktTokensResponse.length; ++i) {\n      if (tzktTokensResponse[i]?.balance && tzktTokensResponse[i].token?.contract?.address && tzktTokensResponse[i].token?.tokenId !== undefined) {\n        const tokenId: string = `${tzktTokensResponse[i].token.contract.address}:${tzktTokensResponse[i].token.tokenId}`;\n        tokenBalances.push({ tokenId, balance: tzktTokensResponse[i].balance });\n        this.tokenBalanceCache[tokenId] = tzktTokensResponse[i];\n      }\n    }\n    return tokenBalances;\n  }\n  private filterMetadata(meta: any) {\n    const keys = [\n      { key: 'name', type: 'string' },\n      { key: 'balance', type: 'string' },\n      { key: 'symbol', type: 'string' },\n      { key: 'contractAddress', type: 'string' },\n      { key: 'id', type: 'string' },\n      { key: 'decimals', type: 'string' },\n      { key: 'description', type: 'string' },\n      { key: 'artifactUri', type: 'string', toAsset: true },\n      { key: 'displayUri', type: 'string', toAsset: true },\n      { key: 'thumbnailUri', type: 'string', toAsset: true },\n      { key: 'isTransferable', type: 'boolean' },\n      { key: 'shouldPreferSymbol', type: 'boolean' },\n      { key: 'isBooleanAmount', type: 'boolean' },\n      { key: 'series', type: 'string' },\n      { key: 'ttl', type: 'string' },\n      { key: 'mintingTool', type: 'string' }\n    ];\n    let metadata: any = {};\n    for (const a of keys) {\n      if (typeof meta[a.key] === a.type) {\n        if (a.toAsset) {\n          // extract mime type\n          if (meta?.formats?.length && Array.isArray(meta?.formats)) {\n            const index = meta.formats.findIndex((b) => b.uri === meta[a.key]);\n            if (index !== -1 && meta.formats[index].uri && meta.formats[index].mimeType) {\n              meta[a.key] = { uri: meta[a.key], mimeType: meta.formats[index].mimeType };\n            }\n          }\n          if (typeof meta[a.key] === 'string') {\n            meta[a.key] = { uri: meta[a.key], mimeType: 'unknown' };\n          }\n        }\n        metadata[a.key] = meta[a.key];\n      }\n    }\n    return metadata;\n  }\n  private normalizeMetadata(meta: any, contractAddress: string, id: string) {\n    mutableConvertObjectPropertiesSnakeToCamel(meta);\n    for (let key of Object.keys(meta)) {\n      if (typeof meta[key] === 'number') {\n        meta[key] = `${meta[key]}`;\n      }\n    }\n    this.handleMetadataExceptions(meta, contractAddress, id);\n    if (meta?.isTransferable && typeof meta?.isTransferable === 'string') {\n      meta.isTransferable = meta.isTransferable?.toLowerCase() === 'false' ? false : meta.isTransferable?.toLowerCase() === 'true' ? true : undefined;\n    }\n    if (meta?.shouldPreferSymbol && typeof meta?.shouldPreferSymbol === 'string') {\n      meta.shouldPreferSymbol =\n        meta.shouldPreferSymbol?.toLowerCase() === 'false' ? false : meta.shouldPreferSymbol?.toLowerCase() === 'true' ? true : undefined;\n    }\n    if (meta?.isBooleanAmount && typeof meta?.isBooleanAmount === 'string') {\n      meta.isBooleanAmount = meta.isBooleanAmount?.toLowerCase() === 'false' ? false : meta.isBooleanAmount?.toLowerCase() === 'true' ? true : undefined;\n    }\n  }\n  handleMetadataExceptions(meta: any, contractAddress: string, id: string) {\n    // hen\n    if (meta?.symbol === 'OBJKT') {\n      if (!meta.displayUri && meta.formats?.length) {\n        meta.displayUri = meta.formats[0].uri;\n      }\n      if (meta.displayUri && meta.thumbnailUri) {\n        delete meta.thumbnailUri;\n      }\n    }\n    if (['KT1NVvPsNDChrLRH5K2cy6Sc9r1uuUwdiZQd', 'KT1CAbPGHUWvkSA9bxMPkqSgabgsjtmRYEda'].includes(contractAddress) /* Dogami */ && meta?.formats) {\n      if (typeof meta.formats[0] === 'string') {\n        meta.formats = JSON.parse(meta.formats);\n      }\n    }\n    // fxHash\n    if (contractAddress === 'KT1U6EHmNxJTkvaWJ4ThczG4FSDaHC21ssvi' && meta?.artifactUri) {\n      delete meta.artifactUri;\n    }\n    // Plenty + HEH\n    if (!meta.displayUri && !meta.thumbnailUri && meta?.icon) {\n      meta.thumbnailUri = { uri: meta.icon, mimeType: 'unknown' };\n    }\n    if (\n      (contractAddress === 'KT1AWoUQAuUudqpc75cGukWufbfim3GRn8h6' /* Flex */ ||\n        contractAddress === 'KT1Lz7Jd6Sh1zUE66nDGS7hGnjwcyTBCiYbF' /* BV */ ||\n        contractAddress === 'KT1D1XtWFoQDPtuYzbkeRJhcDgH6CDem2FkZ' /* BV */ ||\n        contractAddress === 'KT1NVvPsNDChrLRH5K2cy6Sc9r1uuUwdiZQd') /* Dogami */ &&\n      meta?.formats?.length\n    ) {\n      meta.displayUri = meta.artifactUri = meta.formats?.find((f) => f?.mimeType?.startsWith('model/')) ?? meta.displayUri;\n    }\n    if (contractAddress === 'KT1NVvPsNDChrLRH5K2cy6Sc9r1uuUwdiZQd') {\n      // override wrong mimeType\n      meta.thumbnailUri = { uri: meta.thumbnailUri, mimeType: 'video/mp4' };\n    }\n    // Rarible\n    if (contractAddress === 'KT18pVpRXKPY2c4U2yFEGSH3ZnhB2kL8kwXS') {\n      meta.thumbnailUri = meta.displayUri = meta.formats[0].uri;\n    }\n  }\n  async getEntrypointMicheline(contract: string, entrypoint: string) {\n    return (await (await fetch(`${CONSTANTS.API_URL}/contracts/${contract}/entrypoints/${entrypoint}?micheline=true&json=false`)).json())?.michelineParameters;\n  }\n}\nexport function mutableConvertObjectPropertiesSnakeToCamel(data: Object) {\n  for (const key in data) {\n    if (key.charAt(0).toLowerCase() !== key.charAt(0)) {\n      data[key.charAt(0).toLowerCase() + key.slice(1)] = data[key];\n    }\n    if (key.indexOf('_') !== -1) {\n      const aryCamelKey = [];\n      for (let i = 0; i < key.length; i++) {\n        const char = key.charAt(i);\n        if (char === '_') {\n          aryCamelKey.push(key.charAt(i + 1).toUpperCase());\n          i++;\n        } else {\n          aryCamelKey.push(char);\n        }\n      }\n      const camelKey = aryCamelKey.join('');\n      if (!data.hasOwnProperty(camelKey)) {\n        data[camelKey] = data[key];\n        delete data[key];\n      }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { OperationService } from '../operation/operation.service';\nimport * as zxcvbn from 'zxcvbn';\nimport { CONSTANTS } from '../../../environments/environment';\nimport { TranslateService } from '@ngx-translate/core';\nimport { valueDecoder } from '@taquito/local-forging/dist/lib/michelson/codec';\nimport { Uint8ArrayConsumer } from '@taquito/local-forging/dist/lib/uint8array-consumer';\nimport { utils } from '../../libraries/index';\nimport * as bip39 from 'bip39';\n@Injectable()\nexport class InputValidationService {\n  constructor(private operationService: OperationService, private translate: TranslateService) {}\n  /*\n    Input validations\n  */\n  mnemonics(mnemonics: string): boolean {\n    return this.operationService.validMnemonic(mnemonics);\n  }\n  password(password: string): boolean {\n    return zxcvbn(password).score === 4;\n  }\n  passwordStrengthDisplay(password: string): string {\n    if (!password) {\n      return '';\n    }\n    switch (zxcvbn(password).score) {\n      case 0: {\n        return this.translate.instant('INPUTVALIDATIONCOMPONENT.CATASTROPHIC'); // 'Catastrophic!'\n      }\n      case 1: {\n        return this.translate.instant('INPUTVALIDATIONCOMPONENT.VERYWEAK'); // 'Very weak!'\n      }\n      case 2: {\n        return this.translate.instant('INPUTVALIDATIONCOMPONENT.WEAK'); // 'Weak!'\n      }\n      case 3: {\n        return this.translate.instant('INPUTVALIDATIONCOMPONENT.WEAK'); // 'Weak!'\n      }\n      case 4: {\n        return this.translate.instant('INPUTVALIDATIONCOMPONENT.STRONG'); // 'Strong!'\n      }\n      default: {\n        return '';\n      }\n    }\n  }\n  address(address: string): Boolean {\n    return this.operationService.validAddress(address);\n  }\n  validDelegationAddress(address: string): Boolean {\n    return this.operationService.validAddress(address) && address.slice(0, 3) !== 'tz4';\n  }\n  torusAccount(verifierId: string, loginType: string): Boolean {\n    switch (loginType) {\n      case 'google':\n        return this.email(verifierId);\n      case 'email':\n        return this.email(verifierId);\n      case 'reddit':\n        return this.redditAccount(verifierId);\n      case 'twitter':\n        return this.twitterAccount(verifierId);\n      case 'domain':\n        return this.tezosDomain(verifierId);\n      default:\n        return false;\n    }\n  }\n  redditAccount(username: string) {\n    // Letters, numbers, dashes, and underscores only\n    // Username must be between 3 and 20 characters\n    const re = /^[0-9a-zA-Z\\-\\_]{3,20}$/;\n    return re.test(username);\n  }\n  email(email: string): Boolean {\n    const re =\n      /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n  }\n  tezosDomain(domain: string) {\n    const a = domain.split('.');\n    // basic validation that is in the correct format\n    for (const sub of a) {\n      if (!sub.length) {\n        return false;\n      }\n    }\n    return a.length >= 2 && CONSTANTS.TEZOS_DOMAIN.TOP_DOMAINS.includes(a[a.length - 1]);\n  }\n  twitterAccount(username: string) {\n    // The only characters you can use are uppercase and lowercase letters, numbers, and the underscore character ( _ ).\n    const re = /^\\@{1}[0-9a-zA-Z\\_]{1,15}$/;\n    return re.test(username);\n  }\n  twitterId(id: string) {\n    const re = /^[0-9]+$/;\n    return re.test(id);\n  }\n  passphrase(passphrase: string): Boolean {\n    return true;\n  }\n  amount(amount: string, decimals: number = 6): Boolean {\n    const decimalsPart = decimals ? `(\\.[0-9]{1,${decimals}}){0,1}` : '';\n    const expr = new RegExp(`^(0|[1-9][0-9]*)${decimalsPart}$`, 'g');\n    if (amount === '' || amount === '0') {\n      // default value / zero\n      return true;\n    } else if (Number(amount) && amount.match(expr)) {\n      // Positive number\n      return true;\n    }\n    return false;\n  }\n  fee(fee: string): Boolean {\n    return this.amount(fee); // same as amount\n  }\n  gas(amount: string): Boolean {\n    if (amount === '' || amount === '0') {\n      // default value / zero\n      return true;\n    } else if (Number(amount) && 0 < Number(amount) && Number(amount) % 1 === 0) {\n      // Positive integer\n      return true;\n    } else {\n      return false;\n    }\n  }\n  storage(amount: string) {\n    return this.gas(amount);\n  }\n  relativeLimit(limit: string) {\n    if (limit?.length > 2 && limit.startsWith('+') && limit.endsWith('%')) {\n      return this.gas(limit.slice(1, -1));\n    }\n    return false;\n  }\n  code(code: string): Boolean {\n    if (code && code.length === 40 && code.match(/^[0-9a-f]*$/g)) {\n      // 40 hex chars\n      return true;\n    } else {\n      return false;\n    }\n  }\n  derivationPath(path: string): Boolean {\n    const m = path.match(/^44\\'\\/1729(\\'\\/[0-9]+)+\\'$/g);\n    if (m || path === \"44'/1729'\") {\n      return true;\n    }\n    return false;\n  }\n  hexString(hex: string): Boolean {\n    if (hex && hex.match(/^[a-f0-9]*$/)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  isMessageSigning(payload: string): boolean {\n    if (payload.match(/^0501[a-f0-9]{8}54657a6f73205369676e6564204d6573736167653a20[a-f0-9]*$/)) {\n      return true;\n    }\n    return false;\n  }\n  isMichelineExpr(hex: string) {\n    try {\n      if (!this.hexString(hex)) {\n        throw new Error('Not a hex string');\n      }\n      if (hex.slice(0, 2) !== '05') {\n        throw new Error('invalid prefix');\n      }\n      const parsedPayload = valueDecoder(Uint8ArrayConsumer.fromHexString(hex.slice(2)));\n      console.log('Parsed sign payload', parsedPayload);\n    } catch (e) {\n      console.warn(e.message ? 'Decoding: ' + e.message : e);\n      return false;\n    }\n    return true;\n  }\n  invalidMnemonic(words: string): string {\n    if (utils.validMnemonic(words)) {\n      return '';\n    }\n    // number of words\n    const wordCount = words?.split(' ').filter((w) => w?.length > 0).length;\n    if (![12, 15, 18, 21, 24].includes(wordCount)) {\n      let extra = '';\n      if (wordCount >= 11 && wordCount <= 25) {\n        const rest = (wordCount % 3) - 1;\n        extra = rest ? ', missing one word?' : ', one word too many?';\n      }\n      return `Invalid number of words: ${wordCount}${extra}`;\n    }\n    // words in wordlist\n    if (words?.split(' ')) {\n      for (let word of words?.split(' ').filter((w) => w?.length > 0)) {\n        const r = bip39.wordlists.english.filter((w) => w === word);\n        if (r.length === 0 && word) {\n          return `Invalid seed word: ${word}`;\n        }\n      }\n    }\n    // checksum\n    return 'Invalid checksum! Double-check the order of the seed words.';\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { OperationService } from '../../services/operation/operation.service';\nimport { TorusService } from '../../services/torus/torus.service';\nimport { WalletService } from '../../services/wallet/wallet.service';\nimport { InputValidationService } from '../../services/input-validation/input-validation.service';\nimport { TezosDomainsService } from '../../services/tezos-domains/tezos-domains.service';\n\nexport enum LookupType { // ordered in priority\n  AddressBook,\n  TezosDomains,\n  Google,\n  Reddit,\n  Twitter,\n  Alias\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LookupService {\n  public records: {\n    address: string;\n    data: { name: string; lookupType: LookupType }[];\n  }[] = [];\n  private pendingLookups: Record<string, number> = {};\n  constructor(\n    private operationService: OperationService,\n    private torusService: TorusService,\n    private walletService: WalletService,\n    private inputValidationService: InputValidationService,\n    private tezosDomainsService: TezosDomainsService\n  ) {\n    this.initCheck();\n  }\n  initCheck() {\n    if (!this.records.length && this.walletService.wallet && this.walletService.wallet.lookups.length) {\n      console.debug('### Loading lookups from memory');\n      this.records = this.walletService.wallet.lookups;\n    }\n  }\n  add(address: string, name: string, lookupType: LookupType) {\n    //console.debug('#name ' + name, lookupType);\n    const { x, y } = this.index(address, lookupType);\n    if (x !== -1) {\n      if (y === -1) {\n        this.records[x].data.push({ name, lookupType });\n      } else if (lookupType === LookupType.TezosDomains) {\n        this.records[x].data[y] = { name, lookupType };\n      }\n    } else {\n      this.records.push({ address, data: [{ name, lookupType }] });\n    }\n    this.walletService.wallet.lookups = this.records;\n    this.walletService.storeWallet();\n  }\n  clear() {\n    this.records = [];\n    this.pendingLookups = {};\n  }\n  mark(address: string) {\n    const { x, y } = this.indexTop(address);\n    if (x === -1) {\n      this.records.push({ address, data: [] });\n    }\n    this.walletService.storeWallet();\n  }\n  async recheckWalletAddresses(force: boolean) {\n    console.debug('lookup wallet addresses');\n    for (const address of this.walletService.wallet.getImplicitAccounts()) {\n      this.check(address, force);\n    }\n  }\n  async check(address: any, force: boolean = false) {\n    if (address?.address !== undefined) {\n      address = address.address;\n    }\n    if (typeof address !== 'string') {\n      return;\n    }\n    this.initCheck();\n    if (force) {\n      console.debug('Forced recheck for: ' + address);\n    }\n    if (address && !this.pendingLookups[address]) {\n      const { x } = this.index(address, 0);\n      if (x === -1 || force) {\n        // DirectAuth - disabled\n        // if (address && address.slice(0, 3) === 'tz2') {\n        //   if (x === -1) {\n        //     this.pendingLookups[address]++;\n        //     this.torusLookup(address);\n        //   }\n        // }\n        // Tezos Domains\n        this.pendingLookups[address]++;\n        let domain = '';\n        try {\n          domain = await this.tezosDomainsService.getDomainFromAddress(address);\n        } catch (e) {\n          console.log(address, e);\n          this.pendingLookups[address]--;\n          return;\n        }\n        this.pendingLookups[address]--;\n        if (domain || domain === '') {\n          this.add(address, domain, LookupType.TezosDomains);\n        } else {\n          this.mark(address);\n        }\n      }\n    }\n  }\n  torusLookup(address: string) {\n    this.operationService.torusKeyLookup(address).subscribe(async (ans: any) => {\n      if (ans) {\n        if (ans.result && ans.result.Verifiers) {\n          const keys = Object.keys(ans.result.Verifiers);\n          const verifierMap = this.torusService.verifierMap;\n          for (const key of keys) {\n            if (key === verifierMap['google'].verifier) {\n              this.add(address, ans.result.Verifiers[verifierMap['google'].verifier][0], LookupType.Google);\n            } else if (key === verifierMap['reddit'].verifier) {\n              this.add(address, ans.result.Verifiers[verifierMap['reddit'].verifier][0], LookupType.Reddit);\n            } else if (key === verifierMap['twitter'].verifier) {\n              const verifierId = ans.result.Verifiers[verifierMap['twitter'].verifier][0];\n              const verifierArray = verifierId.split('|');\n              if (verifierArray[0] === 'twitter' && this.inputValidationService.twitterId(verifierArray[1])) {\n                const twitterId = verifierArray[1];\n                const { username } = await this.torusService.twitterLookup(undefined, twitterId);\n                if (username) {\n                  this.add(address, '@' + username, LookupType.Twitter);\n                }\n              }\n            } else {\n              console.log('Unhandled verifier result', ans);\n            }\n          }\n          this.pendingLookups[address]--;\n        } else if (!ans.noReveal) {\n          this.mark(address);\n        }\n      }\n    });\n  }\n  torusEntryExist(address: string): boolean {\n    const record = this.records[address];\n    if (record) {\n      for (const entry of record) {\n        if (entry.lookupType > 1) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  index(address: string, lookupType: LookupType) {\n    let [x, y] = Array(2).fill(-1);\n    for (let i = 0; i < this.records.length; i++) {\n      if (this.records[i].address === address) {\n        x = i;\n        for (let j = 0; j < this.records[i].data.length; j++) {\n          if (this.records[i].data[j].lookupType === lookupType) {\n            y = j;\n          }\n        }\n      }\n    }\n    return { x, y };\n  }\n  indexTop(address: string) {\n    let [x, y] = Array(2).fill(-1);\n    for (let i = 0; i < this.records.length; i++) {\n      if (this.records[i].address === address) {\n        x = i;\n        for (let j = 0; j < this.records[i].data.length; j++) {\n          if (this.records[i].data[j].lookupType < y || y === -1) {\n            if (this.records[i].data[j].lookupType !== LookupType.TezosDomains || this.records[i].data[j].name) {\n              // skip empty domain records\n              y = j;\n            }\n          }\n        }\n      }\n    }\n    return { x, y };\n  }\n  resolve(party: any): any {\n    this.initCheck();\n    const { x, y } = this.indexTop(party?.address);\n    if (x !== -1 && y !== -1) {\n      return {\n        name: this.records[x].data[y].name,\n        lookupType: this.records[x].data[y].lookupType,\n        address: party.address\n      };\n    } else if (party?.alias) {\n      this.add(party.address, party.alias, LookupType.Alias);\n      return this.resolve(party);\n    }\n    return { address: party?.address };\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, of, Subject } from 'rxjs';\n\n@Injectable()\nexport class MessageService {\n  spinnerOn = false;\n  spinnerText = '';\n  messages: any[] = [];\n  defaultTime = 10;\n  checked: Observable<boolean>;\n  beaconResponse = new Subject<boolean>();\n  readonly pairingCompleteMsg = 'Pairing complete! Waiting for permission request...';\n  add(message: string, seconds: number = this.defaultTime) {\n    const type = 'info';\n    console.log(type + ': ' + message);\n    this.messages.push({\n      type: type,\n      msg: message,\n      timeout: seconds * 1000\n    });\n  }\n  addError(message: string, seconds: number = this.defaultTime) {\n    const type = 'danger';\n    console.log(type + ': ' + message);\n    this.messages.push({\n      type: type,\n      msg: message,\n      timeout: seconds * 1000\n    });\n  }\n  addWarning(message: string, seconds: number = this.defaultTime) {\n    const type = 'warning';\n    console.log(type + ': ' + message);\n    this.messages.push({\n      type: type,\n      msg: message,\n      timeout: seconds * 1000\n    });\n  }\n  addSuccess(message: string, seconds: number = this.defaultTime, ref: string = '') {\n    if (ref) {\n      console.log('ref set', ref);\n    }\n    const type = 'success';\n    console.log(type + ': ' + message);\n    this.messages.push({\n      type: type,\n      msg: message,\n      timeout: seconds * 1000,\n      ref\n    });\n  }\n  modify(newMessage: string, ref: string) {\n    if (ref) {\n      for (const message of this.messages) {\n        if (message.ref === ref) {\n          message.msg = newMessage;\n        }\n      }\n    }\n  }\n  emailNotify(email: string, amount: string) {\n    console.log(email);\n    const type = 'success';\n    this.messages.push({\n      type: type,\n      timeout: 0,\n      msg: 'email',\n      email,\n      amount\n    });\n  }\n  redditNotify(username: string, amount: string) {\n    console.log(username);\n    const type = 'success';\n    this.messages.push({\n      type: type,\n      timeout: 0,\n      msg: 'Reddit',\n      username,\n      amount\n    });\n  }\n  twitterNotify(twitterId: string, handler: string, amount: string) {\n    console.log(twitterId);\n    const type = 'success';\n    this.messages.push({\n      type: type,\n      timeout: 0,\n      msg: 'Twitter',\n      twitterId,\n      handler,\n      amount\n    });\n  }\n  addBeaconWait(message: string) {\n    const type = 'info';\n    this.messages.push({\n      type: type,\n      msg: message,\n      timeout: 30 * 1000,\n      loader: true\n    });\n  }\n  async removeBeaconMsg(delay = false) {\n    setTimeout(\n      () => {\n        for (let i = 0; i < this.messages.length; i++) {\n          if (this.messages[i].loader) {\n            this.messages.splice(i, 1);\n            this.addSuccess(this.pairingCompleteMsg, 10);\n            break;\n          } else if (this.messages[i].msg === this.pairingCompleteMsg) {\n            this.messages.splice(i, 1);\n            break;\n          }\n        }\n      },\n      delay ? 500 : 0\n    );\n  }\n  clear() {\n    this.messages = [];\n  }\n  async startSpinner(text: string = '') {\n    this.spinnerText = text;\n    this.spinnerOn = true;\n  }\n  async stopSpinner(): Promise<void> {\n    this.spinnerText = '';\n    this.spinnerOn = false;\n    return;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { of, Observable, from as fromPromise, timer } from 'rxjs';\nimport { catchError, flatMap, timeout, concatMap } from 'rxjs/operators';\nimport { Buffer } from 'buffer';\nimport { blake2b } from 'blakejs';\nimport { sign as naclSign } from 'tweetnacl';\nimport * as Bs58check from 'bs58check';\nimport * as bip39 from 'bip39';\nimport Big from 'big.js';\nimport { localForger } from '@taquito/local-forging';\nimport { CONSTANTS } from '../../../environments/environment';\nimport { ErrorHandlingService } from '../../services/error-handling/error-handling.service';\nimport * as elliptic from 'elliptic';\nimport { instantiateSecp256k1, hexToBin, binToHex } from '@bitauth/libauth';\nimport { TokenService } from '../token/token.service';\nimport { isEqual } from 'lodash';\n\nconst httpOptions = { headers: { 'Content-Type': 'application/json' } };\n\nexport interface KeyPair {\n  sk: string | null;\n  pk: string | null;\n  pkh: string;\n}\n@Injectable()\nexport class OperationService {\n  nodeURL = CONSTANTS.NODE_URL;\n  prefix = {\n    tz1: new Uint8Array([6, 161, 159]),\n    tz2: new Uint8Array([6, 161, 161]),\n    tz3: new Uint8Array([6, 161, 164]),\n    tz4: new Uint8Array([6, 161, 166]),\n    edpk: new Uint8Array([13, 15, 37, 217]),\n    sppk: new Uint8Array([3, 254, 226, 86]),\n    edsk: new Uint8Array([43, 246, 78, 7]),\n    spsk: new Uint8Array([17, 162, 224, 201]),\n    edsig: new Uint8Array([9, 245, 205, 134, 18]),\n    spsig: new Uint8Array([13, 115, 101, 19, 63]),\n    sig: new Uint8Array([4, 130, 43]),\n    o: new Uint8Array([5, 116]),\n    B: new Uint8Array([1, 52]),\n    TZ: new Uint8Array([3, 99, 29]),\n    KT: new Uint8Array([2, 90, 121])\n  };\n  microTez = new Big(1000000);\n  feeHardCap = 100; //tez\n  constructor(private http: HttpClient, private errorHandlingPipe: ErrorHandlingService, private tokenService: TokenService) {}\n  /*\n    Returns an observable for the activation of an ICO identity\n  */\n  activate(pkh: string, secret: string): Observable<any> {\n    return this.getHeader()\n      .pipe(\n        flatMap((header: any) => {\n          const fop: any = {\n            branch: header.hash,\n            contents: [\n              {\n                kind: 'activate_account',\n                pkh: pkh,\n                secret: secret\n              }\n            ]\n          };\n          return this.postRpc('chains/main/blocks/head/helpers/forge/operations', fop).pipe(\n            flatMap((opbytes: any) => {\n              const sopbytes: string = opbytes + Array(129).join('0');\n              fop.protocol = header.protocol;\n              fop.signature = 'edsigtXomBKi5CTRf5cjATJWSyaRvhfYNHqSUGrn4SdbYRcGwQrUGjzEfQDTuqHhuA8b2d8NarZjz8TRf65WkpQmo423BtomS8Q';\n              return this.postRpc('chains/main/blocks/head/helpers/preapply/operations', [fop]).pipe(\n                flatMap((preApplyResult: any) => {\n                  console.log(JSON.stringify(preApplyResult));\n                  return this.postRpc('injection/operation', JSON.stringify(sopbytes)).pipe(\n                    flatMap((final: any) => {\n                      return this.opCheck(final);\n                    })\n                  );\n                })\n              );\n            })\n          );\n        })\n      )\n      .pipe(catchError((err) => this.errHandler(err)));\n  }\n  opCheck(final: any, newPkh: string = null): Observable<any> {\n    if (typeof final === 'string' && final.length === 51) {\n      return of({\n        success: true,\n        payload: {\n          opHash: final,\n          newPkh: newPkh\n        }\n      });\n    } else {\n      return of({\n        success: false,\n        payload: {\n          opHash: null,\n          msg: final\n        }\n      });\n    }\n  }\n  /*\n    Returns an observable for the origination of new accounts.\n  */\n  originate(origination: any, fee: number = 0, keys: KeyPair): Observable<any> {\n    console.log(fee, origination);\n    return this.getHeader()\n      .pipe(\n        flatMap((header: any) => {\n          return this.getRpc(`chains/main/blocks/head/context/contracts/${keys.pkh}/counter`).pipe(\n            flatMap((actions: number) => {\n              return this.getRpc(`chains/main/blocks/head/context/contracts/${keys.pkh}/manager_key`).pipe(\n                flatMap((manager: any) => {\n                  if (fee > this.feeHardCap) {\n                    throw new Error('TooHighFee');\n                  }\n                  const counter: number = Number(actions);\n                  const fop = this.createOriginationObject(header.hash, counter, manager, origination, fee, keys.pk, keys.pkh);\n                  return this.operation(fop, header, keys, true);\n                })\n              );\n            })\n          );\n        })\n      )\n      .pipe(catchError((err) => this.errHandler(err)));\n  }\n  createOriginationObject(hash: string, counter: number, manager: string, origination: any, fee: number, pk: string, pkh: string): any {\n    const fop: any = {\n      branch: hash,\n      contents: []\n    };\n    const gas_limit = origination.gasLimit.toString();\n    const storage_limit = origination.storageLimit.toString();\n    if (manager === null) {\n      // Reveal\n      fop.contents.push({\n        kind: 'reveal',\n        source: pkh,\n        fee: '0',\n        counter: (++counter).toString(),\n        gas_limit: '200',\n        storage_limit: '0',\n        public_key: pk\n      });\n    }\n    fop.contents.push({\n      kind: 'origination',\n      source: pkh,\n      fee: this.microTez.times(fee).toString(),\n      counter: (++counter).toString(),\n      gas_limit,\n      storage_limit,\n      balance: this.microTez.times(origination.balance).toString(),\n      script: origination.script\n    });\n    return fop;\n  }\n  /*\n    Returns an observable for the transaction of tez.\n  */\n  transfer(from: string, transactions: any, fee: number, keys: KeyPair, tokenTransfer: string = ''): Observable<any> {\n    return this.getHeader()\n      .pipe(\n        flatMap((header: any) => {\n          return this.getRpc(`chains/main/blocks/head/context/contracts/${keys.pkh}/counter`).pipe(\n            flatMap((actions: any) => {\n              return this.getRpc(`chains/main/blocks/head/context/contracts/${keys.pkh}/manager_key`).pipe(\n                flatMap((manager: any) => {\n                  if (fee > this.feeHardCap) {\n                    throw new Error('TooHighFee');\n                  }\n                  const counter: number = Number(actions);\n                  const fop = this.createTransactionObject(header.hash, counter, manager, transactions, keys.pkh, keys.pk, from, fee, tokenTransfer);\n                  return this.operation(fop, header, keys);\n                })\n              );\n            })\n          );\n        })\n      )\n      .pipe(catchError((err) => this.errHandler(err)));\n  }\n  createTransactionObject(\n    hash: string,\n    counter: number,\n    manager: string,\n    transactions: any,\n    pkh: string,\n    pk: string,\n    from: string,\n    fee: number,\n    tokenTransfer: string\n  ): any {\n    const fop: any = {\n      branch: hash,\n      contents: []\n    };\n    if (manager === null) {\n      // Reveal\n      fop.contents.push({\n        kind: 'reveal',\n        source: pkh,\n        fee: '0',\n        counter: (++counter).toString(),\n        gas_limit: '200',\n        storage_limit: '0',\n        public_key: pk\n      });\n    }\n    for (let i = 0; i < transactions.length; i++) {\n      const currentFee = i === transactions.length - 1 ? this.microTez.times(fee).toString() : '0';\n      const gasLimit = transactions[i].gasLimit.toString();\n      const storageLimit = transactions[i].storageLimit.toString();\n      if (tokenTransfer) {\n        console.log('Invoke contract: ' + tokenTransfer);\n        let invocation: any;\n        const { kind, decimals, contractAddress, id } = this.tokenService.getAsset(tokenTransfer);\n        const txAmount = Big(10 ** decimals).times(transactions[i].amount);\n        if (!txAmount.mod(1).eq(0)) {\n          throw new Error(`the amount ${transactions[i].amount} is not within ${decimals} decimals`);\n        }\n        if (kind === 'FA1.2') {\n          invocation = this.getFA12Transaction(pkh, transactions[i].destination, txAmount.toFixed(0));\n        } else if (kind === 'FA2') {\n          invocation = this.getFA2Transaction(pkh, transactions[i].destination, txAmount.toFixed(0), id);\n        } else {\n          throw new Error('Unrecognized token kind');\n        }\n        fop.contents.push({\n          kind: 'transaction',\n          source: pkh,\n          fee: currentFee,\n          counter: (++counter).toString(),\n          gas_limit: gasLimit,\n          storage_limit: storageLimit,\n          amount: '0',\n          destination: contractAddress,\n          parameters: invocation\n        });\n      } else if (from.slice(0, 2) === 'tz') {\n        const transactionOp: any = {\n          kind: 'transaction',\n          source: from,\n          fee: currentFee,\n          counter: (++counter).toString(),\n          gas_limit: gasLimit,\n          storage_limit: storageLimit,\n          amount: this.microTez.times(transactions[i].amount).toString(),\n          destination: transactions[i].destination\n        };\n        if (transactions[i].parameters) {\n          transactionOp.parameters = transactions[i].parameters;\n        }\n        fop.contents.push(transactionOp);\n      } else if (from.slice(0, 2) === 'KT') {\n        if (transactions[i].parameters) {\n          throw new Error('Unsupported Operation');\n        }\n        if (transactions[i].destination.slice(0, 2) === 'tz') {\n          const managerTransaction = this.getContractPkhTransaction(transactions[i].destination, this.microTez.times(transactions[i].amount).toString());\n          fop.contents.push({\n            kind: 'transaction',\n            source: pkh,\n            fee: currentFee,\n            counter: (++counter).toString(),\n            gas_limit: gasLimit,\n            storage_limit: storageLimit,\n            amount: '0',\n            destination: from,\n            parameters: managerTransaction\n          });\n        } else if (transactions[i].destination.slice(0, 2) === 'KT') {\n          const managerTransaction = this.getContractKtTransaction(transactions[i].destination, this.microTez.times(transactions[i].amount).toString());\n          fop.contents.push({\n            kind: 'transaction',\n            source: pkh,\n            fee: currentFee,\n            counter: (++counter).toString(),\n            gas_limit: gasLimit,\n            storage_limit: storageLimit,\n            amount: '0',\n            destination: from,\n            parameters: managerTransaction\n          });\n        }\n      }\n    }\n    return fop;\n  }\n  /*\n    Returns an observable for the delegation of baking rights.\n  */\n  delegate(from: string, to: string, fee: number = 0, keys: KeyPair): Observable<any> {\n    return this.getHeader()\n      .pipe(\n        flatMap((header: any) => {\n          return this.getRpc(`chains/main/blocks/head/context/contracts/${keys.pkh}/counter`).pipe(\n            flatMap((actions: any) => {\n              return this.getRpc(`chains/main/blocks/head/context/contracts/${keys.pkh}/manager_key`).pipe(\n                flatMap((manager: any) => {\n                  if (fee > this.feeHardCap) {\n                    throw new Error('TooHighFee');\n                  }\n                  let counter: number = Number(actions);\n                  let delegationOp: any;\n                  if (from.slice(0, 2) === 'tz') {\n                    delegationOp = {\n                      kind: 'delegation',\n                      source: from,\n                      fee: this.microTez.times(fee).toString(),\n                      counter: (++counter).toString(),\n                      gas_limit: '200',\n                      storage_limit: '0'\n                    };\n                    if (to !== '') {\n                      delegationOp.delegate = to;\n                    }\n                  } else if (from.slice(0, 2) === 'KT') {\n                    delegationOp = {\n                      kind: 'transaction',\n                      source: keys.pkh,\n                      fee: this.microTez.times(fee).toString(),\n                      counter: (++counter).toString(),\n                      gas_limit: '4380',\n                      storage_limit: '0',\n                      amount: '0',\n                      destination: from,\n                      parameters: to !== '' ? this.getContractDelegation(to) : this.getContractUnDelegation()\n                    };\n                  }\n                  const fop: any = {\n                    branch: header.hash,\n                    contents: [delegationOp]\n                  };\n                  if (manager === null) {\n                    fop.contents[1] = fop.contents[0];\n                    fop.contents[0] = {\n                      kind: 'reveal',\n                      source: keys.pkh,\n                      fee: '0',\n                      counter: counter.toString(),\n                      gas_limit: '200',\n                      storage_limit: '0',\n                      public_key: keys.pk\n                    };\n                    fop.contents[1].counter = (Number(fop.contents[1].counter) + 1).toString();\n                  }\n                  return this.operation(fop, header, keys);\n                })\n              );\n            })\n          );\n        })\n      )\n      .pipe(catchError((err) => this.errHandler(err)));\n  }\n  /*\n  Help function for operations\n  */\n  operation(fop: any, header: any, keys: KeyPair, origination: boolean = false): Observable<any> {\n    console.log('fop to send: ' + JSON.stringify(fop));\n    return this.postRpc('chains/main/blocks/head/helpers/forge/operations', fop).pipe(\n      flatMap((opbytes: any) => {\n        return this.localForge(fop).pipe(\n          flatMap((localOpbytes: string) => {\n            if (opbytes !== localOpbytes) {\n              throw new Error('ValidationError');\n            }\n            if (!keys.sk) {\n              fop.signature = 'edsigtXomBKi5CTRf5cjATJWSyaRvhfYNHqSUGrn4SdbYRcGwQrUGjzEfQDTuqHhuA8b2d8NarZjz8TRf65WkpQmo423BtomS8Q';\n              return this.postRpc('chains/main/blocks/head/helpers/scripts/run_operation', { operation: fop, chain_id: header.chain_id }).pipe(\n                flatMap((applied: any) => {\n                  console.log('applied: ' + JSON.stringify(applied));\n                  this.checkApplied([applied]);\n                  return of({\n                    success: true,\n                    payload: {\n                      unsignedOperation: opbytes\n                    }\n                  });\n                })\n              );\n            } else {\n              fop.protocol = header.protocol;\n              const signed = this.sign('03' + opbytes, keys.sk);\n              const sopbytes = signed.sbytes;\n              fop.signature = signed.edsig;\n              return this.postRpc('chains/main/blocks/head/helpers/preapply/operations', [fop]).pipe(\n                flatMap((applied: any) => {\n                  console.log('applied: ' + JSON.stringify(applied));\n                  this.checkApplied(applied);\n                  console.log('sop: ' + sopbytes);\n                  return this.postRpc('injection/operation', JSON.stringify(sopbytes))\n                    .pipe(timeout(30000))\n                    .pipe(\n                      flatMap((final: any) => {\n                        let newPkh = null;\n                        if (origination) {\n                          newPkh = applied[0].contents[fop.contents.length - 1].metadata.operation_result.originated_contracts[0];\n                        }\n                        return this.opCheck(final, newPkh);\n                      })\n                    );\n                })\n              );\n            }\n          })\n        );\n      })\n    );\n  }\n  /*\n    Broadcast a signed operation to the network\n  */\n  broadcast(sopbytes: string): Observable<any> {\n    console.log('Broadcast...');\n    const opbytes = sopbytes.slice(0, sopbytes.length - 128);\n    const edsig = this.sig2edsig(sopbytes.slice(sopbytes.length - 128));\n    return fromPromise(localForger.parse(opbytes))\n      .pipe(\n        flatMap((fop: any) => {\n          fop.signature = edsig;\n          return this.getHeader().pipe(\n            flatMap((header: any) => {\n              fop.protocol = header.protocol;\n              return this.postRpc('chains/main/blocks/head/helpers/preapply/operations', [fop]).pipe(\n                flatMap((parsed: any) => {\n                  let newPkh = null;\n                  for (let i = 0; i < parsed[0].contents.length; i++) {\n                    if (parsed[0].contents[i].kind === 'origination') {\n                      newPkh = parsed[0].contents[i].metadata.operation_result.originated_contracts[0];\n                    }\n                  }\n                  return this.postRpc('injection/operation', JSON.stringify(sopbytes)).pipe(\n                    flatMap((final: any) => {\n                      return this.opCheck(final, newPkh);\n                    })\n                  );\n                })\n              );\n            })\n          );\n        })\n      )\n      .pipe(catchError((err) => this.errHandler(err)));\n  }\n  torusKeyLookup(tz2address: string): Observable<any> {\n    // Make it into Promise\n    // Zero padding\n    if (tz2address.length !== 36 || tz2address.slice(0, 3) !== 'tz2') {\n      throw new Error('InvalidTorusAddress');\n    }\n    return this.getRpc(`chains/main/blocks/head/context/contracts/${tz2address}/manager_key`).pipe(\n      flatMap((manager: any) => {\n        if (manager === null) {\n          return of({ noReveal: true });\n        } else {\n          return fromPromise(this.decompress(manager)).pipe(\n            flatMap((pk: any) => {\n              const torusReq = {\n                jsonrpc: '2.0',\n                method: 'KeyLookupRequest',\n                id: 10,\n                params: {\n                  pub_key_X: pk.X,\n                  pub_key_Y: pk.Y\n                }\n              };\n              const url = CONSTANTS.NETWORK === 'mainnet' ? 'https://torus-19.torusnode.com/jrpc' : 'https://teal-15-1.torusnode.com/jrpc';\n              return this.http.post(url, JSON.stringify(torusReq), httpOptions).pipe(\n                flatMap((ans: any) => {\n                  try {\n                    if (ans.result.PublicKey.X === pk.X && ans.result.PublicKey.Y === pk.Y) {\n                      return of(ans);\n                    } else {\n                      return of(null);\n                    }\n                  } catch {\n                    return of(null);\n                  }\n                })\n              );\n            })\n          );\n        }\n      })\n    );\n  }\n  checkApplied(applied: any) {\n    let failed = false;\n    for (let i = 0; i < applied[0].contents.length; i++) {\n      if (applied[0].contents[i].metadata.operation_result.status !== 'applied') {\n        failed = true;\n        if (applied[0].contents[i].metadata.operation_result.errors) {\n          console.log('Error in operation_result');\n          throw applied[0].contents[i].metadata.operation_result.errors[applied[0].contents[i].metadata.operation_result.errors.length - 1];\n        } else if (applied[0].contents[i].metadata.internal_operation_results) {\n          for (const ior of applied[0].contents[i].metadata.internal_operation_results) {\n            if (ior?.result?.status === 'failed') {\n              console.log('Error in internal_operation_results', ior);\n              throw ior.result.errors[ior.result.errors.length - 1];\n            }\n          }\n        }\n      }\n    }\n    if (failed) {\n      console.error(applied);\n      throw new Error('Uncaught error in applied');\n    }\n  }\n  errHandler(error: any): Observable<any> {\n    console.log(error);\n    if (error.error && typeof error.error === 'string') {\n      // parsing errors\n      error = error.error;\n      const lines = error.split('\\n').map((line: string) => {\n        return line.trim();\n      });\n      if (lines?.length) {\n        for (const i in lines) {\n          if (lines[i].startsWith('At /') && !lines[i].startsWith('At /kind')) {\n            const n = Number(i) + 1;\n            if (lines[n]) {\n              error = `${lines[i]} ${lines[n]}`;\n            }\n          }\n        }\n      }\n    }\n    if (error.error && error.error[0]) {\n      error = error.error[0];\n    }\n    if (error.message) {\n      error = this.errorHandlingPipe.transform(error.message);\n    } else if (error.id) {\n      if (error.with) {\n        error = this.errorHandlingPipe.transform(error.id, error.with, error?.location);\n      } else if (error.id === 'failure' && error.msg) {\n        error = this.errorHandlingPipe.transform(error.msg);\n      } else {\n        error = this.errorHandlingPipe.transform(error.id);\n      }\n    } else if (error.statusText) {\n      error = error.statusText;\n    } else if (typeof error === 'string') {\n      error = this.errorHandlingPipe.transform(error);\n    } else {\n      console.warn('Error not categorized', error);\n      error = 'Unrecogized error';\n    }\n    return of({\n      success: false,\n      payload: {\n        msg: error\n      }\n    });\n  }\n  // Local forge with Taquito\n  localForge(operation: any): Observable<string> {\n    return fromPromise(localForger.forge(operation)).pipe(\n      flatMap((localForgedBytes: string) => {\n        return of(localForgedBytes);\n      })\n    );\n  }\n  getHeader(): Observable<any> {\n    return this.getRpc(`chains/main/blocks/head~3/header`);\n  }\n  getBalance(pkh: string): Observable<any> {\n    return this.getRpc(`chains/main/blocks/head/context/contracts/${pkh}/balance`)\n      .pipe(\n        flatMap((balance: any) => {\n          return of({\n            success: true,\n            payload: {\n              balance: balance\n            }\n          });\n        })\n      )\n      .pipe(catchError((err) => this.errHandler(err)));\n  }\n  getDelegate(pkh: string): Observable<any> {\n    return this.getRpc(`chains/main/blocks/head/context/contracts/${pkh}`)\n      .pipe(\n        flatMap((contract: any) => {\n          let delegate = '';\n          if (contract.delegate) {\n            delegate = contract.delegate;\n          }\n          return of({\n            success: true,\n            payload: {\n              delegate: delegate\n            }\n          });\n        })\n      )\n      .pipe(catchError((err) => this.errHandler(err)));\n  }\n  getVotingRights(): Observable<any> {\n    return this.getRpc(`chains/main/blocks/head/votes/listings`)\n      .pipe(\n        flatMap((listings: any) => {\n          return of({\n            success: true,\n            payload: listings\n          });\n        })\n      )\n      .pipe(catchError((err) => this.errHandler(err)));\n  }\n  isRevealed(pkh: string): Observable<boolean> {\n    return this.getRpc(`chains/main/blocks/head/context/contracts/${pkh}/manager_key`)\n      .pipe(\n        flatMap((manager: any) => {\n          if (manager === null) {\n            return of(false);\n          } else {\n            return of(true);\n          }\n        })\n      )\n      .pipe(\n        catchError((err) => {\n          return of(true);\n        })\n      ); // conservative action\n  }\n  getManager(pkh: string): Observable<string> {\n    return this.getRpc(`chains/main/blocks/head/context/contracts/${pkh}/manager_key`).pipe(\n      flatMap((pk: string) => {\n        return of(pk ?? '');\n      })\n    );\n  }\n  getAccount(pkh: string): Observable<any> {\n    return this.getRpc(`chains/main/blocks/head/context/contracts/${pkh}`)\n      .pipe(\n        flatMap((contract: any) => {\n          let delegate = '';\n          if (contract.delegate) {\n            delegate = contract.delegate;\n          }\n          return of({\n            success: true,\n            payload: {\n              balance: contract.balance,\n              manager: contract.manager,\n              delegate: delegate,\n              counter: contract.counter\n            }\n          });\n        })\n      )\n      .pipe(catchError((err) => this.errHandler(err)));\n  }\n  getVerifiedOpBytes(operationLevel, operationHash, pkh, pk): Observable<string> {\n    return this.getRpc(`chains/main/blocks/${operationLevel}/operation_hashes`).pipe(\n      flatMap((opHashes: any) => {\n        const opIndex = opHashes[3].findIndex((a) => a === operationHash);\n        return this.getRpc(`chains/main/blocks/${operationLevel}/operations`).pipe(\n          flatMap((op: any) => {\n            let ans = '';\n            op = op[3][opIndex];\n            const sig = op.signature;\n            delete op.chain_id;\n            delete op.signature;\n            delete op.hash;\n            delete op.protocol;\n            for (let i = 0; i < op.contents.length; i++) {\n              delete op.contents[i].metadata;\n              if (op.contents[i].managerPubkey) {\n                // Fix for mainnet\n                op.contents[i].manager_pubkey = op.contents[i].managerPubkey;\n                delete op.contents[i].managerPubkey;\n              }\n            }\n            return this.postRpc('chains/main/blocks/head/helpers/forge/operations', op).pipe(\n              flatMap((opBytes: any) => {\n                if (this.pk2pkh(pk) === pkh) {\n                  if (this.verify(opBytes, sig, pk)) {\n                    ans = opBytes + this.buf2hex(this.b58cdecode(sig, this.prefix.sig));\n                  } else {\n                    throw new Error('InvalidSignature');\n                  }\n                } else {\n                  throw new Error('InvalidPublicKey');\n                }\n                return of(ans);\n              })\n            );\n          })\n        );\n      })\n    );\n  }\n  getConstants(): Observable<any> {\n    return this.getRpc(`chains/main/blocks/head/context/constants`);\n  }\n  seed2keyPair(seed: Buffer): KeyPair {\n    if (!seed) {\n      throw new Error('NullSeed');\n    }\n    const keyPair = naclSign.keyPair.fromSeed(seed);\n    return {\n      sk: this.b58cencode(keyPair.secretKey, this.prefix.edsk),\n      pk: this.b58cencode(keyPair.publicKey, this.prefix.edpk),\n      pkh: this.b58cencode(blake2b(keyPair.publicKey, null, 20), this.prefix.tz1)\n    };\n  }\n  mnemonic2seed(mnemonic: string, passphrase: string = '') {\n    if (!this.validMnemonic(mnemonic)) {\n      throw new Error('InvalidMnemonic');\n    }\n    return bip39.mnemonicToSeedSync(mnemonic, passphrase).slice(0, 32);\n  }\n  mnemonic2entropy(mnemonic: string, passphrase: string = '') {\n    if (!this.validMnemonic(mnemonic)) {\n      throw new Error('InvalidMnemonic');\n    }\n    return bip39.mnemonicToEntropy(mnemonic);\n  }\n  validMnemonic(mnemonic: string) {\n    return bip39.validateMnemonic(mnemonic);\n  }\n  validAddress(address: string) {\n    try {\n      this.b58cdecode(address, this.prefix.tz1);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n  pk2pkh(pk: string): string {\n    if (pk.length === 54 && pk.slice(0, 4) === 'edpk') {\n      const pkDecoded = this.b58cdecode(pk, this.prefix.edpk);\n      return this.b58cencode(blake2b(pkDecoded, null, 20), this.prefix.tz1);\n    } else if (pk.length === 55 && pk.slice(0, 4) === 'sppk') {\n      const pkDecoded = this.b58cdecode(pk, this.prefix.edpk);\n      return this.b58cencode(blake2b(pkDecoded, null, 20), this.prefix.tz2);\n    }\n    throw new Error('Invalid public key');\n  }\n  spPrivKeyToKeyPair(secretKey: string) {\n    let sk;\n    if (secretKey.match(/^[0-9a-f]{64}$/g)) {\n      sk = this.b58cencode(this.hex2buf(secretKey), this.prefix.spsk);\n    } else if (secretKey.match(/^spsk[1-9a-km-zA-HJ-NP-Z]{50}$/g)) {\n      sk = secretKey;\n    } else {\n      throw new Error('Invalid private key');\n    }\n    const keyPair = new elliptic.ec('secp256k1').keyFromPrivate(new Uint8Array(this.b58cdecode(sk, this.prefix.spsk)));\n    const yArray = keyPair.getPublic().getY().toArray();\n    const prefixVal = yArray[yArray.length - 1] % 2 ? 3 : 2; // Y odd / even\n    const pad = new Array(32).fill(0); // Zero-padding\n    const publicKey = new Uint8Array([prefixVal].concat(pad.concat(keyPair.getPublic().getX().toArray()).slice(-32)));\n    const pk = this.b58cencode(publicKey, this.prefix.sppk);\n    const pkh = this.pk2pkh(pk);\n    return { sk, pk, pkh };\n  }\n  spPointsToPkh(pubX: string, pubY: string): string {\n    const key = new elliptic.ec('secp256k1').keyFromPublic({\n      x: pubX,\n      y: pubY\n    });\n    const yArray = key.getPublic().getY().toArray();\n    const prefixVal = yArray[yArray.length - 1] % 2 ? 3 : 2;\n    const pad = new Array(32).fill(0);\n    let publicKey = new Uint8Array([prefixVal].concat(pad.concat(key.getPublic().getX().toArray()).slice(-32)));\n    let pk = this.b58cencode(publicKey, this.prefix.sppk);\n    const pkh = this.pk2pkh(pk);\n    return pkh;\n  }\n  async decompress(pk: string): Promise<any> {\n    const decodedPk = this.b58cdecode(pk, this.prefix.sppk);\n    const hexPk = this.buf2hex(decodedPk);\n    const secp256k1 = await instantiateSecp256k1();\n    const compressed = hexToBin(hexPk);\n    const uncompressed = secp256k1.uncompressPublicKey(compressed);\n    const xy = binToHex(uncompressed).slice(2);\n    return { X: xy.slice(0, 64), Y: xy.slice(64, 128) };\n  }\n  hex2pk(hex: string): string {\n    return this.b58cencode(this.hex2buf(hex.slice(2, 66)), this.prefix.edpk);\n  }\n  hex2buf(hex) {\n    return new Uint8Array(\n      hex.match(/[\\da-f]{2}/gi).map(function (h) {\n        return parseInt(h, 16);\n      })\n    );\n  }\n  buf2hex(buffer) {\n    const byteArray = new Uint8Array(buffer),\n      hexParts = [];\n    for (let i = 0; i < byteArray.length; i++) {\n      const hex = byteArray[i].toString(16);\n      const paddedHex = ('00' + hex).slice(-2);\n      hexParts.push(paddedHex);\n    }\n    return hexParts.join('');\n  }\n  b58cencode(payload: any, prefixx?: Uint8Array) {\n    const n = new Uint8Array(prefixx.length + payload.length);\n    n.set(prefixx);\n    n.set(payload, prefixx.length);\n    return Bs58check.encode(Buffer.from(this.buf2hex(n), 'hex'));\n  }\n  b58cdecode(enc, prefixx) {\n    let n = Bs58check.decode(enc);\n    n = n.slice(prefixx.length);\n    return n;\n  }\n  ledgerPreHash(opbytes: string): string {\n    return this.buf2hex(blake2b(this.hex2buf(opbytes), null, 32));\n  }\n  sign(bytes: string, sk: string): any {\n    if (!['03', '05', '80'].includes(bytes.slice(0, 2))) {\n      throw new Error('Invalid prefix');\n    }\n    if (sk.slice(0, 4) === 'spsk') {\n      const hash = blake2b(this.hex2buf(bytes), null, 32);\n      bytes = bytes.slice(2);\n      const key = new elliptic.ec('secp256k1').keyFromPrivate(new Uint8Array(this.b58cdecode(sk, this.prefix.spsk)));\n      let sig = key.sign(hash, { canonical: true });\n      const pad = new Array(32).fill(0);\n      const r = pad.concat(sig.r.toArray()).slice(-32);\n      const s = pad.concat(sig.s.toArray()).slice(-32);\n      sig = new Uint8Array(r.concat(s));\n      const spsig = this.b58cencode(sig, this.prefix.spsig);\n      const sbytes = bytes + this.buf2hex(sig);\n      return {\n        bytes: bytes,\n        sig: sig,\n        edsig: spsig,\n        sbytes: sbytes\n      };\n    } else {\n      const hash = blake2b(this.hex2buf(bytes), null, 32);\n      bytes = bytes.slice(2);\n      const sig = naclSign.detached(hash, this.b58cdecode(sk, this.prefix.edsk));\n      const edsig = this.b58cencode(sig, this.prefix.edsig);\n      const sbytes = bytes + this.buf2hex(sig);\n      return {\n        bytes: bytes,\n        sig: sig,\n        edsig: edsig,\n        sbytes: sbytes\n      };\n    }\n  }\n  hexsigToEdsig(hex: string): string {\n    return this.b58cencode(this.hex2buf(hex), this.prefix.edsig);\n  }\n  verify(bytes: string, sig: string, pk: string): Boolean {\n    console.log('bytes', bytes);\n    const hash = blake2b(this.hex2buf(bytes), null, 32);\n    const signature = this.b58cdecode(sig, this.prefix.edsig);\n    const publicKey = this.b58cdecode(pk, this.prefix.edpk);\n    return naclSign.detached.verify(signature, hash, publicKey);\n  }\n  sig2edsig(sig: string): any {\n    return this.b58cencode(this.hex2buf(sig), this.prefix.edsig);\n  }\n  decodeString(bytes: string): string {\n    return Buffer.from(this.hex2buf(bytes)).toString('utf-8');\n  }\n  zarithDecode(hex: string): any {\n    let count = 0;\n    let value = 0;\n    while (1) {\n      const byte = Number('0x' + hex.slice(0 + count * 2, 2 + count * 2));\n      value += (byte & 127) * 128 ** count;\n      count++;\n      if ((byte & 128) !== 128) {\n        break;\n      }\n    }\n    return {\n      value: value,\n      count: count\n    };\n  }\n  zarithDecodeInt(hex: string): any {\n    let count = 0;\n    let value = Big(0);\n    while (1) {\n      const byte = Number('0x' + hex.slice(0 + count * 2, 2 + count * 2));\n      if (count === 0) {\n        value = Big((byte & 63) * 128 ** count).add(value);\n      } else {\n        value = Big(((byte & 127) * 2) >> 1)\n          .times(64 * 128 ** (count - 1))\n          .add(value);\n      }\n      count++;\n      if ((byte & 128) !== 128) {\n        break;\n      }\n    }\n    return {\n      value: value,\n      count: count\n    };\n  }\n  getContractDelegation(pkh: string) {\n    return {\n      entrypoint: 'do',\n      value: [\n        { prim: 'DROP' },\n        {\n          prim: 'NIL',\n          args: [{ prim: 'operation' }]\n        },\n        {\n          prim: 'PUSH',\n          args: [\n            { prim: 'key_hash' },\n            {\n              string: pkh\n            }\n          ]\n        },\n        { prim: 'SOME' },\n        { prim: 'SET_DELEGATE' },\n        { prim: 'CONS' }\n      ]\n    };\n  }\n  getContractUnDelegation() {\n    return {\n      entrypoint: 'do',\n      value: [\n        { prim: 'DROP' },\n        {\n          prim: 'NIL',\n          args: [{ prim: 'operation' }]\n        },\n        {\n          prim: 'NONE',\n          args: [{ prim: 'key_hash' }]\n        },\n        { prim: 'SET_DELEGATE' },\n        { prim: 'CONS' }\n      ]\n    };\n  }\n  getContractPkhTransaction(to: string, amount: string) {\n    return {\n      entrypoint: 'do',\n      value: [\n        { prim: 'DROP' },\n        { prim: 'NIL', args: [{ prim: 'operation' }] },\n        {\n          prim: 'PUSH',\n          args: [\n            { prim: 'key_hash' },\n            {\n              string: to\n            }\n          ]\n        },\n        { prim: 'IMPLICIT_ACCOUNT' },\n        {\n          prim: 'PUSH',\n          args: [{ prim: 'mutez' }, { int: amount }]\n        },\n        { prim: 'UNIT' },\n        { prim: 'TRANSFER_TOKENS' },\n        { prim: 'CONS' }\n      ]\n    };\n  }\n  getContractKtTransaction(to: string, amount: string) {\n    return {\n      entrypoint: 'do',\n      value: [\n        { prim: 'DROP' },\n        { prim: 'NIL', args: [{ prim: 'operation' }] },\n        {\n          prim: 'PUSH',\n          args: [{ prim: 'address' }, { string: to }]\n        },\n        { prim: 'CONTRACT', args: [{ prim: 'unit' }] },\n        [\n          {\n            prim: 'IF_NONE',\n            args: [[[{ prim: 'UNIT' }, { prim: 'FAILWITH' }]], []]\n          }\n        ],\n        {\n          prim: 'PUSH',\n          args: [{ prim: 'mutez' }, { int: amount }]\n        },\n        { prim: 'UNIT' },\n        { prim: 'TRANSFER_TOKENS' },\n        { prim: 'CONS' }\n      ]\n    };\n  }\n  getManagerScript(pkh: string) {\n    let pkHex: string;\n    if (pkh.slice(0, 2) === 'tz') {\n      pkHex = '00' + this.buf2hex(this.b58cdecode(pkh, this.prefix.tz1));\n    } else {\n      pkHex = pkh;\n    }\n    return {\n      code: [\n        {\n          prim: 'parameter',\n          args: [\n            {\n              prim: 'or',\n              args: [\n                {\n                  prim: 'lambda',\n                  args: [\n                    {\n                      prim: 'unit'\n                    },\n                    {\n                      prim: 'list',\n                      args: [\n                        {\n                          prim: 'operation'\n                        }\n                      ]\n                    }\n                  ],\n                  annots: ['%do']\n                },\n                {\n                  prim: 'unit',\n                  annots: ['%default']\n                }\n              ]\n            }\n          ]\n        },\n        {\n          prim: 'storage',\n          args: [\n            {\n              prim: 'key_hash'\n            }\n          ]\n        },\n        {\n          prim: 'code',\n          args: [\n            [\n              [\n                [\n                  {\n                    prim: 'DUP'\n                  },\n                  {\n                    prim: 'CAR'\n                  },\n                  {\n                    prim: 'DIP',\n                    args: [\n                      [\n                        {\n                          prim: 'CDR'\n                        }\n                      ]\n                    ]\n                  }\n                ]\n              ],\n              {\n                prim: 'IF_LEFT',\n                args: [\n                  [\n                    {\n                      prim: 'PUSH',\n                      args: [\n                        {\n                          prim: 'mutez'\n                        },\n                        {\n                          int: '0'\n                        }\n                      ]\n                    },\n                    {\n                      prim: 'AMOUNT'\n                    },\n                    [\n                      [\n                        {\n                          prim: 'COMPARE'\n                        },\n                        {\n                          prim: 'EQ'\n                        }\n                      ],\n                      {\n                        prim: 'IF',\n                        args: [\n                          [],\n                          [\n                            [\n                              {\n                                prim: 'UNIT'\n                              },\n                              {\n                                prim: 'FAILWITH'\n                              }\n                            ]\n                          ]\n                        ]\n                      }\n                    ],\n                    [\n                      {\n                        prim: 'DIP',\n                        args: [\n                          [\n                            {\n                              prim: 'DUP'\n                            }\n                          ]\n                        ]\n                      },\n                      {\n                        prim: 'SWAP'\n                      }\n                    ],\n                    {\n                      prim: 'IMPLICIT_ACCOUNT'\n                    },\n                    {\n                      prim: 'ADDRESS'\n                    },\n                    {\n                      prim: 'SENDER'\n                    },\n                    [\n                      [\n                        {\n                          prim: 'COMPARE'\n                        },\n                        {\n                          prim: 'EQ'\n                        }\n                      ],\n                      {\n                        prim: 'IF',\n                        args: [\n                          [],\n                          [\n                            [\n                              {\n                                prim: 'UNIT'\n                              },\n                              {\n                                prim: 'FAILWITH'\n                              }\n                            ]\n                          ]\n                        ]\n                      }\n                    ],\n                    {\n                      prim: 'UNIT'\n                    },\n                    {\n                      prim: 'EXEC'\n                    },\n                    {\n                      prim: 'PAIR'\n                    }\n                  ],\n                  [\n                    {\n                      prim: 'DROP'\n                    },\n                    {\n                      prim: 'NIL',\n                      args: [\n                        {\n                          prim: 'operation'\n                        }\n                      ]\n                    },\n                    {\n                      prim: 'PAIR'\n                    }\n                  ]\n                ]\n              }\n            ]\n          ]\n        }\n      ],\n      storage: { bytes: pkHex }\n    };\n  }\n  getFA12Transaction(from: string, to: string, amount: string) {\n    return {\n      entrypoint: 'transfer',\n      value: {\n        args: [\n          {\n            string: from\n          },\n          {\n            args: [\n              {\n                string: to\n              },\n              {\n                int: amount\n              }\n            ],\n            prim: 'Pair'\n          }\n        ],\n        prim: 'Pair'\n      }\n    };\n  }\n  getFA2Transaction(from: string, to: string, amount: string, id: string) {\n    return {\n      entrypoint: 'transfer',\n      value: [\n        {\n          prim: 'Pair',\n          args: [\n            {\n              string: from\n            },\n            [\n              {\n                prim: 'Pair',\n                args: [\n                  {\n                    string: to\n                  },\n                  {\n                    prim: 'Pair',\n                    args: [\n                      {\n                        int: id.toString()\n                      },\n                      {\n                        int: amount\n                      }\n                    ]\n                  }\n                ]\n              }\n            ]\n          ]\n        }\n      ]\n    };\n  }\n  getApproveAmountParameters(from: string, amount: string) {\n    return {\n      entrypoint: 'approve',\n      value: {\n        prim: 'Pair',\n        args: [\n          {\n            string: from\n          },\n          {\n            int: amount\n          }\n        ]\n      }\n    };\n  }\n  getRevokeAmountParameters(from: string) {\n    return {\n      entrypoint: 'approve',\n      value: {\n        prim: 'Pair',\n        args: [\n          {\n            string: from\n          },\n          {\n            int: '0'\n          }\n        ]\n      }\n    };\n  }\n  getXTZToTokenParameters(from: string, minimum: string, expirationTime: string) {\n    return {\n      entrypoint: 'xtzToToken',\n      value: {\n        prim: 'Pair',\n        args: [\n          {\n            string: from\n          },\n          {\n            prim: 'Pair',\n            args: [\n              {\n                int: minimum\n              },\n              {\n                string: expirationTime\n              }\n            ]\n          }\n        ]\n      }\n    };\n  }\n  getTokenToXTZParameters(from: string, minimumToken: string, minimumXTZ: string, expirationTime: string) {\n    return {\n      entrypoint: 'tokenToXtz',\n      value: {\n        prim: 'Pair',\n        args: [\n          {\n            string: from\n          },\n          {\n            prim: 'Pair',\n            args: [\n              {\n                int: minimumToken\n              },\n              {\n                prim: 'Pair',\n                args: [\n                  {\n                    int: minimumXTZ\n                  },\n                  {\n                    string: expirationTime\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      }\n    };\n  }\n\n  getAddLiquidityParameters(from: string, minimumLqt: string, minimumToken: string, expirationTime: string) {\n    return {\n      entrypoint: 'addLiquidity',\n      value: {\n        prim: 'Pair',\n        args: [\n          {\n            string: from\n          },\n          {\n            prim: 'Pair',\n            args: [\n              {\n                int: minimumLqt\n              },\n              {\n                prim: 'Pair',\n                args: [\n                  {\n                    int: minimumToken\n                  },\n                  {\n                    string: expirationTime\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      }\n    };\n  }\n\n  getRemoveLiquidityParameters(from: string, lqtBurn: string, minXtzWithdrawn: string, minTokensWithdrawn: string, expirationTime: string) {\n    return {\n      entrypoint: 'removeLiquidity',\n\n      value: {\n        prim: 'Pair',\n        args: [\n          {\n            string: from\n          },\n          {\n            prim: 'Pair',\n            args: [\n              {\n                int: lqtBurn\n              },\n              {\n                prim: 'Pair',\n                args: [\n                  {\n                    int: minXtzWithdrawn\n                  },\n                  {\n                    prim: 'Pair',\n                    args: [\n                      {\n                        int: minTokensWithdrawn\n                      },\n                      {\n                        string: expirationTime\n                      }\n                    ]\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      }\n    };\n  }\n\n  getTezToTokenPaymentParameters(from: string, minimumToken: string) {\n    return {\n      entrypoint: 'tezToTokenPayment',\n      value: {\n        prim: 'Pair',\n        args: [\n          {\n            int: minimumToken\n          },\n          {\n            string: from\n          }\n        ]\n      }\n    };\n  }\n\n  getTokenToTezPaymentParameters(from: string, minimumXtz: string, minimumToken: string) {\n    return {\n      entrypoint: 'tokenToTezPayment',\n      value: {\n        prim: 'Pair',\n        args: [\n          {\n            prim: 'Pair',\n            args: [\n              {\n                int: minimumToken\n              },\n              {\n                int: minimumXtz\n              }\n            ]\n          },\n          {\n            string: from\n          }\n        ]\n      }\n    };\n  }\n\n  parseTokenTransfer(op: any): { tokenId: string; to: string; amount: string } {\n    const opJson = JSON.stringify(op.parameters);\n    const addresses = opJson.match(/\\{\\\"string\\\":\\\"[^\\\"]*/g)?.map((s) => {\n      return s.slice(11);\n    });\n    const amounts = opJson.match(/\\{\\\"int\\\":\\\"[^\\\"]*/g)?.map((i) => {\n      return i.slice(8);\n    });\n    if (!addresses || !amounts) {\n      return null;\n    }\n    if (addresses.length === 2) {\n      if (amounts.length === 1) {\n        const fa12ref = this.getFA12Transaction(addresses[0], addresses[1], amounts[0]);\n        if (isEqual(fa12ref, op.parameters)) {\n          return {\n            tokenId: `${op.destination}:0`,\n            to: addresses[1],\n            amount: amounts[0]\n          };\n        }\n      } else if (amounts.length === 2) {\n        const fa2ref = this.getFA2Transaction(addresses[0], addresses[1], amounts[1], String(amounts[0]));\n        if (isEqual(fa2ref, op.parameters)) {\n          return {\n            tokenId: `${op.destination}:${amounts[0]}`,\n            to: addresses[1],\n            amount: amounts[1]\n          };\n        }\n      }\n    }\n    return null;\n  }\n\n  postRpc(path: string, payload: any, c = 0, initialError = null): Observable<any> {\n    const node = this.nodeURL[c % this.nodeURL.length];\n    return this.http.post(`${node}/${path}`, payload, httpOptions).pipe(\n      catchError((error) => {\n        if (c > Math.max(3, this.nodeURL.length) - 2 || !(error?.name === 'HttpErrorResponse')) {\n          // give up after 3 or nodes.length attempts\n          throw initialError;\n        }\n        return timer(250).pipe(concatMap(() => this.postRpc(path, payload, ++c, initialError ?? error)));\n      })\n    );\n  }\n\n  getRpc(path: string, c = 0, initialError = null): Observable<any> {\n    const node = this.nodeURL[c % this.nodeURL.length];\n    return this.http.get(`${node}/${path}`).pipe(\n      catchError((error) => {\n        if (c > Math.max(3, this.nodeURL.length) - 2 || !(error?.name === 'HttpErrorResponse')) {\n          // give up after 3 or nodes.length attempts\n          throw initialError;\n        }\n        return timer(250).pipe(concatMap(() => this.getRpc(path, ++c, initialError ?? error)));\n      })\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Subject } from 'rxjs';\nimport { TokenData } from '../token/token.service';\nimport { Account } from '../wallet/wallet';\n\ninterface PrepareTokenTransfer {\n  account: Account;\n  tokenTransfer: string;\n  symbol: string;\n}\nexport enum BuyProvider {\n  Coinbase = 0,\n  Transak,\n  MoonPay\n}\ninterface MetadataUpdated {\n  contractAddress: string;\n  id: string;\n  token: TokenData;\n}\n@Injectable({\n  providedIn: 'root'\n})\nexport class SubjectService {\n  public activeAccount = new BehaviorSubject(null);\n  public walletUpdated = new BehaviorSubject(null);\n  public metadataUpdated: BehaviorSubject<MetadataUpdated>;\n  public refreshTokens: BehaviorSubject<null>;\n  public confirmedOp: Subject<string>;\n  public prepareTokenTransfer: Subject<PrepareTokenTransfer>;\n  public nftsUpdated: BehaviorSubject<any>;\n  public origin: BehaviorSubject<string>;\n  public beaconResponse: Subject<boolean>;\n  public login: Subject<boolean>;\n  public logout: Subject<boolean>;\n  public buy: Subject<BuyProvider>;\n  public wc2: Subject<any>;\n  constructor() {\n    this.init();\n    this.logout.subscribe((o) => {\n      if (o) {\n        this.reset();\n      }\n    });\n  }\n  init() {\n    this.metadataUpdated = new BehaviorSubject<MetadataUpdated>(null);\n    this.refreshTokens = new BehaviorSubject<any>([]);\n    this.confirmedOp = new Subject<string>();\n    this.prepareTokenTransfer = new Subject<PrepareTokenTransfer>();\n    this.refreshTokens = new BehaviorSubject<null>(null);\n    this.nftsUpdated = new BehaviorSubject<any>(undefined);\n    this.origin = new BehaviorSubject<string>(null);\n    this.beaconResponse = new Subject<boolean>();\n    this.login = new Subject<boolean>();\n    this.logout = new Subject<boolean>();\n    this.buy = new Subject<BuyProvider>();\n    this.wc2 = new Subject<any>();\n  }\n  reset() {\n    this.metadataUpdated.next(null);\n    this.refreshTokens.next(null);\n    this.nftsUpdated.next(undefined);\n  }\n}\n","import Big from 'big.js';\n\nexport class Amount {\n  decimalPlaces: number = 6;\n  internalBigInt: Big = Big(0);\n  internalNormalised: number = 0;\n\n  constructor(c: any) {\n    if (c?.rpcAmount === undefined && c?.normalisedAmount === undefined) {\n      return;\n    }\n    this.decimalPlaces = c.decimalPlaces;\n    if (!!c?.rpcAmount) {\n      let multiplierIntValue = Math.round(Math.pow(10, this.decimalPlaces));\n      this.internalNormalised = parseFloat(Big(c.rpcAmount).div(multiplierIntValue).toString() || 0);\n      this.internalBigInt = Big(c.rpcAmount);\n    } else if (!!c?.normalisedAmount) {\n      let multiplierIntValue = Math.round(Math.pow(10, this.decimalPlaces));\n      this.internalNormalised = parseFloat(Big(c.normalisedAmount).toString() || 0);\n      this.internalBigInt = Big(c.normalisedAmount).times(multiplierIntValue);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport dexterCalculations from 'dexCalcs/dist/index-mobile.min';\nimport { Amount } from './classes/Amount';\nimport Big from 'big.js';\nimport { ChartSeries } from '../../../app/components/ui/chart/chart.component';\nimport { CONSTANTS } from '../../../environments/environment';\n@Injectable({ providedIn: 'root' })\nexport class SwapLiquidityService {\n  readonly lqdTokenContract = 'KT1AafHA1C1vk959wvHWBispY9Y2f3fxBUUo';\n  readonly lqdContract = 'KT1TxqZ8QtKvLu3V3JH7Gx58n7Co8pgtpQU5';\n  readonly tzBTCContract = 'KT1PWx2mnDueood7fEmfbBDKx1D9BAnnXitn';\n\n  public storage = {};\n  public dipdupContracts = [];\n\n  constructor() {}\n\n  async fetchContracts(offset = 0): Promise<void> {\n    const baseUrl = `https://dex.dipdup.net/v1/graphql`;\n    const req = {\n      query: `{dipdupContract(where: {}, offset: ${offset}) {address, name, typename, updatedAt, createdAt}}`\n    };\n    try {\n      const response = await (\n        await fetch(baseUrl, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(req)\n        })\n      ).json();\n      if (response?.data?.dipdupContract?.length > 0) {\n        this.dipdupContracts.concat(response.data.dipdupContract);\n        await this.fetchContracts(offset + 100);\n      } else if (offset === 0) {\n        throw new Error();\n      }\n      return;\n    } catch (e) {\n      throw new Error();\n    }\n  }\n\n  async fetchStorage(contract): Promise<void> {\n    try {\n      return await fetch(`${CONSTANTS.API_URL}/contracts/${contract}/storage`)\n        .then((r) => r.json())\n        .then((r) => {\n          this.storage[contract] = {};\n          this.storage[contract].total_pool = r['lqtTotal'];\n          this.storage[contract].tez_pool = r['xtzPool'];\n          this.storage[contract].token_pool = r['tokenPool'];\n        });\n    } catch (e) {\n      throw new Error();\n    }\n  }\n\n  settings(dex: string): {\n    fee: string;\n    burn: string;\n    includeSubsidy: boolean;\n  } {\n    switch (dex) {\n      case 'liquidityBaking':\n        return { fee: '0.1', burn: '0.1', includeSubsidy: false };\n      case 'quipuswap':\n        return { fee: '0.3', burn: '0', includeSubsidy: false };\n      default:\n        return { fee: '0.3', burn: '0', includeSubsidy: false };\n    }\n  }\n\n  createPoolAmounts(): { xtzPool: Amount; tokenPool: Amount } {\n    const xtzPool = new Amount({\n      rpcAmount: parseFloat(this.storage[this.lqdContract]?.tez_pool),\n      decimalPlaces: 6\n    });\n    const tokenPool = new Amount({\n      rpcAmount: parseFloat(this.storage[this.lqdContract]?.token_pool),\n      decimalPlaces: 8\n    });\n    return { xtzPool, tokenPool };\n  }\n\n  calculateXtzToToken(xtzToSell, xtzPool, tokenPool, maxSlippage, dex): { expected; minimum; rate; impactDouble } {\n    const expected = this.xtzToTokenExpectedReturn(xtzToSell, xtzPool, tokenPool, dex);\n    const minimum = this.xtzToTokenMinimumReturn(expected, maxSlippage);\n    const rate = this.xtzToTokenExchangeRateDisplay(xtzToSell, xtzPool, tokenPool, dex);\n    const priceImpact = this.xtzToTokenPriceImpact(xtzToSell, xtzPool, tokenPool, dex);\n    const impactDouble = priceImpact ?? 0;\n    return { expected, minimum, rate, impactDouble };\n  }\n\n  calculateXtzToTokenFromToken(tokenToSell, xtzPool, tokenPool, maxSlippage, dex): { xtz; token } {\n    const result = this.calculateTokenToXTZ(tokenToSell, xtzPool, tokenPool, maxSlippage, dex);\n    const expected = this.xtzToTokenExpectedReturn(result.expected, xtzPool, tokenPool, dex);\n    const minimum = this.xtzToTokenMinimumReturn(expected, maxSlippage);\n    const rate = this.xtzToTokenExchangeRateDisplay(result.expected, xtzPool, tokenPool, dex);\n    const priceImpact = this.xtzToTokenPriceImpact(result.expected, xtzPool, tokenPool, dex);\n    const impactDouble = priceImpact ?? 0;\n    return { xtz: result, token: { expected, minimum, rate, impactDouble } };\n  }\n\n  calculateTokenToXTZ(tokenToSell, xtzPool, tokenPool, maxSlippage, dex): { expected; minimum; rate; impactDouble } {\n    const expected = this.tokenToXtzExpectedReturn(tokenToSell, xtzPool, tokenPool, dex);\n    const minimum = this.tokenToXtzMinimumReturn(expected, maxSlippage);\n    const rate = this.tokenToXtzExchangeRateDisplay(tokenToSell, xtzPool, tokenPool, dex);\n    const priceImpact = this.tokenToXtzPriceImpact(tokenToSell, xtzPool, tokenPool, dex);\n    const impactDouble = priceImpact ?? 0;\n    return { expected, minimum, rate, impactDouble };\n  }\n\n  calculateTokenToXTZFromXTZ(xtzToSell, xtzPool, tokenPool, maxSlippage, dex): { xtz; token } {\n    const result = this.calculateXtzToToken(xtzToSell, xtzPool, tokenPool, maxSlippage, dex);\n    const expected = this.tokenToXtzExpectedReturn(result.expected, xtzPool, tokenPool, dex);\n    const minimum = this.tokenToXtzMinimumReturn(expected, maxSlippage);\n    const rate = this.tokenToXtzExchangeRateDisplay(result.expected, xtzPool, tokenPool, dex);\n    const priceImpact = this.tokenToXtzPriceImpact(result.expected, xtzPool, tokenPool, dex);\n    const impactDouble = priceImpact ?? 0;\n    return { xtz: { expected, minimum, rate, impactDouble }, token: result };\n  }\n\n  calculateAddLiquidityXTZ(xtz, xtzPool, tokenPool, totalLiquidity, maxSlippage, dex): { liquidityExpected; liquidityMinimum; tokenRequired; exchangeRate } {\n    const tokenRequired = this.addLiquidityTokenRequired(xtz, xtzPool, tokenPool, dex);\n    const liquidityReturned = this.addLiquidityReturn(xtz, xtzPool, totalLiquidity, maxSlippage, dex);\n    const exchangeRate = this.xtzToTokenExchangeRateDisplay(xtz, xtzPool, tokenPool, dex);\n    return {\n      liquidityExpected: liquidityReturned?.expected,\n      liquidityMinimum: liquidityReturned?.minimum,\n      tokenRequired,\n      exchangeRate\n    };\n  }\n\n  calculateAddLiquidityToken(token, xtzPool, tokenPool, totalLiquidity, maxSlippage, dex): { liquidityExpected; liquidityMinimum; xtzRequired; exchangeRate } {\n    const xtzRequired = this.addLiquidityXtzRequired(token, xtzPool, tokenPool, dex);\n    const liquidityReturned = this.addLiquidityReturn(xtzRequired, xtzPool, totalLiquidity, maxSlippage, dex);\n    const exchangeRate = this.xtzToTokenExchangeRateDisplay(xtzRequired, xtzPool, tokenPool, dex);\n    return {\n      liquidityExpected: liquidityReturned?.expected,\n      liquidityMinimum: liquidityReturned?.minimum,\n      xtzRequired,\n      exchangeRate\n    };\n  }\n\n  calculateRemoveLiquidity(\n    liquidityBurned,\n    xtzPool,\n    tokenPool,\n    totalLiquidity,\n    maxSlippage,\n    dex\n  ): { xtzExpected; xtzMinimum; tokenExpected; tokenMinimum; exchangeRate } {\n    const xtzOut = this.removeLiquidityXtzReceived(liquidityBurned, totalLiquidity, xtzPool, maxSlippage, dex);\n    const tokenOut = this.removeLiquidityTokenReceived(liquidityBurned, totalLiquidity, tokenPool, maxSlippage);\n    const exchangeRate = this.xtzToTokenExchangeRateDisplay(xtzOut.expected, xtzPool, tokenPool, dex);\n\n    return {\n      xtzExpected: xtzOut?.expected,\n      xtzMinimum: xtzOut?.minimum,\n      tokenExpected: tokenOut?.expected,\n      tokenMinimum: tokenOut?.minimum,\n      exchangeRate\n    };\n  }\n\n  xtzToTokenExpectedReturn(xtzToSell: Amount, xtzPool: Amount, tokenPool: Amount, dex): Amount {\n    const xtz = xtzToSell.internalBigInt;\n    const xPool = xtzPool.internalBigInt;\n    const tPool = tokenPool.internalBigInt;\n    const result = dexterCalculations.xtzToTokenTokenOutput(\n      xtz.toString(),\n      xPool.toString(),\n      tPool.toString(),\n      dex.fee.toString(),\n      dex.burn.toString(),\n      dex.includeSibsidy\n    );\n    return new Amount({\n      rpcAmount: result?.toString() || '0',\n      decimalPlaces: tokenPool.decimalPlaces\n    });\n  }\n\n  xtzToTokenMinimumReturn(tokenAmount: Amount, slippage: number): Amount {\n    const token = tokenAmount.internalBigInt;\n    if (slippage < 0 || slippage > 1) {\n      console.log(`slippage value supplied to 'xtzToTokenMinimumReturn' was not between 0 and 1: ${slippage}`);\n      return undefined;\n    }\n    const result = dexterCalculations.xtzToTokenMinimumTokenOutput(token.toString(), slippage);\n    return new Amount({\n      rpcAmount: result?.value?.toString() || '0',\n      decimalPlaces: tokenAmount.decimalPlaces\n    });\n  }\n\n  xtzToTokenRequiredXtzFor(tokenAmount: Amount, xtzPool: Amount, tokenPool: Amount, dex): Amount {\n    const tokenRequired = tokenAmount.internalBigInt;\n    const xtzPoolRpc = xtzPool.internalBigInt;\n    const tokenPoolRpc = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.xtzToTokenXtzInput(\n      tokenRequired,\n      xtzPoolRpc,\n      tokenPoolRpc,\n      tokenAmount.decimalPlaces,\n      dex.fee.toString(),\n      dex.burn.toString(),\n      dex.includeSibsidy\n    );\n    return new Amount({ rpcAmount: result.toString() });\n  }\n\n  xtzToTokenExchangeRate(xtzToSell: Amount, xtzPool: Amount, tokenPool: Amount, dex): number {\n    const xtz = xtzToSell.internalBigInt;\n    const xtzPoolRpc = xtzPool.internalBigInt;\n    const tokenPoolRpc = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.xtzToTokenExchangeRate(xtz, xtzPoolRpc, tokenPoolRpc, dex.fee.toString(), dex.burn.toString(), dex.includeSibsidy);\n    return parseFloat(result.toString());\n  }\n\n  xtzToTokenExchangeRateDisplay(xtzToSell: Amount, xtzPool: Amount, tokenPool: Amount, dex): string {\n    const xtz = xtzToSell.internalBigInt;\n    const xPool = xtzPool.internalBigInt;\n    const tPool = tokenPool.internalBigInt;\n    const result = dexterCalculations.xtzToTokenExchangeRateForDisplay(\n      xtz.toString(),\n      xPool.toString(),\n      tPool.toString(),\n      tokenPool.decimalPlaces,\n      dex.fee.toString(),\n      dex.burn.toString(),\n      dex.includeSibsidy\n    );\n    return result?.toString() ?? '0';\n  }\n\n  xtzToTokenPriceImpact(xtzToSell: Amount, xtzPool: Amount, tokenPool: Amount, dex): number {\n    const xtz = xtzToSell.internalBigInt;\n    const xtzPoolRpc = xtzPool.internalBigInt;\n    const tokenPoolRpc = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.xtzToTokenPriceImpact(\n      xtz.toString(),\n      xtzPoolRpc.toString(),\n      tokenPoolRpc.toString(),\n      dex.fee.toString(),\n      dex.burn.toString(),\n      dex.includeSibsidy\n    );\n    return parseFloat(result?.toString() ?? 0);\n  }\n\n  tokenToXtzExpectedReturn(tokenToSell: Amount, xtzPool: Amount, tokenPool: Amount, dex): Amount {\n    const token = tokenToSell.internalBigInt;\n    const xtzPoolRpc = xtzPool.internalBigInt;\n    const tokenPoolRpc = tokenPool.internalBigInt;\n    const result = dexterCalculations.tokenToXtzXtzOutput(\n      token.toString(),\n      xtzPoolRpc.toString(),\n      tokenPoolRpc.toString(),\n      dex.fee.toString(),\n      dex.burn.toString(),\n      dex.includeSibsidy\n    );\n    return new Amount({\n      rpcAmount: result?.toString() || '0',\n      decimalPlaces: 6\n    });\n  }\n\n  tokenToXtzMinimumReturn(xtzAmount: Amount, slippage: number): Amount {\n    const xtz = xtzAmount.internalBigInt;\n\n    if (slippage < 0 || slippage > 1) {\n      console.log(`slippage value supplied to 'tokenToXtzMinimumReturn' was not between 0 and 1: ${slippage}`);\n      return undefined;\n    }\n\n    const result = dexterCalculations.tokenToXtzMinimumXtzOutput(xtz.toString(), slippage);\n    return new Amount({\n      rpcAmount: result?.toString() || '0',\n      decimalPlaces: 6\n    });\n  }\n\n  tokenToXtzRequiredTokenFor(xtzAmount: Amount, xtzPool: Amount, tokenPool: Amount, dex): Amount {\n    const xtzRequired = xtzAmount.internalBigInt;\n    const xPool = xtzPool.internalBigInt;\n    const tPool = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.tokenToXtzTokenInput(\n      xtzRequired,\n      xPool,\n      tPool,\n      tokenPool.decimalPlaces,\n      dex.fee.toString(),\n      dex.burn.toString(),\n      dex.includeSibsidy\n    );\n    return new Amount({\n      rpcAmount: result.toString(),\n      decimalPlaces: tokenPool.decimalPlaces\n    });\n  }\n\n  tokenToXtzExchangeRate(tokenToSell: Amount, xtzPool: Amount, tokenPool: Amount, dex): number {\n    const token = tokenToSell.internalBigInt;\n    const xtzPoolRpc = xtzPool.internalBigInt;\n    const tokenPoolRpc = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.tokenToXtzExchangeRate(\n      token.toString(),\n      xtzPoolRpc,\n      tokenPoolRpc,\n      dex.fee.toString(),\n      dex.burn.toString(),\n      dex.includeSibsidy\n    );\n    return parseFloat(result.toString());\n  }\n\n  tokenToXtzExchangeRateDisplay(tokenToSell: Amount, xtzPool: Amount, tokenPool: Amount, dex): string {\n    const token = tokenToSell.internalBigInt;\n    const xPool = xtzPool.internalBigInt;\n    const tPool = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.tokenToXtzExchangeRateForDisplay(\n      token.toString(),\n      xPool.toString(),\n      tPool.toString(),\n      tokenPool.decimalPlaces,\n      dex.fee.toString(),\n      dex.burn.toString(),\n      dex.includeSibsidy\n    );\n    return result?.toString() ?? '0';\n  }\n\n  tokenToXtzMarketRate(xtzPool: Amount, tokenPool: Amount): number {\n    const xPool = xtzPool.internalBigInt;\n    const tPool = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.tokenToXtzMarketRate(xPool, tPool, tokenPool.decimalPlaces);\n    return parseFloat(parseFloat(result.toString()).toFixed(tokenPool.decimalPlaces));\n  }\n\n  tokenToXtzPriceImpact(tokenToSell: Amount, xtzPool: Amount, tokenPool: Amount, dex): number {\n    const token = tokenToSell.internalBigInt;\n    const xtzPoolRpc = xtzPool.internalBigInt;\n    const tokenPoolRpc = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.tokenToXtzPriceImpact(\n      token.toString(),\n      xtzPoolRpc.toString(),\n      tokenPoolRpc.toString(),\n      dex.fee.toString(),\n      dex.burn.toString(),\n      dex.includeSibsidy\n    );\n    return parseFloat(result?.toString() ?? 0);\n  }\n\n  addLiquidityReturn(xtzToDeposit: Amount, xtzPool: Amount, totalLiquidity: Amount, slippage: number, dex): { expected: Amount; minimum: Amount } {\n    if (slippage < 0 || slippage > 1) {\n      console.log(`slippage value supplied to 'addLiquidityReturn' was not between 0 and 1: ${slippage}`);\n      return undefined;\n    }\n\n    const xtzIn = xtzToDeposit.internalBigInt;\n    const xPool = xtzPool.internalBigInt;\n    const totalLqt = totalLiquidity;\n\n    const result = dexterCalculations.addLiquidityLiquidityCreated(xtzIn.toString(), xPool.toString(), totalLqt.toString(), dex.includeSubsidy);\n    const expected = new Amount({\n      rpcAmount: result?.value ?? 0,\n      decimalPlaces: 0\n    });\n    const minimum = expected.internalNormalised - expected.internalNormalised * slippage;\n    const minAmount = new Amount({\n      normalisedAmount: minimum ?? 0,\n      decimalPlaces: 0\n    });\n    return { expected, minimum: minAmount };\n  }\n\n  addLiquidityTokenRequired(xtzToDeposit: Amount, xtzPool: Amount, tokenPool: Amount, dex): Amount {\n    const xtzIn = xtzToDeposit.internalBigInt;\n    const xPool = xtzPool.internalBigInt;\n    const tPool = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.addLiquidityTokenIn(xtzIn.toString(), xPool.toString(), tPool.toString(), dex.includeSubsidy);\n    return new Amount({\n      rpcAmount: result?.toString() ?? '0',\n      decimalPlaces: tokenPool.decimalPlaces\n    });\n  }\n\n  addLiquidityXtzRequired(tokenToDeposit: Amount, xtzPool: Amount, tokenPool: Amount, dex): Amount {\n    const tokenIn = tokenToDeposit.internalBigInt;\n    const xPool = xtzPool.internalBigInt;\n    const tPool = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.addLiquidityXtzIn(tokenIn.toString(), xPool.toString(), tPool.toString(), dex.includeSubsidy);\n    return new Amount({ rpcAmount: result?.toString() ?? '0', decimalPlaces: xtzPool.decimalPlaces });\n  }\n\n  removeLiquidityTokenReceived(liquidityBurned: Amount, totalLiquidity: Amount, tokenPool: Amount, slippage: number): { expected: Amount; minimum: Amount } {\n    if (slippage < 0 || slippage > 1) {\n      console.log(`slippage value supplied to 'removeLiquidityTokenReceived' was not between 0 and 1: ${slippage}`);\n      return undefined;\n    }\n\n    const lqtBurned = liquidityBurned.internalBigInt;\n    const tLqt = totalLiquidity;\n    const tPool = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.removeLiquidityTokenOut(lqtBurned.toString(), tLqt.toString(), tPool.toString());\n\n    if (!!Big(result?.value).toString()) {\n      const expected = new Amount({\n        rpcAmount: result?.value ?? 0,\n        decimalPlaces: 8\n      });\n      const minimum = expected.internalNormalised - expected.internalNormalised * slippage;\n      const minAmount = new Amount({\n        normalisedAmount: minimum,\n        decimalPlaces: 8\n      });\n      return { expected, minimum: minAmount };\n    } else {\n      return undefined;\n    }\n  }\n\n  removeLiquidityXtzReceived(liquidityBurned: Amount, totalLiquidity: Amount, xtzPool: Amount, slippage: number, dex): { expected: Amount; minimum: Amount } {\n    if (slippage < 0 || slippage > 1) {\n      console.log(`slippage value supplied to 'removeLiquidityXtzReceived' was not between 0 and 1: ${slippage}`);\n      return undefined;\n    }\n\n    const lqtBurned = liquidityBurned.internalBigInt;\n    const tLqt = totalLiquidity;\n    const xPool = xtzPool.internalBigInt;\n\n    const result = dexterCalculations.removeLiquidityXtzOut(lqtBurned.toString(), tLqt.toString(), xPool.toString(), dex.includeSubsidy);\n\n    if (!!Big(result?.value).toString()) {\n      const expected = new Amount({\n        rpcAmount: result?.value,\n        decimalPlaces: 6\n      });\n      const minimum = expected.internalNormalised - expected.internalNormalised * slippage;\n      const minAmount = new Amount({\n        normalisedAmount: minimum,\n        decimalPlaces: 6\n      });\n      return { expected, minimum: minAmount };\n    } else {\n      return undefined;\n    }\n  }\n  estimateLiquidityBakingAPY() {\n    return 'APY: ' + dexterCalculations.estimateLiquidityBakingAPY(this.storage[this.lqdContract]?.tez_pool).toFixed(2) + '%';\n  }\n}\n","// https://gitlab.com/tezos-domains/client\nimport { TezosToolkit } from '@taquito/taquito';\nimport { TaquitoTezosDomainsClient } from '@tezos-domains/taquito-client';\nimport { Tzip16Module } from '@taquito/tzip16';\nimport { Injectable } from '@angular/core';\nimport { CONSTANTS } from '../../../environments/environment';\nimport { SupportedNetworkType } from '@tezos-domains/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TezosDomainsService {\n  private client: TaquitoTezosDomainsClient;\n  unsupportedNetwork = false;\n  private queue = [];\n  pending = false;\n  constructor() {\n    const tezosToolkit = new TezosToolkit(CONSTANTS.NODE_URL[0]);\n    tezosToolkit.addExtension(new Tzip16Module());\n    const options = { caching: { enabled: false } };\n    try {\n      this.client = new TaquitoTezosDomainsClient({\n        tezos: tezosToolkit,\n        network: <SupportedNetworkType>CONSTANTS.NETWORK,\n        ...options\n      });\n    } catch (e) {\n      if (e?.message && e.message.includes('Supported built-in networks are:') && !CONSTANTS.MAINNET) {\n        console.error(e);\n        console.warn('Falling back on Ghostnet as network for Tezos Domains initialization');\n        this.unsupportedNetwork = true;\n        this.client = new TaquitoTezosDomainsClient({\n          tezos: tezosToolkit,\n          network: <SupportedNetworkType>'ghostnet',\n          ...options\n        });\n      } else {\n        throw e;\n      }\n    }\n  }\n  async getAddressFromDomain(domain: string) {\n    if (this.unsupportedNetwork) {\n      return { pkh: '' };\n    }\n    const address = await this.client.resolver.resolveNameToAddress(domain);\n    if (!address) {\n      return { pkh: '' };\n    }\n    return { pkh: address };\n  }\n  async getDomainFromAddress(address: string): Promise<string> {\n    if (!this.pending) {\n      this.pending = true;\n      this.collect();\n    }\n    return new Promise((resolve, reject) => {\n      this.queue.push({ address, resolve, reject });\n    });\n  }\n  async collect() {\n    setTimeout(async () => {\n      this.pending = false;\n      const queue = this.queue;\n      this.queue = [];\n      const addresses = queue.map((q) => {\n        return q.address;\n      });\n      const items = await this.getDomainFromAddresses(addresses).catch((e) => {\n        for (const q of queue) {\n          q.reject(e);\n          throw e;\n        }\n      });\n      while (queue.length) {\n        const promise = queue.shift();\n        if (items[promise.address]) {\n          promise.resolve(items[promise.address]);\n        } else {\n          promise.resolve('');\n        }\n      }\n    }, 100);\n  }\n  async getDomainFromAddresses(addresses: any) {\n    if (this.unsupportedNetwork) {\n      return {};\n    }\n    const baseUrl = CONSTANTS.MAINNET ? 'https://api.tezos.domains/graphql' : `https://${CONSTANTS.NETWORK}-api.tezos.domains/graphql`;\n    const req = {\n      query: `{reverseRecords(where: {address: {in: ${JSON.stringify(addresses)}}}) {items {address domain: domain {id, name}}}}`\n    };\n    const response = await (\n      await fetch(baseUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(req)\n      })\n    ).json();\n    const r = {};\n    if (response.data) {\n      for (const item of response.data.reverseRecords.items) {\n        if (item?.address && item?.domain?.name) {\n          r[item.address] = item.domain.name;\n        }\n      }\n    }\n    return r;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { TokenResponseType, TokenService } from '../token/token.service';\nimport { ActivityService } from '../activity/activity.service';\nimport { WalletService } from '../wallet/wallet.service';\nimport { Account } from '../wallet/wallet';\nimport Big from 'big.js';\nimport { CONSTANTS, BLACKLISTED_TOKEN_CONTRACTS } from '../../../environments/environment';\nimport { decode } from 'blurhash';\nimport { combineLatest } from 'rxjs';\nimport { sampleTime } from 'rxjs/operators';\nimport { SubjectService } from '../subject/subject.service';\nimport { DipDupService } from '../indexer/dipdup/dipdup.service';\n\ninterface TokenWithBalance extends TokenResponseType {\n  balance: string;\n  price: string;\n}\ninterface ContractWithImg {\n  name: string;\n  thumbnailUrl: string;\n  visitUrl: string;\n  tokens: TokenWithBalance[];\n  hidden?: boolean;\n}\ntype ContractsWithBalance = Record<string, ContractWithImg>;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TokenBalancesService {\n  xtzUsdRate: number;\n  balances: TokenWithBalance[] = [];\n  nfts: ContractsWithBalance = null;\n  activeAccount: Account = null;\n  _thumbnailsToCreate = [];\n  constructor(\n    private tokenService: TokenService,\n    private activityService: ActivityService,\n    private walletService: WalletService,\n    private subjectService: SubjectService,\n    private dipdupService: DipDupService\n  ) {\n    combineLatest([\n      this.subjectService.activeAccount,\n      this.subjectService.metadataUpdated,\n      this.activityService.tokenBalanceUpdated,\n      this.subjectService.refreshTokens\n    ])\n      .pipe(sampleTime(10))\n      .subscribe(([a, b, c]) => {\n        if (this.activeAccount !== a) {\n          this.activeAccount = a;\n        }\n        this.reload();\n      });\n    this.reload();\n    this.subjectService.logout.subscribe((o) => {\n      if (!!o) {\n        this.destroy();\n      }\n    });\n  }\n  destroy() {\n    this.balances = [];\n    this.nfts = null;\n  }\n  resolveAsset(token, balances, nfts) {\n    const asset: TokenResponseType = this.tokenService.getAsset(token.tokenId);\n    if (BLACKLISTED_TOKEN_CONTRACTS.includes(asset?.contractAddress)) {\n      return;\n    }\n    if (asset) {\n      if (this.isNFT(asset)) {\n        // token balance or NFT?\n        let contractAddress = asset.contractAddress;\n        if (asset?.contractAddress === 'KT1RJ6PbjHpwc3M5rw5s2Nbmefwbuwbdxton' && asset?.mintingTool === 'https://teia.art/mint') {\n          contractAddress = contractAddress + '@teia';\n        }\n        const contractAlias = this.getContractAlias(contractAddress) ?? contractAddress;\n        if (nfts[contractAlias] === undefined) {\n          const CONTRACT_ALIASES = CONSTANTS.CONTRACT_ALIASES[contractAlias as string];\n          if (!CONTRACT_ALIASES?.thumbnailUrl) {\n            if (this._thumbnailsToCreate.filter((obj) => obj.contractAlias === contractAlias).length === 0) {\n              this._thumbnailsToCreate.push({\n                contractAlias,\n                address: contractAddress\n              });\n            }\n          }\n          const name = CONTRACT_ALIASES?.name ? CONTRACT_ALIASES.name : this.tokenService.getContractName(contractAddress) ?? contractAlias;\n          nfts[contractAlias] = {\n            name,\n            thumbnailUrl: CONTRACT_ALIASES?.thumbnailUrl ?? this.tokenService.getContractLogo(contractAddress),\n            tokens: []\n          };\n          if (CONTRACT_ALIASES?.link) {\n            nfts[contractAlias].visitUrl = CONTRACT_ALIASES.link;\n          }\n        }\n        nfts[contractAlias].tokens.push({ ...asset, balance: token.balance });\n      } else if (!isNaN(asset.decimals)) {\n        const balance = Big(token.balance)\n          .div(10 ** asset.decimals)\n          .toFixed();\n        balances.push({ ...asset, balance });\n      }\n    } else {\n      if (nfts['unknown'] === undefined) {\n        const hidden = this.nfts !== null && this.nfts['unknown'] === undefined;\n        nfts['unknown'] = {\n          name: 'Unknown tokens',\n          thumbnailUrl: '../../../assets/img/unknown-token-grayscale.svg',\n          tokens: [],\n          hidden\n        };\n        if (hidden) {\n          setTimeout(() => {\n            if (this.nfts['unknown'] !== undefined) {\n              this.nfts['unknown'].hidden = false;\n            }\n          }, 10000);\n        }\n      }\n      const placeholder = this.tokenService.getPlaceholderToken(token.tokenId);\n      placeholder.name = `${placeholder.contractAddress.slice(0, 8)}... (${placeholder.id.toString()})`;\n      delete placeholder.decimals;\n      nfts['unknown'].tokens.push(placeholder);\n    }\n  }\n  reload() {\n    if (!this.activeAccount?.tokens || !this.tokenService.initialized) {\n      return;\n    }\n    const balances: TokenWithBalance[] = [];\n    const nfts: ContractsWithBalance = {};\n    for (let token of this.walletService.wallet.getAccount(this.activeAccount.address).tokens) {\n      if (token?.balance && token?.balance != '0') {\n        this.resolveAsset(token, balances, nfts);\n      }\n    }\n    this.balances = balances;\n    this.nfts = this.orderedNfts(nfts);\n    this.mergeMarket();\n\n    if (this._thumbnailsToCreate.length) {\n      this._thumbnailsToCreate.forEach(({ contractAlias, address }) => {\n        if (!this.nfts[contractAlias].thumbnailUrl) {\n          this.nfts[contractAlias].thumbnailUrl = this.getThumbnailUrl(address);\n        }\n      });\n      this._thumbnailsToCreate = [];\n    }\n    this.subjectService.nftsUpdated.next({ nfts: this.nfts, balances: this.balances });\n  }\n  orderedNfts(nfts: ContractsWithBalance): ContractsWithBalance {\n    const _nfts: ContractsWithBalance = {};\n    const aliases = Object.keys(CONSTANTS.CONTRACT_ALIASES);\n    for (let alias of aliases) {\n      if (nfts[alias]) {\n        _nfts[alias] = nfts[alias];\n        delete nfts[alias];\n      }\n    }\n    const keys = Object.keys(nfts);\n    for (let key of keys) {\n      if (key !== 'unknown') {\n        _nfts[key] = nfts[key];\n        delete nfts[key];\n      }\n    }\n    if (nfts['unknown']) {\n      // property last\n      _nfts['unknown'] = nfts['unknown'];\n      delete nfts['unknown'];\n    }\n    return _nfts;\n  }\n  getContractAlias(address: string) {\n    const keys = Object.keys(CONSTANTS.CONTRACT_ALIASES);\n    for (const key of keys) {\n      if (CONSTANTS.CONTRACT_ALIASES[key].address.includes(address)) {\n        return key;\n      }\n    }\n    return undefined;\n  }\n  getThumbnailUrl(address: string): string {\n    const pixels = decode(address.slice(0, 22), 5, 5);\n    const canvas = document.createElement('canvas');\n    canvas.width = canvas.height = 5;\n    const ctx = canvas.getContext('2d');\n    const imageData = ctx.createImageData(5, 5);\n    imageData.data.set(pixels);\n    ctx.putImageData(imageData, 0, 0);\n    return canvas.toDataURL();\n  }\n\n  isNFT(asset: TokenResponseType): boolean {\n    if (!asset) {\n      return false;\n    }\n    if (CONSTANTS.MAINNET) {\n      return (\n        (asset?.isBooleanAmount || asset?.decimals == 0) &&\n        !(\n          CONSTANTS.NFT_CONTRACT_OVERRIDES.includes(`${asset.contractAddress}:${asset.id}`) ||\n          this.dipdupService.tokens.get(`${asset.contractAddress}:${asset.id}`)\n        )\n      );\n    } else {\n      return (asset?.isBooleanAmount || asset?.decimals == 0) && !CONSTANTS.NFT_CONTRACT_OVERRIDES.includes(`${asset.contractAddress}`) ? true : false;\n    }\n  }\n  mergeMarket() {\n    Object.keys(this.balances).forEach((key) => {\n      let midPrice = undefined;\n      const tokenId: string = `${this.balances[key]?.contractAddress}:${this.balances[key]?.id}`;\n      if ((midPrice = this.dipdupService.tokens.get(tokenId))) {\n        this.balances[key].price = midPrice * parseFloat(this.balances[key].balance) * this.walletService.wallet.XTZrate;\n      }\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CONSTANTS, TRUSTED_TOKEN_CONTRACTS, BLACKLISTED_TOKEN_CONTRACTS, environment } from '../../../environments/environment';\nimport { IndexerService } from '../indexer/indexer.service';\nimport Big from 'big.js';\nimport { SubjectService } from '../subject/subject.service';\nimport { filter } from 'rxjs/operators';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { ObjktService } from '../indexer/objkt/objkt.service';\nimport { DipDupService } from '../indexer/dipdup/dipdup.service';\nimport { indexedDB } from '../../libraries/index';\nimport { MetadataSource } from '../indexer/tzkt/tzkt.service';\n\nexport interface TokenResponseType {\n  contractAddress: string;\n  id: string;\n  decimals: number;\n  artifactAsset?: Asset;\n  displayAsset: Asset;\n  thumbnailAsset: Asset;\n  name: string;\n  symbol: string;\n  description: string;\n  category: string;\n  kind: string;\n  isTransferable?: boolean;\n  isBooleanAmount?: boolean;\n  shouldPreferSymbol?: boolean;\n  series?: string;\n  ttl?: number;\n  mintingTool?: string;\n  status: Status;\n  isUnknownToken?: boolean;\n}\nexport type Asset = string | CachedAsset;\nexport interface CachedAsset {\n  uri: string;\n  mimeType: string;\n}\n\nexport type ContractsType = Record<string, ContractType>;\nexport type ContractType = FA12 | FA2;\nexport interface TokensInterface {\n  category: string;\n  objkt?: {\n    name?: string;\n    logo?: string;\n    updated: number;\n  };\n}\nenum Status {\n  Rejected = -1,\n  Pending = 0,\n  Approved = 1\n}\nexport interface TokenData {\n  name: string;\n  symbol: string;\n  decimals: number;\n  description: string;\n  artifactAsset?: Asset;\n  displayAsset: Asset;\n  thumbnailAsset: Asset;\n  isTransferable?: boolean;\n  isBooleanAmount?: boolean;\n  shouldPreferSymbol?: boolean;\n  series?: string;\n  ttl?: number;\n  mintingTool?: string;\n  status: Status;\n}\nexport interface FA12 extends TokensInterface {\n  kind: 'FA1.2';\n  tokens: {\n    0: TokenData;\n  };\n}\nexport interface FA2 extends TokensInterface {\n  kind: 'FA2';\n  tokens: Record<number | string, TokenData>;\n}\n@Injectable({\n  providedIn: 'root'\n})\nexport class TokenService {\n  readonly AUTO_DISCOVER: boolean = true;\n  readonly version: string = '1.0.15';\n  private contracts: ContractsType = {};\n  public initialized = false;\n  private exploredIds: Record<string, { firstCheck: number; lastCheck: number; counter: number }> = {};\n  private pendingSave = null;\n  readonly storeKey = 'tokenMetadata';\n  readonly unlockablesKey = 'unlockables';\n  queue = [];\n  workers = 0;\n  constructor(\n    public indexerService: IndexerService,\n    private subjectService: SubjectService,\n    private dipdupService: DipDupService,\n    private router: Router,\n    private objktService: ObjktService\n  ) {\n    this.router.events.pipe(filter((evt) => evt instanceof NavigationEnd)).subscribe(async (r: NavigationEnd) => {\n      if (r.url.indexOf('/account') === -1) {\n        document.documentElement.className = '';\n      }\n    });\n    this.contracts = JSON.parse(JSON.stringify(CONSTANTS.ASSETS));\n    this.loadMetadata().then(() => {\n      this.initialized = true;\n      this.subjectService.metadataUpdated.next(null);\n      this.saveMetadata();\n    });\n  }\n  getAsset(tokenId: string): TokenResponseType {\n    if (!tokenId || !tokenId.includes(':')) {\n      return null;\n    }\n    const tokenIdArray = tokenId.split(':');\n    let contractAddress: string = tokenIdArray[0];\n    const id: string = tokenIdArray[1] ? String(tokenIdArray[1]) : null;\n    const contract: ContractType = this.contracts[contractAddress];\n    if (id != null) {\n      if (contract) {\n        let token: TokenResponseType = contract.tokens[id];\n        if (!token) {\n          // check ranges\n          const ids = Object.keys(contract.tokens);\n          for (const idx of ids) {\n            if (idx.includes('-')) {\n              const span = idx.split('-');\n              if (span.length === 2 && !isNaN(Number(span[0])) && !isNaN(Number(span[1]))) {\n                const first = Big(span[0]);\n                const last = Big(span[1]);\n                if (first.gte(id) && last.lte(id)) {\n                  token = JSON.parse(JSON.stringify(contract.tokens[idx]));\n                  token.name = `${JSON.parse(JSON.stringify(contract.tokens[idx].name))} #${Big(id).minus(first).plus(1)}`;\n                  break;\n                }\n              }\n            }\n          }\n        }\n        if (token) {\n          if (token.status < 0) {\n            return {\n              kind: contract.kind,\n              category: contract.category,\n              id,\n              contractAddress,\n              ...token,\n              thumbnailAsset: '',\n              displayAsset: ''\n            };\n          }\n          return {\n            kind: contract.kind,\n            category: contract.category,\n            id,\n            contractAddress,\n            ...token\n          };\n        }\n      }\n    }\n    return null;\n  }\n  getContractName(contractAddress: string) {\n    return this.contracts[contractAddress]?.objkt?.name ?? null;\n  }\n  getContractLogo(contractAddress: string) {\n    return this.contracts[contractAddress]?.objkt?.logo ?? null;\n  }\n  getContractAddressFromAsset(uri: string) {\n    const contractAddresses = Object.keys(this.contracts);\n    for (const contractAddress of contractAddresses) {\n      const tokens = this.contracts[contractAddress].tokens;\n      for (const id in tokens) {\n        if (tokens[id]?.thumbnailAsset?.uri === uri || tokens[id]?.displayAsset?.uri === uri || tokens[id]?.artifactAsset?.uri === uri) {\n          return contractAddress;\n        }\n      }\n    }\n    return '';\n  }\n  isKnownTokenId(tokenId: string): boolean {\n    return this.getAsset(tokenId) !== null;\n  }\n  knownTokenIds(): string[] {\n    const tokenIds: string[] = [];\n    const contractKeys = Object.keys(this.contracts);\n    if (contractKeys) {\n      for (const contractKey of contractKeys) {\n        const tokenKeys = Object.keys(this.contracts[contractKey].tokens);\n        if (tokenKeys) {\n          for (const tokenKey of tokenKeys) {\n            tokenIds.push(`${contractKey}:${tokenKey}`);\n          }\n        }\n      }\n    }\n    return tokenIds;\n  }\n  isCategoryType(address, regex: RegExp): boolean {\n    return regex.test(this.contracts[address]?.category);\n  }\n  isKnownTokenContract(address: string): boolean {\n    return this.contracts[address] !== undefined;\n  }\n  addAsset(contractAddress: string, contract: ContractType) {\n    if (!this.contracts[contractAddress]) {\n      this.contracts[contractAddress] = contract;\n      this.checkContractData(contractAddress, contract);\n    } else {\n      const currentKeys = Object.keys(this.contracts[contractAddress].tokens);\n      const newKeys = Object.keys(contract.tokens);\n      for (const key of newKeys) {\n        if (!currentKeys.includes(key)) {\n          this.contracts[contractAddress].tokens[key] = contract.tokens[key];\n        } else if (JSON.stringify(contract.tokens[key]) !== JSON.stringify(this.contracts[contractAddress].tokens[key])) {\n          this.contracts[contractAddress].tokens[key] = contract.tokens[key];\n        }\n      }\n    }\n  }\n\n  async checkContractData(contractAddress: string, contract: ContractType) {\n    let check = false;\n    if (!contract.objkt) {\n      check = true;\n    } else if (contract?.objkt?.updated) {\n      const diff = Date.now() - contract.objkt.updated;\n      if (!contract?.objkt?.name) {\n        if (diff > 1000 * 60 * 60 * 24) {\n          check = true;\n        }\n      }\n    }\n    if (check) {\n      const _objkt = await this.objktService.resolveCollection(contractAddress);\n      const objkt: any = { updated: Date.now() };\n      if (_objkt?.name) {\n        objkt.name = _objkt.name;\n        if (_objkt.logo) {\n          objkt.logo = _objkt.logo;\n        }\n      }\n      if (this.contracts[contractAddress]) {\n        this.contracts[contractAddress].objkt = objkt;\n      }\n      this.saveMetadata();\n      this.subjectService.metadataUpdated.next(null);\n    }\n  }\n  async searchAllMetadata(unknownTokenIds: any) {\n    if (unknownTokenIds.length) {\n      for (const tokenId of unknownTokenIds) {\n        this.searchMetadata(tokenId);\n      }\n    }\n  }\n  async recheckMetadata(tokens) {\n    if (tokens?.length) {\n      for (let token of tokens) {\n        try {\n          const tokenObject = this.getAsset(token.tokenId);\n          if (tokenObject?.ttl) {\n            const exp = this.exploredIds[token.tokenId];\n            const now = new Date().getTime();\n            if (now - exp.lastCheck > tokenObject.ttl * 1000) {\n              console.debug('recheck metadata for', token.tokenId);\n              this.exploredIds[token.tokenId].lastCheck = now;\n              this.exploredIds[token.tokenId].counter = ++exp.counter || 0;\n              this.saveMetadata();\n              if (!this.queue.includes(token.tokenId)) {\n                this.searchMetadata(token.tokenId, true);\n              }\n            }\n          }\n        } catch (e) {\n          console.error(e);\n        }\n      }\n    }\n  }\n  private async searchMetadata(tokenId: string, force = false) {\n    if ((!this.isKnownTokenId(tokenId) && !this.queue.includes(tokenId) && this.explore(tokenId)) || force) {\n      this.queue.push(tokenId);\n      if (this.workers < 2) {\n        this.startWorker();\n      }\n    }\n  }\n  async startWorker() {\n    this.workers++;\n    while (this.queue.length) {\n      const tokenId = this.queue.shift();\n      try {\n        const a = tokenId.split(':');\n        const contractAddress = a[0];\n        const id = String(a[1]);\n        const recentDay = this.exploredIds[tokenId]?.lastCheck - this.exploredIds[tokenId]?.firstCheck < 1000 * 3600 * 24;\n        const skipTzkt = this.isKnownTokenId(tokenId) && this.exploredIds[tokenId]?.counter % 5 === 3 && recentDay;\n        let metadataSource = skipTzkt ? MetadataSource.TaquitoOnly : MetadataSource.Any;\n        if (this.exploredIds[tokenId]?.counter === 0) {\n          metadataSource = MetadataSource.TzktOnly;\n        }\n        const metadata = await this.indexerService.getTokenMetadata(contractAddress, id, metadataSource);\n        this.handleMetadata(metadata, contractAddress, id);\n      } catch (e) {}\n    }\n    this.workers--;\n  }\n  handleMetadata(metadata: any, contractAddress: string, id: string) {\n    const tokenId = `${contractAddress}:${id}`;\n    if (metadata && (metadata.name || metadata.symbol) && !isNaN(metadata.decimals) && metadata.decimals >= 0) {\n      const contract: ContractType = {\n        kind: metadata.tokenType ? metadata.tokenType : 'FA2',\n        category: metadata.tokenCategory ? metadata.tokenCategory : '',\n        tokens: {}\n      };\n      const token: TokenData = {\n        name: metadata.name ? metadata.name : '',\n        symbol: metadata.symbol ? metadata.symbol : '',\n        decimals: Number(metadata.decimals),\n        description: metadata.description ? metadata.description : '',\n        artifactAsset: metadata.artifactUri ?? '',\n        displayAsset: metadata.displayUri ?? '',\n        thumbnailAsset: metadata.thumbnailUri ?? '',\n        isTransferable: metadata?.isTransferable === false ? metadata.isTransferable : true,\n        isBooleanAmount: metadata?.isBooleanAmount ? metadata.isBooleanAmount : false,\n        status:\n          TRUSTED_TOKEN_CONTRACTS.includes(contractAddress) || CONSTANTS.NFT_CONTRACT_OVERRIDES.includes(tokenId) || this.dipdupService.tokens.get(tokenId)\n            ? 1\n            : 0\n      };\n      if (metadata?.ttl) {\n        token.ttl = Math.max(Number(metadata.ttl), 30);\n      }\n      if (metadata?.mintingTool) {\n        token.mintingTool = metadata.mintingTool;\n      }\n      if (metadata?.series) {\n        token.series = metadata.series;\n      }\n      if (CONSTANTS.ASSETS[contractAddress]?.tokens[id]) {\n        contract.tokens[id] = { ...token, ...CONSTANTS.ASSETS[contractAddress].tokens[id] };\n      } else {\n        contract.tokens[id] = token;\n      }\n      this.addAsset(contractAddress, contract);\n      this.saveMetadata();\n      this.subjectService.metadataUpdated.next({\n        contractAddress,\n        id,\n        token\n      });\n    }\n  }\n  explore(tokenId: string): boolean {\n    const now = new Date().getTime();\n    if (!this.exploredIds[tokenId]) {\n      this.exploredIds[tokenId] = {\n        firstCheck: now,\n        lastCheck: now,\n        counter: 0\n      };\n      this.saveMetadata();\n      return true;\n    } else {\n      const token = this.exploredIds[tokenId];\n      let t1 = 2 ** token.counter * 250;\n      t1 = t1 < 20000 ? 20000 : t1;\n      const t2 = now - token.lastCheck;\n      if (t1 > t2) {\n        return false;\n      }\n      this.exploredIds[tokenId].lastCheck = now;\n      this.exploredIds[tokenId].counter = ++token.counter;\n      this.saveMetadata();\n      return true;\n    }\n  }\n  private getCounter(tokenId: string) {\n    return this.exploredIds[tokenId].counter;\n  }\n  resetCounters() {\n    const ids = Object.keys(this.exploredIds);\n    if (ids) {\n      for (const id of ids) {\n        this.exploredIds[id].counter = 0;\n      }\n      this.saveMetadata(true);\n    }\n  }\n  async resetAllMetadata() {\n    this.exploredIds = {};\n    this.contracts = JSON.parse(JSON.stringify(CONSTANTS.ASSETS));\n    await this.saveMetadata(true);\n    this.queue = [];\n    await this.loadMetadata();\n    this.subjectService.metadataUpdated.next(null);\n  }\n  searchTimeMs(tokenId: string) {\n    if (this.exploredIds[tokenId]) {\n      const token = this.exploredIds[tokenId];\n      return token.lastCheck - token.firstCheck;\n    }\n    return 0;\n  }\n  getPlaceholderToken(tokenId: string): TokenResponseType {\n    const tokenIdArray = tokenId.split(':');\n    const contractAddress: string = tokenIdArray[0];\n    const id: string = tokenIdArray[1] ? String(tokenIdArray[1]) : '';\n    return {\n      contractAddress,\n      id,\n      decimals: 0,\n      displayAsset: '',\n      thumbnailAsset: '',\n      name: '[Unknown token]',\n      symbol: '',\n      description: '',\n      category: '',\n      kind: 'FA2',\n      status: 0,\n      isUnknownToken: true\n    };\n  }\n  async saveMetadata(force = false) {\n    if (force) {\n      await this._saveMetadata();\n      return;\n    }\n    if (!this.pendingSave) {\n      this.pendingSave = setTimeout(() => {\n        this.pendingSave = null;\n        this._saveMetadata();\n      }, 1000);\n    }\n  }\n  private async _saveMetadata() {\n    const data = {\n      contracts: this.contracts,\n      exploredIds: this.exploredIds,\n      version: this.version\n    };\n    try {\n      localStorage.setItem(this.storeKey, JSON.stringify(data));\n    } catch (e) {\n      localStorage.setItem(this.storeKey, 'KV_DB');\n      await indexedDB.saveToKvDb('tokenMetadata', data);\n    }\n  }\n  async loadMetadata() {\n    let metadataJson = localStorage.getItem(this.storeKey);\n    if (metadataJson) {\n      let metadata: any;\n      if (metadataJson === 'KV_DB') {\n        metadata = await indexedDB.getFromKvDb('tokenMetadata');\n      } else {\n        metadata = JSON.parse(metadataJson);\n      }\n      if (metadata?.version === this.version) {\n        if (metadata?.contracts) {\n          const contractAddresses = Object.keys(metadata.contracts);\n          for (const address of contractAddresses) {\n            for (const id of Object.keys(metadata.contracts[address].tokens)) {\n              if (metadata.contracts[address].tokens[id]?.status === 0) {\n                if (\n                  TRUSTED_TOKEN_CONTRACTS.includes(address) ||\n                  CONSTANTS.NFT_CONTRACT_OVERRIDES.includes(`${address}:${id}`) ||\n                  this.dipdupService.tokens.get(`${address}:${id}`)\n                ) {\n                  metadata.contracts[address].tokens[id].status = 1; // flip status if it have been marked as trusted\n                }\n                if (BLACKLISTED_TOKEN_CONTRACTS.includes(address)) {\n                  metadata.contracts[address].tokens[id].status = -1;\n                }\n              }\n            }\n            this.addAsset(address, metadata.contracts[address]);\n          }\n        }\n        if (metadata?.exploredIds) {\n          this.exploredIds = metadata.exploredIds;\n        }\n      } else if (metadata?.version === '1.0.14') {\n        // Clear hen metadata for new teia alias\n        try {\n          delete metadata.contracts['KT1RJ6PbjHpwc3M5rw5s2Nbmefwbuwbdxton'];\n          metadata.version = '1.0.15';\n          await this.saveMetadata(true);\n          await this.loadMetadata();\n        } catch (e) {\n          console.error(e);\n        }\n      } else {\n        // clear all metadata\n      }\n    }\n  }\n  formatAmount(tokenKey: string, amount: string, baseUnit = true): string {\n    if (!tokenKey) {\n      return `${Big(amount)\n        .div(10 ** (baseUnit ? 6 : 0))\n        .toFixed()} tez`;\n    } else {\n      const token = this.getAsset(tokenKey);\n      if (token) {\n        if ((!token.shouldPreferSymbol && token.name) || !token.symbol) {\n          if (token.isBooleanAmount) {\n            if (parseInt(amount) > 1) {\n              return `${amount} ${token.name}`;\n            }\n            return `${token.name}`;\n          } else {\n            return `${Big(amount)\n              .div(10 ** (baseUnit ? token.decimals : 0))\n              .toFixed()} ${token.name}`;\n          }\n        } else {\n          return `${Big(amount)\n            .div(10 ** (baseUnit ? token.decimals : 0))\n            .toFixed()} ${token.symbol}`;\n        }\n      } else {\n        return '[Unknown token]';\n      }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport DirectWebSdk from 'customauth';\nimport NodeDetailManager from '@toruslabs/fetch-node-details';\nimport { TORUS_LEGACY_NETWORK } from '@toruslabs/constants';\nimport TorusUtils from '@toruslabs/torus.js';\nimport { OperationService } from '../../services/operation/operation.service';\nimport { InputValidationService } from '../../services/input-validation/input-validation.service';\nimport { CONSTANTS } from '../../../environments/environment';\nimport { MessageService } from '../message/message.service';\n\nconst GOOGLE = 'google';\nconst REDDIT = 'reddit';\nconst TWITTER = 'twitter';\nconst FACEBOOK = 'facebook';\nconst EMAIL = 'email';\nconst AUTH_DOMAIN = 'https://dev-0li4gssz.eu.auth0.com';\nconst AUTH_DOMAIN_MAINNET = 'https://kukai.eu.auth0.com';\n@Injectable({\n  providedIn: 'root'\n})\nexport class TorusService {\n  readonly web3AuthClientId = CONSTANTS.MAINNET\n    ? 'BBQoFIabI50S1-0QsGHGTM4qID_FDjja0ZxIxKPyFqc0El--M-EG0c2giaBYVTVVE6RC9WCUzCJyW24aJrR_Lzc'\n    : 'BBHmFdLXgGDzSiizRVMWtyL_7Dsoxu5B8zep2Pns8sGELslgXDbktJewVDVDDBlknEKkMCtzISLjJtxk60SK2-g';\n  torus: any = undefined;\n  nodeDetails: { torusNodeEndpoints: string[]; torusNodePub: any[] } = null;\n  public readonly verifierMap: any;\n  private readonly proxy: any;\n  verifierMaps = {\n    testnet: {\n      [GOOGLE]: {\n        name: 'Google',\n        typeOfLogin: 'google',\n        clientId: '952872982551-od475jfe3ach7dghacin634rbkcqhpll.apps.googleusercontent.com',\n        verifier: 'kukai-google',\n        subVerifier: 'web-kukai',\n        caseSensitiveVerifierID: false,\n        lookups: true,\n        aggregated: true\n      },\n      [REDDIT]: {\n        name: 'Reddit',\n        typeOfLogin: 'jwt',\n        clientId: '7xLcBa3xd4VTmlGbClU3qXeBZGta3OvM',\n        verifier: 'tezos-reddit-testnet',\n        subVerifier: 'web-kukai',\n        caseSensitiveVerifierID: false,\n        lookups: true,\n        aggregated: true\n      },\n      [TWITTER]: {\n        name: 'Twitter',\n        typeOfLogin: 'twitter',\n        clientId: 'vKFgnaYZzKLUnhxnX5xqTqeMcumdVTz1',\n        verifier: 'tezos-twitter-test',\n        caseSensitiveVerifierID: false,\n        lookups: true\n      },\n      [FACEBOOK]: {\n        name: 'Facebook',\n        typeOfLogin: 'facebook',\n        clientId: '213778980232619',\n        verifier: 'tezos-facebook-testnet',\n        caseSensitiveVerifierID: false\n      },\n      [EMAIL]: {\n        name: 'Email',\n        typeOfLogin: 'jwt',\n        clientId: 'L98HOmUY0hxLGX9k8AHEZxb1dj9Y3uZw',\n        verifier: 'kukai-google',\n        subVerifier: 'web-kukai-email',\n        caseSensitiveVerifierID: false,\n        lookups: true,\n        aggregated: true\n      }\n    },\n    mainnet: {\n      [GOOGLE]: {\n        name: 'Google',\n        typeOfLogin: 'google',\n        clientId: '952872982551-49mfvktoios59oj2kmiknlltfq9pvi6c.apps.googleusercontent.com',\n        verifier: 'tezos-google',\n        subVerifier: 'kukai-web',\n        caseSensitiveVerifierID: false,\n        lookups: true,\n        aggregated: true\n      },\n      [REDDIT]: {\n        name: 'Reddit',\n        typeOfLogin: 'jwt',\n        clientId: 'zyQ9tnKfdg3VNyj6MGhZq4dHbBzbmEvl',\n        verifier: 'tezos-reddit',\n        subVerifier: 'web-kukai',\n        caseSensitiveVerifierID: false,\n        lookups: true,\n        aggregated: true\n      },\n      [TWITTER]: {\n        name: 'Twitter',\n        typeOfLogin: 'twitter',\n        clientId: '3aCoxh3pw8g8JeFsdlJNUGwdgtLwdwgE',\n        verifier: 'tezos-twitter',\n        caseSensitiveVerifierID: false,\n        lookups: true\n      },\n      [FACEBOOK]: {\n        name: 'Facebook',\n        typeOfLogin: 'facebook',\n        clientId: '523634882377310',\n        verifier: 'tezos-facebook',\n        caseSensitiveVerifierID: false\n      },\n      [EMAIL]: {\n        name: 'Email',\n        typeOfLogin: 'jwt',\n        clientId: 'LTg6fVsacafGmhv14TZlrWF1EavwQoDZ',\n        verifier: 'tezos-google',\n        subVerifier: 'web-kukai-email',\n        caseSensitiveVerifierID: false,\n        lookups: true,\n        aggregated: true\n      }\n    }\n  };\n  verifierMapKeys: any;\n  constructor(private operationService: OperationService, private inputValidationService: InputValidationService, private messageService: MessageService) {\n    if (CONSTANTS.MAINNET) {\n      this.verifierMap = this.verifierMaps.mainnet;\n      this.proxy = {\n        network: TORUS_LEGACY_NETWORK.MAINNET\n      };\n    } else {\n      this.verifierMap = this.verifierMaps.testnet;\n      this.proxy = {\n        network: TORUS_LEGACY_NETWORK.TESTNET\n      };\n    }\n    this.verifierMapKeys = Object.keys(this.verifierMap);\n  }\n  private async isBraveOrChrome(): Promise<boolean> {\n    return (await (<any>navigator)?.brave?.isBrave()) || navigator.userAgent.includes('Chrome') || false;\n  }\n  async initTorus() {\n    if (this.torus === undefined) {\n      this.torus = null;\n      try {\n        // set this value to false in every browser except for brave\n        const redirectToOpener = await this.isBraveOrChrome();\n        const torusdirectsdk = new DirectWebSdk({\n          web3AuthClientId: this.web3AuthClientId,\n          baseUrl: `${location.origin}/serviceworker`,\n          redirectToOpener,\n          enableLogging: !(this.proxy.network === 'mainnet'),\n          network: this.proxy.network\n        });\n        await torusdirectsdk.init({ skipSw: false });\n        this.torus = torusdirectsdk;\n      } catch (error) {\n        this.torus = undefined;\n        console.error(error, 'oninit caught');\n      }\n    }\n  }\n  async lookupPkh(selectedVerifier: string, verifierId: string): Promise<any> {\n    const fetchNodeDetails = new NodeDetailManager({\n      network: this.proxy.network\n    });\n    const torus = new TorusUtils({ clientId: this.web3AuthClientId, network: this.proxy.network });\n    let sanitizedVerifierId = verifierId;\n    if (!this.verifierMap[selectedVerifier].caseSensitiveVerifierID && selectedVerifier !== 'twitter') {\n      sanitizedVerifierId = sanitizedVerifierId.toLocaleLowerCase();\n    }\n    let twitterId = '';\n    if (selectedVerifier === 'twitter') {\n      const username = sanitizedVerifierId.replace('@', '');\n      const { id } = await this.twitterLookup(username);\n      if (this.inputValidationService.twitterId(id)) {\n        sanitizedVerifierId = `twitter|${id}`;\n        twitterId = id;\n      } else {\n        throw new Error('Twitter handle not found');\n      }\n    }\n    const verifier = this.verifierMap[selectedVerifier].verifier;\n    if (!this.nodeDetails) {\n      const { torusNodeEndpoints, torusNodePub, torusIndexes } = await fetchNodeDetails.getNodeDetails({ verifier, verifierId: sanitizedVerifierId });\n      this.nodeDetails = { torusNodeEndpoints, torusNodePub }; // Cache node details\n    }\n    const { finalKeyData }: any = await torus.getPublicAddress(this.nodeDetails.torusNodeEndpoints, this.nodeDetails.torusNodePub, {\n      verifier,\n      verifierId: sanitizedVerifierId\n    });\n    const pkh = this.operationService.spPointsToPkh(finalKeyData?.X, finalKeyData?.Y);\n    return { pkh, twitterId };\n  }\n  async twitterLookup(username?: string, id?: string) {\n    let req = {};\n    if ((id && username) || (!id && !username)) {\n      console.log({ username, id });\n      throw new Error('Invalid input');\n    } else if (id) {\n      req = { id };\n    } else {\n      req = { username: username.replace('@', '') };\n    }\n    return await fetch(`https://backend.kukai.network/twitter-lookup`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      referrerPolicy: 'no-referrer',\n      body: JSON.stringify(req)\n    }).then((ans) => {\n      return ans.json();\n    });\n  }\n  async loginTorus(selectedVerifier: string, verifierId = '', skipTorusKey = 0, checkIfNewKey = false): Promise<any> {\n    if (!CONSTANTS.MAINNET && document?.location?.host === 'localhost:4200' && !['google', 'twitter', 'email'].includes(selectedVerifier)) {\n      return this.mockLogin(selectedVerifier); // mock locally\n    }\n    try {\n      const jwtParams: any = this._loginToConnectionMap()[selectedVerifier] || {};\n      if (verifierId && selectedVerifier === GOOGLE) {\n        jwtParams.login_hint = verifierId;\n        console.log('login_hint: ' + verifierId);\n      }\n      if (verifierId && selectedVerifier === EMAIL) {\n        jwtParams.login_hint = verifierId;\n      }\n      const { typeOfLogin, clientId, verifier, aggregated } = this.verifierMap[selectedVerifier];\n      const loginDetails = aggregated\n        ? await this.torus.triggerAggregateLogin({\n            login_hint: verifierId,\n            aggregateVerifierType: 'single_id_verifier',\n            verifierIdentifier: verifier,\n            subVerifierDetailsArray: [\n              {\n                clientId,\n                typeOfLogin: typeOfLogin,\n                verifier: this.verifierMap[selectedVerifier].subVerifier,\n                jwtParams\n              }\n            ],\n            skipTorusKey,\n            checkIfNewKey\n          })\n        : await this.torus.triggerLogin({\n            verifier,\n            typeOfLogin,\n            clientId,\n            jwtParams,\n            skipTorusKey,\n            checkIfNewKey\n          });\n      if (aggregated) {\n        loginDetails.userInfo = loginDetails.userInfo[0];\n      }\n      if (selectedVerifier === FACEBOOK) {\n        console.log('Invalidating access token...');\n        fetch(`https://graph.facebook.com/me/permissions?access_token=${loginDetails.userInfo.accessToken}`, { method: 'DELETE', mode: 'cors' });\n      }\n      const keyPair =\n        skipTorusKey && !loginDetails?.finalKeyData?.privKey\n          ? { pk: '', pkh: '' }\n          : this.operationService.spPrivKeyToKeyPair(loginDetails.finalKeyData.privKey);\n      console.log('DirectAuth KeyPair', keyPair);\n      if (loginDetails?.existingPk) {\n        loginDetails.userInfo.preexistingPkh = this.operationService.spPointsToPkh(loginDetails.existingPk.X, loginDetails.existingPk.Y);\n        loginDetails.userInfo.isNewKey = !loginDetails?.existingPk;\n      }\n      if (loginDetails?.userInfo?.typeOfLogin === 'jwt') {\n        loginDetails.userInfo.typeOfLogin = selectedVerifier;\n      }\n      console.log('DirectAuth UserInfo', loginDetails.userInfo);\n      return { keyPair, userInfo: loginDetails.userInfo };\n    } catch (e) {\n      console.error(e, 'login caught');\n      if (typeof e?.message === 'string') {\n        this.messageService.addError(e.message, 0);\n      }\n      return { keyPair: null, userInfo: null };\n    }\n  }\n  async getTorusKeyPair(selectedVerifier: string, verifierId: string): Promise<any> {\n    const { keyPair } = await this.loginTorus(selectedVerifier, verifierId);\n    return keyPair;\n  }\n  _loginToConnectionMap = () => {\n    return {\n      [TWITTER]: {\n        domain: CONSTANTS.MAINNET ? AUTH_DOMAIN_MAINNET : AUTH_DOMAIN\n      },\n      [FACEBOOK]: {\n        scope: 'public_profile email'\n      },\n      [REDDIT]: {\n        domain: CONSTANTS.MAINNET ? AUTH_DOMAIN_MAINNET : AUTH_DOMAIN,\n        connection: 'Reddit',\n        verifierIdField: 'name',\n        isVerifierIdCaseSensitive: false\n      },\n      [EMAIL]: {\n        domain: CONSTANTS.MAINNET ? AUTH_DOMAIN_MAINNET : AUTH_DOMAIN,\n        connection: '',\n        verifierIdField: 'name',\n        isVerifierCaseSensitive: false\n      }\n    };\n  };\n  private async mockLogin(typeOfLogin: string): Promise<any> {\n    const keyPair = {\n      sk: 'spsk1VfCfhixtzGvUSKDre6jwyGbXFm6aoeLGnxeVLCouueZmkgtJF',\n      pk: 'sppk7cZsZeBApsFgYEdWuSwj92YCWkJxMmBfkN3FeKRmEB7Lk5pmDrT',\n      pkh: 'tz2WKg52VqnYXH52TZbSVjT4hcc8YGVKi7Pd'\n    };\n    const userInfo = {\n      typeOfLogin,\n      verifierId: typeOfLogin !== 'google' ? 'MockUser' : 'mock@user.com',\n      name: typeOfLogin !== 'twitter' ? 'Mock User' : '@MockUser'\n    };\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve({ keyPair, userInfo });\n      }, 1000);\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { WalletService } from '../wallet/wallet.service';\nimport { CONSTANTS } from '../../../environments/environment';\n\n@Injectable()\nexport class TzrateService {\n  public apiUrl = 'https://api.coingecko.com/api/v3/simple/price?ids=tezos&vs_currencies=usd';\n  constructor(private http: HttpClient, private walletService: WalletService) {}\n\n  getTzrate() {\n    if (CONSTANTS.MAINNET) {\n      this.http.get(this.apiUrl).subscribe(\n        (price: any) => {\n          this.walletService.wallet.XTZrate = price.tezos.usd;\n          this.updateFiatBalances();\n        },\n        (err) => console.log('Failed to get xtz price: ' + JSON.stringify(err))\n      );\n    } else {\n      this.walletService.wallet.XTZrate = 0;\n      this.updateFiatBalances();\n    }\n  }\n  updateFiatBalances() {\n    const accounts = this.walletService.wallet.getAccounts();\n    let tot = 0;\n    let change = false;\n    for (const account of accounts) {\n      if (account.balanceXTZ !== null) {\n        account.balanceUSD = Number((account.balanceXTZ / 1000000) * this.walletService.wallet.XTZrate);\n        tot += account.balanceUSD;\n        change = true;\n      }\n    }\n    if (change) {\n      this.walletService.wallet.totalBalanceUSD = Number(tot);\n      this.walletService.storeWallet();\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { IndexerService } from '../indexer/indexer.service';\nimport { filter } from 'rxjs/operators';\nimport { NavigationEnd, Router } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UnlockableService {\n  readonly settingsKey = 'settings';\n  unlockables: any;\n  queue = [];\n  workers = 0;\n  constructor(public indexerService: IndexerService, private router: Router) {\n    this.router.events.pipe(filter((evt) => evt instanceof NavigationEnd)).subscribe(async (r: NavigationEnd) => {\n      if (r.url.indexOf('/account') === -1) {\n        document.documentElement.className = '';\n      }\n    });\n  }\n\n  toggleFeature(type, feat): boolean {\n    this.unlockables = localStorage.getItem(this.settingsKey);\n    if (this.unlockables) {\n      try {\n        this.unlockables = JSON.parse(this.unlockables);\n        this.unlockables[type] = this.unlockables[type] === feat ? '' : feat;\n        localStorage.setItem(this.settingsKey, JSON.stringify(this.unlockables));\n        if (this.unlockables[type]) {\n          document.documentElement.classList.add(feat);\n        } else {\n          document.documentElement.classList.remove(feat);\n        }\n        return this.unlockables[type];\n      } catch (e) {\n        return false;\n      }\n    } else {\n      this.unlockables = {};\n      this.unlockables[type] = feat;\n      localStorage.setItem(this.settingsKey, JSON.stringify(this.unlockables));\n      document.documentElement.classList.add(feat);\n      return true;\n    }\n  }\n  restoreFeatures() {\n    this.unlockables = localStorage.getItem(this.settingsKey);\n    if (this.unlockables) {\n      try {\n        this.unlockables = JSON.parse(this.unlockables);\n        for (let feat of Object.keys(this.unlockables)) {\n          if (!!this.unlockables[feat]) {\n            document.documentElement.classList.add(this.unlockables[feat]);\n          }\n        }\n      } catch (e) {}\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UtilsService {\n  constructor() {}\n  async sleep(ms: number) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\n\n  promiseWithTimeout<T>(promise: Promise<T>, timeout: number): Promise<T> {\n    return Promise.race([\n      promise,\n      new Promise<T>((_, reject) => {\n        setTimeout(() => {\n          reject(new Error(`Timeout after ${timeout}ms`));\n        }, timeout);\n      })\n    ]);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Subject } from 'rxjs';\nimport { BroadcastChannel, createLeaderElection, LeaderElector } from 'broadcast-channel';\nexport enum MessageKind {\n  PropagateRequest = 'wc_propagate_request',\n  PropagateResponse = 'wc_propagate_response',\n  DeleteRequest = 'wc_delete_request',\n  PairingRequest = 'wc_pairing_request',\n  UpdateRequest = 'wc_session_update',\n  RefreshDappList = 'wc_refresh_dapp_list',\n  NewTabInitialized = 'new_tab_initialized'\n}\nexport type Message =\n  | {\n      kind: MessageKind.PairingRequest;\n      payload: string;\n    }\n  | {\n      kind: MessageKind.DeleteRequest;\n      payload: string;\n    }\n  | {\n      kind: MessageKind.PropagateRequest;\n      payload: any;\n    }\n  | {\n      kind: MessageKind.PropagateResponse;\n      payload: any;\n    }\n  | {\n      kind: MessageKind.UpdateRequest;\n      payload: any;\n    }\n  | {\n      kind: MessageKind.RefreshDappList;\n      payload: undefined;\n    }\n  | {\n      kind: MessageKind.NewTabInitialized;\n      payload: undefined;\n    };\n@Injectable({\n  providedIn: 'root'\n})\nexport class BcService {\n  private _initAsLeader;\n  private channel: BroadcastChannel<Message>;\n  private elector: LeaderElector;\n  private _elected: any;\n  public elected: Promise<void> = new Promise((resolve) => {\n    this._elected = resolve;\n  });\n  private _initDone: any;\n  private initDone: Promise<void> = new Promise((resolve) => {\n    this._initDone = resolve;\n  });\n  subject: any = {\n    wc_pairing_request: new Subject<any>(),\n    wc_delete_request: new Subject<any>(),\n    wc_propagate_request: new Subject<any>(),\n    wc_propagate_response: new Subject<any>(),\n    wc_session_update: new Subject<any>(),\n    wc_refresh_dapp_list: new Subject<any>(),\n    new_tab_initialized: new Subject<any>(),\n    test: new Subject<any>(),\n    all: new Subject<Message>()\n  };\n  constructor() {\n    this.channel = new BroadcastChannel('tab-sync');\n    this.channel.onmessage = (msg) => this.handleMessage(msg);\n    this.waitOnLeadership().then(() => this._elected());\n  }\n  private async waitOnLeadership(): Promise<void> {\n    this.elector = createLeaderElection(this.channel);\n    this.elector.onduplicate = () => {\n      console.warn('duplicate leaders!');\n    };\n    this.elector.hasLeader().then((hasLeader) => {\n      if (hasLeader) {\n        this.broadcast({ kind: MessageKind.NewTabInitialized, payload: undefined });\n      }\n      console.log(`%c# ${hasLeader ? 'WC2 leader already exist' : 'No WC2 leader found'} #`, 'color: darkblue');\n      this._initAsLeader = !hasLeader;\n      this._initDone();\n    });\n    await this.elector.awaitLeadership();\n    console.log('%c# This tab is now elected wc2 leader #', 'color: darkgreen');\n  }\n  public async initAsLeader(): Promise<boolean> {\n    !this.initDone || (await this.initDone);\n    if (this._initAsLeader !== undefined) {\n      return this._initAsLeader;\n    }\n    const hasLeader = await this.elector.hasLeader();\n    return (this._initAsLeader = !hasLeader);\n  }\n  private handleMessage(msg: Message) {\n    console.log('bc-message received', msg);\n    if (!this.subject[msg.kind]) {\n      throw new Error('Invalid MessageKind: ' + msg?.kind);\n    }\n    this.subject[msg?.kind].next(msg.payload);\n    this.subject.all.next(msg);\n  }\n  public broadcast(message: Message) {\n    console.log('bc-message broadcasted', message);\n    this.channel.postMessage(message);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport Client, { ENGINE_RPC_OPTS, SignClient } from '@walletconnect/sign-client';\nimport { SignClientTypes, PairingTypes, SessionTypes, ISession, EngineTypes } from '@walletconnect/types';\n// https://github.com/WalletConnect/walletconnect-monorepo/blob/bc6f6632b7c665d868bcd59669281c1ead2dd31a/packages/utils/src/errors.ts#L10\nimport { ErrorResponse, formatJsonRpcResult, formatJsonRpcRequest, formatJsonRpcError, getErrorByCode, getError } from '@walletconnect/jsonrpc-utils';\nimport { getSdkError } from '@walletconnect/utils';\nimport { CONSTANTS, environment } from '../../../environments/environment';\nimport { SubjectService } from '../subject/subject.service';\nimport { OperationService } from '../operation/operation.service';\nimport { BcService, MessageKind } from '../bc/bc.service';\nimport { WalletService } from '../wallet/wallet.service';\nimport { Subject, Subscription } from 'rxjs';\nimport { UtilsService } from '../utils/utils.service';\nimport { isEqual } from 'lodash';\nimport { indexedDB } from '../../libraries/index';\n\nconst SESSION_STORAGE_KEY = 'wc@2:client:0.3:session';\nconst PAIRING_STORAGE_KEY = 'wc@2:core:0.3:pairing';\nconst KEYCHAIN_STORAGE_KEY = 'wc@2:core:0.3:keychain';\ninterface Pairings {\n  expanded: boolean;\n  size: number;\n  dapp: Record<string, DPairings>;\n}\ninterface DPairings {\n  expanded: boolean;\n  p: DPairing[];\n}\ninterface DPairing {\n  name: string;\n  topic: string;\n  expiry: number;\n}\ninterface Sessions {\n  expanded: boolean;\n  size: number;\n  dapp: Record<string, DSessions>;\n}\ninterface DSessions {\n  expanded: boolean;\n  s: DSession[];\n}\ninterface DSession {\n  name: string;\n  address: string;\n  topic: string;\n  expiry: number;\n}\n@Injectable({\n  providedIn: 'root'\n})\nexport class WalletConnectService {\n  public changeSessionAccount: Subject<string> = new Subject<string>();\n  public autoCloseRequest: Subject<number | string> = new Subject<number | string>();\n  public getCurrentRequest: Function = null;\n  readonly supportedMethods = ['tezos_send', 'tezos_sign', 'tezos_getAccounts'];\n  readonly supportedEvents = [];\n  private enableWc2: any;\n  deduplicate: any = {};\n  client: Client;\n  initDoneAt: number;\n  private subscriptions: Subscription;\n  delayedPairing: any;\n  sessions: Sessions = { expanded: false, size: 0, dapp: {} };\n  pairings: Pairings = { expanded: false, size: 0, dapp: {} };\n  display: {\n    pairing: Record<string, { offset: number; expanded: boolean }>;\n    session: Record<string, { offset: number; expanded: boolean }>;\n    pairingsExpanded: boolean;\n    sessionsExpanded: boolean;\n  } = { pairing: {}, session: {}, pairingsExpanded: false, sessionsExpanded: false };\n  constructor(\n    private subjectService: SubjectService,\n    private operationService: OperationService,\n    private bcService: BcService,\n    private walletService: WalletService\n  ) {\n    (async () => {\n      this.subjectService.login.subscribe(() => {\n        if (this.client) {\n          console.log('open transport');\n          this.client.core.relayer.transportOpen();\n        }\n      });\n      this.subjectService.logout.subscribe(() => {\n        if (this.client) {\n          console.log('close transport');\n          this.client.core.relayer.transportClose();\n        }\n      });\n      this.initBcSubscriptions();\n      this.refresh();\n      await this.bcService.elected;\n      if (!localStorage.getItem('wc2_activated')) {\n        await new Promise((resolve) => {\n          this.enableWc2 = resolve;\n        });\n      }\n      this.startClient();\n    })();\n  }\n  ngOnDestroy(): void {\n    this.subscriptions?.unsubscribe();\n  }\n  private async initBcSubscriptions() {\n    this.subscriptions = new Subscription();\n    this.subscriptions.add(\n      this.bcService.subject[MessageKind.PairingRequest].subscribe(async (pairingString) => {\n        if (this.client || (await this.bcService.initAsLeader()) || this.enableWc2) {\n          this.pair(pairingString);\n        }\n      })\n    );\n    this.subscriptions.add(\n      this.bcService.subject[MessageKind.DeleteRequest].subscribe((topic) => {\n        if (this.client) {\n          this.delete(topic);\n        }\n      })\n    );\n    this.subscriptions.add(\n      this.bcService.subject[MessageKind.PropagateRequest].subscribe((request) => {\n        console.log('propagated request:', request.type, request);\n        this.subjectService.wc2.next(request);\n      })\n    );\n    this.subscriptions.add(\n      this.bcService.subject[MessageKind.UpdateRequest].subscribe((request) => {\n        if (this.client) {\n          this.updateSession(request.topic, request.newAddress);\n        }\n      })\n    );\n    this.subscriptions.add(\n      this.bcService.subject[MessageKind.PropagateResponse].subscribe((response) => {\n        if (this.client) {\n          console.log('propagated response:', response);\n          if (response.pairingApproved !== undefined) {\n            if (response.pairingApproved) {\n              this.approvePairing(response.request, response.publicKey);\n            } else {\n              this.rejectPairing(response.request);\n            }\n          } else {\n            this.wcResponse(response.request, response.hash, response.success);\n          }\n        }\n      })\n    );\n    this.subscriptions.add(\n      this.bcService.subject[MessageKind.RefreshDappList].subscribe((request) => {\n        if (!this.client) {\n          this.refresh();\n        }\n      })\n    );\n    this.subscriptions.add(\n      this.bcService.subject[MessageKind.NewTabInitialized].subscribe((request) => {\n        if (this.client) {\n          console.log(`%c# New follower tab detected #`, 'color: darkblue');\n          const currentReq = this.getCurrentRequest ? this.getCurrentRequest() : null;\n          if (currentReq) {\n            this.bcService.broadcast({ kind: MessageKind.PropagateRequest, payload: currentReq });\n          }\n        }\n      })\n    );\n  }\n  async startClient() {\n    console.log('Starting wc2 client...');\n    this.client = await this.createClient();\n    this.initDoneAt = new Date().getTime();\n    this.subscribeToEvents();\n    if (this.delayedPairing) {\n      await this.delayedPairing();\n    }\n    this.refresh();\n  }\n  async createClient() {\n    const opts: SignClientTypes.Options = {\n      projectId: '97f804b46f0db632c52af0556586a5f3',\n      relayUrl: 'wss://relay.walletconnect.com',\n      logger: 'warn', //'debug',\n      metadata: {\n        name: 'Kukai Wallet',\n        description: 'Manage your digital assets and seamlessly connect with experiences and apps on Tezos.',\n        url: `${location.origin}`,\n        icons: []\n      }\n    };\n    return Client.init(opts);\n  }\n  subscribeToEvents() {\n    this.client.on('session_proposal', (data) => this.proposalHandler(data));\n    this.client.on('session_request', async (data) => {\n      if (this.deduplicate[data?.id]) {\n        console.warn('deduplicate', data?.id);\n        await this.respond({\n          topic: data.topic,\n          response: this.deduplicate[data?.id]\n        });\n        delete this.deduplicate[data?.id];\n        return;\n      }\n      this.requestHandler(data);\n    });\n    this.client.on('session_delete', (data) => {\n      console.log('session_delete', data);\n      this.refresh();\n      this.autoCloseRequest.next(data?.topic);\n    });\n    this.client.on('session_expire', (data) => {\n      console.log('session_expire', data);\n      this.refresh();\n      this.autoCloseRequest.next(data?.topic);\n    });\n    this.client.on('proposal_expire', (data) => {\n      console.log('proposal_expire', data);\n      this.autoCloseRequest.next(data?.id);\n    });\n    this.client.core.pairing.events.on('pairing_delete', (data) => {\n      console.log('pairing_delete', data);\n      this.refresh();\n      this.autoCloseRequest.next(data?.topic);\n    });\n    this.client.core.pairing.events.on('pairing_expire', (data) => {\n      console.log('pairing_expire', data);\n      this.refresh();\n      this.autoCloseRequest.next(data?.topic);\n    });\n    // this.client.core.heartbeat.events.on('heartbeat_pulse', (data) => {\n    //   console.log('heartbeat', data);\n    // })\n    const unhandledSignClientEvents: SignClientTypes.Event[] = [\n      'session_update',\n      'session_extend',\n      'session_ping',\n      //'session_delete',\n      //'session_expire',\n      //'pairing_delete',\n      //'session_request',\n      'session_event'\n      //'proposal_expire'\n    ];\n    const unhandledPairingEvents: string[] = ['pairing_ping'];\n    for (const event of unhandledSignClientEvents) {\n      this.client.on(event, (data: any) => console.log(event, data));\n    }\n    for (const event of unhandledPairingEvents) {\n      this.client.core.pairing.events.on(event, (data: any) => console.log(event, data));\n    }\n    /*\n    session_extend: \"session_extend\",\n    pairing_ping: \"pairing_ping\",\n    session_expire: \"session_expire\",\n    pairing_delete: \"pairing_delete\",\n    pairing_expire: \"pairing_expire\",\n    proposal_expire: \"proposal_expire\",\n    */\n  }\n  async proposalHandler(data) {\n    const message: any = {\n      id: data.id,\n      version: 0,\n      type: 'permission_request',\n      appMetadata: {\n        name: data?.params?.proposer?.metadata?.name,\n        icon: data?.params?.proposer?.metadata?.icons[0]\n      },\n      wcData: data\n    };\n    if (data.params.requiredNamespaces.tezos.chains.includes(`tezos:${CONSTANTS.NETWORK}`)) {\n      message.network = { type: CONSTANTS.NETWORK };\n    } else {\n      console.log(data.params.requiredNamespaces.tezos.chains);\n      throw new Error('wrong network');\n    }\n    message.scopes = { methods: data.params.requiredNamespaces.tezos.methods, events: data.params.requiredNamespaces.tezos.events };\n    this.subjectService.wc2.next(message);\n    this.bcService.broadcast({ kind: MessageKind.PropagateRequest, payload: message });\n    console.log('proposal', data);\n  }\n  async approvePairing(request: any, publicKey: string) {\n    if (this.client) {\n      const data = request.wcData;\n      const namespaces: SessionTypes.Namespaces = {};\n      const address = this.operationService.pk2pkh(publicKey);\n      const accounts: string[] = [`tezos:${CONSTANTS.NETWORK}:${address}`];\n      const methods = data.params.requiredNamespaces?.tezos?.methods\n        ?.filter((method) => this.supportedMethods.includes(method))\n        .concat(data.params.optionalNamespaces?.tezos?.methods?.filter((method) => this.supportedMethods.includes(method)))\n        .filter((m) => m);\n      const events = data.params.requiredNamespaces?.tezos?.events\n        ?.filter((event) => this.supportedEvents.includes(event))\n        .concat(data.params.optionalNamespaces?.tezos?.events?.filter((event) => this.supportedEvents.includes(event)))\n        .filter((e) => e);\n      const sessionProperties = {\n        algo: address.startsWith('tz1') ? 'ed25519' : address.startsWith('tz2') ? 'secp256k1' : 'unknown',\n        address: address,\n        pubkey: publicKey\n      };\n      namespaces.tezos = {\n        accounts,\n        methods: [...new Set<string>(methods)], // deduplicate\n        events: [...new Set<string>(events)]\n      };\n      const { topic, acknowledged } = await this.client.approve({\n        id: data.id,\n        relayProtocol: data.params.relays[0].protocol,\n        namespaces,\n        sessionProperties\n      });\n      this.refresh();\n      await acknowledged();\n      //this.bcService.broadcast({ kind: MessageKind.PropagateResponse, payload: null })\n      this.refresh();\n    } else {\n      this.bcService.broadcast({ kind: MessageKind.PropagateResponse, payload: { request, publicKey, pairingApproved: true } });\n    }\n  }\n  async wcResponse(request: any, hash: string, success: boolean) {\n    if (hash === 'silent') {\n      return;\n    }\n    console.log('wcResponse', hash);\n    if (this.client) {\n      const data = request.wcData;\n      let msg = {};\n      if (request.type === 'operation_request') {\n        // this is not a transaction hash, but need this property name to get it working with Beacon\n        msg = { transactionHash: hash };\n      } else if (request.type === 'sign_payload_request') {\n        msg = { signature: hash };\n      } else {\n        throw new Error('Unknown request type');\n      }\n      const result = formatJsonRpcResult(data.id, msg);\n      const error = formatJsonRpcError(data.id, getSdkError('USER_REJECTED').message);\n      await this.respond({\n        topic: data.topic,\n        response: success ? result : error\n      });\n    } else {\n      // if not silent\n      this.bcService.broadcast({ kind: MessageKind.PropagateResponse, payload: { request, hash, success } });\n    }\n  }\n  async rejectPairing(request: any) {\n    const data = request.wcData;\n    if (this.client) {\n      await this.client.reject({\n        id: data.id,\n        reason: getSdkError('USER_REJECTED')\n      });\n    } else {\n      this.bcService.broadcast({ kind: MessageKind.PropagateResponse, payload: { request, pairingApproved: false } });\n    }\n  }\n  private async requestHandler(data: any) {\n    try {\n      if (!this.walletService.wallet) {\n        throw new Error('No wallet found');\n      }\n      console.log('requestHandler', data);\n      const session = this.client.session.get(data.topic);\n      const allowedAccounts = session?.namespaces?.tezos?.accounts || [];\n      const allowedMethods = session.namespaces.tezos.methods || [];\n      const account = `${data.params.chainId}:${data.params.request.params.account}`;\n      const method = data.params.request.method;\n      if (!allowedMethods.includes(method)) {\n        throw new Error(`Method not allowed: ${method}`);\n      }\n      if (!allowedAccounts.includes(account) && !['tezos_getAccounts', 'tezos_requestNewAccount'].includes(method)) {\n        throw new Error(`Account not allowed: ${account}`);\n      }\n      switch (method) {\n        case 'tezos_send':\n          const send_req = {\n            type: 'operation_request',\n            version: 0,\n            sourceAddress: data.params.request.params.account,\n            operationDetails: data.params.request.params.operations,\n            network: { type: data.params.chainId.split(':')[1] },\n            wcData: data\n          };\n          this.subjectService.wc2.next(send_req);\n          this.bcService.broadcast({ kind: MessageKind.PropagateRequest, payload: send_req });\n          break;\n        case 'tezos_sign':\n          const sign_req = {\n            type: 'sign_payload_request',\n            version: 0,\n            sourceAddress: data.params.request.params.account,\n            signingType: 'raw',\n            payload: data.params.request.params.payload,\n            wcData: data\n          };\n          this.subjectService.wc2.next(sign_req);\n          this.bcService.broadcast({ kind: MessageKind.PropagateRequest, payload: sign_req });\n          break;\n        case 'tezos_getAccounts':\n          const session = this.client.session.get(data.topic);\n          const accounts: { algo: string; address: string; pubkey: string }[] = session.namespaces.tezos.accounts.map((account) => {\n            const address: string = account.split(':')[2];\n            const impAcc = this.walletService.wallet.getImplicitAccount(address);\n            if (!impAcc) {\n              throw new Error('User is not logged in with the requested account');\n            }\n            const algo: string = address.startsWith('tz1') ? 'ed25519' : address.startsWith('tz2') ? 'secp256k1' : 'unknown';\n            const pubkey = impAcc.pk;\n            return { algo, address, pubkey };\n          });\n          await this.respond({\n            topic: data.topic,\n            response: formatJsonRpcResult(data.id, accounts)\n          });\n          break;\n        default:\n          throw new Error(`Unhandled method: ${method}`);\n      }\n    } catch (e) {\n      console.error(e.message);\n      const error = formatJsonRpcError(data.id, getSdkError('USER_REJECTED').message);\n      await this.respond({\n        topic: data.topic,\n        response: error\n      });\n    }\n    this.client.extend({ topic: data.topic });\n    this.refresh();\n  }\n  async pair(pairingString: string) {\n    if (!this.client) {\n      const initAsLeader = await this.bcService.initAsLeader();\n      if (!initAsLeader && !this.enableWc2) {\n        console.log('broadcast pairing string =>');\n        this.bcService.broadcast({ kind: MessageKind.PairingRequest, payload: pairingString });\n        return;\n      } else {\n        if (!localStorage.getItem('wc2_activated')) {\n          localStorage.setItem('wc2_activated', JSON.stringify(true));\n        }\n        if (this.enableWc2) {\n          this.enableWc2();\n        }\n      }\n      await new Promise((resolve, reject) => {\n        this.delayedPairing = resolve;\n      });\n    }\n    console.log('Start pairing...');\n    const paired = await this.client.pair({ uri: pairingString });\n    console.log('paired', paired);\n  }\n  async refresh(n = 0) {\n    const _session: any = this.client\n      ? this.client?.session?.getAll()\n      : await indexedDB\n          .readWcDb(SESSION_STORAGE_KEY)\n          .then((res) => {\n            return res ? JSON.parse(res) : [];\n          })\n          .catch(() => {\n            return [];\n          });\n    const _pairing: any = this.client\n      ? this.client?.core?.pairing?.getPairings()\n      : await indexedDB\n          .readWcDb(PAIRING_STORAGE_KEY)\n          .then((res) => {\n            return res ? JSON.parse(res) : [];\n          })\n          .catch(() => {\n            return [];\n          });\n    let kc = null;\n    if (!this.client) {\n      kc = await indexedDB.readWcDb(KEYCHAIN_STORAGE_KEY);\n    }\n    const sessionsList: DSession[] = _session\n      .map((session: any) => {\n        let inKeychain = false; // We should not need this check. But seem to be a bit buggy otherwise\n        if (this.client) {\n          inKeychain = this.client.core.crypto.keychain.has(session?.topic);\n        } else {\n          inKeychain = !kc ? false : !!JSON.parse(kc)[session?.topic];\n        }\n        if (session?.acknowledged && inKeychain) {\n          const accountAddress = session?.namespaces?.tezos?.accounts[0].split(':')[2];\n          return { name: session?.peer?.metadata?.name, address: accountAddress, topic: session.topic, expiry: session.expiry };\n        }\n      })\n      .filter((s) => s);\n    const _sessions: Sessions = { expanded: this.sessions.expanded, size: sessionsList.length, dapp: {} };\n    for (const dSession of sessionsList) {\n      if (_sessions.dapp[dSession['name']]) {\n        _sessions.dapp[dSession['name']].s.push(dSession);\n      } else {\n        const expanded = this.sessions.dapp[dSession['name']]?.expanded ?? false;\n        _sessions.dapp[dSession['name']] = { expanded, s: [dSession] };\n      }\n    }\n    const pairingsList: DPairing[] = _pairing\n      .map((pairing: any) => {\n        let inKeychain;\n        if (this.client) {\n          inKeychain = this.client.core.crypto.keychain.has(pairing?.topic);\n        } else {\n          inKeychain = !kc ? false : !!JSON.parse(kc)[pairing?.topic];\n        }\n        if (pairing.active && inKeychain) {\n          return { name: pairing?.peerMetadata?.name, topic: pairing.topic, expiry: pairing.expiry };\n        }\n      })\n      .filter((p) => p);\n    const _pairings: Pairings = { expanded: this.pairings.expanded, size: pairingsList.length, dapp: {} };\n    for (const dPairing of pairingsList) {\n      if (_pairings.dapp[dPairing['name']]) {\n        _pairings.dapp[dPairing['name']].p.push(dPairing);\n      } else {\n        const expanded = this.pairings.dapp[dPairing['name']]?.expanded ?? false;\n        _pairings.dapp[dPairing['name']] = { expanded, p: [dPairing] };\n      }\n    }\n    if (!isEqual(this.pairings, _pairings)) {\n      this.pairings = _pairings;\n      console.log('pairings', _pairings);\n    }\n    if (!isEqual(this.sessions, _sessions)) {\n      this.sessions = _sessions;\n      console.log('sessions', _sessions);\n    }\n    if (this.client && n === 0) {\n      this.bcService.broadcast({ kind: MessageKind.RefreshDappList, payload: undefined });\n    }\n    if (++n < 5) {\n      setTimeout(() => {\n        this.refresh(n);\n      }, n ** 2 * 100);\n    }\n  }\n  public async updateSession(topic: string, newAddress: string) {\n    if (this.client) {\n      const session = this.client.session.get(topic);\n      let namespaces = session.namespaces;\n      let acc = namespaces.tezos.accounts[0].split(':');\n      acc[2] = newAddress;\n      namespaces.tezos.accounts[0] = acc.join(':');\n      const { acknowledged } = await this.client.update({ topic, namespaces });\n      this.refresh();\n      await acknowledged();\n      console.log('session update acknowledged');\n    } else {\n      this.bcService.broadcast({ kind: MessageKind.UpdateRequest, payload: { topic, newAddress } });\n    }\n  }\n  public async deleteSession(topic: string) {\n    await this.delete(topic);\n  }\n  public async deletePairing(topic: string) {\n    await this.delete(topic);\n  }\n  public async delete(topic: string) {\n    try {\n      if (this.client) {\n        await this.disconnect(topic);\n      } else {\n        this.bcService.broadcast({ kind: MessageKind.DeleteRequest, payload: topic });\n      }\n    } catch (e) {\n      console.error(e);\n      this.refresh();\n    }\n  }\n  public async deletePairings(pairings) {\n    for (const pairing of pairings) {\n      try {\n        await this.deletePairing(pairing.topic);\n      } catch (e) {\n        console.error(e);\n      }\n    }\n    this.refresh();\n  }\n  public async deleteSessions(sessions) {\n    for (const session of sessions) {\n      try {\n        await this.deleteSession(session.topic);\n      } catch (e) {\n        console.error(e);\n      }\n    }\n    this.refresh();\n  }\n  private async disconnect(topic: string) {\n    console.log('delete', topic);\n    try {\n      await this.client.disconnect({\n        topic,\n        reason: getSdkError('USER_DISCONNECTED')\n      });\n    } catch (e) {\n      console.error(e);\n      console.log(this.pairings, this.sessions);\n    }\n    this.refresh();\n  }\n  private async stopClient() {\n    //https://github.com/WalletConnect/walletconnect-monorepo/blob/v2.0/packages/sign-client/test/shared/helpers.ts#L4\n    this.client?.core?.heartbeat?.stop();\n    await this.removeListeners();\n  }\n  private async removeListeners(path = []) {\n    const isObject = (val) => val && typeof val === 'object' && !Array.isArray(val);\n    let obj: any = this.client;\n    path.forEach((prop) => {\n      obj = obj[prop];\n    });\n    if (isObject(obj)) {\n      if (obj?.events?.eventNames()?.length) {\n        for (const key of obj.events.eventNames()) {\n          await obj.events.removeAllListeners(key as any);\n        }\n      }\n      Object.keys(obj).forEach((key: string) => {\n        if (!path.includes(key)) {\n          this.removeListeners([...path, key]);\n        }\n      });\n    }\n  }\n  private respond(params: EngineTypes.RespondParams): Promise<void> {\n    const pending = structuredClone(this.client.getPendingSessionRequests());\n    const current = pending[0];\n    for (let i = 1; i < pending.length; i++) {\n      if (isEqual(current.params, pending[i].params) && !this.deduplicate[pending[i]?.id]) {\n        const response = structuredClone(params.response);\n        response.id = pending[i]?.id;\n        this.deduplicate[response.id] = response;\n      }\n    }\n    return this.client.respond(params).then(() => {\n      console.log('responded', params);\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { KeyPair, StorableWalletType, WalletType } from './../../interfaces';\nimport {\n  WalletObject,\n  HdWallet,\n  FullWallet,\n  LegacyWalletV1,\n  LegacyWalletV2,\n  LegacyWalletV3,\n  ImplicitAccount,\n  LedgerWallet,\n  TorusWallet,\n  EmbeddedTorusWallet,\n  OriginatedAccount,\n  WatchWallet,\n  ExportedSocialWallet\n} from './wallet';\nimport { EncryptionService } from '../encryption/encryption.service';\nimport { OperationService } from '../operation/operation.service';\nimport { TorusService } from '../torus/torus.service';\nimport { utils, hd, secp256k1 } from '../../libraries/index';\nimport { SubjectService } from '../subject/subject.service';\nimport { BLACKLISTED_TOKEN_CONTRACTS } from '../../../environments/environment';\n\n@Injectable()\nexport class WalletService {\n  storeKey = 'kukai-wallet';\n  storageId = 0;\n  wallet: WalletObject;\n\n  constructor(\n    private encryptionService: EncryptionService,\n    private operationService: OperationService,\n    private torusService: TorusService,\n    private subjectService: SubjectService\n  ) {}\n  /*\n    Wallet creation\n  */\n  createNewWallet(): string {\n    return utils.generateMnemonic(24);\n  }\n  async createEncryptedWallet(mnemonic: string, password: string, passphrase: string = '', storableWalletType: StorableWalletType): Promise<any> {\n    const entropy: Buffer = Buffer.from(utils.mnemonicToEntropy(mnemonic));\n    let keyPair: KeyPair;\n    let secretToBeEncrypted: any;\n    let seed: any;\n    let walletType: WalletType;\n    if (storableWalletType === StorableWalletType.HdWallet) {\n      seed = utils.mnemonicToSeed(mnemonic, passphrase, true);\n      keyPair = hd.keyPairFromAccountIndex(seed, 0);\n      secretToBeEncrypted = seed;\n      walletType = WalletType.HdWallet;\n    } else if (storableWalletType === StorableWalletType.LegacyWallet) {\n      seed = utils.mnemonicToSeed(mnemonic, passphrase, false);\n      keyPair = this.operationService.seed2keyPair(seed);\n      secretToBeEncrypted = seed;\n      walletType = WalletType.LegacyWallet;\n    } else if (storableWalletType === StorableWalletType.ExportedSocialWallet) {\n      const sk = secp256k1.mnemonicToSpsk(mnemonic);\n      keyPair = this.operationService.spPrivKeyToKeyPair(sk);\n      secretToBeEncrypted = entropy;\n      seed = entropy;\n      walletType = WalletType.ExportedSocialWallet;\n    }\n    const encrypted = await this.encryptionService.encrypt(secretToBeEncrypted, password, 3);\n    const encryptedSecret: string = encrypted.chiphertext;\n    const iv: string = encrypted.iv;\n\n    /*\n      Warning: Make sure to never reuse IV for AES-GCM\n    */\n    const iv2: string = this.encryptionService.shiftIV(iv, 1);\n    const encryptedEntropy: string = (await this.encryptionService.encrypt(entropy, password, 3, iv2)).chiphertext;\n\n    return {\n      data: this.exportKeyStoreInit(walletType, encryptedSecret, encryptedEntropy, iv),\n      pkh: keyPair.pkh,\n      pk: keyPair.pk,\n      seed: seed\n    };\n  }\n  async getKeys(pwd: string, pkh?: string): Promise<KeyPair> {\n    let seed;\n    if (this.wallet instanceof LegacyWalletV1) {\n      seed = await this.encryptionService.decrypt(this.wallet.encryptedSeed, pwd, this.wallet.salt, 1);\n    } else if (this.wallet instanceof LegacyWalletV2) {\n      seed = await this.encryptionService.decrypt(this.wallet.encryptedSeed, pwd, this.wallet.IV, 2);\n    } else if (this.wallet instanceof LegacyWalletV3 || this.wallet instanceof HdWallet) {\n      seed = await this.encryptionService.decrypt(this.wallet.encryptedSeed, pwd, this.wallet.IV, 3);\n    } else if (this.wallet instanceof LedgerWallet) {\n      const keyPair: KeyPair = {\n        sk: null,\n        pk: this.wallet.implicitAccounts[0].pk,\n        pkh: this.wallet.implicitAccounts[0].pkh\n      };\n      return keyPair;\n    } else if (this.wallet instanceof EmbeddedTorusWallet) {\n      if (this.wallet?.sk) {\n        return this.operationService.spPrivKeyToKeyPair(this.wallet.sk);\n      } else {\n        const keyPair = await this.torusService.getTorusKeyPair(this.wallet.verifier, this.wallet.id);\n        if (this.wallet.getImplicitAccount(keyPair.pkh)) {\n          return keyPair;\n        } else {\n          throw new Error('Signed with wrong account');\n        }\n      }\n    } else if (this.wallet instanceof TorusWallet) {\n      const sk = this.wallet.getSk();\n      if (sk) {\n        console.log('Retrieving social login sk from memory');\n        this.wallet.updateSkExpiration();\n        return this.operationService.spPrivKeyToKeyPair(sk);\n      } else {\n        console.log('Need to query social login sk from torus');\n        const keyPair = await this.torusService.getTorusKeyPair(this.wallet.verifier, this.wallet.id);\n        if (this.wallet.getImplicitAccount(keyPair.pkh)) {\n          this.wallet.storeSk(keyPair.sk);\n          return keyPair;\n        } else {\n          throw new Error('Signed with wrong account');\n        }\n      }\n    } else if (this.wallet instanceof ExportedSocialWallet) {\n      const sk = await this.encryptionService.decrypt(this.wallet.encryptedSk, pwd, this.wallet.IV, 3);\n      const spsk = secp256k1.mnemonicToSpsk(utils.entropyToMnemonic(sk));\n      return this.operationService.spPrivKeyToKeyPair(spsk);\n    } else {\n      return null;\n    }\n    if (!seed) {\n      return null;\n    }\n    if (this.wallet instanceof HdWallet) {\n      if (!pkh) {\n        throw new Error('No pkh provided');\n      }\n      const account = this.wallet.getImplicitAccount(pkh);\n      if (!account.derivationPath) {\n        throw new Error('No derivationPath found');\n      }\n      return hd.seedToKeyPair(seed, account.derivationPath);\n    } else if (this.wallet instanceof LegacyWalletV1) {\n      const keyPair = this.operationService.seed2keyPair(seed);\n      if (!keyPair.pkh || !pkh || keyPair.pkh !== pkh) {\n        return null;\n      } else {\n        return keyPair;\n      }\n    } else {\n      return this.operationService.seed2keyPair(seed);\n    }\n  }\n  async revealMnemonicPhrase(pwd: string): Promise<string> {\n    if (this.wallet && (this.wallet instanceof HdWallet || this.wallet instanceof LegacyWalletV3)) {\n      const iv = this.encryptionService.shiftIV(this.wallet.IV, 1);\n      const entropy = await this.encryptionService.decrypt(this.wallet.encryptedEntropy, pwd, iv, 3);\n      if (entropy) {\n        return utils.entropyToMnemonic(entropy);\n      } else {\n        console.log('Invalid password');\n      }\n    } else if (this.wallet && this.wallet instanceof ExportedSocialWallet) {\n      // re-export a social login\n\n      try {\n        const sk = await this.encryptionService.decrypt(this.wallet.encryptedSk, pwd, this.wallet.IV, 3);\n        const spsk = secp256k1.mnemonicToSpsk(utils.entropyToMnemonic(sk));\n        return secp256k1.spskToShiftedMnemonic(spsk);\n      } catch (e) {\n        console.log('Invalid password.');\n      }\n    }\n    return '';\n  }\n  async revealSocialMnemonicPhrase(): Promise<string> {\n    // export a social login\n    if (this.wallet && this.wallet instanceof TorusWallet) {\n      const keyPair = await this.torusService.getTorusKeyPair(this.wallet.verifier, this.wallet.id);\n      if (this.wallet.getImplicitAccount(keyPair.pkh)) {\n        return secp256k1.spskToShiftedMnemonic(keyPair.sk);\n      }\n    }\n    return '';\n  }\n  addImplicitAccount(pk: string, derivationPath?: string | number) {\n    let pkh;\n    console.log(pk);\n    if (pk && pk.slice(0, 4) === 'sppk') {\n      pkh = this.operationService.pk2pkh(pk);\n    } else {\n      pkh = utils.pkToPkh(pk);\n    }\n    if (pkh) {\n      this.wallet.implicitAccounts.push(new ImplicitAccount(pkh, pk, typeof derivationPath === 'number' ? `44'/1729'/${derivationPath}'/0'` : derivationPath));\n      console.log('Adding new implicit account...');\n      console.log(this.wallet.implicitAccounts[this.wallet.implicitAccounts.length - 1]);\n      this.storeWallet();\n    }\n  }\n  addOriginatedAccount(kt: string, manager: string) {\n    const implicitAccount = this.wallet.getImplicitAccount(manager);\n    if (implicitAccount) {\n      const origAcc = new OriginatedAccount(kt, implicitAccount.pkh, implicitAccount.pk);\n      implicitAccount.originatedAccounts.push(origAcc);\n      this.storeWallet();\n    } else {\n      console.warn(`Manager address $(manager) not found`);\n    }\n  }\n  addressExists(address: string): boolean {\n    return this.wallet?.getAccounts().findIndex((a) => a.address === address) !== -1;\n  }\n  async incrementAccountIndex(password: string): Promise<string> {\n    if (this.wallet instanceof HdWallet) {\n      const seed = await this.encryptionService.decrypt(this.wallet.encryptedSeed, password, this.wallet.IV, 3);\n      if (seed) {\n        const keyPair: KeyPair = hd.seedToKeyPair(seed, `44'/1729'/${this.wallet.index}'/0'`);\n        this.addImplicitAccount(keyPair.pk, this.wallet.index);\n        this.wallet.index++;\n        this.storeWallet();\n        return keyPair.pkh;\n      } else {\n        return ''; // Wrong pwd\n      }\n    }\n  }\n  /*\n    Clear wallet data from browser\n  */\n  clearWallet(instanceId: string = '') {\n    if (this.wallet instanceof TorusWallet) {\n      this.wallet.removeSk();\n    }\n    this.wallet = null;\n    this.storageId = 0;\n    if (instanceId) {\n      sessionStorage.removeItem(instanceId);\n    } else {\n      localStorage.removeItem(this.storeKey);\n    }\n  }\n  /*\n  Used to decide wallet type\n  */\n  isFullWallet(): boolean {\n    return this.wallet instanceof FullWallet;\n  }\n  isViewOnlyWallet(): boolean {\n    return false;\n  }\n  isObserverWallet(): boolean {\n    return false;\n  }\n  isLedgerWallet(): boolean {\n    return this.wallet instanceof LedgerWallet;\n  }\n  isHdWallet(): boolean {\n    return this.wallet instanceof HdWallet;\n  }\n  isTorusWallet(): boolean {\n    return this.wallet instanceof TorusWallet;\n  }\n  isEmbeddedTorusWallet(): boolean {\n    return this.wallet instanceof EmbeddedTorusWallet;\n  }\n  isWatchWallet(): boolean {\n    return this.wallet instanceof WatchWallet;\n  }\n  isPwdWallet(): boolean {\n    return !this.isTorusWallet() && !this.isLedgerWallet() && !this.isWatchWallet();\n  }\n  exportKeyStoreInit(walletType: WalletType, encryptedSeed: string, encryptedEntropy: string, iv: string) {\n    const data: any = {\n      provider: 'Kukai',\n      version: 3.0,\n      walletType,\n      iv\n    };\n    return walletType === WalletType.ExportedSocialWallet ? { encryptedSk: encryptedSeed, ...data } : { encryptedSeed, encryptedEntropy, ...data };\n  }\n  /*\n    Read and write to localStorage\n  */\n  initStorage(instanceId: string = '') {\n    this.storageId = Date.now();\n    if (instanceId) {\n      sessionStorage.setItem(instanceId, JSON.stringify({ localStorageId: this.storageId }));\n    } else {\n      localStorage.setItem(this.storeKey, JSON.stringify({ localStorageId: this.storageId }));\n    }\n  }\n  storeWallet() {\n    const localStorageId = this.getLocalStorageId();\n    if (this.storageId && localStorageId && this.storageId === localStorageId) {\n      let type = 'unknown';\n      if (this.wallet instanceof HdWallet) {\n        type = 'HdWallet';\n      } else if (this.wallet instanceof LegacyWalletV1) {\n        type = 'LegacyWalletV1';\n      } else if (this.wallet instanceof LegacyWalletV2) {\n        type = 'LegacyWalletV2';\n      } else if (this.wallet instanceof LegacyWalletV3) {\n        type = 'LegacyWalletV3';\n      } else if (this.wallet instanceof LedgerWallet) {\n        type = 'LedgerWallet';\n      } else if (this.wallet instanceof EmbeddedTorusWallet) {\n        type = 'EmbeddedTorusWallet';\n      } else if (this.wallet instanceof TorusWallet) {\n        type = 'TorusWallet';\n      } else if (this.wallet instanceof WatchWallet) {\n        type = 'WatchWallet';\n      } else if (this.wallet instanceof ExportedSocialWallet) {\n        type = 'ExportedSocialWallet';\n      }\n      this.getStorage().setItem(\n        this.wallet instanceof EmbeddedTorusWallet ? this.wallet.instanceId : this.storeKey,\n        JSON.stringify({\n          type,\n          localStorageId: this.storageId,\n          data: this.wallet\n        })\n      );\n    } else {\n      console.log('Outdated storage id');\n    }\n    this.subjectService.walletUpdated.next(null);\n  }\n  getLocalStorageId() {\n    const walletData = this.wallet instanceof EmbeddedTorusWallet ? sessionStorage.getItem(this.wallet.instanceId) : localStorage.getItem(this.storeKey);\n    if (walletData) {\n      const parsed = JSON.parse(walletData);\n      if (parsed && parsed.localStorageId) {\n        return parsed.localStorageId;\n      }\n    }\n    return 0;\n  }\n\n  loadStoredWallet(instanceId = '') {\n    const walletData = instanceId ? sessionStorage.getItem(instanceId) : localStorage.getItem(this.storeKey);\n    if (walletData && walletData !== 'undefined') {\n      const parsedWalletData = JSON.parse(walletData);\n      console.debug(parsedWalletData);\n      if (parsedWalletData.type && parsedWalletData.data && parsedWalletData.localStorageId) {\n        this.storageId = parsedWalletData.localStorageId;\n        const wd = parsedWalletData.data;\n        this.deserializeStoredWallet(wd, parsedWalletData.type);\n      } else {\n        console.log('couldnt load a wallet');\n        this.clearWallet(instanceId);\n      }\n    } else {\n      console.log('couldnt load a wallet');\n      this.clearWallet(instanceId);\n    }\n  }\n  deserializeStoredWallet(wd: any, type: string) {\n    switch (type) {\n      case 'HdWallet':\n        this.wallet = new HdWallet(wd.IV, wd.encryptedSeed, wd.encryptedEntropy);\n        if (this.wallet instanceof HdWallet) {\n          this.wallet.index = wd.index;\n        }\n        break;\n      case 'LegacyWalletV1':\n        this.wallet = new LegacyWalletV1(wd.salt, wd.encryptedSeed);\n        break;\n      case 'LegacyWalletV2':\n        this.wallet = new LegacyWalletV2(wd.IV, wd.encryptedSeed);\n        break;\n      case 'LegacyWalletV3':\n        this.wallet = new LegacyWalletV3(wd.IV, wd.encryptedSeed, wd.encryptedEntropy);\n        break;\n      case 'LedgerWallet':\n        this.wallet = new LedgerWallet();\n        break;\n      case 'ExportedSocialWallet':\n        this.wallet = new ExportedSocialWallet(wd.IV, wd.encryptedSk);\n        break;\n      case 'TorusWallet':\n        this.wallet = new TorusWallet(wd.verifier, wd.id, wd.name);\n        this.torusService.initTorus();\n        break;\n      case 'EmbeddedTorusWallet':\n        this.wallet = new EmbeddedTorusWallet(wd.verifier, wd.id, wd.name, wd.origin, wd.sk, wd.instanceId);\n        this.torusService.initTorus();\n        break;\n      case 'WatchWallet':\n        this.wallet = new WatchWallet();\n      default:\n    }\n    this.wallet.XTZrate = wd.XTZrate;\n    this.wallet.totalBalanceUSD = wd.totalBalanceUSD;\n    this.wallet.totalBalanceXTZ = wd.totalBalanceXTZ;\n    if (wd.lookups) {\n      this.wallet.lookups = wd.lookups;\n    }\n    for (const implicit of wd.implicitAccounts) {\n      const impAcc: ImplicitAccount = new ImplicitAccount(implicit.pkh, implicit.pk, implicit.derivationPath ? implicit.derivationPath : null);\n      impAcc.balanceUSD = implicit.balanceUSD;\n      impAcc.balanceXTZ = implicit.balanceXTZ;\n      impAcc.delegate = implicit.delegate;\n      impAcc.state = implicit.state;\n      impAcc.activities = implicit.activities?.filter((activity) => {\n        if (activity.tokenId && BLACKLISTED_TOKEN_CONTRACTS.includes(activity.tokenId.split(':')[0])) {\n          return false;\n        }\n        return true;\n      });\n      if (implicit.tokens) {\n        impAcc.tokens = implicit.tokens;\n      }\n      for (const originated of implicit.originatedAccounts) {\n        const origAcc = new OriginatedAccount(originated.address, impAcc.pkh, impAcc.pk);\n        origAcc.balanceUSD = originated.balanceUSD;\n        origAcc.balanceXTZ = originated.balanceXTZ;\n        origAcc.delegate = originated.delegate;\n        origAcc.state = originated.state;\n        origAcc.activities = originated.activities?.filter((activity) => {\n          if (activity.tokenId && BLACKLISTED_TOKEN_CONTRACTS.includes(activity.tokenId.split(':')[0])) {\n            return false;\n          }\n          return true;\n        });\n        impAcc.originatedAccounts.push(origAcc);\n      }\n      this.wallet.implicitAccounts.push(impAcc);\n    }\n  }\n  private getStorage() {\n    return this.isEmbeddedTorusWallet() ? sessionStorage : localStorage;\n  }\n}\n","export type WalletObject = LegacyWalletV1 | LegacyWalletV2 | LegacyWalletV3 | LedgerWallet | HdWallet | TorusWallet | WatchWallet | ExportedSocialWallet;\n\nexport class Wallet {\n  totalBalanceXTZ: number | null;\n  totalBalanceUSD: number | null;\n  XTZrate: number | null;\n  implicitAccounts: ImplicitAccount[];\n  lookups: any[];\n  constructor() {\n    this.totalBalanceXTZ = null;\n    this.totalBalanceUSD = null;\n    this.XTZrate = null;\n    this.implicitAccounts = [];\n    this.lookups = [];\n  }\n  getAccounts(): Account[] {\n    const accounts: Account[] = [];\n    if (this.implicitAccounts.length) {\n      for (const implicitAccount of this.implicitAccounts) {\n        accounts.push(implicitAccount);\n        if (implicitAccount.originatedAccounts.length) {\n          for (const originatedAccount of implicitAccount.originatedAccounts) {\n            accounts.push(originatedAccount);\n          }\n        }\n      }\n    }\n    return accounts;\n  }\n  getImplicitAccounts(): ImplicitAccount[] {\n    return this.implicitAccounts;\n  }\n  getAccount(address: string): Account {\n    if (this.implicitAccounts.length) {\n      for (const implicitAccount of this.implicitAccounts) {\n        if (implicitAccount.address === address) {\n          return implicitAccount;\n        }\n        if (implicitAccount.originatedAccounts.length) {\n          for (const originatedAccount of implicitAccount.originatedAccounts) {\n            if (originatedAccount.address === address) {\n              return originatedAccount;\n            }\n          }\n        }\n      }\n    }\n    return null;\n  }\n  getImplicitAccount(pkh: string): ImplicitAccount {\n    if (this.implicitAccounts.length) {\n      for (const implicitAccount of this.implicitAccounts) {\n        if (implicitAccount.pkh === pkh) {\n          return implicitAccount;\n        }\n      }\n    }\n    return null;\n  }\n}\n\nexport class FullWallet extends Wallet {\n  encryptedSeed: string;\n  constructor(encryptedSeed: string) {\n    super();\n    this.encryptedSeed = encryptedSeed;\n  }\n}\n\nexport class LegacyWalletV1 extends FullWallet {\n  salt: string;\n  constructor(salt: string, encrypedSeed: string) {\n    super(encrypedSeed);\n    this.salt = salt;\n  }\n}\n\nexport class LegacyWalletV2 extends FullWallet {\n  IV: string;\n  constructor(IV: string, encryptedSeed: string) {\n    super(encryptedSeed);\n    this.IV = IV;\n  }\n}\n\nexport class LegacyWalletV3 extends FullWallet {\n  encryptedEntropy: string;\n  IV: string;\n  constructor(IV: string, encryptedSeed: string, encryptedEntropy: string) {\n    super(encryptedSeed);\n    this.IV = IV;\n    this.encryptedEntropy = encryptedEntropy;\n  }\n}\n\nexport class HdWallet extends FullWallet {\n  encryptedEntropy: string;\n  IV: string;\n  index: number;\n  constructor(IV: string, encryptedSeed: string, encryptedEntropy: string) {\n    super(encryptedSeed);\n    this.encryptedEntropy = encryptedEntropy;\n    this.IV = IV;\n    this.index = 0;\n  }\n}\n\nconst TORUS_WALLET_STORE_KEY = 'torus-sk-cache';\nconst ONE_HOUR = 3600000;\n\nexport class ExportedSocialWallet extends Wallet {\n  encryptedSk: string;\n  IV: string;\n  constructor(IV: string, encryptedSk: string) {\n    super();\n    this.encryptedSk = encryptedSk;\n    this.IV = IV;\n  }\n}\n\nexport class TorusWallet extends Wallet {\n  verifier: string;\n  id: string;\n  name: string;\n\n  constructor(verifier: string, id: string, name: string) {\n    super();\n    this.verifier = verifier;\n    this.id = id;\n    this.name = name;\n  }\n\n  displayName(): string {\n    if (['twitter', 'facebook'].includes(this.verifier)) {\n      return this.name;\n    }\n    return this.id;\n  }\n\n  removeSk(): void {\n    sessionStorage.removeItem(TORUS_WALLET_STORE_KEY);\n  }\n\n  private getStoredData(): null | { sk: string; expiration: number } {\n    const skData = sessionStorage.getItem(TORUS_WALLET_STORE_KEY);\n    if (skData) {\n      const parsed = JSON.parse(skData);\n      if (typeof parsed.sk === 'string' && typeof parsed.expiration === 'number') {\n        return parsed;\n      }\n    }\n\n    return null;\n  }\n\n  checkSkExpiration(): void {\n    const storedData = this.getStoredData();\n    if (storedData) {\n      const now = new Date().getTime();\n      if (storedData.expiration <= now) {\n        this.removeSk();\n      }\n    }\n  }\n\n  updateSkExpiration(): void {\n    const storedData = this.getStoredData();\n    if (storedData) {\n      sessionStorage.setItem(TORUS_WALLET_STORE_KEY, JSON.stringify({ ...storedData, expiration: this.getExpiration() }));\n    }\n  }\n\n  storeSk(sk: string): void {\n    sessionStorage.setItem(TORUS_WALLET_STORE_KEY, JSON.stringify({ sk, expiration: this.getExpiration() }));\n  }\n\n  getSk(): null | string {\n    const storedData = this.getStoredData();\n    if (storedData) {\n      return storedData.sk;\n    }\n\n    return null;\n  }\n  private getExpiration() {\n    return new Date().getTime() + ONE_HOUR * 3;\n  }\n}\n\nexport class EmbeddedTorusWallet extends TorusWallet {\n  origin: string;\n  sk: string;\n  instanceId: string;\n  constructor(verifier: string, id: string, name: string, origin: string, sk: string, instanceId: string) {\n    super(verifier, id, name);\n    this.origin = origin;\n    this.sk = sk;\n    this.instanceId = instanceId;\n  }\n}\nexport class LedgerWallet extends Wallet {\n  constructor() {\n    super();\n  }\n}\n\nexport class WatchWallet extends Wallet {\n  constructor() {\n    super();\n  }\n}\n\n// Accounts\n\nexport abstract class Account {\n  balanceXTZ: number | null;\n  balanceUSD: number | null;\n  delegate: string;\n  state: string;\n  activities: Activity[] | null;\n  tokens: Token[] | null;\n  pkh: string;\n  pk: string;\n  address: string;\n  constructor(pkh: string, pk: string, address: string) {\n    this.balanceXTZ = null;\n    this.balanceUSD = null;\n    this.activities = null;\n    this.tokens = null;\n    this.delegate = '';\n    this.state = '';\n    this.pkh = pkh;\n    this.pk = pk;\n    this.address = address;\n  }\n  public abstract isImplicit(): boolean;\n  shortAddress(): string {\n    return this.address.slice(0, 7) + '...' + this.address.slice(-4);\n  }\n  getTokenBalance(tokenId: string): string {\n    if (this.tokens?.length) {\n      for (const token of this.tokens) {\n        if (tokenId === token.tokenId) {\n          return token.balance;\n        }\n      }\n    }\n    return '';\n  }\n  getTokenBalances(): Token[] {\n    return this.tokens ?? [];\n  }\n  updateTokenBalance(tokenId: string, balance: string) {\n    if (!this.tokens || !tokenId) {\n      this.tokens = [];\n    }\n    if (tokenId && this.tokens.length) {\n      for (let i = 0; i < this.tokens.length; i++) {\n        if (tokenId === this.tokens[i].tokenId) {\n          if (this.tokens[i].balance !== balance) {\n            if (balance === '0' || (balance && balance.slice(0, 1) === '-')) {\n              this.tokens.splice(i, 1);\n            } else {\n              this.tokens[i].balance = balance;\n            }\n          }\n          return;\n        }\n      }\n    }\n    if (tokenId.length > 37 && balance && balance !== '0' && balance.slice(0, 1) !== '-') {\n      this.tokens.unshift({ tokenId, balance });\n    }\n  }\n}\n\nexport class ImplicitAccount extends Account {\n  originatedAccounts: OriginatedAccount[];\n  derivationPath?: string;\n  constructor(pkh: string, pk: string, derivationPath?: string) {\n    super(pkh, pk, pkh);\n    this.originatedAccounts = [];\n    if (derivationPath) {\n      this.derivationPath = derivationPath;\n    }\n  }\n  isImplicit(): boolean {\n    return true;\n  }\n}\n\nexport class OriginatedAccount extends Account {\n  constructor(ktAddress: string, managerPkh: string, managerPk: string) {\n    super(managerPkh, managerPk, ktAddress);\n  }\n  isImplicit(): boolean {\n    return false;\n  }\n}\n\nexport enum OpStatus {\n  FAILED = -1,\n  UNCONFIRMED = 0,\n  HALF_CONFIRMED = 0.5, // confirmed but not indexed fully yet\n  CONFIRMED = 1\n}\nexport class Activity {\n  type: string;\n  block: string;\n  status: OpStatus;\n  amount: string;\n  source: {\n    address: string;\n    alias?: string;\n  };\n  destination: {\n    address: string;\n    alias?: string;\n  };\n  fee?: string;\n  hash: string;\n  counter?: number;\n  timestamp: number | null;\n  tokenId?: string;\n  entrypoint?: string;\n  opId?: string;\n}\nexport class Token {\n  tokenId: string;\n  balance: string;\n}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\nimport { Constants, DisplayLinkOption } from '../app/interfaces';\n\nexport const environment = {\n  production: false\n};\nconst _CONSTANTS: Constants = {\n  NETWORK: 'ghostnet',\n  NAME: 'Testnet / Ghostnet',\n  TEZOS_DOMAIN: {\n    CONTRACT: 'KT1WffvKqRGaPtVWYR1ZkG2GQY42B7a8x3kk',\n    TOP_DOMAINS: ['gho']\n  },\n  MAINNET: false,\n  NODE_URL: ['https://ghostnet.smartpy.io', 'https://rpc.ghostnet.tzboot.net'],\n  API_URL: 'https://api.ghostnet.tzkt.io/v1',\n  OBJKT_URL: 'https://data.ghostnet.objkt.com/v3/graphql',\n  BLOCK_EXPLORER_URL: 'https://ghostnet.tzkt.io',\n  HARD_LIMITS: {\n    hard_gas_limit_per_operation: 1040000,\n    hard_gas_limit_per_block: 2600000,\n    hard_storage_limit_per_operation: 60000\n  },\n  CONTRACT_ALIASES: {\n    Objkt: {\n      name: 'objkt.com',\n      address: [],\n      thumbnailUrl: '../../../assets/img/alias/objktcom.svg',\n      discoverUrl: '../../../assets/img/alias/objktcom.svg',\n      link: 'https://ghostnet.objkt.com',\n      shouldDisplayLink: DisplayLinkOption.All,\n      category: ['marketplace'],\n      description: 'The best Tezos NFTs all in one place'\n    },\n    admire: {\n      name: 'admire.art',\n      address: ['KT1AWnk45HxqcAgTdtgwCUae8FosYkttLxA4', 'KT1KTENwCZDnGqRhjQeUsECxozRvQeGtRCti'],\n      thumbnailUrl: '../../../assets/img/alias/admire.png',\n      shouldDisplayLink: DisplayLinkOption.None\n    }\n  },\n  ASSETS: {},\n  NFT_CONTRACT_OVERRIDES: [],\n  CONTRACT_OVERRIDES: {},\n  FEATURE_CONTRACTS: {}\n};\nconst _TRUSTED_TOKEN_CONTRACTS = [];\nconst _BLACKLISTED_TOKEN_CONTRACTS = [];\nconst _MODEL_3D_WHITELIST = [];\n\nexport const CONSTANTS = JSON.parse(JSON.stringify(_CONSTANTS));\nexport const TRUSTED_TOKEN_CONTRACTS = JSON.parse(JSON.stringify(_TRUSTED_TOKEN_CONTRACTS));\nexport const BLACKLISTED_TOKEN_CONTRACTS = JSON.parse(JSON.stringify(_BLACKLISTED_TOKEN_CONTRACTS));\nexport const MODEL_3D_WHITELIST = JSON.parse(JSON.stringify(_MODEL_3D_WHITELIST));\n","import { Constants } from './../app/interfaces';\nimport {\n  CONSTANTS as _CONSTANTS,\n  TRUSTED_TOKEN_CONTRACTS as _TTC,\n  BLACKLISTED_TOKEN_CONTRACTS as _BLTC,\n  MODEL_3D_WHITELIST as _M3DW\n} from './environment.ghostnet';\n\nexport const environment = {\n  production: false\n};\nexport const CONSTANTS: Constants = _CONSTANTS;\nexport const TRUSTED_TOKEN_CONTRACTS = _TTC;\nexport const BLACKLISTED_TOKEN_CONTRACTS = _BLTC;\nexport const MODEL_3D_WHITELIST = _M3DW;\n","import { Injectable } from '@angular/core';\nimport { KeyPair, WalletType } from './../../interfaces';\nimport { WalletService } from '../wallet/wallet.service';\nimport { CoordinatorService } from '../coordinator/coordinator.service';\nimport {\n  LegacyWalletV1,\n  LegacyWalletV2,\n  LegacyWalletV3,\n  HdWallet,\n  LedgerWallet,\n  TorusWallet,\n  EmbeddedTorusWallet,\n  WatchWallet,\n  ExportedSocialWallet\n} from '../wallet/wallet';\nimport { hd, secp256k1, utils } from '../../libraries/index';\nimport { EncryptionService } from '../encryption/encryption.service';\nimport { TorusService } from '../torus/torus.service';\nimport { IndexerService } from '../indexer/indexer.service';\nimport { OperationService } from '../operation/operation.service';\nimport { SubjectService } from '../subject/subject.service';\n\n@Injectable()\nexport class ImportService {\n  constructor(\n    private walletService: WalletService,\n    private coordinatorService: CoordinatorService,\n    private indexerService: IndexerService,\n    private encryptionService: EncryptionService,\n    private torusService: TorusService,\n    private operationService: OperationService,\n    private subjectService: SubjectService\n  ) {}\n  pwdRequired(json: string) {\n    const walletData = JSON.parse(json);\n    if (walletData.provider !== 'Kukai') {\n      throw new Error(`Unsupported wallet format`);\n    }\n    if (\n      walletData.walletType === WalletType.LegacyWallet ||\n      walletData.walletType === WalletType.HdWallet ||\n      walletData.walletType === WalletType.ExportedSocialWallet\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  async importWalletFromJson(json: any, pwd: string): Promise<boolean> {\n    // From file\n    let secretValue;\n    let walletData;\n    try {\n      walletData = JSON.parse(json);\n      if (walletData.walletType === WalletType.HdWallet && walletData.version === 3) {\n        secretValue = await this.encryptionService.decrypt(walletData.encryptedSeed, pwd, walletData.iv, 3);\n      } else if (walletData.walletType === WalletType.LegacyWallet) {\n        if (walletData.version === 1) {\n          console.log('v1');\n          secretValue = await this.encryptionService.decrypt(walletData.encryptedSeed, pwd, walletData.pkh.slice(3, 19), 1);\n          if (utils.seedToKeyPair(secretValue).pkh !== walletData.pkh) {\n            secretValue = '';\n          }\n        } else if (walletData.version === 2 || walletData.version === 3) {\n          secretValue = await this.encryptionService.decrypt(walletData.encryptedSeed, pwd, walletData.iv, walletData.version);\n        }\n      } else if (walletData.walletType === WalletType.ExportedSocialWallet && walletData.version === 3) {\n        secretValue = await this.encryptionService.decrypt(walletData.encryptedSk, pwd, walletData.iv, walletData.version);\n      }\n    } catch (e) {\n      console.error(e);\n      throw new Error('Failed to decrypt keystore file');\n    }\n    if (secretValue) {\n      return this.importWalletFromObject(walletData, secretValue).then(\n        (ans) => {\n          return ans;\n        },\n        (e) => {\n          console.error(e);\n          throw new Error('Failed to fetch account(s). Please check your connection.');\n        }\n      );\n    } else {\n      throw new Error('Wrong password');\n    }\n  }\n  async importWalletFromObject(data: any, secretValue: any): Promise<boolean> {\n    try {\n      this.coordinatorService.stopAll();\n      let keys: KeyPair;\n      if (data.walletType === WalletType.HdWallet && data.version === 3) {\n        this.walletService.wallet = new HdWallet(data.iv, data.encryptedSeed, data.encryptedEntropy);\n        keys = hd.keyPairFromAccountIndex(secretValue, 0);\n      } else if (data.walletType === WalletType.LegacyWallet) {\n        if (data.version === 3) {\n          this.walletService.wallet = new LegacyWalletV3(data.iv, data.encryptedSeed, data.encryptedEntropy);\n        } else if (data.version === 2) {\n          this.walletService.wallet = new LegacyWalletV2(data.iv, data.encryptedSeed);\n        } else if (data.version === 1) {\n          this.walletService.wallet = new LegacyWalletV1(data.pkh.slice(3, 19), data.encryptedSeed);\n        } else {\n          throw new Error('Unsupported wallet file');\n        }\n        keys = utils.seedToKeyPair(secretValue);\n      } else if (data.walletType === WalletType.ExportedSocialWallet) {\n        this.walletService.wallet = new ExportedSocialWallet(data.iv, data.encryptedSk);\n        const spsk = secp256k1.mnemonicToSpsk(utils.entropyToMnemonic(secretValue));\n        keys = this.operationService.spPrivKeyToKeyPair(spsk);\n      } else {\n        throw new Error('Unsupported wallet file');\n      }\n      this.walletService.initStorage();\n      if (this.walletService.wallet instanceof HdWallet) {\n        let index = 0;\n        let isUsedAccount: boolean = true;\n        while (isUsedAccount) {\n          keys = hd.keyPairFromAccountIndex(secretValue, index);\n          isUsedAccount = await this.indexerService.isUsedAccount(keys.pkh);\n          if (isUsedAccount || index === 0) {\n            this.walletService.addImplicitAccount(keys.pk, index++);\n            await this.findContracts(keys.pkh);\n          }\n        }\n        this.walletService.wallet.index = index;\n      } else {\n        this.walletService.addImplicitAccount(keys.pk);\n        await this.findContracts(keys.pkh);\n      }\n    } catch (e) {\n      this.walletService.clearWallet();\n      throw e;\n    }\n    this.subjectService.login.next(true);\n    return true;\n  }\n\n  async importWalletFromPk(pk: string, derivationPath: string, verifierDetails: any = null, sk: string = '', instanceId: string = ''): Promise<boolean> {\n    this.coordinatorService.stopAll();\n    if (derivationPath) {\n      return this.ledgerImport(pk, derivationPath);\n    } else if (verifierDetails) {\n      return this.torusImport(pk, verifierDetails, sk, instanceId);\n    }\n  }\n  async watch(pkh: string) {\n    if (this.operationService.validAddress(pkh)) {\n      const pk = await this.operationService.getManager(pkh).toPromise();\n      if (pk) {\n        this.walletService.initStorage();\n        this.walletService.wallet = new WatchWallet();\n        this.walletService.addImplicitAccount(pk);\n        this.findContracts(this.walletService.wallet.implicitAccounts[0].pkh);\n      } else {\n        console.error('Public key not found');\n      }\n    }\n  }\n  async ledgerImport(pk: string, derivationPath: string) {\n    try {\n      this.walletService.initStorage();\n      this.walletService.wallet = new LedgerWallet();\n      this.walletService.addImplicitAccount(pk, derivationPath);\n      await this.findContracts(this.walletService.wallet.implicitAccounts[0].pkh);\n      this.subjectService.login.next(true);\n      return true;\n    } catch (err) {\n      console.warn(err);\n      this.walletService.clearWallet();\n      return false;\n    }\n  }\n  async torusImport(pk: string, verifierDetails: any, sk: string = '', instanceId: string = '') {\n    try {\n      if (verifierDetails.embedded) {\n        this.walletService.initStorage(instanceId);\n        this.walletService.wallet = new EmbeddedTorusWallet(\n          verifierDetails.verifier,\n          verifierDetails.id,\n          verifierDetails.name,\n          verifierDetails.origin,\n          sk,\n          instanceId\n        );\n      } else {\n        this.walletService.initStorage();\n        const torusWallet = new TorusWallet(verifierDetails.verifier, verifierDetails.id, verifierDetails.name);\n        torusWallet.storeSk(sk);\n        this.walletService.wallet = torusWallet;\n      }\n      if (verifierDetails.verifier === 'twitter') {\n        this.updateTwitterName(verifierDetails.id);\n      }\n      if (pk || !verifierDetails?.embedded) {\n        this.walletService.addImplicitAccount(pk);\n      } else {\n        this.walletService.storeWallet();\n      }\n      this.subjectService.login.next();\n      return true;\n    } catch (err) {\n      console.warn(err);\n      this.walletService.clearWallet(instanceId);\n      return false;\n    }\n  }\n  async updateTwitterName(verifierId: string) {\n    const twitterId = verifierId.split('|')[1];\n    const { username } = await this.torusService.twitterLookup(undefined, twitterId);\n    if (username && this.walletService.wallet instanceof TorusWallet) {\n      this.walletService.wallet.name = '@' + username;\n    }\n  }\n  async findContracts(pkh: string) {\n    const addresses = await this.indexerService.getContractAddresses(pkh);\n    for (const KT of addresses) {\n      console.log('Found KT: ' + KT);\n      this.walletService.addOriginatedAccount(KT, pkh);\n    }\n    this.walletService.storeWallet();\n  }\n}\n","<div class=\"flex-row\" id=\"wrapper\">\n  <div class=\"flex-column left\">\n    <div class=\"flex-column top\">\n      <h1><ng-container *ngIf=\"isMobile\">&nbsp;</ng-container>A Secure Home&nbsp;<br />for your Digital Assets</h1>\n      <h3>Manage your digital assets and seamlessly&nbsp;<br *ngIf=\"!isMobile\" />connect with experiences and apps on Tezos.</h3>\n    </div>\n    <div class=\"flex-column login\">\n      <span>Sign in with social:</span>\n      <div class=\"flex-row social\">\n        <button class=\"flex-row google\" (click)=\"torusLogin('google')\"><img\n            src=\"../../../assets/img/google-logo.svg\">&nbsp;<span>CONTINUE WITH\n            GOOGLE</span></button>\n        <div class=\"flex-row torus\">\n          <img class=\"facebook\" src=\"../../../assets/img/facebook-logo.svg\" (click)=\"torusLogin('facebook')\">\n          <img class=\"twitter\" src=\"../../../assets//img/twitter-logo.svg\" (click)=\"torusLogin('twitter')\">\n          <img class=\"reddit\" src=\"../../../assets/img/reddit-logo.svg\" (click)=\"torusLogin('reddit')\">\n          <img class=\"email\" src=\"../../../assets/img/email-logo-start.svg\" (click)=\"torusLogin('email')\">\n        </div>\n      </div>\n    </div>\n    <div class=\"flex-column bottom\">\n      <img src=\"../../../assets/img/landing-hero.png\" id=\"bg-mobile\">\n      <div id=\"ribbon-mobile\"></div>\n    </div>\n  </div>\n  <div class=\"flex-column right\">\n    <img src=\"../../../assets/img/landing-hero.png\" id=\"bg\">\n    <div id=\"ribbon\"></div>\n  </div>\n</div>","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { ActivatedRoute } from '@angular/router';\nimport 'rxjs/add/operator/filter';\nimport { TorusService } from '../../../services/torus/torus.service';\nimport { MessageService } from '../../../services/message/message.service';\nimport { ImportService } from '../../../services/import/import.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-start',\n  templateUrl: './start.component.html',\n  styleUrls: ['../../../../scss/components/views/start/start.component.scss']\n})\nexport class StartComponent implements OnInit, OnDestroy {\n  isMobile = false;\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(\n    private walletService: WalletService,\n    public translate: TranslateService,\n    public torusService: TorusService,\n    private importService: ImportService,\n    private messageService: MessageService,\n    private router: Router,\n    private route: ActivatedRoute\n  ) {}\n\n  async ngOnInit(): Promise<void> {\n    this.subscriptions.add(\n      this.route.queryParams.subscribe(async (params) => {\n        if (params?.devtool === 'watch') {\n          const address = prompt('Enter watch address');\n          if (address) {\n            try {\n              await this.importService.watch(address);\n              this.messageService.startSpinner();\n              this.router.navigate([`/account/${address}`]);\n            } finally {\n              this.messageService.stopSpinner();\n            }\n          }\n        }\n      })\n    );\n    if (!this.walletService.wallet) {\n      this.torusService.initTorus();\n    }\n\n    const e = () => {\n      this.isMobile = !!parseInt(getComputedStyle(document.documentElement).getPropertyValue('--is-mobile'));\n    };\n    window.addEventListener('resize', e);\n    e();\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  async torusLogin(verifier: string, verifierId = ''): Promise<void> {\n    this.messageService.startSpinner('Loading wallet...');\n    // const { keyPair, userInfo } = await this.mockLogin();\n    const { keyPair, userInfo } = await this.torusService.loginTorus(verifier).catch(async (e) => await this.messageService.stopSpinner());\n    console.log('login done');\n    if (keyPair) {\n      await this.importService\n        .importWalletFromPk(\n          keyPair.pk,\n          '',\n          {\n            verifier: userInfo.typeOfLogin,\n            id: userInfo.verifierId,\n            name: userInfo.name\n          },\n          keyPair.sk\n        )\n        .then((success: boolean) => {\n          if (success) {\n            console.log('success');\n            this.router.navigate([`/account/`]);\n            this.messageService.stopSpinner();\n          } else {\n            this.messageService.addError('Torus import failed');\n            this.messageService.stopSpinner();\n          }\n        });\n    } else {\n      await this.messageService.stopSpinner();\n    }\n  }\n\n  private async mockLogin(): Promise<any> {\n    const keyPair = {\n      sk: 'spsk1VfCfhixtzGvUSKDre6jwyGbXFm6aoeLGnxeVLCouueZmkgtJF',\n      pk: 'sppk7cZsZeBApsFgYEdWuSwj92YCWkJxMmBfkN3FeKRmEB7Lk5pmDrT',\n      pkh: 'tz2WKg52VqnYXH52TZbSVjT4hcc8YGVKi7Pd'\n    };\n    const userInfo = {\n      typeOfLogin: 'google',\n      verifierId: 'mock.user@gmail.com',\n      name: 'Mock User'\n    };\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve({ keyPair, userInfo });\n      }, 2000);\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { saveAs } from 'file-saver';\n\n@Injectable()\nexport class ExportService {\n  constructor() {}\n  downloadWallet(data: any) {\n    const blob = new Blob([JSON.stringify(data, null, 4)], {\n      type: 'application/json'\n    });\n    let filename = 'wallet.tez';\n    if (data.walletType === 1) {\n      filename = 'view-only_wallet.tez';\n    } else if (data.walletType === 2) {\n      filename = 'observer_wallet.tez';\n    } else if (data.walletType === 3) {\n      filename = 'ledger_wallet.tez';\n    } else if (data.walletType === 4) {\n      filename = 'hd-wallet.tez';\n    } else if (data.walletType === 5) {\n      filename = 'social-wallet.tez';\n    }\n    saveAs(blob, filename);\n  }\n\n  downloadOperationData(hex: string, signed: boolean) {\n    const data = {\n      hex: hex,\n      signed: signed\n    };\n    let filename;\n    if (signed) {\n      filename = 'signed.tzop';\n    } else {\n      filename = 'unsigned.tzop';\n    }\n    const blob = new Blob([JSON.stringify(data, null, 4)], {\n      type: 'application/json'\n    });\n    saveAs(blob, filename);\n  }\n}\n","<form autocomplete=\"off\">\n  <div class=\"flex-column card\">\n    <a routerLink=\"/\"><button class=\"flex-row back\"><img\n          src=\"../../../../../assets/img/left-arrow.svg\">BACK</button></a>\n    <div *ngIf=\"activePanel==1\" class=\"flex-column body\">\n      <h1>Back up your seed</h1>\n      <p class=\"description\">When you create a new wallet, new Tezos Recovery (Seed) Words are generated.<br />Your seed\n        words are\n        the\n        master key of your wallet accounts and any value they hold.</p>\n      <div class=\"whitebox\" (mouseout)=\"mouseOut($event)\" (touchstart)=\"$event.stopPropagation(); this.hideBlur = true;\"\n        (touchend)=\"checkSelection($event)\" (click)=\"$event.stopPropagation()\" (mouseup)=\"checkSelection($event)\">\n        {{ MNEMONIC.string }}<div *ngIf=\"!hideBlur\" class=\"flex-row seed-blur\"\n          (click)=\"$event.stopPropagation(); this.hideBlur = true;\">\n          <span>CLICK HERE TO REVEAL YOUR SEED WORDS</span>\n        </div>\n      </div>\n      <p class=\"description red\">\n        <span *ngIf=\"isSelectedMnemonic\" style=\"margin-top: -4rem\" class=\"warning red\">\n          WARNING: Copying the seed words to your clipboard can result in sensitive leakage. The clipboard is a shared\n          resource that can be monitored by other web pages or browser extensions.<br />\n        </span> Be sure sure to back it up (seed words), write it down, and keep it incredibly safe.\n      </p>\n      <button class=\"button next\" (click)=\"verifyView()\">Next</button>\n    </div>\n    <div *ngIf=\"activePanel==2\" class=\"flex-column body\">\n      <h1>Verify your seed</h1>\n      <p class=\"description\">{{ MNEMONIC.verify.length ? 'Fill in the ' + formatVerifyDescription(MNEMONIC.verify[0] +\n        1)\n        + ' to verify\n        your seed backup' : 'Recovery Words (seed) have been verified' }}</p>\n      <progress max=\"{{ MNEMONIC.wordsToVerify }}\"\n        value=\"{{ MNEMONIC.wordsToVerify - MNEMONIC.verify.length }}\"></progress>\n      <div *ngIf=\"MNEMONIC.verify.length\" class=\"flex-row word-verify\">\n        <div class=\"flex-column word-hint\">\n          <span class=\"word-index\">{{ indexFormat(MNEMONIC.verify[0] - 1) }}</span>\n          <span class=\"word-value\"><b>{{ valueFormat(MNEMONIC.verify[0] - 1) }}</b></span>\n        </div>\n        <div class=\"flex-column word-input\">\n          <span class=\"word-index\">\n            <ng-container *ngIf=\"MNEMONIC.verify.length\">Word {{ MNEMONIC.verify[0] + 1 }}</ng-container>\n          </span>\n          <input id=\"wordInput\" class=\"text\" name=\"none\" type=\"text\" (input)=\"checkWord()\" (change)=\"checkWord()\"\n            [(ngModel)]=\"wordInput\" [disabled]=\"!MNEMONIC.verify.length\" autofocus>\n        </div>\n        <div class=\"flex-column word-hint\">\n          <span class=\"word-index\">{{ indexFormat(MNEMONIC.verify[0] + 1) }}</span>\n          <span class=\"word-value\"><b>{{ valueFormat(MNEMONIC.verify[0] + 1) }}</b></span>\n        </div>\n      </div>\n      <button *ngIf=\"!MNEMONIC.verify.length\" class=\"button next\" (click)=\"pwdView()\">Next</button>\n    </div>\n    <div *ngIf=\"activePanel==3\" class=\"flex-column body\">\n      <h1>Set a password</h1>\n      <p class=\"description bold blue\">This password will be used to create an encrypted keystore file.</p>\n      <p class=\"description\">When performing operations that need to be signed with your\n        secret key, this password will be required</p>\n      <input name=\"none\" type=\"password\" placeholder=\"{{ 'NEWWALLETCOMPONENT.PASSWORD' | translate }}\" class=\"text\"\n        autocomplete=\"new-password\" [(ngModel)]=\"pwd1\" (keyup)=\"calcStrength()\">\n      <small class=\"strength\"> {{ 'NEWWALLETCOMPONENT.PASSWORDSTRENGTH' | translate }}  <b\n          [style.color]=\"pwdStrength === 'Catastrophic!' ? 'darkred' : pwdStrength === 'Very weak!' ? 'red' : pwdStrength === 'Weak!' ? 'orange' : pwdStrength === 'Strong!' ? 'green' : 'red'\">{{\n          pwdStrength }}</b></small>\n      <input name=\"none\" type=\"password\" placeholder=\"{{ 'NEWWALLETCOMPONENT.CONFIRMPASSWORD' | translate }}\" class=\"text\"\n        autocomplete=\"new-password\" [(ngModel)]=\"pwd2\" (keydown.enter)=\"encryptWallet($event)\">\n      <button class=\"button next\" [style.visibility]=\"!pwd1 ? 'hidden' : ''\" (click)=\"encryptWallet($event)\">Next</button>\n    </div>\n    <div *ngIf=\"activePanel==4\" class=\"flex-column body\">\n      <h1>Wallet created!</h1>\n      <p class=\"description bold\">Your wallet is now set up and ready to be used.</p>\n      <p class=\"description\">Download your encrypted keystore file and import it when you want to access your wallet.\n      </p>\n      <div class=\"whitebox final\">\n        <p class=\"description bold pkh\">Your public account address:<br />{{ getPkh() }}</p>\n      </div>\n      <button class=\"button next\" (click)=\"download()\">Download</button>\n      <button class=\"button next\" [style.visibility]=\"!ekfDownloaded ? 'hidden' : ''\" (click)=\"done()\">Open\n        Wallet</button>\n    </div>\n    <span class=\"flex-row step-counter\">\n      <ng-container *ngFor=\"let _ of [1, 2, 3, 4]\">\n        <div class=\"dot\" [class]=\"_ === activePanel ? 'selected' : ''\"></div>\n      </ng-container>\n    </span>\n  </div>\n</form>","import { Component, OnInit, Input, HostBinding } from '@angular/core';\nimport { WalletService } from '../../../../../services/wallet/wallet.service';\nimport { StorableWalletType } from '../../../../../interfaces';\nimport { MessageService } from '../../../../../services/message/message.service';\nimport { ExportService } from '../../../../../services/export/export.service';\nimport { ImportService } from '../../../../../services/import/import.service';\nimport { InputValidationService } from '../../../../../services/input-validation/input-validation.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-new-wallet',\n  templateUrl: './new-wallet.component.html',\n  styleUrls: ['../../../../../../scss/components/views/start/login.component.scss']\n})\nexport class NewWalletComponent implements OnInit {\n  wordInput: string;\n  @HostBinding('class.tacos') showTacos = false;\n  @Input() pwd1 = '';\n  @Input() pwd2 = '';\n  @Input() userMnemonic = '';\n  hideBlur = false;\n  isSelectedMnemonic = false;\n  pwdStrength = '';\n  ekfDownloaded = false;\n  activePanel = 0;\n  data: any;\n  seed: any;\n  pkh: string;\n  pk: string;\n  MNEMONIC: {\n    string: string;\n    array: string[];\n    verify: number[];\n    wordsToVerify: number;\n  };\n  longClickTs = 0;\n  constructor(\n    private translate: TranslateService,\n    private walletService: WalletService,\n    private messageService: MessageService,\n    private exportService: ExportService,\n    private importService: ImportService,\n    private inputValidationService: InputValidationService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.generateSeed();\n  }\n  generateSeed(): void {\n    const mnemonic = this.walletService.createNewWallet();\n    this.MNEMONIC = {\n      string: mnemonic,\n      array: mnemonic.split(' '),\n      verify: [],\n      wordsToVerify: 5\n    };\n    // shuffle\n    const mnemonicLength = this.MNEMONIC.array.length;\n    while (this.MNEMONIC.verify.length < this.MNEMONIC.wordsToVerify) {\n      const index = Math.floor(Math.random() * Math.floor(mnemonicLength));\n      if (!this.MNEMONIC.verify.includes(index)) {\n        this.MNEMONIC.verify.push(index);\n      }\n    }\n    this.MNEMONIC.verify.sort((a, b) => a - b);\n    this.activePanel++;\n  }\n  checkWord(): void {\n    this.wordInput = this.wordInput.toLowerCase().trim();\n    if (this.wordInput === this.MNEMONIC.array[this.MNEMONIC.verify[0]]) {\n      this.MNEMONIC.verify.shift();\n      this.wordInput = '';\n    }\n    if (!this.MNEMONIC.verify) {\n      // Remove focus from input box\n      document.getElementById('wordInput').blur();\n    }\n  }\n  formatVerifyDescription(index: number): string {\n    if (this.MNEMONIC.verify.length === 0) {\n      return 'Seed backup has been verified!';\n    }\n    switch (index) {\n      case 1:\n      case 21:\n        return `${index}st word`;\n      case 2:\n      case 22:\n        return `${index}nd word`;\n      case 3:\n      case 23:\n        return `${index}rd word`;\n      default:\n        return `${index}th word`;\n    }\n  }\n  indexFormat(index: number): string {\n    if (this.MNEMONIC.verify.length === 0) {\n      return '';\n    } else if (index < 0 || index >= this.MNEMONIC.array.length) {\n      return '';\n    } else {\n      return 'Word ' + (index + 1);\n    }\n  }\n  valueFormat(index: number): string {\n    if (this.MNEMONIC.verify.length === 0) {\n      return '';\n    } else if (index < 0 || index > this.MNEMONIC.array.length) {\n      return '';\n    } else {\n      return this.MNEMONIC.array[index];\n    }\n  }\n  verifyView(): void {\n    if (this.MNEMONIC.verify.length) {\n      this.activePanel++;\n    } else {\n      throw new Error('Unexpected verify array');\n    }\n  }\n  pwdView(): void {\n    this.activePanel++;\n    this.userMnemonic = '';\n  }\n\n  mnemonicMatch(): boolean {\n    return this.MNEMONIC.string === this.userMnemonic;\n  }\n  async encryptWallet(e: Event): Promise<boolean> {\n    e.preventDefault();\n    if (this.validPwd()) {\n      this.messageService.startSpinner('Encrypting wallet...');\n      const pwd = this.pwd1;\n      this.pwd1 = '';\n      this.pwd2 = '';\n      const ans = await this.walletService.createEncryptedWallet(this.MNEMONIC.string, pwd, '', StorableWalletType.HdWallet);\n      this.seed = ans.seed;\n      this.data = ans.data;\n      this.pkh = ans.pkh;\n      this.pk = ans.pk;\n      this.MNEMONIC.string = '';\n      this.MNEMONIC.array = [];\n      this.MNEMONIC.verify = [];\n      this.activePanel++;\n      this.messageService.stopSpinner();\n      if (document.body.offsetWidth >= 480) {\n        this.showTacos = true;\n      }\n    }\n    return false;\n  }\n  validPwd(): boolean {\n    if (!this.inputValidationService.password(this.pwd1)) {\n      this.messageService.addWarning(this.translate.instant('MNEMONICIMPORTCOMPONENT.PASSWORDWEAK'), 5);\n      return false;\n    } else if (this.pwd1 !== this.pwd2) {\n      this.messageService.addWarning(this.translate.instant('MNEMONICIMPORTCOMPONENT.NOMATCHPASSWORDS'), 5);\n      return false;\n    } else {\n      return true;\n    }\n  }\n  calcStrength(): void {\n    this.pwdStrength = this.inputValidationService.passwordStrengthDisplay(this.pwd1);\n  }\n  async done(): Promise<void> {\n    const seed = this.seed;\n    this.seed = null;\n    await this.importService.importWalletFromObject(this.data, seed);\n    this.walletService.storeWallet();\n    this.data = null;\n    this.messageService.addSuccess('Your new wallet is now set up and ready to use!');\n    this.router.navigate([`/account/`]);\n  }\n  export(): string {\n    return JSON.stringify(this.data);\n  }\n  getPkh(): string {\n    return this.pkh;\n  }\n  download(): void {\n    this.exportService.downloadWallet(this.data);\n    this.ekfDownloaded = true;\n  }\n  mouseOut(e): void {\n    e.stopPropagation();\n    this.hideBlur = false;\n    window.getSelection()?.removeAllRanges();\n  }\n  checkSelection(ev): void {\n    ev.stopPropagation();\n    if (this.isTextSelected()) {\n      this.isSelectedMnemonic = true;\n    }\n  }\n  private isTextSelected(): boolean {\n    let selection: Selection;\n    if (window.getSelection) {\n      selection = window.getSelection();\n    } else if (document.getSelection) {\n      selection = document.getSelection();\n    } else return false;\n    return !selection?.isCollapsed;\n  }\n}\n","<div class=\"flex-column card\">\n  <a routerLink=\"/\"><button class=\"flex-row back\"><img src=\"../../../../../assets/img/left-arrow.svg\">BACK</button></a>\n  <div *ngIf=\"activePanel === 0\" class=\"flex-column body\">\n    <h1>Import wallet</h1>\n    <div class=\"flex-row import-options\">\n      <span [class.selected]=\"importOption===0\" (click)=\"reset(); importOption = 0\">Keystore File</span>\n      <span [class.selected]=\"importOption===1\" (click)=\"reset(); importOption = 1\">Seed Words</span>\n      <span [class.selected]=\"importOption===2\" (click)=\"reset(); importOption = 2\">Fundraiser</span>\n    </div>\n    <ng-container *ngIf=\"importOption === 0\">\n      <form autocomplete=\"off\">\n        <p class=\"description\">\n          Import your wallet from an encrypted keystore file (<span style=\"text-transform: lowercase;\">.tez</span>)\n        </p>\n        <input #keyStore name=\"none\" type=\"file\" (change)=\"handleFileInput($event.target.files)\"\n          accept=\".tez{{ firefox ? ', application/json' : '' }}\" id=\"file\" name=\"file\">\n        <div class=\"flex-row button input-file-wrapper\">\n          <label for=\"file\" class=\"flex-row button input-file\" [class.loaded]=\"walletJson\"\n            (click)=\"keyStore?.nativeElement?.click();\">\n            <ng-container *ngIf=\"!walletJson\"><span class=\"b\">Browse</span><img\n                src=\"../../../../../assets/img/import-plus.png\" /></ng-container>\n            <ng-container *ngIf=\"walletJson\">\n              <div class=\"flex-row body\"><img src=\"../../../../../assets/img/lock.png\" />&nbsp;&nbsp;<span\n                  class=\"flex-row filename\">{{\n                  fileName\n                  }}</span>\n              </div>\n              <span class=\"b\">Browse</span>\n            </ng-container>\n          </label>\n        </div>\n        <input *ngIf=\"walletJson\" name=\"none\" type=\"password\" class=\"text\" autocomplete=\"current-password\"\n          (keydown.enter)='!messageService.spinnerOn ? checkImportPwd() : null' id=\"pwd\" [(ngModel)]=\"pwd\"\n          placeholder=\"Password\">\n        <button class=\"button next\" [style.visibility]=\"!walletJson ? 'hidden' : ''\"\n          (click)='!messageService.spinnerOn ? checkImportPwd() : null'>Import</button>\n      </form>\n    </ng-container>\n    <ng-container *ngIf=\"importOption > 0\">\n      <form autocomplete=\"off\">\n        <p class=\"description faucet\" *ngIf=\"importOption === 2\"><span>Please make sure to first <a\n              routerLink=\"/activate\">activate</a> your fundraiser wallet.</span></p>\n        <span class=\"description label\">RECOVERY (SEED) WORDS <span style=\"color: #98a0ab\">12-24\n            WORDS</span></span>\n        <textarea name=\"none\" class=\"text seed-word\" [(ngModel)]=\"mnemonic\" autocomplete=\"off\" spellcheck=\"false\"\n          [placeholder]=\"'Seed Words (required)'\" (keydown)=\"seedWordKeydown($event)\"></textarea>\n      </form>\n      <ng-container *ngIf=\"importOption === 1\">\n        <app-ui-toggle-advanced style=\"width: 13rem;\" [default]=\"false\" (stateChange)=\"advancedForm = $event\">\n        </app-ui-toggle-advanced>\n        <br /><br />\n        <form autocomplete=\"off\" *ngIf=\"advancedForm\" class=\"flex-row-wrap import-option-1\">\n          <div class=\"flex-column\">\n            <span class=\"label\"><b>If your seed words are protected by a passphrase, it needs to be\n                entered here</b></span>\n            <input name=\"none\" class=\"text\" type=\"password\" name=\"passphrase\" autocomplete=\"one-time-code\"\n              [(ngModel)]=\"passphrase\" [placeholder]=\"'Passphrase (optional)'\" readonly=\"true\"\n              (click)=\"clickPassword($event)\" (blur)=\"blurPassword($event)\">\n          </div>\n          <div class=\"flex-column\">\n            <span class=\"label\"><b>Provide the address to verify your passphrase is correct</b></span>\n            <input name=\"none\" type=\"text\" class=\"text\" [(ngModel)]=\"pkh\"\n              [placeholder]='passphrase ? \"tz1... (required)\" : \"tz1... (optional)\"'>\n          </div>\n        </form>\n      </ng-container>\n      <ng-container *ngIf=\"importOption === 2\">\n        <form autocomplete=\"off\">\n          <span class=\"label\">The email used during the fundraiser</span>\n          <input name=\"none\" class=\"text\" type=\"text\" [(ngModel)]=\"email\" [placeholder]=\"'Email (required)'\">\n          <span class=\"label\">The password you chose during the fundraiser</span>\n          <input name=\"none\" class=\"text\" type=\"password\" name=\"tge-password\" autocomplete=\"one-time-code\"\n            [(ngModel)]=\"password\" [placeholder]=\"'Password (required)'\" readonly=\"true\" (click)=\"clickPassword($event)\"\n            (blur)=\"blurPassword($event)\">\n          <span class=\"label\">Provide the public key hash to verify your email and password are correct</span>\n          <input name=\"none\" type=\"text\" class=\"text\" [(ngModel)]=\"pkh\" [placeholder]=\"'tz1... (recomended)'\">\n        </form>\n      </ng-container>\n      <button class=\"button next\" (click)=\"retrieve()\">Import</button>\n    </ng-container>\n  </div>\n  <div *ngIf=\"activePanel==1 && chooseWalletState === chooseWalletStateEnum.UserDoesNotNeedToChooseWallet\"\n    class=\"flex-column body\">\n    <form autocomplete=\"off\">\n      <h1>Set a password</h1>\n      <p class=\"description bold blue\">This password will be used to create an encrypted keystore file.</p>\n      <p class=\"description\">When performing operations that need to be signed with your\n        secret key, this password will be required</p>\n      <input name=\"none\" type=\"password\" placeholder=\"{{ 'NEWWALLETCOMPONENT.PASSWORD' | translate }}\" class=\"text\"\n        autocomplete=\"new-password\" [(ngModel)]=\"pwd1\" (keyup)=\"calcStrength()\">\n      <small class=\"strength\"> {{ 'NEWWALLETCOMPONENT.PASSWORDSTRENGTH' | translate }}  <b\n          [style.color]=\"pwdStrength === 'Catastrophic!' ? 'darkred' : pwdStrength === 'Very weak!' ? 'red' : pwdStrength === 'Weak!' ? 'orange' : pwdStrength === 'Strong!' ? 'green' : 'red'\">{{\n          pwdStrength }}</b></small>\n      <input name=\"none\" type=\"password\" placeholder=\"{{ 'NEWWALLETCOMPONENT.CONFIRMPASSWORD' | translate }}\"\n        class=\"text\" autocomplete=\"new-password\" [(ngModel)]=\"pwd2\">\n      <button class=\"button next\" [style.visibility]=\"!pwd1 ? 'hidden' : ''\"\n        (click)=\"setPwdOrConfirmWalletType()\">Next</button>\n    </form>\n  </div>\n  <div\n    *ngIf=\"importOption === 1 && activePanel === 1 && chooseWalletState !== chooseWalletStateEnum.UserDoesNotNeedToChooseWallet\"\n    class=\"body flex-column\">\n    <h1>Confirm Wallet Type</h1>\n    <p class=\"description\" *ngIf=\"chooseWalletState !== chooseWalletStateEnum.TzktErrorEncountered\">\n      You have used both the HD and Legacy wallets derived from the seed words. Please choose one.\n    </p>\n    <p class=\"description\" *ngIf=\"chooseWalletState === chooseWalletStateEnum.TzktErrorEncountered\">\n      We are currently unable to query information about your wallet. Please choose a wallet type.\n    </p>\n    <div class=\"radios flex-row\">\n      <div class=\"flex-column\">\n        <div class=\"wallet-type-option\">\n          <input name=\"none\" (change)=\"storableWalletType = storableWalletTypeEnum.HdWallet\" type=\"radio\"\n            name=\"walletType\" value=\"hd\" checked>\n          <span>HD wallet</span>\n        </div>\n        <div>Address: {{hdCandidate.pkh}}</div>\n        <div>Tez Balance: {{hdCandidate.balance ?? '-'}}</div>\n      </div>\n      <div class=\"flex-column\">\n        <div class=\"wallet-type-option\">\n          <input name=\"none\" (change)=\"storableWalletType = storableWalletTypeEnum.LegacyWallet\" type=\"radio\"\n            name=\"walletType\" value=\"legacy\">\n          <span>Legacy wallet</span>\n        </div>\n        <div>Address: {{legacyCandidate.pkh}}</div>\n        <div>Tez balance: {{legacyCandidate.balance ?? '-'}}</div>\n      </div>\n    </div>\n    <button class=\"button next\" (click)=\"setPwdAfterConfirmingWalletType()\">Confirm Wallet Type</button>\n  </div>\n  <div *ngIf=\"activePanel==2\" class=\"flex-column body\">\n    <h1>Wallet created!</h1>\n    <p class=\"description bold\">Your wallet is now set up and ready to be used.</p>\n    <p class=\"description\">Download your encrypted keystore file and import it when you want to access your wallet.\n    </p>\n    <div class=\"whitebox final\">\n      <p class=\"description bold pkh\">Your public account address:<br />{{ showPkh() }}</p>\n    </div>\n    <button class=\"button next\" (click)=\"download()\">Download</button>\n    <button class=\"button next\" [style.visibility]=\"!Downloaded ? 'hidden' : ''\" (click)=\"done()\">Open Wallet</button>\n  </div>\n</div>","import { Component, OnInit, HostBinding, Input, OnDestroy, AfterViewInit } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { ImportService } from '../../../../../services/import/import.service';\nimport { MessageService } from '../../../../../services/message/message.service';\nimport { StorableWalletType } from '../../../../../interfaces';\nimport { WalletService } from '../../../../../services/wallet/wallet.service';\nimport { ExportService } from '../../../../../services/export/export.service';\nimport { InputValidationService } from '../../../../../services/input-validation/input-validation.service';\nimport { IndexerService } from '../../../../../services/indexer/indexer.service';\nimport { OperationService } from '../../../../../services/operation/operation.service';\nimport { utils, hd, secp256k1 } from '../../../../../libraries/index';\nimport { filter } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\nimport * as bip39 from 'bip39';\nimport Big from 'big.js';\n\ninterface WalletCandidate {\n  pkh: string;\n  used?: boolean;\n  balance?: string;\n}\n\nexport enum ChooseWalletState {\n  UserDoesNotNeedToChooseWallet,\n  UserNeedsToChooseWallet,\n  TzktErrorEncountered\n}\n\n@Component({\n  selector: 'app-mnemonic-import-wallet',\n  templateUrl: './mnemonic-import.component.html',\n  styleUrls: ['../../../../../../scss/components/views/start/login.component.scss']\n})\nexport class MnemonicImportComponent implements OnInit, AfterViewInit, OnDestroy {\n  @HostBinding('class.tacos') showTacos = false;\n  @Input('keyStore') keyStore;\n  MIN_PWD_LENGTH = 9;\n  mnemonic: string;\n  email: string;\n  password: string;\n  passphrase: string;\n  pkh: string;\n  importOption = 0;\n  activePanel = 0;\n  wallet: any;\n  walletJson: string;\n  pwd = '';\n  pwd1: string;\n  pwd2: string;\n  pwdStrength = '';\n  Downloaded = false;\n  fileName = '';\n  showWrongFileUploadMsg: false;\n  browser = 'unknown';\n  advancedForm = false;\n  bip39Wordlist = bip39.wordlists.english;\n\n  // data for seed word wallet import\n  storableWalletTypeEnum = StorableWalletType;\n  storableWalletType = StorableWalletType.HdWallet;\n  chooseWalletStateEnum = ChooseWalletState;\n  chooseWalletState = ChooseWalletState.UserDoesNotNeedToChooseWallet;\n  legacyCandidate: null | WalletCandidate = null;\n  hdCandidate: null | WalletCandidate = null;\n  exportedSocialWalletCandidate: null | WalletCandidate = null;\n\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(\n    private importService: ImportService,\n    private router: Router,\n    private messageService: MessageService,\n    private walletService: WalletService,\n    private exportService: ExportService,\n    private inputValidationService: InputValidationService,\n    private indexerService: IndexerService,\n    private operationService: OperationService\n  ) {\n    this.subscriptions.add(\n      this.router.events.pipe(filter((e) => e instanceof NavigationEnd && e.url.startsWith('/import'))).subscribe(() => {\n        const navigation = this.router.getCurrentNavigation();\n        this.importOption = navigation.extras?.state?.option ? navigation.extras.state.option : 0;\n      })\n    );\n  }\n\n  ngOnInit(): void {}\n\n  ngAfterViewInit(): void {\n    document.documentElement.addEventListener('dragover', this.allowDrop.bind(this));\n    document.documentElement.addEventListener('drop', this.handleFileDragAndDrop.bind(this));\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  clickPassword(e): void {\n    e.target.removeAttribute('readonly');\n    e.target.focus();\n  }\n\n  blurPassword(e): void {\n    e.target.setAttribute('readonly', true);\n  }\n\n  async retrieve(): Promise<void> {\n    // try to get the PKH from the user provided mnemonic\n    if (this.mnemonic) {\n      this.mnemonic = this.mnemonic\n        .toLowerCase()\n        .replace(/(\\r\\n|\\n|\\r)/gm, ' ') // replace \\n\n        .replace(/[^a-z| ]/gm, '') // remove forbidden characters\n        .replace(/\\s+/g, ' ') // remove extra whitespaces\n        .trim();\n    }\n    if (this.importOption === 2) {\n      this.passphrase = this.email + this.password;\n    }\n    const invalidMnemonic = this.inputValidationService.invalidMnemonic(this.mnemonic);\n\n    if (invalidMnemonic) {\n      if (this.importOption === 1) {\n        // the mnemonic provided is invalid, but it could also be a shifted mnemonic from\n        // an exported social wallets. Convert the shifted mnemonic into a potentially valid\n        // mnemonic and see if we can derive the private keys.\n        let unshiftedMnemonic = null;\n        try {\n          unshiftedMnemonic = secp256k1.shiftedMnemonicToMnemonic(this.mnemonic);\n        } catch (e) {\n          console.log('Failed to convert unshift mnemonic', e);\n        }\n        if (unshiftedMnemonic) {\n          const invalidShiftedMnemonic = this.inputValidationService.invalidMnemonic(unshiftedMnemonic);\n          if (invalidShiftedMnemonic) {\n            this.messageService.addWarning(invalidMnemonic, 10);\n          } else {\n            try {\n              const spsk = secp256k1.mnemonicToSpsk(unshiftedMnemonic);\n              if (secp256k1.validSecretKey(spsk)) {\n                if (this.passphrase) {\n                  this.messageService.addWarning('Passphrase is not allowed for social wallets', 10);\n                } else {\n                  const keypair = this.operationService.spPrivKeyToKeyPair(spsk);\n                  this.exportedSocialWalletCandidate = { pkh: keypair.pkh };\n                  if (this.pkh && this.pkh !== '' && keypair.pkh !== this.pkh) {\n                    this.messageService.addWarning(\n                      'The provided address does not match the address derived from the seed words. Confirm that the address and passphrase are correct.',\n                      5\n                    );\n                  } else {\n                    this.storableWalletType = StorableWalletType.ExportedSocialWallet;\n                    this.mnemonic = unshiftedMnemonic;\n                    this.activePanel++;\n                  }\n                }\n              } else {\n                this.messageService.addWarning(invalidMnemonic, 10);\n              }\n            } catch (e) {\n              console.log('Failed to convert mnemonic to spsk', e);\n              this.messageService.addWarning(invalidMnemonic, 10);\n            }\n          }\n        } else {\n          this.messageService.addWarning(invalidMnemonic, 10);\n        }\n      } else {\n        this.messageService.addWarning(invalidMnemonic, 10);\n      }\n    } else if (this.importOption === 2 && !this.inputValidationService.email(this.email)) {\n      this.messageService.addWarning('Invalid email!', 10);\n    } else if (this.importOption === 2 && !this.password) {\n      this.messageService.addWarning('Invalid password!', 10);\n    } else if (!this.inputValidationService.passphrase(this.passphrase)) {\n      this.messageService.addWarning('Invalid passphrase!', 10);\n    } else if (this.pkh && !this.inputValidationService.address(this.pkh)) {\n      this.messageService.addWarning('Invalid public key hash!', 10);\n    } else if (this.importOption === 1 && this.passphrase && !this.pkh) {\n      this.messageService.addWarning('Address is required when importing with passphrase', 10);\n    } else {\n      // at this point we have validated the majority of the input and we can\n      // try to derive the PKH from mnemonic and the passphrase.\n      const passphrase = this.passphrase ? this.passphrase : '';\n      const legacyWalletAddress = utils.seedToKeyPair(utils.mnemonicToSeed(this.mnemonic, passphrase, false)).pkh;\n\n      if (this.importOption === 1) {\n        // seed word import screen\n\n        // from the mnemonic itself we cannot tell if the user prefers the HD or legacy wallet\n        // so we collect some data and run some checks\n        this.legacyCandidate = { pkh: legacyWalletAddress };\n        this.hdCandidate = { pkh: hd.keyPairFromAccountIndex(utils.mnemonicToSeed(this.mnemonic, passphrase, true), 0).pkh };\n        if (this.pkh && this.pkh !== '') {\n          // the user has provided a PKH and they expect the derivation from the seed words to match one\n          if (this.pkh === this.hdCandidate.pkh) {\n            this.storableWalletType = StorableWalletType.HdWallet;\n            this.hdCandidate.used = true;\n            this.legacyCandidate.used = false;\n            this.activePanel++;\n          } else if (this.pkh === this.legacyCandidate.pkh) {\n            this.storableWalletType = StorableWalletType.LegacyWallet;\n            this.legacyCandidate.used = true;\n            this.hdCandidate.used = false;\n            this.activePanel++;\n          } else {\n            this.messageService.addWarning(\n              'The provided address does not match the address derived from the seed words. Confirm that the address and passphrase are correct.',\n              5\n            );\n          }\n        } else {\n          // these API requests are run in the background and inspected later\n          Promise.all([this.indexerService.isUsedAccount(this.legacyCandidate.pkh), this.indexerService.isUsedAccount(this.hdCandidate.pkh)]).then((isUsed) => {\n            this.legacyCandidate.used = isUsed[0];\n            this.hdCandidate.used = isUsed[1];\n            // prefetch balances if both accounts are used\n            if (isUsed.every(Boolean)) {\n              this.getCandidateBalances();\n            } else {\n              console.table({ legacy: this.legacyCandidate, hd: this.hdCandidate });\n            }\n          });\n          this.activePanel++;\n        }\n      } else if (this.importOption === 2 && this.pkh && this.pkh !== legacyWalletAddress) {\n        // fundraiser screen if user provided pkh does not match the legacy wallet address\n        this.messageService.addWarning('Invalid email or password!', 5);\n      } else {\n        this.activePanel++;\n      }\n    }\n  }\n\n  getChooseWalletState(): ChooseWalletState {\n    if (this.importOption === 2) {\n      this.storableWalletType = StorableWalletType.LegacyWallet;\n    }\n    if (this.importOption === 2 || this.exportedSocialWalletCandidate) {\n      return ChooseWalletState.UserDoesNotNeedToChooseWallet;\n    }\n    if (this.legacyCandidate.used === undefined || this.hdCandidate.used === undefined) {\n      // Promises haven't resolved successfully in time (before the user have entered the passwords), fallback on manual wallet type selection\n      return ChooseWalletState.TzktErrorEncountered;\n    } else if (this.legacyCandidate.used) {\n      if (this.hdCandidate.used) {\n        return ChooseWalletState.UserNeedsToChooseWallet;\n      } else {\n        this.storableWalletType = StorableWalletType.LegacyWallet;\n      }\n    }\n    return ChooseWalletState.UserDoesNotNeedToChooseWallet;\n  }\n\n  async getCandidateBalances() {\n    if (!this.hdCandidate.balance) {\n      this.subscriptions.add(\n        this.operationService.getBalance(this.hdCandidate.pkh).subscribe((ans) => {\n          if (ans.success) {\n            this.hdCandidate.balance = Big(ans.payload.balance)\n              .div(10 ** 6)\n              .toString();\n            if (this.legacyCandidate.balance) console.table({ legacy: this.legacyCandidate, hd: this.hdCandidate });\n          }\n        })\n      );\n    }\n    if (!this.legacyCandidate.balance) {\n      this.subscriptions.add(\n        this.operationService.getBalance(this.legacyCandidate.pkh).subscribe((ans) => {\n          if (ans.success) {\n            this.legacyCandidate.balance = Big(ans.payload.balance)\n              .div(10 ** 6)\n              .toString();\n            if (this.hdCandidate.balance) console.table({ legacy: this.legacyCandidate, hd: this.hdCandidate });\n          }\n        })\n      );\n    }\n  }\n\n  async setPwd(): Promise<void> {\n    if (this.validPwd()) {\n      const password = this.pwd1;\n      this.pwd1 = '';\n      this.pwd2 = '';\n      await this.messageService.startSpinner('Encrypting wallet...');\n      try {\n        this.wallet = await this.walletService.createEncryptedWallet(this.mnemonic, password, this.passphrase, this.storableWalletType);\n      } finally {\n        this.messageService.stopSpinner();\n      }\n      this.mnemonic = '';\n      this.passphrase = '';\n      this.email = '';\n      this.password = '';\n      this.activePanel++;\n    }\n  }\n\n  async setPwdOrConfirmWalletType() {\n    // after the user enters a password and clicks the next button, Kukai\n    // decides if they need to choose the wallet or if they can\n\n    this.chooseWalletState = this.getChooseWalletState();\n\n    if (this.chooseWalletState === ChooseWalletState.UserDoesNotNeedToChooseWallet) {\n      await this.setPwd();\n    } else {\n      this.getCandidateBalances();\n    }\n  }\n\n  async setPwdAfterConfirmingWalletType(): Promise<void> {\n    await this.setPwd();\n\n    // clean up\n    this.storableWalletType = StorableWalletType.HdWallet;\n    this.legacyCandidate = null;\n    this.hdCandidate = null;\n    this.exportedSocialWalletCandidate = null;\n  }\n\n  validPwd(): boolean {\n    if (!this.inputValidationService.password(this.pwd1)) {\n      this.messageService.addWarning('Password is too weak!', 10);\n      return false;\n    } else if (this.pwd1 !== this.pwd2) {\n      this.messageService.addWarning(\"Passwords don't match!\", 10);\n      return false;\n    } else {\n      return true;\n    }\n  }\n  calcStrength(): void {\n    this.pwdStrength = this.inputValidationService.passwordStrengthDisplay(this.pwd1);\n  }\n  export(): string {\n    return JSON.stringify(this.wallet.data);\n  }\n  showPkh(): string {\n    return this.wallet.pkh;\n  }\n  download(): void {\n    this.exportService.downloadWallet(this.wallet.data);\n    this.Downloaded = true;\n  }\n  async done(): Promise<void> {\n    await this.messageService.startSpinner('Loading wallet...');\n    try {\n      await this.importService.importWalletFromObject(this.wallet.data, this.wallet.seed);\n    } catch (e) {\n      this.messageService.addError('ImportError: ' + e?.message);\n      throw e;\n    } finally {\n      this.messageService.stopSpinner();\n    }\n    this.wallet = null;\n    this.router.navigate([`/account/`]);\n    this.messageService.addSuccess('Your new wallet is now set up and ready!');\n  }\n  /* Keystore handling */\n  importPreCheck(keyFile: string): void {\n    this.typeCheckFile(keyFile);\n    if (this.importService.pwdRequired(keyFile)) {\n      this.walletJson = keyFile;\n    } else {\n      throw new Error('Unsupported wallet file');\n    }\n  }\n  typeCheckFile(keyFile: string): void {\n    const obj = JSON.parse(keyFile);\n    // Required\n    try {\n      if (typeof obj.provider !== 'string') {\n        throw new Error('provider not a string!');\n      }\n      if (typeof obj.version !== 'number') {\n        throw new Error('version not a number!');\n      }\n      if (typeof obj.walletType !== 'number') {\n        throw new Error('walletType not a number!');\n      }\n      // Optional\n      if (obj.encryptedSeed && typeof obj.encryptedSeed !== 'string') {\n        throw new Error('encryptedSeed not a string!');\n      }\n      if (obj.pkh && typeof obj.pkh !== 'string') {\n        throw new Error('pkh not a string!');\n      }\n      if (obj.iv && typeof obj.iv !== 'string') {\n        throw new Error('iv not a string!');\n      }\n      if (obj.pk && typeof obj.pk !== 'string') {\n        throw new Error('pk not a string!');\n      }\n      if (obj.encryptedEntropy && typeof obj.encryptedEntropy !== 'string') {\n        throw new Error('encryptedEntropy not a string!');\n      }\n    } catch (e) {\n      this.messageService.addError(e);\n      throw e;\n    }\n  }\n  async checkImportPwd(): Promise<void> {\n    if (!this.walletJson) {\n      this.messageService.addWarning('No keystore file imported', 5);\n    } else if (this.pwd) {\n      await this.messageService.startSpinner('Importing wallet...');\n      try {\n        await this.import(this.walletJson, this.pwd);\n        this.pwd = '';\n      } finally {\n        this.messageService.stopSpinner();\n      }\n    } else {\n      this.messageService.addWarning('No password provided', 5);\n    }\n  }\n  async import(keyFile: string, pwd: string): Promise<void> {\n    this.typeCheckFile(keyFile);\n    await this.importService\n      .importWalletFromJson(keyFile, pwd)\n      .then((success: boolean) => {\n        if (success) {\n          this.router.navigate(['/account/']);\n        } else {\n          console.log(success);\n          this.messageService.addError('Something went wrong');\n        }\n      })\n      .catch((e) => {\n        this.messageService.addError(e);\n        this.walletService.clearWallet();\n        this.messageService.stopSpinner();\n      });\n  }\n  allowDrop(e): void {\n    e.stopPropagation();\n    e.preventDefault();\n  }\n  handleFileDragAndDrop(e): void {\n    e.preventDefault();\n    this.handleFileInput(e.dataTransfer.files);\n  }\n  handleFileInput(files: FileList): boolean {\n    let fileToUpload = files.item(0);\n    if (!fileToUpload) {\n      return false;\n    } else if (!this.validateFile(fileToUpload.name)) {\n      this.messageService.add('Selected file format is not supported');\n\n      console.log('Selected file format is not supported');\n      fileToUpload = null;\n      this.walletJson = null;\n      return false;\n    } else {\n      const reader = new FileReader();\n      reader.readAsText(fileToUpload);\n      reader.onload = () => {\n        if (typeof reader.result === 'string') {\n          try {\n            this.importPreCheck(reader.result);\n          } catch (e) {\n            this.messageService.addError(e, 5);\n            this.walletJson = null;\n          }\n          if (this.walletJson) {\n            this.fileName = fileToUpload.name;\n          }\n        } else {\n          this.walletJson = null;\n          throw new Error('Not a string import');\n        }\n      };\n    }\n  }\n  validateFile(name: string): boolean {\n    const ext = name.substring(name.lastIndexOf('.') + 1);\n    if (ext.toLowerCase() === 'tez' || ext.toLowerCase() === 'json') {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  seedWordKeydown(e): boolean {\n    if (\n      !((e.keyCode >= 65 && e.keyCode <= 90) || [8, 9, 13, 32, 37, 38, 39, 40, 46].includes(e.keyCode)) ||\n      (e.keyCode === 32 &&\n        e.target.value?.slice(-1) === ' ' &&\n        e.target?.selectionStart === e.target?.selectionEnd &&\n        e.target?.selectionStart === e.target?.value.length)\n    ) {\n      return false;\n    }\n\n    let word = '';\n    let words = [];\n    let wordPos = -1;\n    let charPos = -1;\n    if (e.metaKey === false && e.ctrlKey === false && e.keyCode >= 65 && e.keyCode <= 90) {\n      const first = e.target.value.slice(0, e.target.selectionStart) + (e.target.selectionStart === e.target.selectionEnd ? e.key : '');\n      const second = e.target.value.slice(e.target.selectionStart);\n      const firstSplit = first.split(' ');\n      words = (first + second).split(' ');\n      wordPos = firstSplit.length - 1;\n      word = words[wordPos];\n      let n = -1;\n      firstSplit.pop();\n      firstSplit.forEach((item) => {\n        n += item.length;\n        n++;\n      });\n      charPos = e.target.selectionStart - 1 - n;\n    } else {\n      words = e.target.value.split(' ');\n    }\n    if (e.metaKey === false && e.ctrlKey === false && e.keyCode >= 65 && e.keyCode <= 90) {\n      if (e.target.selectionStart !== e.target.selectionEnd) {\n        if (e.target.value[e.target.selectionStart] === e.key) {\n          const selection = e.target.value.slice(e.target.selectionStart, e.target.selectionEnd);\n          if (selection.includes(' ')) {\n            return true;\n          }\n          ++e.target.selectionStart;\n          if (e.target.selectionStart === e.target.selectionEnd && words.length < 24) {\n            e.target.value = e.target.value.slice(0, e.target.selectionStart) + ' ' + e.target.value.slice(e.target.selectionStart);\n            this.mnemonic = e.target.value;\n          }\n          e.target.setAttribute('data-selection-start', e.target.selectionStart);\n          e.target.setAttribute('data-selection-end', e.target.selectionEnd);\n          return false;\n        } else {\n          return true;\n        }\n      }\n      if (word) {\n        const r = this.bip39Wordlist.filter((w) => w.startsWith(word));\n        // only suggest word if added char is in the end of current word\n        if (r.length === 1 && (e.target.selectionEnd !== e.target.selectionStart || charPos + 1 === word.length)) {\n          words = words.map((w) => (w === word ? r[0] : w));\n          const offset = r[0].length - word.length;\n          let selStart = e.target.selectionStart;\n          e.target.value = words.join(' ');\n          if (offset === 0 && words.length < 24 && wordPos === words.length - 1) {\n            e.target.value = e.target.value + ' ';\n            selStart++;\n          }\n          this.mnemonic = e.target.value;\n          e.target.selectionStart = selStart + 1;\n          e.target.selectionEnd = e.target.selectionStart + offset;\n          e.target.setAttribute('data-selection-start', e.target.selectionStart);\n          e.target.setAttribute('data-selection-end', e.target.selectionEnd);\n          return false;\n        }\n      }\n    } else if (\n      [9, 13, 32].includes(e.keyCode) &&\n      e.target.selectionStart !== e.target.selectionEnd &&\n      Number(e.target.getAttribute('data-selection-start')) === e.target.selectionStart &&\n      Number(e.target.getAttribute('data-selection-end')) === e.target.selectionEnd\n    ) {\n      let selEnd = e.target.selectionEnd;\n      const words = e.target.value?.split(' ');\n      if (e.target.value.length === selEnd && words?.length < 24) {\n        e.target.value += ' ';\n        selEnd += 1;\n      }\n      this.mnemonic = e.target.value;\n      e.target.selectionStart = e.target.selectionEnd = selEnd;\n      e.target.setAttribute('data-selection-start', e.target.selectionStart);\n      e.target.setAttribute('data-selection-end', e.target.selectionStart);\n      return false;\n    } else if (e.keyCode === 9) {\n      return false;\n    } else if (e.keyCode === 8) {\n      e.target.setAttribute('data-selection-start', e.target.selectionStart);\n      e.target.setAttribute('data-selection-end', e.target.selectionStart);\n    }\n    return true;\n  }\n\n  reset(): void {\n    this.advancedForm = false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport 'babel-polyfill';\nimport TransportU2F from '@ledgerhq/hw-transport-u2f';\nimport TransportWebHID from '@ledgerhq/hw-transport-webhid';\nimport TransportWebUSB from '@ledgerhq/hw-transport-webusb';\nimport Tezos from '@obsidiansystems/hw-app-xtz';\nimport { OperationService } from '../operation/operation.service';\nimport { MessageService } from '../message/message.service';\n\n@Injectable()\nexport class LedgerService {\n  transport: any;\n  constructor(private operationService: OperationService, private messageService: MessageService) {}\n  async setTransport() {\n    if (!this.transport) {\n      console.log('Trying to use WebHID for transport...');\n      try {\n        this.transport = await TransportWebHID.create();\n        console.log('Transport is now set to use WebHID!');\n      } catch (e) {\n        this.transport = null;\n        console.warn(\"Couldn't set WebHID as transport!\");\n        console.error(e);\n      }\n    }\n    if (!this.transport) {\n      try {\n        this.transport = await TransportWebUSB.create();\n        console.warn('Transport is now set to use WebUSB!');\n      } catch (e) {\n        this.transport = null;\n        console.warn(\"Couldn't set WebUSB as transport!\");\n        console.error(e);\n      }\n    }\n    if (!this.transport) {\n      try {\n        this.transport = await TransportU2F.create();\n        console.warn('Transport is now set to use U2F!');\n      } catch (e) {\n        this.transport = null;\n        console.log(\"Couldn't set U2F as transport!\");\n        console.error(e);\n      }\n    }\n  }\n  async transportCheck() {\n    if (!this.transport) {\n      await this.setTransport();\n    }\n    if (!this.transport) {\n      this.messageService.addError('Failed to set transport. Please make sure your browser supports WebHID, U2F, or WebUSB');\n      throw new Error('NO_TRANSPORT_FOUND');\n    }\n  }\n  async getPublicAddress(path: string) {\n    await this.transportCheck();\n    const xtz = new Tezos(this.transport);\n    const result = await xtz\n      .getAddress(path, true)\n      .then((res) => {\n        return this.sanitize(res, true);\n      })\n      .catch((e) => {\n        if (e.message) {\n          this.messageService.addError(e.message);\n        } else {\n          this.messageService.addError(e);\n        }\n        throw e;\n      });\n    const pk = this.operationService.hex2pk(result.publicKey);\n    return pk;\n  }\n  async signOperation(op: string, path: string) {\n    if (!['03', '05'].includes(op.slice(0, 2))) {\n      throw new Error('Invalid prefix');\n    }\n    await this.transportCheck();\n    const xtz = new Tezos(this.transport);\n    console.log('op', op);\n    const result = await xtz\n      .signOperation(path, op)\n      .then((res) => {\n        return this.sanitize(res, false);\n      })\n      .catch((e) => {\n        console.warn(e);\n        this.messageService.addError(e, 0);\n        return null;\n      });\n    console.log(JSON.stringify(result));\n    if (result?.signature) {\n      return result.signature;\n    } else {\n      return null;\n    }\n  }\n  async signHash(hash: string, path: string) {\n    if (hash.length !== 64) {\n      throw new Error('Invalid hash!');\n    }\n    await this.transportCheck();\n    const xtz = new Tezos(this.transport);\n    const result = await xtz\n      .signHash(path, hash)\n      .then((res) => {\n        return this.sanitize(res, false);\n      })\n      .catch((e) => {\n        console.warn(e);\n        this.messageService.addError(e, 0);\n        return null;\n      });\n    console.log(JSON.stringify(result));\n    if (result?.signature) {\n      return result.signature;\n    } else {\n      return null;\n    }\n  }\n  private sanitize(res: any, getPk: boolean) {\n    res = JSON.parse(JSON.stringify(res));\n    if (getPk && typeof res?.publicKey !== 'string') {\n      throw Error('Invalid pk');\n    }\n    if (!getPk && typeof res?.signature !== 'string') {\n      throw Error('Invalid signature');\n    }\n    return res;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LedgerService } from '../../../../../services/ledger/ledger.service';\nimport { ImportService } from '../../../../../services/import/import.service';\nimport { MessageService } from '../../../../../services/message/message.service';\nimport { InputValidationService } from '../../../../../services/input-validation/input-validation.service';\nimport { utils } from '../../../../../libraries/index';\n\n@Component({\n  selector: 'app-connect-ledger',\n  templateUrl: './connect-ledger.component.html',\n  styleUrls: ['../../../../../../scss/components/views/start/login.component.scss']\n})\nexport class ConnectLedgerComponent implements OnInit {\n  activePanel = 0;\n  defaultPath = \"44'/1729'/0'/0'\";\n  defaultText = 'Default derivation path';\n  path: string;\n  pendingLedgerConfirmation = false;\n  isHDDerivationPathCustom = false;\n  browser = 'unknown';\n\n  constructor(\n    private router: Router,\n    private ledgerService: LedgerService,\n    private importService: ImportService,\n    private messageService: MessageService,\n    private inputValidationService: InputValidationService\n  ) {}\n\n  ngOnInit(): void {\n    this.path = this.defaultText;\n    this.checkBrowser();\n  }\n  checkBrowser(): void {\n    try {\n      if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1) {\n        this.browser = 'firefox';\n      } else if ((navigator as any)?.userAgentData?.brands?.some((b) => b.brand === 'Google Chrome' || 'Chromium')) {\n        this.browser = 'chromium';\n      } else if ((navigator as any)?.userAgent.toLowerCase().indexOf('safari') > -1 && navigator.platform.indexOf('Mac') === -1) {\n        this.browser = 'safari';\n      }\n    } catch (e) {\n      console.warn(e);\n    }\n  }\n  async getPk(): Promise<void> {\n    const path: string = this.path.replace(this.defaultText, this.defaultPath);\n    if (this.inputValidationService.derivationPath(path)) {\n      this.pendingLedgerConfirmation = true;\n      try {\n        this.messageService.startSpinner('Waiting for Ledger confirmation...');\n        const pk = await this.ledgerService.getPublicAddress(path);\n        console.log('getPK => ' + pk);\n        await this.importFromPk(pk, path);\n      } catch (e) {\n        throw e;\n      } finally {\n        this.pendingLedgerConfirmation = false;\n        this.messageService.stopSpinner();\n      }\n    } else {\n      this.messageService.addWarning('Invalid derivation path');\n    }\n  }\n  async importFromPk(pk: string, path: string): Promise<void> {\n    if (utils.validPublicKey(pk)) {\n      if (await this.importService.importWalletFromPk(pk, path)) {\n        this.router.navigate([`/account/`]);\n      } else {\n        this.messageService.addError('Failed to import Ledger wallet');\n      }\n    } else {\n      this.messageService.addError('Not a valid public key');\n    }\n  }\n  setDefaultPath(v): void {\n    if (this.isHDDerivationPathCustom) {\n      this.path = this.defaultText;\n    } else {\n      this.path = this.defaultPath;\n    }\n    this.isHDDerivationPathCustom = v;\n  }\n}\n","<form autocomplete=\"off\">\n  <div class=\"flex-column card\">\n    <a routerLink=\"/\"><button class=\"flex-row back\"><img\n          src=\"../../../../../assets/img/left-arrow.svg\">BACK</button></a>\n    <div class=\"flex-column body\">\n      <h1>Connect your Ledger</h1>\n      <p class=\"description\">Keep the private keys safely on your Ledger device and use Kukai to access the Tezos\n        blockchain.</p>\n      <p class=\"description\">You need to open the Tezos Wallet app on your Ledger device and set the derivation path.\n      </p>\n      <input name=\"none\" type=\"text\" class=\"text\" [disabled]=\"!isHDDerivationPathCustom\" [(ngModel)]=\"path\"\n        value=\"'44\\'/1729\\'/0\\'/0\\''\">\n      <app-ui-toggle-advanced style=\"width: 24rem;\" [default]=\"false\" [text]=\"'Use custom HD derivation path:'\"\n        (stateChange)=\"setDefaultPath($event)\"></app-ui-toggle-advanced>\n      <br /><br /><br />\n      <button class=\"button next\" (click)=\"getPk()\" [disabled]=\"browser === 'safari'\">{{ browser !== 'safari' ?\n        'Connect' : 'Ledger support with Safari is currently unavailable' }}</button>\n    </div>\n  </div>\n</form>","import { Component } from '@angular/core';\n\n@Component({\n  templateUrl: '404.component.html',\n  styleUrls: ['../../../../scss/components/views/error/error.scss']\n})\nexport class P404Component {\n  constructor() {}\n}\n","<div id=\"error\" class=\"flex-column\">\n  <h1>404</h1>\n  <h4>Oops! You're lost.</h4>\n  <p>The page you are looking for was not found.</p>\n</div>","import { Component } from '@angular/core';\n\n@Component({\n  templateUrl: '500.component.html',\n  styleUrls: ['../../../../scss/components/views/error/error.scss']\n})\nexport class P500Component {\n  constructor() {}\n}\n","<div id=\"error\" class=\"flex-column\">\n  <h1>500</h1>\n  <h4>Houston, we have a problem!</h4>\n  <p>The page you are looking for is temporarily unavailable.</p>\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-privacy-policy',\n  templateUrl: './privacy-policy.component.html',\n  styleUrls: ['../../../../../../scss/components/views/start/agreement/terms-of-use/terms-of-use.component.scss']\n})\nexport class PrivacyPolicyComponent implements OnInit {\n  constructor() {}\n\n  ngOnInit(): void {}\n  getHostName(): string {\n    return location.hostname;\n  }\n}\n","<div class=\"legal\">\n  <H1>Privacy Policy</H1>\n  <H5>Introduction</H5>\n  <p>Kukai Digital Wallet (hereinafter Kukai, collectively encompassing {{getHostName()}}) is committed to ensuring the\n    privacy of all our users. We take our duty to process your personal data very seriously. This policy represents our\n    commitment to your right to privacy, giving you a clear explanation about how we use your information and your\n    rights over that information.</p>\n\n  <p>Its possible to use {{getHostName()}} (hereinafter website) without submitting any personal information.</p>\n\n  <H5>Scope of Privacy Policy</H5>\n  <p>This privacy policy applies only to your use of our Tezos digital wallet, Kukai. Our website may contain links to\n    other websites, which are not hosted by Kukai. Please note that we have no control over how your data is collected,\n    stored, or used by other websites and we advise you to check the privacy policies of any such websites before\n    providing any data to them.</p>\n\n  <H5>What types of information do we collect and how?</H5>\n  <p>Kukai does not keep, process, or store any user data, however some services that Kukai relies on may store some\n    user data. Kukai uses Cloudflare services, which collects anonymized website traffic data.</p>\n\n  <p>Data protection laws require us to have a legal justification to process your personal information. Please note,\n    that to use Kukai digital wallet, no personal information is needed to use or access our website or to use our\n    digital wallet. Once again, Kukai does not store user data on any servers.</p>\n\n  <p>Please note, our website and forum may contain links to other websites which are not hosted by Kukai. Please note\n    that we have no control over how your data is collected, stored, or used by other websites and we advise you to\n    check the privacy policies of any such websites before providing any data to them.</p>\n\n  <H5>Legal obligation</H5>\n  <p>As Kukai does not keep, maintain, or process any personal information, Kukai will attempt to fulfill any legal\n    obligations placed upon us, through a lawfully valid legal order by a court of competent jurisdiction.</p>\n\n  <H5>Jurisdiction</H5>\n  <p>Our website is under Swedish jurisdiction and is subject to Swedish laws (which would negate the above retention\n    rules), and similar. Furthermore, our service providers could also be subject to similar orders without our\n    knowledge.</p>\n\n  <p>We take appropriate security measures to ensure that your digital wallet is secured, accurate and up to date.\n    However the transmission of information over the Internet is never completely secure, so while we do our best to\n    protect any information, however, we cannot guarantee the security of information transmitted to our website.</p>\n\n  <H5>Retention Period For Data</H5>\n  <p>We do not hold, store, maintain, or use any personal information as no personal information is needed to use our\n    digital wallet.</p>\n\n  <H5>Access to and your rights over your personal information and removal of User data:</H5>\n  <p>We do not hold, store, use, or maintain any personal user information. For a User to delete any data from the use\n    of our digital wallet please follow the following instructions: </p>\n\n  <p>Log out from the app to remove all user data from the browser cache.</p>\n\n  <p>For more information please see: <a href=\"https://wallet.kukai.app/fb\">https://wallet.kukai.app/fb</a></p>\n\n  <H5>Complaints</H5>\n  <p>If you wish to lodge a complaint about our handling of your personal data please get in touch with us on the\n    details above with the details of your complaint at contact@kukai.app. We aim to respond to all complaints within 14\n    working days. All legal requests will be reviewed by our legal department and appropriate action will be taken. If\n    you have a legal request, please contact us at: legal@kukai.app.</p>\n\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-terms-of-use',\n  templateUrl: './terms-of-use.component.html',\n  styleUrls: ['../../../../../../scss/components/views/start/agreement/terms-of-use/terms-of-use.component.scss']\n})\nexport class TermsOfUseComponent implements OnInit {\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","<div class=\"legal\">\n  <H1>TERMS OF USE</H1>\n  <p><i>Last Updated: June 30, 2020</i></p>\n  <p class=\"notice\">IMPORTANT NOTICE: THIS AGREEMENT IS SUBJECT TO BINDING ARBITRATION AND A WAIVER OF CLASS ACTION RIGHTS AS DETAILED\n    IN SECTION 13. PLEASE READ THE AGREEMENT CAREFULLY.</p>\n\n  <H4>1. Acceptance of terms</H4>\n  <p>Kukai Wallet (hereinafter Kukai, we, us, or our) provides a platform for managing Tezos accounts, and\n    allowing ordinary websites and applications to interact with the blockchain network, while keeping the user in\n    control over what transactions they approve, through our website located at https://kukai.app/ (the Site), which\n    includes text, images, audio, code and other materials (collectively, the Content) and all of the features, and\n    services provided. The Site and any other features, tools, materials, or other services offered from time to time by\n    Kukai Wallet are referred to here as the Services. Please read these Terms of Use (the Terms) carefully before\n    using the Services. By using or otherwise accessing the Services, or clicking to accept or agree to these Terms\n    where that option is made available, you (1) accept and agree to these Terms, (2) consent to the collection, use,\n    disclosure and other handling of information as described in our Privacy Policy and (3) agree to any additional\n    terms, rules and conditions of participation issued by Kukai Wallet from time to time. If you do not agree to any of\n    the Terms, then you may not access or use the Content or Services.</p>\n\n  <H4>2. Modification of Terms of Use</H4>\n  <p>Except for Section 13, providing for arbitration and waiver of class action rights, Kukai Wallet reserves the\n    right, at its sole discretion, to modify or replace the Terms at any time without notice. We will always try to\n    provide advance notice, however, we reserve the right to modify or replace the Terms at our discretion. The most\n    current version of these Terms will be posted on our Site. You shall be responsible for reviewing and becoming\n    familiar with any such modifications. Use of the Services by you after any modification to the Terms constitutes\n    your acceptance of the Terms as modified.</p>\n\n  <H4>3. Eligibility</H4>\n  <p>You hereby represent and warrant that you are fully able and competent to enter into the terms, conditions,\n    obligations, affirmations, representations and warranties set forth in these Terms and to abide by and comply with\n    these Terms.</p>\n\n  <p>Kukai Wallet is a global platform and by accessing the Content or Services, you are representing and warranting\n    that you are of the legal age of majority in your jurisdiction as is required to access such Services and Content\n    and enter into arrangements as provided by the Services. You further represent that you are otherwise legally\n    permitted to use the service in your jurisdiction including owning cryptographic tokens of value, and interacting\n    with the Services or Content in any way. You further represent you are responsible for ensuring compliance with the\n    laws of your jurisdiction and acknowledge that Kukai Wallet is not liable for your compliance with such laws.</p>\n\n  <p>In addition, you represent to us that you and your financial institutions, or any party that owns or controls you\n    or your financial institutions, are (1) not subject to sanctions or otherwise designated on any list of prohibited\n    or restricted parties, including but not limited to the lists maintained by the United Nations Security Council, the\n    U.S. Government (e.g., the Specially Designated Nationals List and Foreign Sanctions Evaders List of the U.S.\n    Department of Treasury and the Entity List of the U.S. Department of Commerce), the European Union or its Member\n    States, or other applicable government authority and (2) not located in any country to which the United States has\n    embargoed goods or has otherwise applied any sanctions.</p>\n\n  <H4>4. Account Password and Security</H4>\n  <p>When setting up an account within Kukai Wallet, you will be responsible for keeping your own account secrets, which\n    may be a word seed phrase, an account file, or other locally stored secret information. Kukai Wallet encrypts this\n    information locally with a password you provide, that we never send to our servers. You agree to (a) never use the\n    same password for Kukai Wallet that you have ever used outside of this service, (b) keep your secret information and\n    password confidential and do not share them with anyone else and (c) immediately notify Kukai Wallet of any\n    unauthorized use of your account or breach of security. Kukai Wallet cannot and will not be liable for any loss or\n    damage arising from your failure to comply with this section.\n\n  <H4>5. DISCLAIMERS- RISKS</H4>\n\n  <H5>5.1. Warranty Disclaimer</H5>\n  <p>You expressly understand and agree that your use of the Services is at your sole risk. The Services (including the\n    Site and the Content) are provided on an as is and as available basis, without warranties of any kind, either\n    express or implied, including, without limitation, implied warranties of merchantability, fitness for a particular\n    purpose or non-infringement. You acknowledge that Kukai Wallet has no control over, and no duty to take any action\n    regarding: which users gain access to or use the Services; what effects the Content may have on you; how you may\n    interpret or use the Content; or what actions you may take as a result of having been exposed to the Content. You\n    release Kukai Wallet from any and all liability for you having acquired or not acquired Content through the\n    Services. Kukai Wallet makes no representations concerning any Content contained in or accessed through the\n    Services, and Kukai Wallet will not be responsible or liable for the accuracy, copyright compliance, legality or\n    decency of material contained in or accessed through the Services.</p>\n\n  <p>We do not represent or warrant that access to the Services will be continuous, uninterrupted, timely or secure. You\n    acknowledge and accept that the Services (a) may contain bugs, errors and defects, (b) may function improperly or be\n    subject to periods of downtime and unavailability, (c) may result in total or partial loss or corruption of data and\n    (d) may be modified at any time, including through the release of subsequent versions, all with or without notice to\n    you.</p>\n\n  <p>You acknowledge that Kukai Wallet is not responsible for transferring, safeguarding, or maintaining your private\n    keys or any digital currency associated therewith. If you lose, mishandle or have stolen associated digital currency\n    private keys, you acknowledge that you may not be able to recover associated digital currency, and that Kukai Wallet\n    is not responsible for such loss. You acknowledge that Kukai Wallet is not responsible for any loss, damage or\n    liability arising from your failure to comply with the terms hereunder.</p>\n\n  <H5>5.2 Sophistication and Risk of Cryptographic Systems</H5>\n  <p>By utilizing the Services or interacting with the Content or platform in any way, you represent that you understand\n    the inherent risks associated with cryptographic systems; and warrant that you have an understanding of the usage\n    and intricacies of the native cryptographic token Tezos (xtz), smart contract based tokens, and blockchain-based\n    software systems.</p>\n\n  <H5>5.3 Risk of Regulatory Actions in One or More Jurisdictions</H5>\n  <p>Kukai Wallet and any supported cryptographic token and blockchain could be impacted by one or more regulatory\n    inquiries or regulatory action, which could impede or limit the ability of Kukai Wallet to continue to develop, or\n    which could impede or limit your ability to access or use the Services or the underlying blockchain network.</p>\n\n  <H5>5.4 Risk of Weaknesses or Exploits in the Field of Cryptography</H5>\n  <p>You acknowledge and understand that Cryptography is a progressing field. Advances in code cracking or technical\n    advances such as the development of quantum computers may present risks to cryptocurrencies and Services of Content,\n    which could result in the theft or loss of your cryptographic tokens or property. To the extent possible, Kukai\n    Wallet intends to update the protocol underlying Services to account for any advances in cryptography and to\n    incorporate additional security measures, but does not guarantee or otherwise represent full security of the system.\n    By using the Services or accessing Content, you acknowledge these inherent risks.</p>\n\n  <H5>5.5 Volatility of Cryptocurrencies</H5>\n  <p>You understand that Tezos and other blockchain technologies and associated cryptographic tokens are highly volatile\n    due to many factors including but not limited to adoption, speculation, technology and security risks. You also\n    acknowledge that the cost of transacting on such technologies is variable and may increase at any time causing\n    impact to any activities taking place on the blockchain network. You acknowledge these risks and agree that Kukai\n    Wallet cannot be held liable for such fluctuations or increased costs.</p>\n\n  <H5>5.6 Application Security</H5>\n  <p>You further acknowledge that blockchain applications are code subject to flaws and acknowledge that you are solely\n    responsible for evaluating any code provided by the Services or Content and the trustworthiness of any third-party\n    websites, products, smart-contracts, or Content you access or use through the Services. You further expressly\n    acknowledge and represent that blockchain applications can be written maliciously or negligently, that Kukai Wallet\n    cannot be held liable for your interaction with such applications and that such applications may cause the loss of\n    property or even identity. This warning and others later provided by Kukai Wallet in no way evidence or represent an\n    on-going duty to alert you to all of the potential risks of utilizing the Services or Content. The code to Kukai\n    Wallet can be found at: https://github.com/kukai-wallet/kukai.</p>\n\n  <H4>6. Indemnity</H4>\n  <p>You agree to release and to indemnify, defend and hold harmless Kukai Wallet and its principles, subsidiaries,\n    affiliates and agencies, as well as the officers, directors, employees, shareholders and representatives of any of\n    the foregoing entities, from and against any and all losses, liabilities, expenses, damages, costs (including\n    attorneys fees and court costs) claims or actions of any kind whatsoever arising or resulting from your use of the\n    Services, your violation of these Terms, and any of your acts or omissions that implicate publicity rights,\n    defamation or invasion of privacy, and privacy laws. Kukai Wallet reserves the right, at its own expense, to assume\n    exclusive defense and control of any matter otherwise subject to indemnification by you and, in such case, you agree\n    to cooperate with Kukai Wallet in the defense of such matter.</p>\n\n  <H4>7. Limitation on Liability</H4>\n  <p>YOU ACKNOWLEDGE AND AGREE THAT YOU ASSUME FULL RESPONSIBILITY FOR YOUR USE OF THE SITE AND THE SERVICES. YOU\n    ACKNOWLEDGE AND AGREE THAT ANY INFORMATION YOU SEND OR RECEIVE DURING YOUR USE OF THE SITE AND THE SERVICES MAY NOT\n    BE SECURE AND MAY BE INTERCEPTED OR LATER ACQUIRED BY UNAUTHORIZED PARTIES. YOU ACKNOWLEDGE AND AGREE THAT YOUR USE\n    OF THE SITE AND THE SERVICES IS AT YOUR OWN RISK. RECOGNIZING SUCH, YOU UNDERSTAND AND AGREE THAT, TO THE FULLEST\n    EXTENT PERMITTED BY APPLICABLE LAW, NEITHER KUKAI WALLET NOR ITS SUPPLIERS OR LICENSORS WILL BE LIABLE TO YOU FOR\n    ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, PUNITIVE, EXEMPLARY OR OTHER DAMAGES OF ANY KIND,\n    INCLUDING WITHOUT LIMITATION DAMAGES FOR LOSS OF PROFITS, GOODWILL, USE, DATA OR OTHER TANGIBLE OR INTANGIBLE LOSSES\n    OR ANY OTHER DAMAGES BASED ON CONTRACT, TORT, STRICT LIABILITY OR ANY OTHER THEORY (EVEN IF KUKAI WALLET HAD BEEN\n    ADVISED OF THE POSSIBILITY OF SUCH DAMAGES), RESULTING FROM THE SITE OR SERVICES; THE USE OR THE INABILITY TO USE\n    THE SITE OR THE SERVICES; UNAUTHORIZED ACCESS TO OR ALTERATION OF YOUR TRANSMISSIONS OR DATA; STATEMENTS OR CONDUCT\n    OF ANY THIRD PARTY ON THE SITE OR THE SERVICES; ANY ACTIONS WE TAKE OR FAIL TO TAKE AS A RESULT OF COMMUNICATIONS\n    YOU SEND TO US; HUMAN ERRORS; TECHNICAL MALFUNCTIONS; FAILURES, INCLUDING PUBLIC UTILITY OR TELEPHONE OUTAGES;\n    OMISSIONS, INTERRUPTIONS, LATENCY, DELETIONS OR DEFECTS OF ANY DEVICE OR NETWORK, PROVIDERS, OR SOFTWARE (INCLUDING,\n    BUT NOT LIMITED TO, THOSE THAT DO NOT PERMIT PARTICIPATION IN THE SERVICES); ANY INJURY OR DAMAGE TO COMPUTER\n    EQUIPMENT; INABILITY TO FULLY ACCESS THE SITE OR THE SERVICES OR ANY OTHER WEBSITE; THEFT, TAMPERING, DESTRUCTION,\n    OR UNAUTHORIZED ACCESS TO, IMAGES OR OTHER CONTENT OF ANY KIND; DATA THAT IS PROCESSED LATE OR INCORRECTLY OR IS\n    INCOMPLETE OR LOST; TYPOGRAPHICAL, PRINTING OR OTHER ERRORS, OR ANY COMBINATION THEREOF; OR ANY OTHER MATTER\n    RELATING TO THE SITE OR ANY OTHER ASPECT OF THE SERVICES.</p>\n\n  <p>SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OF CERTAIN WARRANTIES OR THE LIMITATION OR EXCLUSION OF LIABILITY FOR\n    INCIDENTAL OR CONSEQUENTIAL DAMAGES. ACCORDINGLY, SOME OF THE ABOVE LIMITATIONS MAY NOT APPLY TO YOU.</p>\n\n  <H4>8. Intellectual Property</H4>\n  <H5>8.1 Our Proprietary Rights</H5>\n  <p>All title, ownership and intellectual property rights in and to the Services are owned by Kukai Wallet or its\n    licensors. You acknowledge and agree that the Services contains proprietary and confidential information that is\n    protected by applicable intellectual property and other laws. Except as expressly authorized by Kukai Wallet, you\n    agree not to copy, modify, rent, lease, loan, sell, distribute, perform, display or create derivative works based on\n    the Site, or the Services, in whole or in part.</p>\n\n  <H5>8.2 Limited License</H5>\n  <p>We grant you limited, non-exclusive, revocable permission to make use of the Site, and the Services (collectively\n    referred to as, Access). This Access shall remain in effect until and unless terminated by you or us. You promise\n    and agree that you will not redistribute or transfer the Services.</p>\n\n  <p>The Kukai Wallet software application, including without limitation the Site, and the Services, are not sold or\n    transferred to you, and Kukai Wallet and its licensors retain ownership of all copies of the software applications\n    even after installation on your personal computers, mobile handsets, tablets, wearable devices, speakers and/or\n    other devices (Devices).</p>\n\n  <p>All Kukai Wallet trademarks, service marks, trade names, logos, domain names, and any other features of the Kukai\n    Wallet brand (Kukai Wallet Brand Features) are the sole property of Kukai Wallet or its licensors. The Terms do\n    not grant you any rights to use any Kukai Wallet Brand Features whether for commercial or non-commercial use.</p>\n\n  <p>You agree to abide by our user guidelines and not to use the Services or any part thereof in any manner not\n    expressly permitted by the Terms. Except for the rights expressly granted to you in the Terms, Kukai Wallet grants\n    no right, title, or interest to you in the Site or the Services.</p>\n\n  <p>Third party software (for example, open source software libraries) included in the Services are made available to\n    you under the relevant third party software librarys license terms.</p>\n\n  <p>Notwithstanding anything herein to the contrary, nothing in the Terms entitles you to copy, modify, fork, merge,\n    combine with another program or create a derivative work of the Services, including without limitation the Site.</p>\n\n  <H4>9. Links</H4>\n  <p>The Services provide, or third parties may provide, links to other World Wide Web or accessible sites, applications\n    or resources. Because Kukai Wallet has no control over such sites, applications and resources, you acknowledge and\n    agree that Kukai Wallet is not responsible for the availability of such external sites, applications or resources,\n    and does not endorse and is not responsible or liable for any content, advertising, products or other materials on\n    or available from such sites or resources. You further acknowledge and agree that Kukai Wallet shall not be\n    responsible or liable, directly or indirectly, for any damage or loss caused or alleged to be caused by or in\n    connection with use of or reliance on any such content, goods or services available on or through any such site or\n    resource.</p>\n\n  <H4>10. Termination and Suspension</H4>\n  <p>Kukai Wallet may terminate or suspend all or part of the Services and your Kukai Wallet access immediately, without\n    prior notice or liability, if you breach any of the terms or conditions of the Terms. Upon termination of your\n    access, your right to use the Services will immediately cease.</p>\n\n  <p>The following provisions of the Terms survive any termination of these Terms: INDEMNITY; WARRANTY DISCLAIMERS;\n    LIMITATION ON LIABILITY; OUR PROPRIETARY RIGHTS; LINKS; TERMINATION; NO THIRD PARTY BENEFICIARIES; BINDING\n    ARBITRATION AND CLASS ACTION WAIVER; GENERAL INFORMATION.</p>\n\n  <H4>11. No Third Party Beneficiaries</H4>\n  <p>You agree that, except as otherwise expressly provided in these Terms, there shall be no third party beneficiaries\n    to the Terms.</p>\n\n  <H4>12. Notice and Procedure For Making Claims of Copyright Infringement</H4>\n  <p>If you believe that your copyright or the copyright of a person on whose behalf you are authorized to act has been\n    infringed, please provide Kukai Wallets Copyright Agent a written Notice containing the following information:</p>\n\n  <p>- an electronic or physical signature of the person authorized to act on behalf of the owner of the copyright or\n    other intellectual property interest;\n    <BR>- a description of the copyrighted work or other intellectual property that you claim has been infringed;\n    <BR>- a description of where the material that you claim is infringing is located on the Services;\n    your address, telephone number, and email address;\n    <BR>- a statement by you that you have a good faith belief that the disputed use is not authorized by the copyright\n    owner, its agent, or the law;\n    <BR>- a statement by you, made under penalty of perjury, that the above information in your Notice is accurate and\n    that you are the copyright or intellectual property owner or authorized to act on the copyright or intellectual\n    property owners behalf.</p>\n\n  <p>Kukai Wallets Copyright Agent can be reached at:</p>\n\n  <p>Email: legal@kukai.app</p>\n\n  <H4>13. Binding Arbitration and Class Action Waiver</H4>\n\n  <p>PLEASE READ THIS SECTION CAREFULLY  IT MAY SIGNIFICANTLY AFFECT YOUR LEGAL RIGHTS, INCLUDING YOUR RIGHT TO FILE A\n    LAWSUIT IN COURT</p>\n\n  <H5>13.1 Initial Dispute Resolution</H5>\n\n  <p>The parties shall use their best efforts to engage directly to settle any dispute, claim, question, or disagreement\n    and engage in good faith negotiations which shall be a condition to either party initiating a lawsuit or\n    arbitration.</p>\n\n  <H5>13.2 Binding Arbitration</H5>\n\n  <p>If the parties do not reach an agreed upon solution within a period of 30 days from the time informal dispute\n    resolution under the Initial Dispute Resolution provision begins, then either party may initiate arbitration as the\n    sole means to resolve all claims, subject to the terms set forth below. Specifically, all claims arising out of or\n    relating to these Terms (including their formation, performance and breach), the parties relationship with each\n    other and/or your use of the Services shall be finally settled by binding arbitration administered by the American\n    Arbitration Association in accordance with the provisions of its Commercial Arbitration Rules and the supplementary\n    procedures for consumer related disputes of the American Arbitration Association (the AAA), excluding any rules or\n    procedures governing or permitting class actions.</p>\n\n  <p>The arbitrator, and not any federal, state or local court or agency, shall have exclusive authority to resolve all\n    disputes arising out of or relating to the interpretation, applicability, enforceability or formation of these\n    Terms, including, but not limited to any claim that all or any part of these Terms are void or voidable, or whether\n    a claim is subject to arbitration. The arbitrator shall be empowered to grant whatever relief would be available in\n    a court under law or in equity. The arbitrators award shall be written, and binding on the parties and may be\n    entered as a judgment in any court of competent jurisdiction.</p>\n\n  <p>The parties understand that, absent this mandatory provision, they would have the right to sue in court and have a\n    jury trial. They further understand that, in some instances, the costs of arbitration could exceed the costs of\n    litigation and the right to discovery may be more limited in arbitration than in court.</p>\n\n  <H5>13.3 Location</H5>\n\n  <p>Binding arbitration shall take place in Louisiana. You agree to submit to the personal jurisdiction of any federal\n    or state court in Orleans Parish, Louisiana, in order to compel arbitration, to stay proceedings pending\n    arbitration, or to confirm, modify, vacate or enter judgment on the award entered by the arbitrator.</p>\n\n  <H5>13.4 Class Action Waiver</H5>\n\n  <p>The parties further agree that any arbitration shall be conducted in their individual capacities only and not as a\n    class action or other representative action, and the parties expressly waive their right to file a class action or\n    seek relief on a class basis. YOU AND KUKAI WALLET AGREE THAT EACH MAY BRING CLAIMS AGAINST THE OTHER ONLY IN YOUR\n    OR ITS INDIVIDUAL CAPACITY, AND NOT AS A PLAINTIFF OR CLASS MEMBER IN ANY PURPORTED CLASS OR REPRESENTATIVE\n    PROCEEDING. If any court or arbitrator determines that the class action waiver set forth in this paragraph is void\n    or unenforceable for any reason or that an arbitration can proceed on a class basis, then the arbitration provision\n    set forth above shall be deemed null and void in its entirety and the parties shall be deemed to have not agreed to\n    arbitrate disputes.</p>\n\n  <H5>13.5 Exception - Litigation of Intellectual Property and Small Claims Court Claims</H5>\n\n  <p>Notwithstanding the parties decision to resolve all disputes through arbitration, either party may bring an action\n    in state or federal court to protect its intellectual property rights (intellectual property rights means patents,\n    copyrights, moral rights, trademarks, and trade secrets, but not privacy or publicity rights). Either party may also\n    seek relief in a small claims court for disputes or claims within the scope of that courts jurisdiction.</p>\n\n  <H5>13.6 Choice of Law</H5>\n\n  <p>The Terms and the relationship between you and Kukai Wallet shall be governed by the laws of the State of Louisiana\n    without regard to conflict of law provisions.</p>\n\n  <H4>14. GENERAL INFORMATION</H4>\n\n  <H5>14.1 Entire Agreement</H5>\n\n  <p>These Terms (and any additional terms, rules and conditions of participation that Kukai Wallet may post on the\n    Services) constitute the entire agreement between you and Kukai Wallet with respect to the Services and supersedes\n    any prior agreements, oral or written, between you and Kukai Wallet. In the event of a conflict between these Terms\n    and the additional terms, rules and conditions of participation, the latter will prevail over the Terms to the\n    extent of the conflict.</p>\n\n  <H5>14.2 Waiver and Severability of Terms</H5>\n\n  <p>The failure of Kukai Wallet to exercise or enforce any right or provision of the Terms shall not constitute a\n    waiver of such right or provision. If any provision of the Terms is found by an arbitrator or court of competent\n    jurisdiction to be invalid, the parties nevertheless agree that the arbitrator or court should endeavor to give\n    effect to the parties intentions as reflected in the provision, and the other provisions of the Terms remain in\n    full force and effect.</p>\n\n  <H5>14.3 Statute of Limitations</H5>\n\n  <p>You agree that regardless of any statute or law to the contrary, any claim or cause of action arising out of or\n    related to the use of the Services or the Terms must be filed within one (1) year after such claim or cause of\n    action arose or be forever barred.</p>\n\n  <H5>14.4 Section Titles</H5>\n\n  <p>The section titles in the Terms are for convenience only and have no legal or contractual effect.</p>\n\n  <H5>14.5 Communications</H5>\n\n  <p>Users with questions, complaints or claims with respect to the Services may contact us using the relevant contact\n    information set forth above or email us at: contact@kukai.app</p>\n</div>","import { Injectable } from '@angular/core';\nimport { KeyPair } from '../../interfaces';\nimport { WalletService } from '../wallet/wallet.service';\nimport { CONSTANTS } from '../../../environments/environment';\nimport { Parser } from '@taquito/michel-codec';\nimport { valueEncoder } from '@taquito/local-forging/dist/lib/michelson/codec';\nimport { OperationService } from '../operation/operation.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EmbeddedAuthService {\n  constructor(private walletService: WalletService, private operationService: OperationService) {}\n  async authenticate(authReq: any, origin: string, keyPair: KeyPair = null): Promise<{ message: string; signature: string }> {\n    if (!origin) {\n      throw new Error('NO_DOMAIN_FOUND');\n    } else if ((!this.walletService?.wallet || !this.walletService.isEmbeddedTorusWallet()) && !keyPair) {\n      throw new Error('NO_WALLET_FOUND');\n    }\n    if (!keyPair) {\n      keyPair = await this.walletService.getKeys('', this.walletService.wallet.implicitAccounts[0].pkh).catch((e) => {\n        throw new Error('NO_KEYS_FOUND');\n      });\n    }\n    const authMessage: string = this.createAuthMessage(authReq?.id, authReq?.nonce, origin, keyPair.pk, keyPair.pkh);\n    const signature = this.signMessage(authMessage, keyPair.sk);\n    return { message: authMessage, signature };\n  }\n  async signExprSilent(hexExpr: string): Promise<string> {\n    const keyPair = await this.walletService.getKeys('', this.walletService.wallet.implicitAccounts[0].pkh).catch((e) => {\n      throw new Error('NO_KEYS_FOUND');\n    });\n    const signature: string = this.operationService.sign(hexExpr, keyPair.sk).edsig;\n    return signature;\n  }\n  private createAuthMessage(requestId: string = '', nonce: string = '', domain: string, publicKey: string, address: string): string {\n    if (typeof requestId !== 'string') {\n      throw new Error('INVALID_REQUEST_ID');\n    } else if (typeof nonce !== 'string') {\n      throw new Error('INVALID_NONCE');\n    }\n    const authPayload: any = {\n      requestId,\n      purpose: 'authentication',\n      currentTime: Math.floor(Date.now() / 1000).toString(), // UNIX timestamp\n      nonce,\n      network: this._network(),\n      publicKey,\n      address,\n      domain\n    };\n    if (!requestId) {\n      delete authPayload.requestId;\n    }\n    if (!nonce) {\n      delete authPayload.nonce;\n    }\n    return `Tezos Signed Message: ${JSON.stringify(authPayload)}`;\n  }\n  _network(): string {\n    return CONSTANTS.NETWORK;\n  }\n  private signMessage(message: string, sk: string): string {\n    const parser = new Parser();\n    const expr = parser.parseMichelineExpression(`\"${message.replace(/\"/g, '\\\\\"')}\"`);\n    const hexMessage = `05${valueEncoder(expr)}`;\n    const signature: string = this.operationService.sign(hexMessage, sk).edsig;\n    return signature;\n  }\n}\n","import { Account } from '../../../services/wallet/wallet';\nimport { Template } from 'kukai-embed';\nexport interface PrepareRequest {\n  account: Account;\n  tokenTransfer: string;\n  symbol: string;\n}\nexport interface TemplateRequest {\n  template: Template;\n  ops?: FullyPreparedTransaction[];\n  partialOps?: PartiallyPreparedTransaction[];\n  fee?: TemplateFee;\n}\nexport interface TemplateFee {\n  network: string;\n  storage: string;\n  total: string;\n}\n\nexport interface ConfirmSwapRequest {\n  account: Account;\n  transactions: FullyPreparedTransaction[];\n  externalReq: boolean;\n}\n\nexport enum LqdEntrypoints {\n  addLiquidity = 'addLiquidity',\n  removeLiquidity = 'removeLiquidity',\n  xtzToToken = 'xtzToToken',\n  tokenToXtz = 'tokenToXtz'\n}\n\nexport interface ConfirmRequest {\n  account: Account;\n  tokenTransfer: string;\n  transactions: FullyPreparedTransaction[];\n  externalReq: boolean;\n}\nexport interface PartiallyPreparedTransaction {\n  kind: 'transaction';\n  amount: string;\n  destination: string;\n  parameters?: any;\n  meta?: {\n    alias: string;\n    verifier: string;\n    twitterId?: string;\n  };\n  gasRecommendation?: string;\n  storageRecommendation?: string;\n}\nexport interface FullyPreparedTransaction extends PartiallyPreparedTransaction {\n  fee: string;\n  gasLimit: string;\n  storageLimit: string;\n}\n","<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <div class=\"flex-row content\">\n    <div class=\"flex-column liquidity-baking\">\n      <div class=\"flex-row main-container\">\n        <div class=\"flex-column right\" [class.expanded]=\"advancedForm\" [class.loaded]=\"chartInit\" [class.expanded-00]=\"moreInfo && mode === Mode.swap\" [class.expanded-01]=\"advancedForm && mode === Mode.swap\" [class.expanded-10]=\"moreInfo && advancedForm && mode === Mode.swap\" [class.expanded-11]=\"mode === Mode.liquidity && entrypoint === LqdEntrypoints.addLiquidity\" [class.expanded-100]=\"moreInfo && mode === Mode.liquidity && entrypoint === LqdEntrypoints.addLiquidity\" [class.expanded-101]=\"advancedForm && mode === Mode.liquidity && entrypoint === LqdEntrypoints.addLiquidity\" [class.expanded-110]=\"moreInfo && advancedForm && mode === Mode.liquidity && entrypoint === LqdEntrypoints.addLiquidity\" [class.expanded-111]=\"mode === Mode.liquidity && entrypoint === LqdEntrypoints.removeLiquidity\" [class.expanded-1000]=\"moreInfo && mode === Mode.liquidity && entrypoint === LqdEntrypoints.removeLiquidity\" [class.expanded-1001]=\"advancedForm && mode === Mode.liquidity && entrypoint === LqdEntrypoints.removeLiquidity\" [class.expanded-1010]=\"moreInfo && advancedForm && mode === Mode.liquidity && entrypoint === LqdEntrypoints.removeLiquidity\">\n          <app-ui-chart #leftChart class=\"popout\" [design]=\"'default'\" [type]=\"'line'\" [units]=\"units\" [datas]=\"chartDatas\"\n            [attributes]=\"attributes\" (drawn)=\"chartInit = true;\"></app-ui-chart>\n            <div class=\"filler\" [style.display]=\"chartInit ? '' : 'none'\"></div>\n        </div>\n        <div class=\"flex-column left\" [class.expanded]=\"advancedForm\">\n          <div class=\"flex-column top\">\n            <div class=\"flex-row container-toggle\">\n              <button [class.active]=\"mode === Mode.swap\" (click)=\"toggleMode(Mode.swap)\">SWAP</button>\n              <button [class.active]=\"mode === Mode.liquidity\" (click)=\"toggleMode(Mode.liquidity)\">LIQUIDITY</button>\n            </div>\n            <div class=\"flex-row button close\" (click)=\"close()\"><img class=\"x\"\n                src=\"../../../../../assets/img/close-btn-x.png\" />\n            </div>\n          </div>\n          <app-ui-chart #miniChart class=\"popout-mini\" [design]=\"'mini'\" [type]=\"'line'\" [units]=\"units\"\n            [data]=\"chartData\" [datas]=\"chartDatas\" [attributes]=\"attributes\">\n          </app-ui-chart>\n          <ng-container *ngIf=\"mode === Mode.liquidity\">\n            <form autocomplete=\"off\">\n              <div class=\"flex-column container-toggle-secondary\">\n                <div class=\"flex-row buttons\">\n                  <button [class.active]=\"entrypoint === LqdEntrypoints.addLiquidity\" (click)=\"toggleDirection(0)\">\n                    ADD\n                  </button>\n                  <button [class.active]=\"entrypoint === LqdEntrypoints.removeLiquidity\" (click)=\"toggleDirection(1)\">\n                    REMOVE\n                  </button>\n                </div>\n              </div>\n              <div class=\"flex-column container-inputs\" [class.liquidity]=\"entrypoint === LqdEntrypoints.addLiquidity\">\n                <div class=\"flex-column currency\">\n                  <div class=\"flex-row inputs\">\n                    <div class=\"flex-row right\">\n                      <input type=\"text\" inputmode=\"decimal\" [value]=\"qtyRaw\" [placeholder]=\"'0'\" value=\"\"\n                        (paste)=\"sanitizeNumberInput($event, qty.decimalPlaces, 'qtyRaw')\"\n                        (input)=\"sanitizeNumberInput($event, qty.decimalPlaces, 'qtyRaw')\" />\n                    </div>\n                    <div class=\"flex-row left\">\n                      <span class=\"symbol\">{{ entrypoint === LqdEntrypoints.addLiquidity ? 'XTZ' : 'SIRS' }}</span>\n                      <img\n                        [src]=\"entrypoint === LqdEntrypoints.addLiquidity ? 'assets/img/tezos-xtz-logo.svg' : 'assets/img/tokens/sirius.png'\" />\n                    </div>\n                  </div>\n                  <div class=\"tag\">{{ entrypoint === LqdEntrypoints.addLiquidity ? 'Add' : 'Remove' }}</div>\n                  <span *ngIf=\"entrypoint === LqdEntrypoints.removeLiquidity\" class=\"hint\" (click)=\"updateMaxAmount('qtyRaw')\">Balance: <span class=\"max\">{{lqdBalance}}</span></span>\n                  <span *ngIf=\"entrypoint === LqdEntrypoints.addLiquidity\" class=\"hint\">Balance: {{xtzBalance}}</span>\n                </div>\n                <div *ngIf=\"entrypoint === LqdEntrypoints.addLiquidity\" class=\"seperator files add\">\n                  <span class=\"img-wrap\"><img\n                      [src]=\"semaphore ? 'assets/img/feeLoader.gif' : 'assets/img/lb-plus.svg'\" /></span>\n                </div>\n                <div *ngIf=\"entrypoint === LqdEntrypoints.addLiquidity\" class=\"flex-column currency\">\n                  <div class=\"flex-row inputs\">\n                    <div class=\"flex-row right\">\n                      <input type=\"text\" inputmode=\"decimal\" [value]=\"qtyRawOut\" placeholder=\"0\" [value]=\"qtyRawOut\"\n                        (input)=\"sanitizeNumberInput($event, 8, 'qtyRawOut')\"\n                        (paste)=\"sanitizeNumberInput($event, 8, 'qtyRawOut')\" />\n                    </div>\n                    <div class=\"flex-row left\">\n                      <span class=\"symbol\">{{ 'tzBTC' }}</span>\n                      <img [src]=\"'assets/img/tokens/tzbtc.png'\" />\n                    </div>\n                  </div>\n                  <div class=\"tag\">Add</div>\n                  <span class=\"hint\" (click)=\"updateMaxAmount('qtyRawOut')\">Balance: <span class=\"max\">{{ tzBTCBalance\n                      }}</span></span>\n                </div>\n              </div>\n            </form>\n          </ng-container>\n          <ng-container *ngIf=\"mode === Mode.swap\">\n            <form autocomplete=\"off\">\n              <div class=\"flex-column container-inputs\">\n                <div class=\"flex-column currency\">\n                  <div class=\"flex-row inputs\">\n                    <div class=\"flex-row right\">\n                      <input type=\"text\" inputmode=\"decimal\" [value]=\"qtyRaw\" [placeholder]=\"'0'\" value=\"\"\n                        (paste)=\"sanitizeNumberInput($event, qty.decimalPlaces, 'qtyRaw')\"\n                        (input)=\"sanitizeNumberInput($event, qty.decimalPlaces, 'qtyRaw')\" />\n                    </div>\n                    <div class=\"flex-row left\">\n                      <span class=\"symbol\">{{ entrypoint === LqdEntrypoints.xtzToToken ? 'XTZ' : 'tzBTC' }}</span>\n                      <img\n                        [src]=\"entrypoint === LqdEntrypoints.xtzToToken ? 'assets/img/tezos-xtz-logo.svg' : 'assets/img/tokens/tzbtc.png'\" />\n                    </div>\n                  </div>\n                  <div class=\"tag\">From</div>\n                  <span *ngIf=\"entrypoint === LqdEntrypoints.xtzToToken\" class=\"hint\">Balance: {{ xtzBalance}}</span>\n                  <span *ngIf=\"entrypoint === LqdEntrypoints.tokenToXtz\" class=\"hint\" (click)=\"updateMaxAmount('qtyRaw')\">Balance: <span class=\"max\">{{tzBTCBalance}}</span></span>\n                </div>\n                <div class=\"seperator files add\" (click)=\"toggleDirection()\">\n                  <span class=\"img-wrap\"><img\n                      [src]=\"simSemaphore ? 'assets/img/feeLoader.gif' : 'assets/img/swap.svg'\" /></span>\n                </div>\n                <div class=\"flex-column currency\">\n                  <div class=\"flex-row inputs\">\n                    <div class=\"flex-row right\">\n                      <input type=\"text\" inputmode=\"decimal\" [value]=\"qtyRawOut\" [placeholder]=\"'0'\"\n                        (paste)=\"sanitizeNumberInput($event, qtyOut.decimalPlaces, 'qtyRawOut')\"\n                        (input)=\"sanitizeNumberInput($event, qtyOut.decimalPlaces, 'qtyRawOut')\" />\n                    </div>\n                    <div class=\"flex-row left\">\n                      <span class=\"symbol\">{{ entrypoint === LqdEntrypoints.xtzToToken ? 'tzBTC' : 'XTZ' }}</span>\n                      <img\n                        [src]=\"entrypoint === LqdEntrypoints.xtzToToken ? 'assets/img/tokens/tzbtc.png' : 'assets/img/tezos-xtz-logo.svg'\" />\n                    </div>\n                  </div>\n                  <div class=\"tag\">Expected</div>\n                      <span *ngIf=\"entrypoint === LqdEntrypoints.tokenToXtz\" class=\"hint\">Balance: {{ xtzBalance }}</span>\n                      <span *ngIf=\"entrypoint === LqdEntrypoints.xtzToToken\" class=\"hint\">Balance: {{ tzBTCBalance }}</span>\n                </div>\n              </div>\n            </form>\n          </ng-container>\n          <div *ngIf=\"expectedRate\" class=\"flex-row item expected-rate\">\n            <span class=\"flex-row key\">Exchange Rate:</span>\n            <span class=\"value\">{{ expectedRate }}</span>\n          </div>\n          <div class=\"flex-column more-info-toggle\" [class.expanded]=\"moreInfo\">\n            <div class=\"flex-row item\" (click)=\"moreInfo = !moreInfo\">\n              <span class=\"value\">{{ 'View Details' }} <span *ngIf=\"impactDouble >= 0.04\" class=\"price-impact\">Price\n                  Impact {{ impactDouble | percent:'1.2-2' }}</span></span>\n              <div class=\"flex-row\"><img src=\"assets/img/chevron-down.svg\"></div>\n            </div>\n          </div>\n          <div *ngIf=\"moreInfo\" class=\"more-info-body\"\n            [class.expanded]=\"moreInfo\">\n            <div class=\"flex-row item\">\n              <span class=\"flex-row key\">Price Impact:&nbsp;<img src=\"assets/img/information-circle-outline.svg\"\n                  class=\"info-button\" />\n                <div class=\"body\">\n                  The impact your transaction is expected to make on the exchange rate. The size of your swap relative to the size of the pool determines the impact. Note: This impact is what you are accepting in addition to the slippage.\n                </div>\n              </span>\n              <span class=\"value\" [class.warning]=\"impactDouble > 0.04\">{{impactDouble > 0.005 ? (impactDouble | percent:'1.2-2') : \"<0.5%\"}}</span>\n            </div>\n            <div *ngIf=\"(LqdEntrypoints.xtzToToken === entrypoint)\" class=\"flex-row item\">\n              <span class=\"flex-row key\">Minimum Received:&nbsp;<img src=\"assets/img/information-circle-outline.svg\"\n                  class=\"info-button\" />\n                <div class=\"body\">\n                  The minimum amount you are guaranteed to receive. If the exchange rate changes unfavorably such that you can no longer receive at least this amount, then your transaction will not be completed.\n                </div>\n              </span>\n              <span class=\"value\">{{(minimumToken?.internalNormalised | number:'1.2-8') || 0}} tzBTC</span>\n            </div>\n            <div *ngIf=\"(LqdEntrypoints.tokenToXtz === entrypoint)\" class=\"flex-row item\">\n              <span class=\"flex-row key\">Minimum Received:&nbsp;<img src=\"assets/img/information-circle-outline.svg\"\n                  class=\"info-button\" />\n                <div class=\"body\">\n                  The minimum amount you are guaranteed to receive. If the exchange rate changes unfavorably such that you can no longer receive at least this amount, then your transaction will not be completed.\n                </div>\n              </span>\n              <span class=\"value\">{{(minimumXtz?.internalNormalised | number:'1.6-6') || 0}} XTZ</span>\n            </div>\n            <div\n              *ngIf=\"(LqdEntrypoints.removeLiquidity === entrypoint)\"\n              class=\"item\">\n              <span class=\"flex-row key\">Minimum Received:&nbsp;<img src=\"assets/img/information-circle-outline.svg\"\n                  class=\"info-button\" />\n                <div class=\"body\">\n                  The minimum amount you are guaranteed to receive. If the exchange rate changes unfavorably such that you can no longer receive at least this amount, then your transaction will not be completed.\n                </div>\n              </span><br />\n              <span class=\"value\">{{(minimumXtz?.internalNormalised | number:'1.6-6') || 0}} XTZ + {{\n                (minimumToken?.internalNormalised | number:'1.2-8') || 0}} tzBTC</span>\n            </div>\n            <div *ngIf=\"(LqdEntrypoints.addLiquidity === entrypoint)\" class=\"flex-row item\">\n              <span class=\"flex-row key\">Minimum Received:&nbsp;<img src=\"assets/img/information-circle-outline.svg\"\n                  class=\"info-button\" />\n                <div class=\"body\">\n                  The minimum amount you are guaranteed to receive. If the exchange rate changes unfavorably such that you can no longer receive at least this amount, then your transaction will not be completed.\n                </div>\n              </span>\n              <span class=\"value\">{{(minimumLqd?.internalNormalised | number:'1.0-0') || 0}} SIRS</span>\n            </div>\n            <div class=\"flex-column slippage\">\n              <span class=\"flex-row label\">Slippage&nbsp;<img src=\"assets/img/information-circle-outline.svg\"\n                  class=\"info-button\" />\n                <div class=\"body\">\n                  Your transaction will not complete if the exchange rate changes unfavorably by more than this slippage percentage. The slippage does not include the Price Impact, when swapping you are accepting both the Price Impact % and the Slippage %.\n                </div>\n              </span>\n              <div class=\"flex-row inputs\">\n                <button [class.active]=\"slippage === 0.005\" (click)=\"slippage = 0.005; update()\">\n                  0.5%\n                </button>\n                <button [class.active]=\"slippage === 0.01\" (click)=\"slippage = 0.01; update()\">\n                  1%\n                </button>\n                <button [class.active]=\"slippage === 0.03\" (click)=\"slippage = 0.03; update()\">\n                  3%\n                </button>\n                <form autocomplete=\"off\">\n                  <input inputmode=\"decimal\" [class.active]=\"slippage !== 0.03 && slippage !== 0.01 && slippage !== 0.005\"\n                    (input)=\"customSlippage($event)\" (focus)=\"customSlippageFocus($event)\" (blur)=\"customSlippageBlur($event)\"\n                    [placeholder]=\"slippage * 100\" value=\"\" />\n                  <span class=\"placeholder-secondary\">%</span>\n                </form>\n              </div>\n            </div>\n          </div>\n          <div class=\"flex-column more-info-toggle\" [class.expanded]=\"advancedForm\">\n            <div class=\"flex-row item\" (click)=\"advancedForm = !advancedForm\">\n              <span class=\"value\">{{ 'Advanced' }}</span>\n              <div class=\"flex-row\"><img src=\"assets/img/chevron-down.svg\"></div>\n            </div>\n          </div>\n          <form *ngIf=\"advancedForm\" autocomplete=\"off\" class=\"more-info-body\" [class.expanded]=\"advancedForm\">\n            <div class=\"flex-row\">\n              <div class=\"flex-column entity\">\n                <label class=\"label\">Gas limit</label>\n                <input inputmode=\"decimal\" type=\"text\" class=\"text\" (input)=\"sanitizeNumberInput($event, 0, 'customGasLimit')\"\n                  (paste)=\"sanitizeNumberInput($event, 0, 'customGasLimit')\"\n                  placeholder={{this.defaultTransactionParams.gas.toString()}} [value]=\"customGasLimit\">\n              </div>\n              <div class=\"flex-column entity\">\n                <label class=\"label\">Fee</label>\n                <input inputmode=\"decimal\" type=\"text\" (input)=\"sanitizeNumberInput($event, 6, 'customFee')\"\n                  (paste)=\"sanitizeNumberInput($event, 6, 'customFee')\" class=\"text\"\n                  placeholder={{this.defaultTransactionParams.fee.toString()}} [value]=\"customFee\">\n              </div>\n            </div>\n            <div class=\"flex-row\">\n              <div class=\"flex-column entity\">\n                <label class=\"label\">Storage limit</label>\n                <input inputmode=\"decimal\" type=\"text\" (input)=\"sanitizeNumberInput($event, 0, 'customStorageLimit')\"\n                  (paste)=\"sanitizeNumberInput($event, 0, 'customStorageLimit')\" class=\"text\"\n                  placeholder={{this.defaultTransactionParams.storage.toString()}} [value]=\"customStorageLimit\">\n              </div>\n              <div class=\"flex-column entity\">\n                <label class=\"label\">Max Storage cost</label>\n                <input inputmode=\"decimal\" type=\"text\" class=\"text read-only\" [value]=\"burnAmount() ? burnAmount() : '0 tez'\" tabindex=-1\n                  readonly>\n              </div>\n            </div>\n          </form>\n          <div class=\"flex-column bottom\">\n            <div class=\"seperator\"></div>\n            <span class=\"form-validity error\">{{ formInvalid || latestSimError }}</span>\n            <button class=\"confirm\" [disabled]=\"formInvalid || latestSimError\" (click)=\"preview()\">Preview</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, ElementRef, EventEmitter, Output, ViewChild } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { FullyPreparedTransaction, PartiallyPreparedTransaction, LqdEntrypoints } from '../../misc/send/interfaces';\nimport { EstimateService } from '../../../services/estimate/estimate.service';\nimport { SubjectService } from '../../../services/subject/subject.service';\nimport { TezosDomainsService } from '../../../services/tezos-domains/tezos-domains.service';\nimport { TokenBalancesService } from '../../../services/token-balances/token-balances.service';\nimport { TokenService } from '../../../services/token/token.service';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { SwapLiquidityService } from '../../../services/swap-liquidity/swap-liquidity.service';\nimport { Amount } from '../../../services/swap-liquidity/classes/Amount';\nimport { ModalComponent } from '../modal.component';\nimport { OperationService } from '../../../services/operation/operation.service';\nimport { DefaultTransactionParams } from '../../../interfaces';\nimport Big from 'big.js';\nimport { Account } from '../../../services/wallet/wallet';\nimport assert from 'assert';\nimport { TranslateService } from '@ngx-translate/core';\nimport { InputValidationService } from '../../../services/input-validation/input-validation.service';\nimport { TorusService } from '../../../services/torus/torus.service';\nimport { MessageService } from '../../../services/message/message.service';\nimport { take } from 'rxjs/operators';\nimport { ChartComponent, ChartSeries } from '../../ui/chart/chart.component';\nimport { ChartData } from 'chart.js';\nimport { ChartService, ChartTitle } from '../../../services/chart/chart.service';\n\nenum Mode {\n  swap = 'swap',\n  liquidity = 'liquidity'\n}\n\nconst zeroTxParams: DefaultTransactionParams = {\n  gas: 0,\n  storage: 0,\n  fee: 0,\n  burn: 0\n};\n\n@Component({\n  selector: 'app-swap-liquidity',\n  templateUrl: './swap-liquidity.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class SwapLiquidityComponent extends ModalComponent {\n  @ViewChild('leftChart') leftChart: ChartComponent;\n  @ViewChild('miniChart') miniChart: ChartComponent;\n  @Output() prepareResponse = new EventEmitter();\n  LqdEntrypoints = LqdEntrypoints;\n  Mode = Mode;\n  Object = Object;\n  mode = Mode.swap;\n  entrypoint: string = LqdEntrypoints.xtzToToken;\n  advancedForm = false;\n\n  defaultTransactionParams: DefaultTransactionParams = zeroTxParams;\n\n  readonly lqdTokenContract = 'KT1AafHA1C1vk959wvHWBispY9Y2f3fxBUUo';\n  readonly lqdContract = 'KT1TxqZ8QtKvLu3V3JH7Gx58n7Co8pgtpQU5';\n  readonly tzBTCContract = 'KT1PWx2mnDueood7fEmfbBDKx1D9BAnnXitn';\n\n  readonly costPerByte: string = this.estimateService.costPerByte;\n\n  moreInfo = false;\n\n  formInvalid = '';\n  latestSimError = '';\n\n  customFee = '';\n  customGasLimit = '';\n  customStorageLimit = '';\n\n  minimumLqd: Amount = null;\n  minimumXtz: Amount = null;\n  minimumToken: Amount = null;\n  xtzRequired: Amount = null;\n  expectedRate: string;\n  impactDouble: number;\n  qty: Amount = new Amount({\n    normalisedAmount: '',\n    decimalPlaces: 6\n  });\n  qtyRaw = '';\n  qtyOut: Amount = new Amount({\n    normalisedAmount: '',\n    decimalPlaces: 8\n  });\n  qtyRawOut = '';\n  slippage = 0.005;\n\n  xtzBalance = '0';\n  lqdBalance = '0';\n  tzBTCBalance = '0';\n\n  activeAccount = null;\n  transactions: PartiallyPreparedTransaction[] = [];\n\n  balances: any[];\n  name = 'swap-liquidity';\n\n  private subscriptions: Subscription = new Subscription();\n  simSemaphore = 0;\n\n  tooltipValue: string = '--';\n  titleColor = '#333';\n  series = 'day';\n  units = 'tzBTC';\n  attributes: any = {};\n  chartData: ChartData;\n  chartDatas: Array<ChartData> = [];\n  chartOptions = null;\n  popoutOptions: any;\n  chartInit = false;\n\n  constructor(\n    public tokenService: TokenService,\n    public walletService: WalletService,\n    private estimateService: EstimateService,\n    public tezosDomainService: TezosDomainsService,\n    public tokenBalancesService: TokenBalancesService,\n    private subjectService: SubjectService,\n    private swapLiquidityService: SwapLiquidityService,\n    private operationService: OperationService,\n    public torusService: TorusService,\n    private translate: TranslateService,\n    public tezosDomains: TezosDomainsService,\n    private inputValidationService: InputValidationService,\n    private messageService: MessageService,\n    private chartService: ChartService\n  ) {\n    super();\n    const setTokenBalances = () => {\n      this.xtzBalance = Big(this.activeAccount?.balanceXTZ ?? 0)\n        .div(10 ** 6)\n        .toString();\n      this.lqdBalance = this.balances.find((b) => b.contractAddress === this.lqdTokenContract && b.id == 0)?.balance ?? '0';\n      this.tzBTCBalance = this.balances.find((b) => b.contractAddress === this.tzBTCContract && b.id == 0)?.balance ?? '0';\n    };\n    this.subscriptions.add(\n      this.subjectService.activeAccount.subscribe((activeAccount) => {\n        if (!!activeAccount) {\n          this.activeAccount = activeAccount;\n          this.balances = this.tokenBalancesService?.balances;\n          setTokenBalances();\n        }\n      })\n    );\n    this.subscriptions.add(\n      this.subjectService.nftsUpdated.subscribe((p) => {\n        this.balances = p?.balances ?? this.tokenBalancesService?.balances;\n        setTokenBalances();\n      })\n    );\n    this.subscriptions.add(\n      this.subjectService.walletUpdated.subscribe(() => {\n        this.balances = this.tokenBalancesService?.balances;\n        setTokenBalances();\n      })\n    );\n  }\n\n  async initChartsMobile(): Promise<void> {\n    Promise.all([\n      this.chartService.fetchLBGraphData(ChartSeries.day),\n      this.chartService.fetchLBGraphData(ChartSeries.week),\n      this.chartService.fetchLBGraphData(ChartSeries.month),\n      this.chartService.fetchLBGraphData(ChartSeries.year)\n    ]).then((arr) => {\n      this.chartDatas[ChartSeries.day] = arr[0];\n      this.chartDatas[ChartSeries.week] = arr[1];\n      this.chartDatas[ChartSeries.month] = arr[2];\n      this.chartDatas[ChartSeries.year] = arr[3];\n      //prevents race cond\n      if (this.entrypoint === LqdEntrypoints.xtzToToken) {\n        this.leftChart?.toggleSet(ChartTitle.XTZtzBTC);\n        this.miniChart?.toggleSet(ChartTitle.XTZtzBTC);\n      } else if (this.entrypoint === LqdEntrypoints.tokenToXtz) {\n        this.leftChart?.toggleSet(ChartTitle.tzBTCXTZ);\n        this.miniChart?.toggleSet(ChartTitle.tzBTCXTZ);\n      } else if (this.entrypoint === LqdEntrypoints.addLiquidity || this.entrypoint === LqdEntrypoints.removeLiquidity) {\n        this.leftChart?.toggleSet(ChartTitle.totalValueLocked);\n        this.miniChart?.toggleSet(ChartTitle.totalValueLocked);\n      }\n      this.leftChart?.toggleSeries(ChartSeries.day);\n      this.miniChart?.toggleSeries(ChartSeries.week);\n    });\n  }\n\n  async initChartsDesktop(): Promise<void> {\n    Promise.all([\n      this.chartService.fetchLBGraphData(ChartSeries.day),\n      this.chartService.fetchLBGraphData(ChartSeries.week),\n      this.chartService.fetchLBGraphData(ChartSeries.month),\n      this.chartService.fetchLBGraphData(ChartSeries.year)\n    ]).then((arr) => {\n      this.chartDatas[ChartSeries.day] = arr[0];\n      this.chartDatas[ChartSeries.week] = arr[1];\n      this.chartDatas[ChartSeries.month] = arr[2];\n      this.chartDatas[ChartSeries.year] = arr[3];\n      //prevents race cond\n      if (this.entrypoint === LqdEntrypoints.xtzToToken) {\n        this.leftChart?.toggleSet(ChartTitle.XTZtzBTC);\n        this.leftChart?.toggleSeries(ChartSeries.day);\n      } else if (this.entrypoint === LqdEntrypoints.tokenToXtz) {\n        this.leftChart?.toggleSet(ChartTitle.tzBTCXTZ);\n        this.leftChart?.toggleSeries(ChartSeries.day);\n      } else if (this.entrypoint === LqdEntrypoints.addLiquidity || this.entrypoint === LqdEntrypoints.removeLiquidity) {\n        this.leftChart?.toggleSet(ChartTitle.totalValueLocked);\n        this.leftChart?.toggleSeries(ChartSeries.month);\n      }\n    });\n  }\n\n  async initCharts(): Promise<void> {\n    const isMobile = document.documentElement.style.getPropertyValue('--is-mobile');\n    const style = getComputedStyle(document.body);\n    this.titleColor = style.getPropertyValue('--base-font-color');\n    if (isMobile === '1') {\n      await this.initChartsMobile();\n    } else {\n      await this.initChartsDesktop();\n    }\n  }\n\n  birthExchangeRate(): void {\n    let qty = new Amount({\n      normalisedAmount: 1,\n      decimalPlaces: 6\n    });\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    const rate = this.swapLiquidityService.xtzToTokenExchangeRateDisplay(qty, xtzPool, tokenPool, this.swapLiquidityService.settings('liquidityBaking'));\n    this.expectedRate = `1 XTZ ($${this.walletService?.wallet?.XTZrate.toFixed(2)}) = ${Big(rate).toFixed(tokenPool.decimalPlaces)} tzBTC`;\n  }\n\n  async init(): Promise<boolean> {\n    this.qtyRaw = '';\n    this.qty = new Amount({\n      normalisedAmount: 0,\n      decimalPlaces: 6\n    });\n    this.balances = this.tokenBalancesService?.balances;\n    const r = await this.hydratePools();\n    this.attributes = { APY: this.swapLiquidityService.estimateLiquidityBakingAPY() };\n    this.initCharts();\n    this.birthExchangeRate();\n    return r;\n  }\n\n  async open(): Promise<void> {\n    this.subjectService.activeAccount.pipe(take(1)).subscribe(async (activeAccount) => {\n      this.activeAccount = activeAccount;\n      await this.estimateService.preLoadData(this.activeAccount.pkh, this.activeAccount.pk);\n      if (await this.init()) {\n        super.open();\n      }\n      this.messageService.stopSpinner();\n    });\n  }\n\n  close(): void {\n    this.reset();\n    this.mode = Mode.swap;\n    this.entrypoint = LqdEntrypoints.xtzToToken;\n    this.chartInit = false;\n    super.close();\n  }\n\n  calculateXtzToToken(): void {\n    this.qty = new Amount({\n      normalisedAmount: parseFloat(this.qtyRaw),\n      decimalPlaces: 6\n    });\n    this.qtyOut = new Amount({\n      normalisedAmount: parseFloat(this.qtyRawOut),\n      decimalPlaces: 8\n    });\n    const xtzToSell = this.qty;\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    const result = this.swapLiquidityService.calculateXtzToToken(\n      xtzToSell,\n      xtzPool,\n      tokenPool,\n      this.slippage,\n      this.swapLiquidityService.settings('liquidityBaking')\n    );\n    this.minimumToken = result.minimum;\n    this.expectedRate = `1 XTZ ($${this.walletService?.wallet?.XTZrate.toFixed(2)}) = ${Big(result.rate).toFixed(tokenPool.decimalPlaces)} tzBTC`;\n    this.impactDouble = result.impactDouble;\n    this.qtyOut = result.expected;\n    this.qtyRawOut = result.expected?.internalNormalised.toFixed(result.expected?.decimalPlaces).toString();\n  }\n\n  calculateTokenToXTZFromXTZ(): void {\n    this.qty = new Amount({\n      normalisedAmount: parseFloat(this.qtyRaw),\n      decimalPlaces: 8\n    });\n    this.qtyOut = new Amount({\n      normalisedAmount: parseFloat(this.qtyRawOut),\n      decimalPlaces: 6\n    });\n    const xtzToBuy = this.qtyOut;\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    const result = this.swapLiquidityService.calculateTokenToXTZFromXTZ(\n      xtzToBuy,\n      xtzPool,\n      tokenPool,\n      this.slippage,\n      this.swapLiquidityService.settings('liquidityBaking')\n    );\n    this.minimumXtz = result.xtz.minimum;\n    this.expectedRate = `1 tzBTC ($${Big(result.xtz.rate).times(this.walletService?.wallet?.XTZrate).toFixed(2)}) = ${Big(result.xtz.rate).toFixed(\n      xtzPool.decimalPlaces\n    )} XTZ`;\n    this.impactDouble = result.xtz.impactDouble;\n    this.qty = result.token.expected;\n    this.qtyRaw = result.token.expected?.internalNormalised.toFixed(result.token.expected?.decimalPlaces).toString();\n  }\n\n  calculateTokenToXTZ(): void {\n    this.qty = new Amount({\n      normalisedAmount: parseFloat(this.qtyRaw),\n      decimalPlaces: 8\n    });\n    this.qtyOut = new Amount({\n      normalisedAmount: parseFloat(this.qtyRawOut),\n      decimalPlaces: 6\n    });\n    const tokenToSell = this.qty;\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    const result = this.swapLiquidityService.calculateTokenToXTZ(\n      tokenToSell,\n      xtzPool,\n      tokenPool,\n      this.slippage,\n      this.swapLiquidityService.settings('liquidityBaking')\n    );\n    this.minimumXtz = result.minimum;\n    this.expectedRate = `1 tzBTC ($${Big(result.rate).times(this.walletService?.wallet?.XTZrate).toFixed(2)}) = ${Big(result.rate).toFixed(\n      xtzPool.decimalPlaces\n    )} XTZ`;\n    this.impactDouble = result.impactDouble;\n    this.qtyOut = result.expected;\n    this.qtyRawOut = result.expected?.internalNormalised.toFixed(result.expected?.decimalPlaces).toString();\n  }\n\n  calculateXtzToTokenFromToken(): void {\n    this.qty = new Amount({\n      normalisedAmount: parseFloat(this.qtyRaw),\n      decimalPlaces: 6\n    });\n    this.qtyOut = new Amount({\n      normalisedAmount: parseFloat(this.qtyRawOut),\n      decimalPlaces: 8\n    });\n    const tokenToBuy = this.qtyOut;\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    const result = this.swapLiquidityService.calculateXtzToTokenFromToken(\n      tokenToBuy,\n      xtzPool,\n      tokenPool,\n      this.slippage,\n      this.swapLiquidityService.settings('liquidityBaking')\n    );\n    this.minimumToken = result.token.minimum;\n    this.expectedRate = `1 XTZ ($${this.walletService?.wallet?.XTZrate.toFixed(2)}) = ${Big(result.token.rate).toFixed(tokenPool.decimalPlaces)} tzBTC`;\n    this.impactDouble = result.token.impactDouble;\n    this.qty = result.xtz.expected;\n    this.qtyRaw = result.xtz.expected?.internalNormalised.toFixed(result.xtz.expected?.decimalPlaces).toString();\n  }\n\n  calcSwap(type: string = 'qtyRaw'): void {\n    if (type === 'qtyRaw' && this.entrypoint === LqdEntrypoints.xtzToToken) {\n      this.calculateXtzToToken();\n    } else if (type === 'qtyRawOut' && this.entrypoint === LqdEntrypoints.tokenToXtz) {\n      this.calculateTokenToXTZFromXTZ();\n    } else if (type === 'qtyRaw' && this.entrypoint === LqdEntrypoints.tokenToXtz) {\n      this.calculateTokenToXTZ();\n    } else if (type === 'qtyRawOut' && this.entrypoint === LqdEntrypoints.xtzToToken) {\n      this.calculateXtzToTokenFromToken();\n    }\n  }\n\n  calcAddLiquidity(type: string): void {\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    if (type === 'qtyRaw') {\n      const toSell = this.qty;\n      const result = this.swapLiquidityService.calculateAddLiquidityXTZ(\n        toSell,\n        xtzPool,\n        tokenPool,\n        parseFloat(this.swapLiquidityService.storage[this.lqdContract]?.total_pool),\n        this.slippage,\n        this.swapLiquidityService.settings('liquidityBaking')\n      );\n      this.minimumLqd = result.liquidityMinimum;\n      this.qtyOut = result.tokenRequired;\n      this.qtyRawOut = result.tokenRequired?.internalNormalised.toFixed(result.tokenRequired?.decimalPlaces).toString();\n      this.expectedRate = `1 XTZ ($${this.walletService?.wallet?.XTZrate.toFixed(2)}) = ${Big(result.exchangeRate).toFixed(tokenPool.decimalPlaces)} tzBTC`;\n    } else {\n      const toSell = this.qtyOut;\n      const result = this.swapLiquidityService.calculateAddLiquidityToken(\n        toSell,\n        xtzPool,\n        tokenPool,\n        parseFloat(this.swapLiquidityService.storage[this.lqdContract]?.total_pool),\n        this.slippage,\n        this.swapLiquidityService.settings('liquidityBaking')\n      );\n      this.minimumLqd = result.liquidityMinimum;\n      this.qty = this.xtzRequired = result.xtzRequired;\n      this.qtyRaw = result.xtzRequired?.internalNormalised.toFixed(result.xtzRequired?.decimalPlaces).toString();\n      this.expectedRate = `1 XTZ ($${this.walletService?.wallet?.XTZrate.toFixed(2)}) = ${Big(result.exchangeRate).toFixed(tokenPool.decimalPlaces)} tzBTC`;\n    }\n  }\n\n  calcRemoveLiquidity(): void {\n    const lqtToBurn = this.qty;\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    const result = this.swapLiquidityService.calculateRemoveLiquidity(\n      lqtToBurn,\n      xtzPool,\n      tokenPool,\n      parseFloat(this.swapLiquidityService.storage[this.lqdContract]?.total_pool),\n      this.slippage,\n      this.swapLiquidityService.settings('liquidityBaking')\n    );\n    this.minimumXtz = result.xtzMinimum;\n    this.minimumToken = result.tokenMinimum;\n  }\n\n  reset(): void {\n    this.minimumLqd = null;\n    this.minimumXtz = null;\n    this.minimumToken = null;\n    this.expectedRate = '';\n    this.impactDouble = undefined;\n    this.xtzRequired = null;\n\n    this.qty = new Amount({\n      normalisedAmount: '',\n      decimalPlaces: 6\n    });\n    this.qtyRaw = '';\n    this.qtyOut = new Amount({\n      normalisedAmount: '',\n      decimalPlaces: 8\n    });\n    this.qtyRawOut = '';\n\n    this.advancedForm = false;\n    this.customFee = '';\n    this.customGasLimit = '';\n    this.customStorageLimit = '';\n    this.defaultTransactionParams = zeroTxParams;\n    this.formInvalid = '';\n    this.latestSimError = '';\n\n    this.slippage = 0.005;\n    this.transactions = [];\n\n    this.moreInfo = false;\n  }\n  async hydratePools(): Promise<boolean> {\n    try {\n      await this.swapLiquidityService.fetchStorage(this.lqdContract);\n    } catch (e) {\n      this.messageService.addError(this.translate.instant('SWAPCOMPONENT.CONTRACTSTORAGEFAILED'));\n      return false;\n    }\n    return true;\n  }\n\n  async update(type: string = 'qtyRaw'): Promise<void> {\n    this.xtzBalance = Big(this.activeAccount?.balanceXTZ ?? 0)\n      .div(10 ** 6)\n      .toString();\n    this.lqdBalance = this.balances.find((b) => b.contractAddress === this.lqdTokenContract && b.id == 0)?.balance ?? '0';\n    this.tzBTCBalance = this.balances.find((b) => b.contractAddress === this.tzBTCContract && b.id == 0)?.balance ?? '0';\n    if (this.entrypoint === LqdEntrypoints.xtzToToken || this.entrypoint === LqdEntrypoints.tokenToXtz) {\n      this.calcSwap(type);\n    } else if (this.entrypoint === LqdEntrypoints.addLiquidity) {\n      this.qty = new Amount({\n        normalisedAmount: parseFloat(this.qtyRaw),\n        decimalPlaces: 6\n      });\n      this.qtyOut = new Amount({\n        normalisedAmount: parseFloat(this.qtyRawOut),\n        decimalPlaces: 8\n      });\n      this.calcAddLiquidity(type);\n    } else if (this.entrypoint === LqdEntrypoints.removeLiquidity) {\n      this.qty = new Amount({\n        normalisedAmount: parseFloat(this.qtyRaw),\n        decimalPlaces: 0\n      });\n      this.qtyOut = new Amount({\n        normalisedAmount: parseFloat(this.qtyRawOut),\n        decimalPlaces: 0\n      });\n      this.calcRemoveLiquidity();\n    }\n    if (this.qty && this.qty.internalNormalised) {\n      this.estimateFees();\n    }\n  }\n\n  preview(): void {\n    if (!this.qtyRaw) {\n      return;\n    }\n    try {\n      this.prepareResponse.emit(this.getFullyPreparedTxs());\n      ModalComponent.currentModel.next({ name: '', data: {} });\n      this.reset();\n    } catch (e) {\n      this.formInvalid = e.message;\n    }\n  }\n  toggleMode(mode): void {\n    if (mode === this.mode) {\n      return;\n    }\n    this.reset();\n    const chartToggle = (label) => {\n      const style = getComputedStyle(document.body);\n      this.titleColor = style.getPropertyValue('--base-font-color');\n      this.miniChart.toggleSet(label);\n      this.leftChart.toggleSet(label);\n      if (label === ChartTitle.totalValueLocked) {\n        this.miniChart.toggleSeries(ChartSeries.month);\n        this.leftChart.toggleSeries(ChartSeries.month);\n      } else {\n        this.miniChart.toggleSeries(ChartSeries.week);\n        this.leftChart.toggleSeries(ChartSeries.day);\n      }\n    };\n    if (mode === Mode.swap) {\n      this.mode = Mode.swap;\n      this.entrypoint = LqdEntrypoints.xtzToToken;\n      chartToggle(ChartTitle.XTZtzBTC);\n    } else if (mode === Mode.liquidity) {\n      this.mode = Mode.liquidity;\n      this.entrypoint = LqdEntrypoints.addLiquidity;\n      chartToggle(ChartTitle.totalValueLocked);\n    }\n    this.qty = new Amount({\n      normalisedAmount: 0,\n      decimalPlaces: 6\n    });\n    this.birthExchangeRate();\n  }\n  toggleDirection(dir): void {\n    if (this.mode === 'swap') {\n      const chartToggle = (label) => {\n        const style = getComputedStyle(document.body);\n        this.titleColor = style.getPropertyValue('--base-font-color');\n        this.leftChart.toggleSet(label);\n        this.miniChart.toggleSet(label);\n        this.miniChart.toggleSeries(ChartSeries.week);\n      };\n      this.qtyRaw = this.qtyRawOut;\n      if (this.entrypoint === LqdEntrypoints.tokenToXtz) {\n        this.entrypoint = LqdEntrypoints.xtzToToken;\n        chartToggle(ChartTitle.XTZtzBTC);\n      } else if (this.entrypoint === LqdEntrypoints.xtzToToken) {\n        this.entrypoint = LqdEntrypoints.tokenToXtz;\n        chartToggle(ChartTitle.tzBTCXTZ);\n      }\n      this.evalAmount();\n    } else {\n      if (dir === 0 && this.entrypoint !== LqdEntrypoints.addLiquidity) {\n        this.reset();\n        this.entrypoint = LqdEntrypoints.addLiquidity;\n        this.qty = new Amount({\n          normalisedAmount: parseFloat(this.qtyRaw),\n          decimalPlaces: 6\n        });\n      } else if (dir === 1 && this.entrypoint !== LqdEntrypoints.removeLiquidity) {\n        this.reset();\n        this.entrypoint = LqdEntrypoints.removeLiquidity;\n        this.qty = new Amount({\n          normalisedAmount: parseFloat(this.qtyRaw),\n          decimalPlaces: 0\n        });\n      }\n      this.birthExchangeRate();\n    }\n  }\n  getTotalFee(): number {\n    if (this.customFee !== '' && Number(this.customFee)) {\n      return Number(this.customFee);\n    }\n    return Number(this.defaultTransactionParams.fee);\n  }\n  getTotalBurn(): number {\n    if (this.customStorageLimit !== '' && Number(this.customStorageLimit)) {\n      return Number(Big(this.customStorageLimit).mul(this.transactions.length).times(this.costPerByte).div(1000000).toString());\n    }\n    return this.defaultTransactionParams.burn;\n  }\n  burnAmount(): string {\n    const burn = this.customStorageLimit ? Number(Big(this.customStorageLimit).times(this.costPerByte).div(1000000)) : this.defaultTransactionParams.burn;\n    if (burn) {\n      return burn + ' tez';\n    }\n    return '';\n  }\n  customSlippage(e): void {\n    e.target.value = e.target.value.replace(/[^0-9\\.]+/g, '');\n    this.slippage = Math.max(Math.min(100, parseFloat(e.target.value || 0) / 100.0), 0);\n    // this.slippageInput.nativeElement.value = this.slippage;\n    this.update();\n  }\n  customSlippageFocus(e): void {\n    if (e.target.value !== '') {\n      e.target.value = e.target.value.replace(/[^0-9\\.]+/g, '');\n      this.slippage = Math.max(Math.min(100, parseFloat(e.target.value || 0) / 100.0), 0);\n      this.update();\n    }\n  }\n  customSlippageBlur(e): void {\n    if (!Number.isNaN(Number(e.target.value)) && e.target.value !== '') {\n      e.target.value = Math.max(Math.min(100, e.target.value), 0);\n    } else {\n      e.target.value = '';\n      this.slippage = 0.005;\n      this.update();\n    }\n  }\n  getMaxAmount(account: Account): { tez; lqd; tzBTC } {\n    if (account) {\n      let accountBalance = Big(this.xtzBalance);\n      accountBalance = accountBalance.minus(this.customFee && Number(this.customFee) ? Number(this.customFee) : this.defaultTransactionParams.fee);\n      accountBalance = accountBalance.minus(\n        this.customStorageLimit && Number(this.customStorageLimit)\n          ? Number(Big(this.customStorageLimit).times(this.costPerByte).div('1000000'))\n          : this.defaultTransactionParams.burn\n      );\n      accountBalance = accountBalance.minus(0.000001); // dust\n      return {\n        tez: accountBalance.toFixed(),\n        lqd: Big(this.lqdBalance).toFixed(),\n        tzBTC: Big(this.tzBTCBalance).toFixed()\n      };\n    }\n  }\n  async estimateFees(): Promise<void> {\n    console.log('estimate..');\n    const prevSimError = this.latestSimError;\n    this.latestSimError = '';\n    let txs: PartiallyPreparedTransaction[] = [];\n    try {\n      txs = this.getMinimalPreparedTxs();\n      this.transactions = txs;\n    } catch (e) {\n      console.log(e);\n    }\n    if (txs?.length) {\n      this.simSemaphore++;\n      this.latestSimError = '';\n      const callback = (res) => {\n        if (res) {\n          this.formInvalid = this.checkBalances();\n          if (res.error) {\n            this.latestSimError = res.error;\n          } else {\n            this.defaultTransactionParams = res;\n            this.latestSimError = '';\n          }\n          console.log(res, txs);\n        } else {\n          console.log('no res');\n        }\n        this.simSemaphore--;\n      };\n      this.estimateService.estimateTransactions(JSON.parse(JSON.stringify(txs)), this.activeAccount.address, undefined, callback);\n    } else {\n      this.latestSimError = prevSimError;\n    }\n  }\n  updateMaxAmount(input: string = 'qtyRaw'): void {\n    if (this.activeAccount) {\n      const balances = this.getMaxAmount(this.activeAccount);\n      if (!balances) {\n        return;\n      }\n      let balance: string = '0.0';\n      if (this.entrypoint === this.LqdEntrypoints.removeLiquidity) {\n        balance = balances?.lqd;\n        this.qtyRaw = balance;\n        this.update('qtyRaw');\n      } else if (this.entrypoint === this.LqdEntrypoints.tokenToXtz) {\n        if (input === 'qtyRaw') {\n          balance = balances?.tzBTC;\n          this.qtyRaw = balance;\n          this.update('qtyRaw');\n        } else {\n          balance = balances?.tez;\n          this.qtyRawOut = balance;\n          this.update('qtyRawOut');\n        }\n      } else if (this.entrypoint === this.LqdEntrypoints.xtzToToken || this.entrypoint === this.LqdEntrypoints.addLiquidity) {\n        if (input === 'qtyRawOut') {\n          balance = balances?.tzBTC;\n          this.qtyRawOut = balance;\n          this.update('qtyRawOut');\n        } else {\n          balance = balances?.tez;\n          this.qtyRaw = balance;\n          this.update('qtyRaw');\n        }\n      }\n    }\n  }\n  getMinimalPreparedTxs(): PartiallyPreparedTransaction[] {\n    if (this.entrypoint === LqdEntrypoints.xtzToToken) {\n      return (this.transactions = [\n        {\n          kind: 'transaction',\n          amount: this.qty.internalNormalised.toString(),\n          destination: this.lqdContract,\n          parameters: this.operationService.getXTZToTokenParameters(\n            this.activeAccount.address,\n            this.minimumToken.internalBigInt.toFixed(0).toString(),\n            (Date.now() + 60 * 60 * 1000).toString()\n          )\n        }\n      ]);\n    } else if (this.entrypoint === LqdEntrypoints.tokenToXtz) {\n      return (this.transactions = [\n        {\n          kind: 'transaction',\n          amount: '0',\n          destination: this.tzBTCContract,\n          parameters: this.operationService.getRevokeAmountParameters(this.lqdContract)\n        },\n        {\n          kind: 'transaction',\n          amount: '0',\n          destination: this.tzBTCContract,\n          parameters: this.operationService.getApproveAmountParameters(this.lqdContract, this.qty.internalBigInt.toFixed(0).toString())\n        },\n        {\n          kind: 'transaction',\n          amount: '0',\n          destination: this.lqdContract,\n          parameters: this.operationService.getTokenToXTZParameters(\n            this.activeAccount.address,\n            this.qty.internalBigInt.toFixed(0).toString(),\n            this.minimumXtz.internalBigInt.toFixed(0).toString(),\n            (Date.now() + 60 * 60 * 1000).toString()\n          )\n        },\n        {\n          kind: 'transaction',\n          amount: '0',\n          destination: this.tzBTCContract,\n          parameters: this.operationService.getRevokeAmountParameters(this.lqdContract)\n        }\n      ]);\n    } else if (this.entrypoint === LqdEntrypoints.removeLiquidity) {\n      return (this.transactions = [\n        {\n          kind: 'transaction',\n          amount: '0',\n          destination: this.lqdContract,\n          parameters: this.operationService.getRemoveLiquidityParameters(\n            this.activeAccount.address,\n            this.qty.internalBigInt.toFixed(0).toString(),\n            this.minimumXtz.internalBigInt.toFixed(0).toString(),\n            this.minimumToken.internalBigInt.toFixed(0).toString(),\n            (Date.now() + 60 * 60 * 1000).toString()\n          )\n        }\n      ]);\n    } else if (this.entrypoint === LqdEntrypoints.addLiquidity) {\n      return (this.transactions = [\n        {\n          kind: 'transaction',\n          amount: '0',\n          destination: this.tzBTCContract,\n          parameters: this.operationService.getRevokeAmountParameters(this.lqdContract)\n        },\n        {\n          kind: 'transaction',\n          amount: '0',\n          destination: this.tzBTCContract,\n          parameters: this.operationService.getApproveAmountParameters(this.lqdContract, this.qtyOut.internalBigInt.toFixed(0))\n        },\n        {\n          kind: 'transaction',\n          amount: this.qty.internalNormalised.toString(),\n          destination: this.lqdContract,\n          parameters: this.operationService.getAddLiquidityParameters(\n            this.activeAccount.address,\n            this.minimumLqd.internalBigInt.toFixed(0).toString(),\n            this.qtyOut.internalBigInt.toFixed(0).toString(),\n            (Date.now() + 60 * 60 * 1000).toString()\n          )\n        },\n        {\n          kind: 'transaction',\n          amount: '0',\n          destination: this.tzBTCContract,\n          parameters: this.operationService.getRevokeAmountParameters(this.lqdContract)\n        }\n      ]);\n    }\n  }\n  getFullyPreparedTxs(): FullyPreparedTransaction[] {\n    assert(!this.simSemaphore, 'Awaiting request');\n    const minimalTxs = this.getMinimalPreparedTxs();\n    this.transactions = minimalTxs;\n    assert(this.inputValidationService.fee(this.customFee), 'Invalid fee');\n    assert(this.inputValidationService.gas(this.customGasLimit), 'Invalid gas limit');\n    assert(this.inputValidationService.gas(this.customStorageLimit), 'Invalid storage limit');\n    assert(!this.checkBalances(), this.checkBalances());\n    assert(minimalTxs.length === this.defaultTransactionParams.customLimits?.length, 'Simulation error');\n    return this.opsWithCustomLimits();\n  }\n  opsWithCustomLimits(): FullyPreparedTransaction[] {\n    let extraGas: number = 0;\n    let extraStorage: number = 0;\n    if (this.customGasLimit && this.customGasLimit !== this.defaultTransactionParams.gas.toString()) {\n      extraGas = Number(this.customGasLimit) - this.defaultTransactionParams.gas;\n    }\n    if (this.customStorageLimit && this.customStorageLimit !== this.defaultTransactionParams.storage.toString()) {\n      extraStorage = Number(this.customStorageLimit) - this.defaultTransactionParams.storage;\n    }\n    const extraGasPerOp: number = Math.round(extraGas / this.transactions.length);\n    const extraStoragePerOp: number = Math.round(extraStorage / this.transactions.length);\n    const txs: FullyPreparedTransaction[] = [];\n    for (let i = 0; i < this.transactions.length; i++) {\n      let gasLimit: string = extraGas\n        ? (Number(this.defaultTransactionParams.customLimits[i].gasLimit) + extraGasPerOp).toString()\n        : this.defaultTransactionParams.customLimits[i].gasLimit.toString();\n      let storageLimit = extraStorage\n        ? (Number(this.defaultTransactionParams.customLimits[i].storageLimit) + extraStoragePerOp).toString()\n        : this.defaultTransactionParams.customLimits[i].storageLimit.toString();\n      gasLimit = !(Number(gasLimit) < 0) ? gasLimit : '0';\n      storageLimit = !(Number(storageLimit) < 0) ? storageLimit : '0';\n      const fullyTx: FullyPreparedTransaction = {\n        ...this.transactions[i],\n        fee: i === this.transactions.length - 1 ? this.getTotalFee().toString() : '0',\n        gasLimit,\n        storageLimit\n      };\n      txs.push(fullyTx);\n    }\n    return txs;\n  }\n  checkBalances(): string {\n    if (this.transactions.length > 0 && this.activeAccount) {\n      const balances = this.getMaxAmount(this.activeAccount);\n      if (balances) {\n        const maxTez = Big(balances?.tez).minus(0.000001);\n        const maxLQD = Big(balances.lqd).plus(0.0);\n        const maxtzBTC = Big(balances.tzBTC).plus(0.0);\n        let amount = Big(0);\n        for (const tx of this.transactions) {\n          amount = amount.plus(Big(tx.amount));\n        }\n        if (this.entrypoint === LqdEntrypoints.xtzToToken) {\n          if (!!maxTez && amount.gt(maxTez)) {\n            return this.translate.instant('SWAPCOMPONENT.TOOHIGHFEEORAMOUNT');\n          }\n          if (this.minimumToken && this.minimumToken.internalNormalised === 0) {\n            return this.translate.instant('SWAPCOMPONENT.TOOSMALLAMOUNT');\n          }\n        } else if (this.entrypoint === LqdEntrypoints.tokenToXtz) {\n          if (Big(this.qty.internalNormalised).gt(maxtzBTC)) {\n            return this.translate.instant('SWAPCOMPONENT.TOOHIGHAMOUNT');\n          }\n          if (this.minimumXtz && this.minimumXtz.internalNormalised === 0) {\n            return this.translate.instant('SWAPCOMPONENT.TOOSMALLAMOUNT');\n          }\n        } else if (this.entrypoint === LqdEntrypoints.addLiquidity) {\n          if (!!maxTez && amount.gt(maxTez)) {\n            return this.translate.instant('SWAPCOMPONENT.TOOHIGHAMOUNT');\n          }\n          if (this.qtyOut && Big(this.qtyOut.internalNormalised).gt(maxtzBTC)) {\n            return this.translate.instant('SWAPCOMPONENT.TOOHIGHAMOUNT');\n          }\n          if (this.xtzRequired && this.xtzRequired.internalNormalised === 0) {\n            return this.translate.instant('SWAPCOMPONENT.TOOSMALLAMOUNT');\n          }\n          if (this.minimumLqd && this.minimumLqd.internalNormalised === 0) {\n            return this.translate.instant('SWAPCOMPONENT.TOOSMALLAMOUNT');\n          }\n        } else if (this.entrypoint === LqdEntrypoints.removeLiquidity) {\n          if (Big(this.qty.internalNormalised).gt(maxLQD)) {\n            return this.translate.instant('SWAPCOMPONENT.TOOHIGHAMOUNT');\n          }\n          if (this.minimumXtz && this.minimumXtz.internalNormalised === 0) {\n            return this.translate.instant('SWAPCOMPONENT.TOOSMALLAMOUNT');\n          }\n        }\n      }\n    }\n    return '';\n  }\n  sanitizeNumberInput(e, decimalPlaces: number, type = ''): void {\n    const exp = new RegExp(`^\\\\d{0,}(\\\\.\\\\d{0,${decimalPlaces}})?\\$`, 'g');\n    if (type === 'qtyRaw') {\n      if (exp.test(e?.target?.value)) {\n        this.qtyRaw = e?.target?.value;\n      } else {\n        e.target.value = this.qtyRaw;\n      }\n      this.evalAmount('qtyRaw');\n    } else if (type === 'qtyRawOut') {\n      if (exp.test(e?.target?.value)) {\n        this.qtyRawOut = e?.target?.value;\n      } else {\n        e.target.value = this.qtyRawOut;\n      }\n      this.evalAmount('qtyRawOut');\n    } else {\n      if (exp.test(e?.target?.value)) {\n        this[type] = e?.target?.value;\n      } else {\n        e.target.value = this[type];\n      }\n    }\n  }\n  evalAmount(type: string = 'qtyRaw'): void {\n    let qty = this[type];\n    if (parseFloat(qty) < 0.0 || !qty) {\n      this.qtyRawOut = this.qtyRaw = '';\n      return;\n    } else if (isNaN(parseFloat(qty)) && parseFloat(qty) === 0.0) {\n      return;\n    } else if (!isNaN(parseFloat(qty))) {\n      this.update(type);\n    }\n  }\n  openInfoModal(title: string): void {\n    switch (title) {\n      case 'slippage':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message:\n              'Token prices in a pool may change significantly within seconds. Slippage tolerance defines the difference between the expected and current exchange rate that you find acceptable. The higher the slippage tolerance, the more likely a transaction will go through.',\n            title: 'Slippage Information'\n          },\n          forceClose: false\n        });\n        break;\n      case 'pricerate':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The amount of token B you receive for 1 token A, per the current exchange rate.',\n            title: 'Price Rate Information'\n          },\n          forceClose: false\n        });\n        break;\n      case 'impactdouble':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The impact your transaction is expected to make on the exchange rate.',\n            title: 'Price Impact'\n          },\n          forceClose: false\n        });\n        break;\n      case 'minimumxtz':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The minimum amount of XTZ to be received from the transaction.',\n            title: 'Minimum XTZ'\n          },\n          forceClose: false\n        });\n        break;\n      case 'requiredtoken':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'Required tzBTC needed for transaction.',\n            title: 'Required tzBTC'\n          },\n          forceClose: false\n        });\n        break;\n      case 'minimumtoken':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The minimum amount of tzBTC to be received from the transaction.',\n            title: 'Minimum tzBTC'\n          },\n          forceClose: false\n        });\n        break;\n      case 'minimumlqt':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The minimum amount of SIRS to be received from the transaction.',\n            title: 'Minimum SIRS'\n          },\n          forceClose: false\n        });\n        break;\n      default:\n        break;\n    }\n  }\n}\n","<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"closeModalAction()\"><img class=\"x\"\n          src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">Confirmation</h1>\n    </div>\n    <div class=\"flex-column confirm-send\" [class.image]=\"tokenBalanceService.isNFT(token)\" [class.batch]=\"parameters\">\n      <form autocomplete=\"off\">\n        <div class=\"flex-row top\">\n          <div class=\"flex-column left\" [style.minHeight]=\"!tokenBalanceService.isNFT(token) ? 'unset' : ''\">\n            <span *ngIf=\"!tokenBalanceService.isNFT(token)\" class=\"key\">SEND AMOUNT:</span>\n            <app-asset class=\"token-image\" [class.balance]=\"!tokenBalanceService.isNFT(token)\"\n              [assets]=\"token ? {displayAsset: token?.displayAsset, thumbnailAsset: token?.thumbnailAsset} : {thumbnailAsset: 'assets/img/tezos-xtz-logo.svg'}\"\n              [priorityList]=\"['thumbnailAsset', 'displayAsset']\" [class.sd]=\"!token\"></app-asset>\n          </div>\n          <div class=\"flex-column right\">\n            <span class=\"flex-row amount\"><span class=\"tez value\">{{ formatAmount(token, totalAmount(),\n                false)\n                }}</span>\n              <ng-container *ngIf=\"!tokenTransfer\"><span class=\"fiat key\">USD: <span class=\"value\">{{'$' +\n                    (totalAmount()\n                    *\n                    walletService.wallet.XTZrate | number:'1.2-2')\n                    }}</span></span>\n              </ng-container>\n            </span>\n            <div class=\"flex-column items\">\n              <span *ngIf=\"tokenBalanceService.isNFT(token)\" class=\"key amount-quantity\">QUANTITY:&nbsp;&nbsp;<span\n                  class=\"value\">{{ getQuantity(totalAmount())\n                  }}</span></span>\n              <span class=\"key\">FEE:&nbsp;&nbsp;<span class=\"value\">{{ (getTotalFee() | number:'1.0-6') + ' tez'\n                  }}</span></span>\n              <span *ngIf=\"getTotalBurn(); let totalBurn\" class=\"key\">STORAGE COST:&nbsp;<span class=\"value\">{{\n                  (totalBurn\n                  |\n                  number:'1.0-6') + ' tez'\n                  }}</span></span>\n            </div>\n          </div>\n        </div>\n        <div class=\"flex-row from\">\n          <div class=\"flex-column left\">\n            <span class=\"key\">FROM: </span>\n          </div>\n          <div class=\"flex-column right\">\n            <div *ngIf=\"getUsername(); let displayName\" class=\"flex-row torus-name\"><img class=\"verifier-logo\"\n                src=\"../../../assets/img/{{ getVerifier() }}-logo.svg\">{{ displayName }}</div>\n            <span class=\"address\">{{\n              activeAccount?.address\n              }}</span>\n          </div>\n        </div>\n        <div *ngIf=\"!parameters\" class=\"flex-row divider\">\n          <span></span><img class=\"icon\" src=\"../../../assets/img/send-down-arrow.png\" /><span></span>\n        </div>\n        <div class=\"flex-row to\">\n          <div class=\"flex-column left\">\n            <span class=\"key\">SEND TO<ng-container *ngIf=\"parameters && transactions?.length > 1\">&nbsp;BATCH\n              </ng-container>: </span>\n          </div>\n          <div class=\"flex-column right\">\n            <div *ngFor=\"let transaction of transactions | slice:0:showAll; index as i\"\n              (click)=\"updateParameters(i, transaction.parameters)\" class=\"flex-column transaction\">\n              <span *ngIf=\"transaction?.meta && transaction.meta?.verifier\" class=\"flex-row torus-to value\"><img\n                  src=\"../../../assets/img/{{ transaction.meta.verifier }}-logo.svg\" class=\"icon\">\n                {{ transaction.meta?.alias }}</span>\n              <span class=\"flex-row single-to\" [class.default]=\"transactions.length === 1\"\n                [class.selectable]=\"transactions.length > 1 && parameters\"\n                [class.active]=\"batchParamIndex === i && transactions.length > 1 && parameters\"><span>{{\n                  transaction?.destination\n                  }}</span></span>\n              <p class=\"previewAttention\" *ngIf=\"tokenTransfer && transaction?.destination.slice(0, 3) === 'KT1'\">\n                Warning:\n                Verify the contract can manage tokens</p>\n            </div>\n            <div *ngIf=\"transactions?.length > 10\" class=\"button show-all\"\n              (click)=\"showAll = showAll === 10 ? undefined : 10\">{{ showAll === 10 ? 'Show All' : 'Show Less' }}</div>\n          </div>\n        </div>\n        <br />\n        <br />\n        <span *ngIf=\"parameters && transactions.length > 1\" class=\"flex-row transfer-amount\"><span class=\"key\">TRANSFER\n            AMOUNT: </span><span class=\"key\">{{ (transactions[batchParamIndex]?.amount | number:'1.0-6')\n            }}</span></span>\n        <div *ngIf=\"parameters && parameters?.entrypoint\" class=\"flex-row contract-call\"><span class=\"key\">CONTRACT\n            CALL:\n          </span><span class=\"key\">{{ parameters?.entrypoint }}</span></div>\n        <app-ui-toggle-advanced style=\"width: calc(100% - 1em);margin: 0 0 2.5em 0;\" *ngIf=\"externalReq\"\n          [default]=\"false\" (stateChange)=\"advancedForm = $event\">\n        </app-ui-toggle-advanced>\n      </form>\n      <div *ngIf=\"advancedForm\" class=\"advanced-form\">\n        <div class=\"flex-column parms-container\">\n          <ng-container *ngIf=\"parameters\">\n            <div class=\"tabs-container\">\n              <ul class=\"flex-row tabs\">\n                <li class=\"tab\" [class.active]=\"parametersFormat === 0\" (click)=\"setParametersFormat(0)\">Micheline</li>\n                <li class=\"tab\" [class.active]=\"parametersFormat === 1\" (click)=\"setParametersFormat(1)\">Tabular</li>\n              </ul>\n            </div>\n            <textarea *ngIf=\"parameters && parametersFormat === 0\" name=\"none\" rows=\"10\"\n              readonly>{{ micheline.value || '' }}</textarea>\n            <ul *ngIf=\"parameters && parametersFormat === 1\" class=\"encoded-parms\">\n              <ng-container *ngTemplateOutlet=\"recursiveListTmpl; context:{ list: transformedParameters, level: 0 }\">\n              </ng-container>\n            </ul>\n            <ng-template #recursiveListTmpl let-list=\"list\" let-level=\"level\">\n              <li *ngFor=\"let item of list\" [class]=\"item?.children?.length ? 'expanded' : ''\"\n                [style.marginLeft]=\"!level ? '0em' : '3em'\">\n                <ng-container *ngIf=\"item?.children\">\n                  <span [class.key]=\"item.children.length ? true : false\"\n                    (click)=\"item.children.length ? toggleTab($event) : null\">{{ item.key }}{{item.key ? ': ' : ' '}}{{\n                    (item.val ?? '') }}</span>\n                  <svg *ngIf=\"item.children.length\" (click)=\"toggleTab($event)\" version=\"1.2\" baseProfile=\"tiny-ps\"\n                    xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 13\" width=\"20\" height=\"13\">\n                    <g id=\"1\">\n                      <g id=\"NFT\">\n                        <g id=\"Line 1\">\n                          <g id=\"Line\">\n                            <path id=\"Rectangle 4\" class=\"shp0\"\n                              d=\"M2.86 -0.02L12.86 10.1L10 12.99L0.01 2.88L2.86 -0.02ZM17.14 -0.02L19.99 2.88L10 12.99L7.14 10.1L17.14 -0.02Z\" />\n                          </g>\n                        </g>\n                      </g>\n                    </g>\n                  </svg>\n                  <ul *ngIf=\"item.children && item.children.length > 0\">\n                    <ng-container\n                      *ngTemplateOutlet=\"recursiveListTmpl; context:{ list: item.children, level: level+3 }\">\n                    </ng-container>\n                  </ul>\n                </ng-container>\n              </li>\n            </ng-template>\n          </ng-container>\n        </div>\n        <form autocomplete=\"off\" *ngIf=\"externalReq && (!walletService.isLedgerWallet()) || ledgerError\">\n          <div class=\"flex-row\">\n            <div class=\"flex-column\">\n              <label class=\"label\">Gas limit</label>\n              <input inputmode=\"decimal\" name=\"none\" type=\"text\" class=\"text\"\n                (input)=\"sanitizeNumberInput($event, 'gas')\" (paste)=\"sanitizeNumberInput($event, 'gas')\"\n                [placeholder]=\"getTotalDefaultGas() || '0'\" [(ngModel)]=\"customGasLimit\">\n            </div>\n            <div class=\"flex-column\">\n              <label class=\"label\">Fee</label>\n              <input inputmode=\"decimal\" name=\"none\" type=\"text\" class=\"text\" [placeholder]=\"getTotalFee() || '0'\"\n                (paste)=\"sanitizeNumberInput($event)\" (input)=\"sanitizeNumberInput($event)\" [(ngModel)]=\"customFee\">\n            </div>\n          </div>\n          <div class=\"flex-row\">\n            <div class=\"flex-column\">\n              <label class=\"label\">Storage limit</label>\n              <input inputmode=\"decimal\" name=\"none\" type=\"text\" class=\"text\"\n                (input)=\"sanitizeNumberInput($event, 'storage')\" (paste)=\"sanitizeNumberInput($event, 'storage')\"\n                [placeholder]=\"getTotalDefaultStorage() || '0'\" [(ngModel)]=\"customStorageLimit\">\n            </div>\n            <div class=\"flex-column\">\n              <label class=\"label\">Max storage cost</label>\n              <input inputmode=\"decimal\" name=\"none\" type=\"text\" class=\"text read-only\"\n                [placeholder]=\"(getTotalBurn() || '0') + ' tez'\" tabindex=-1 readonly>\n            </div>\n          </div>\n        </form>\n      </div>\n      <div class=\"flex-column bottom\">\n        <span [style.visibility]=\"!pwdInvalid ? 'hidden' : ''\" [style.margin]=\"!pwdInvalid ? '0' : ''\"\n          class=\"label danger\">{{ this.pwdInvalid }}</span>\n        <ng-container *ngIf=\"walletService.isPwdWallet()\">\n          <span class=\"label\">ENTER YOUR\n            PASSWORD TO CONFIRM:</span>\n          <input name=\"none\" [(ngModel)]=\"password\" autocomplete=\"current-password\" placeholder=\"Password\"\n            class=\"text password\" type=\"password\" (input)=\"this.pwdInvalid = ''\" (change)=\"this.pwdInvalid = ''\"\n            (keydown.enter)='!messageService.spinnerOn ? inject() : null'>\n        </ng-container>\n        <button class=\"confirm\" *ngIf=\"walletService.isLedgerWallet() && ledgerError; else elseBlock\"\n          (click)=\"ledgerRetry()\">Sign with\n          Ledger</button>\n        <ng-template #elseBlock>\n          <button class=\"confirm\" (click)=\"!messageService.spinnerOn ? inject() : null\"\n            [disabled]=\"(walletService.isLedgerWallet() && (!sendResponse || !sendResponse.payload || !sendResponse.payload.signedOperation)) || walletService.isWatchWallet()\">\n            {{ walletService.isLedgerWallet() ? 'Broadcast' : 'Confirm'}}</button>\n        </ng-template>\n      </div>\n    </div>\n  </div>\n</div>","import { EventEmitter, Input, OnChanges, OnDestroy, Output } from '@angular/core';\nimport { Component, OnInit, SimpleChanges } from '@angular/core';\nimport { FullyPreparedTransaction, PrepareRequest } from '../../../misc/send/interfaces';\nimport { TokenService } from '../../../../services/token/token.service';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { EstimateService } from '../../../../services/estimate/estimate.service';\nimport { OperationService } from '../../../../services/operation/operation.service';\nimport { MessageService } from '../../../../services/message/message.service';\nimport { CoordinatorService } from '../../../../services/coordinator/coordinator.service';\nimport { LookupService } from '../../../../services/lookup/lookup.service';\nimport { LedgerService } from '../../../../services/ledger/ledger.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { KeyPair } from '../../../../interfaces';\nimport { emitMicheline, assertMichelsonData } from '@taquito/michel-codec';\nimport Big from 'big.js';\nimport { LedgerWallet, TorusWallet } from '../../../../services/wallet/wallet';\nimport { InputValidationService } from '../../../../services/input-validation/input-validation.service';\nimport { ModalComponent } from '../../modal.component';\nimport { Subscription } from 'rxjs';\nimport { TezosDomainsService } from '../../../../services/tezos-domains/tezos-domains.service';\nimport { TokenBalancesService } from '../../../../services/token-balances/token-balances.service';\nimport { SubjectService } from '../../../../services/subject/subject.service';\nimport { Schema } from '@taquito/michelson-encoder';\nimport { TzktService } from '../../../../services/indexer/tzkt/tzkt.service';\n@Component({\n  selector: 'app-confirm-send',\n  templateUrl: './send-confirmation.component.html',\n  styleUrls: ['../../../../../scss/components/modals/modal.scss']\n})\nexport class ConfirmSendComponent extends ModalComponent implements OnInit, OnChanges, OnDestroy {\n  @Input() confirmRequest: PrepareRequest = null;\n  @Output() operationResponse = new EventEmitter();\n  syncSub: Subscription;\n  tokenTransfer = '';\n  activeAccount = null;\n  externalReq: boolean = false;\n  transactions: FullyPreparedTransaction[] = [];\n  costPerByte: string = this.estimateService.costPerByte;\n\n  customGasLimit = '';\n  customStorageLimit = '';\n\n  schema = undefined;\n  parameters: any = null;\n  batchParamIndex = 0;\n  micheline: any = null;\n  batchParameters: { num: number; parameters: any }[] = [];\n  parametersFormat = 0;\n  parametersDisplay = '';\n  transformedParameters = [];\n  executedSchema = [];\n  extractedSchema = [];\n  showAll = 10;\n\n  showFullBatch = false;\n  sendResponse = null;\n  ledgerError = '';\n  password = '';\n  pwdInvalid = '';\n  advancedForm = false;\n  name = 'confirm-send';\n  token = null;\n  domain = undefined;\n\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(\n    private translate: TranslateService,\n    public tokenService: TokenService,\n    public walletService: WalletService,\n    private estimateService: EstimateService,\n    private operationService: OperationService,\n    private messageService: MessageService,\n    private coordinatorService: CoordinatorService,\n    private lookupService: LookupService,\n    private ledgerService: LedgerService,\n    private inputValidationService: InputValidationService,\n    public tezosDomainService: TezosDomainsService,\n    public tokenBalanceService: TokenBalancesService,\n    private subjectService: SubjectService,\n    private tzktService: TzktService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {}\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes?.confirmRequest?.currentValue) {\n      this.reset(true);\n      this.externalReq = changes.confirmRequest.currentValue.externalReq;\n      this.tokenTransfer = changes.confirmRequest.currentValue.tokenTransfer;\n      this.activeAccount = changes.confirmRequest.currentValue.account;\n      this.tezosDomainService.getDomainFromAddress(this.activeAccount?.address).then((domain) => {\n        this.domain = domain;\n      });\n      this.transactions = changes.confirmRequest.currentValue.transactions;\n      this.token = this.tokenService.getAsset(this.tokenTransfer);\n      console.log('transactions', this.transactions);\n      if (this.externalReq) {\n        ModalComponent.currentModel.next({\n          name: this.name,\n          data: null\n        });\n      }\n      this.init();\n      if (this.externalReq) {\n        this.syncSub = this.subjectService.beaconResponse.subscribe((response) => {\n          this.closeModalAction(response ? 'silent' : '');\n        });\n      }\n    }\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  open(data: any): void {\n    this.customGasLimit = data?.customGasLimit;\n    this.customStorageLimit = data?.customStorageLimit;\n    super.open();\n  }\n  async init(): Promise<void> {\n    await this.loadParameters();\n    if (this.walletService.wallet instanceof LedgerWallet) {\n      this.ledgerError = '?';\n    }\n  }\n  async loadParameters(): Promise<void> {\n    if (this.transactions.length > 1) {\n      for (const [i, op] of this.transactions.entries()) {\n        if (op.parameters) {\n          this.batchParameters.push({\n            num: i + 1,\n            parameters: op.parameters\n          });\n          if (!this.parameters) {\n            this.updateParameters(i, op.parameters);\n          }\n        }\n      }\n    } else if (this.transactions[0].parameters) {\n      this.updateParameters(0, this.transactions[0].parameters);\n    }\n  }\n  async updateParameters(index: number, parameters: any): Promise<void> {\n    if (!parameters) {\n      return;\n    }\n    this.batchParamIndex = index;\n    this.parameters = parameters;\n    this.parametersToMicheline();\n    this.executedSchema = undefined;\n    this.extractedSchema = undefined;\n    try {\n      const sc = await this.tzktService.getEntrypointMicheline(this.transactions[this.batchParamIndex]?.destination, this.parameters?.entrypoint);\n      this.schema = new Schema(sc);\n      this.executedSchema = this.schema.Execute(this.parameters.value);\n      this.extractedSchema = this.schema.generateSchema();\n      this.transformedParameters = this.parametersToTabular(this.executedSchema, this.extractedSchema);\n      this.parametersFormat = 1;\n    } catch (e) {\n      this.transformedParameters = [{ children: [], key: 'Error', val: 'Failed to fetch annotations!' }];\n    }\n  }\n  setParametersFormat(id: number): void {\n    this.parametersFormat = id;\n  }\n  beaconTokenTransfer(op: any): null | { tokenId: string; to: string; amount: string } {\n    if (op.parameters && this.tokenService.isKnownTokenContract(op.destination)) {\n      return this.operationService.parseTokenTransfer(op);\n    }\n    return null;\n  }\n  parametersToMicheline(): void {\n    if (this.parameters) {\n      try {\n        if (!this.parameters.value || !this.parameters.entrypoint) {\n          throw new Error('entrypoint and value expected');\n        }\n        assertMichelsonData(this.parameters.value);\n        const res = emitMicheline(this.parameters.value, {\n          indent: '  ',\n          newline: '\\n'\n        });\n        this.micheline = {\n          entrypoint: this.parameters.entrypoint,\n          value: res\n        };\n      } catch (e) {\n        console.warn(e);\n        this.micheline = null;\n      }\n    }\n  }\n\n  parametersToTabular(parameters, types) {\n    const hexToUTF8 = (str: string) => {\n      let b = [];\n      for (let i = 0; i < str.length / 2; i++) {\n        const c = parseInt(str.charAt(i * 2) + str.charAt(i * 2 + 1), 16);\n        b.push(c);\n      }\n      return Buffer.from(b).toString('utf-8');\n    };\n    const traverse = (key, val, level, types) => {\n      const isMap = (val, level) => {\n        let arr = [];\n        let valueMap = Object.fromEntries(val.valueMap);\n        for (const key of Object.keys(valueMap)) {\n          arr.push(traverse(key, valueMap[key], level + 1, types.schema[key]));\n        }\n        return arr;\n      };\n\n      const isObject = (key, val, level) => {\n        let arr = [];\n        const entries = Object.entries(val);\n        for (const [key, value] of entries) {\n          if (\n            (typeof value === 'object' && (value as any)?.c == undefined && (value as any)?.e === undefined && (value as any)?.s === undefined) ||\n            ((value as any)?.length > 0 && typeof value !== 'string')\n          ) {\n            arr.push({ key, children: traverse(key, value, level + 1, types.schema[key]) });\n          } else {\n            arr.push(traverse(key, value, level + 1, types.schema[key]));\n          }\n        }\n        return arr;\n      };\n\n      const isArray = (key, val, level) => {\n        if (val.length === 1) {\n          return traverse(key, val[0], level + 1, types.schema);\n        }\n        const arr = [];\n        for (let i = 0; i < val.length; ++i) {\n          if (\n            (typeof val[i] === 'object' && val[i]?.c === undefined && val[i]?.e === undefined && val[i]?.s === undefined) ||\n            ((val[i] as any)?.length > 0 && typeof val[i] !== 'string')\n          ) {\n            if (key) {\n              arr.push({ key, children: traverse(key, val[i], level + 1, types.schema) });\n            } else {\n              arr.push(...traverse(key, val[i], level + 1, types.schema));\n            }\n          } else {\n            arr.push(traverse(key, val[i], level + 1, types.schema));\n          }\n        }\n        return arr;\n      };\n      if (typeof val === 'string') {\n        return { key, val: types.__michelsonType === 'bytes' ? hexToUTF8(val) : val, children: [] };\n      } else if (val && typeof val === 'object' && val?.c !== undefined && val?.e !== undefined && val?.s !== undefined) {\n        return { key, val: Big(val).toString(), children: [] };\n      } else if (val && val?.valueMap !== undefined && val?.keyMap !== undefined && val?.keySchema !== undefined) {\n        return isMap(val, level);\n      } else if (!!val?.length && typeof val !== 'string') {\n        return isArray(key, val, level);\n      } else if (val && typeof val === 'object') {\n        return isObject(key, val, level);\n      } else if (typeof val === 'number') {\n        return { key, val, children: [] };\n      } else if (typeof val === 'symbol') {\n        return { key, val: val.valueOf(), children: [] };\n      } else {\n        return { key, val: null, children: [] };\n      }\n    };\n    let result = traverse(null, parameters, 0, types);\n    if (result?.length === undefined) {\n      result = [result];\n    }\n    return result;\n  }\n  getTotalAmount(): string {\n    let totalSent = Big(0);\n    for (const tx of this.transactions) {\n      totalSent = totalSent.add(tx.amount);\n    }\n    return totalSent.toFixed();\n  }\n  getTotalCost(display: boolean = false): string {\n    const totalFee = Big(this.getTotalFee()).plus(Big(this.getTotalBurn())).toString();\n    if (display && totalFee === '0') {\n      return '-';\n    }\n    return totalFee;\n  }\n  getTotalFee(): string {\n    let totalFee = Big(0);\n    for (const tx of this.transactions) {\n      totalFee = totalFee.add(tx.fee ? tx.fee : 0);\n    }\n    return totalFee.toFixed();\n  }\n  getTotalBurn(): number {\n    const totalActiveStorageLimit: number =\n      this.customStorageLimit !== '' && Number(this.customStorageLimit) ? Number(this.customStorageLimit) : this.getTotalDefaultStorage();\n    return Number(Big(totalActiveStorageLimit).times(this.costPerByte).div(1000000).toString());\n  }\n  getTotalDefaultGas(): number {\n    let totalGas = Big(0);\n    for (const tx of this.transactions) {\n      totalGas = totalGas.plus(tx.gasLimit);\n    }\n    return totalGas.toFixed();\n  }\n  getTotalDefaultStorage(): number {\n    let totalStorage = Big(0);\n    for (const tx of this.transactions) {\n      totalStorage = totalStorage.plus(tx.storageLimit);\n    }\n    return totalStorage.toFixed();\n  }\n  getQuantity(amount): number {\n    return Big(amount)\n      .div(10 ** (false ? this.token.decimals : 0))\n      .toFixed();\n  }\n  totalAmount(): string {\n    let totalSent = Big(0);\n    for (const tx of this.transactions) {\n      totalSent = totalSent.add(tx.amount);\n    }\n    return totalSent.toFixed();\n  }\n  formatAmount(token, amount: string, baseUnit = true): string {\n    if (!token) {\n      return `${Big(amount)\n        .div(10 ** (baseUnit ? 6 : 0))\n        .toFixed()} tez`;\n    } else {\n      if (token) {\n        if (this.tokenBalanceService.isNFT(token)) {\n          return `${token.name}`;\n        } else {\n          return `${Big(amount)\n            .div(10 ** (baseUnit ? token.decimals : 0))\n            .toFixed()} ${token.symbol}`;\n        }\n      } else {\n        return '[Unknown token]';\n      }\n    }\n  }\n  async ledgerRetry(): Promise<void> {\n    if (!this.inputValidationService.fee(this.getTotalFee().toString())) {\n      this.messageService.addError('Invalid fee');\n      return;\n    }\n    this.messageService.startSpinner('Preparing transaction...');\n    const keys = await this.walletService.getKeys('');\n    if (keys) {\n      await this.sendTransaction(keys);\n    } else {\n      this.messageService.stopSpinner();\n    }\n  }\n  async inject(): Promise<void> {\n    if (this.walletService.isLedgerWallet()) {\n      await this.broadCastLedgerTransaction();\n      this.sendResponse = null;\n      ModalComponent.currentModel.next({ name: '', data: null });\n    } else {\n      if (!this.inputValidationService.fee(this.getTotalFee().toString())) {\n        this.messageService.addError('Invalid fee');\n        return;\n      }\n      const pwd = this.password;\n      this.password = '';\n      this.messageService.startSpinner('Signing transaction...');\n      let keys;\n      try {\n        keys = await this.walletService.getKeys(pwd, this.activeAccount.pkh);\n      } catch {\n        this.messageService.stopSpinner();\n      }\n      if (keys) {\n        this.pwdInvalid = '';\n        this.messageService.startSpinner('Sending transaction...');\n        await this.sendTransaction(keys);\n        ModalComponent.currentModel.next({ name: '', data: null });\n      } else {\n        this.messageService.stopSpinner();\n        if (this.walletService.wallet instanceof TorusWallet) {\n          this.pwdInvalid = `Authorization failed`;\n        } else {\n          this.pwdInvalid = this.translate.instant('SENDCOMPONENT.WRONGPASSWORD'); // 'Wrong password!';\n        }\n      }\n    }\n  }\n  async sendTransaction(keys: KeyPair): Promise<void> {\n    const txs: FullyPreparedTransaction[] = this.opsWithCustomLimits();\n    this.subscriptions.add(\n      this.operationService.transfer(this.activeAccount.address, txs, Number(this.getTotalFee()), keys, this.tokenTransfer).subscribe(\n        async (ans: any) => {\n          this.sendResponse = ans;\n          if (ans.success === true) {\n            console.log('Transaction successful ', ans);\n            if (ans.payload.opHash) {\n              await this.messageService.stopSpinner();\n              this.operationResponse.emit(ans.payload.opHash);\n              const metadata = {\n                transactions: this.transactions,\n                opHash: ans.payload.opHash,\n                tokenTransfer: this.tokenTransfer\n              };\n              await this.coordinatorService.boost(this.activeAccount.address, metadata);\n              if (this.transactions[0].meta) {\n                this.torusNotification(this.transactions[0]);\n              }\n              for (const transaction of this.transactions) {\n                if (this.walletService.addressExists(transaction.destination)) {\n                  await this.coordinatorService.boost(transaction.destination);\n                }\n              }\n            } else if (this.walletService.wallet instanceof LedgerWallet) {\n              await this.requestLedgerSignature();\n              return;\n            }\n          } else {\n            await this.messageService.stopSpinner();\n            console.log('Transaction error id ', ans.payload.msg);\n            this.messageService.addError(ans.payload.msg, 0);\n            this.operationResponse.emit('broadcast_error');\n          }\n          this.reset();\n        },\n        (err) => {\n          this.messageService.stopSpinner();\n          console.log('Error Message ', JSON.stringify(err));\n          if (this.walletService.isLedgerWallet()) {\n            this.messageService.addError('Failed to create transaction', 0);\n            this.operationResponse.emit('broadcast_error');\n          }\n          this.reset();\n        }\n      )\n    );\n  }\n  opsWithCustomLimits(): FullyPreparedTransaction[] {\n    let extraGas: number = 0;\n    let extraStorage: number = 0;\n    if (this.customGasLimit && this.customGasLimit !== this.getTotalDefaultGas().toString()) {\n      extraGas = Number(this.customGasLimit) - this.getTotalDefaultGas();\n    }\n    if (this.customStorageLimit && this.customStorageLimit !== this.getTotalDefaultStorage().toString()) {\n      extraStorage = Number(this.customStorageLimit) - this.getTotalDefaultStorage();\n    }\n    const extraGasPerOp: number = Math.round(extraGas / this.transactions.length);\n    const extraStoragePerOp: number = Math.round(extraStorage / this.transactions.length);\n    const txs: FullyPreparedTransaction[] = [];\n    for (let i = 0; i < this.transactions.length; i++) {\n      let gasLimit: string = extraGas ? (Number(this.transactions[i].gasLimit) + extraGasPerOp).toString() : this.transactions[i].gasLimit.toString();\n      let storageLimit = extraStorage\n        ? (Number(this.transactions[i].storageLimit) + extraStoragePerOp).toString()\n        : this.transactions[i].storageLimit.toString();\n      gasLimit = !(Number(gasLimit) < 0) ? gasLimit : '0';\n      storageLimit = !(Number(storageLimit) < 0) ? storageLimit : '0';\n      const fullyTx: FullyPreparedTransaction = {\n        ...this.transactions[i],\n        fee: i === this.transactions.length - 1 ? this.getTotalFee().toString() : '0',\n        gasLimit,\n        storageLimit\n      };\n      txs.push(fullyTx);\n    }\n    return txs;\n  }\n  async requestLedgerSignature(): Promise<void> {\n    if (this.walletService.wallet instanceof LedgerWallet) {\n      await this.messageService.startSpinner('Waiting for Ledger signature...');\n      try {\n        const op = this.sendResponse.payload.unsignedOperation;\n        let signature = '';\n        if (op.length <= 2290) {\n          signature = await this.ledgerService.signOperation('03' + op, this.walletService.wallet.implicitAccounts[0].derivationPath);\n        } else {\n          signature = await this.ledgerService.signHash(\n            this.operationService.ledgerPreHash('03' + op),\n            this.walletService.wallet.implicitAccounts[0].derivationPath\n          );\n        }\n        if (signature) {\n          const signedOp = op + signature;\n          this.sendResponse.payload.signedOperation = signedOp;\n          this.ledgerError = '';\n        } else {\n          this.ledgerError = 'Failed to sign transaction';\n        }\n      } finally {\n        this.messageService.stopSpinner();\n      }\n    }\n  }\n  async broadCastLedgerTransaction(): Promise<void> {\n    this.subscriptions.add(\n      this.operationService.broadcast(this.sendResponse.payload.signedOperation).subscribe(async (ans: any) => {\n        this.sendResponse = ans;\n        if (ans.success && this.activeAccount) {\n          const metadata = {\n            transactions: this.transactions,\n            opHash: ans.payload.opHash,\n            tokenTransfer: this.tokenTransfer\n          };\n          if (this.transactions[0].meta) {\n            this.torusNotification(this.transactions[0]);\n          }\n          await this.coordinatorService.boost(this.activeAccount.address, metadata);\n          if (this.walletService.addressExists(this.transactions[0].destination)) {\n            await this.coordinatorService.boost(this.transactions[0].destination);\n          }\n          this.operationResponse.emit(ans.payload.opHash);\n        } else {\n          console.log('sendResponse', JSON.stringify(this.sendResponse));\n          this.operationResponse.emit('broadcast_error');\n        }\n        console.log('ans: ' + JSON.stringify(ans));\n        this.reset();\n      })\n    );\n  }\n  async torusNotification(transaction: FullyPreparedTransaction): Promise<void> {\n    if (transaction.meta) {\n      const amount = this.tokenService.formatAmount(this.tokenTransfer, transaction.amount.toString(), false);\n      if (transaction.meta.verifier === 'google') {\n        this.messageService.emailNotify(transaction.meta.alias, amount);\n        this.lookupService.add(transaction.destination, transaction.meta.alias, 2);\n      } else if (transaction.meta.verifier === 'reddit') {\n        this.messageService.redditNotify(transaction.meta.alias, amount);\n        this.lookupService.add(transaction.destination, transaction.meta.alias, 3);\n      } else if (transaction.meta.verifier === 'twitter') {\n        this.messageService.twitterNotify(transaction.meta.twitterId, transaction.meta.alias, amount);\n        this.lookupService.add(transaction.destination, transaction.meta.alias, 4);\n      }\n    }\n  }\n  getUsername(): string {\n    if (this.walletService.wallet instanceof TorusWallet) {\n      return this.walletService.wallet.displayName();\n    } else if (this.activeAccount) {\n      const party = this.lookupService.resolve({\n        address: this.activeAccount.address\n      });\n      if (party?.name) {\n        return party.name;\n      }\n    }\n    return '';\n  }\n  getVerifier(): string {\n    if (this.walletService.wallet instanceof TorusWallet) {\n      return this.walletService.wallet.verifier;\n    } else {\n      return 'domain';\n    }\n  }\n  previewAttention(): string {\n    if (this.transactions[0]?.meta?.verifier) {\n      if (!this.tokenTransfer && new Big(this.totalAmount()).gt('50')) {\n        let recipientKind = '';\n        switch (this.transactions[0].meta.verifier) {\n          case 'google':\n            recipientKind = 'Google account email address';\n            break;\n          case 'reddit':\n            recipientKind = 'Reddit username';\n            break;\n          case 'twitter':\n            recipientKind = 'Twitter handle';\n            break;\n          default:\n            recipientKind = 'information';\n        }\n        return `Carefully review the recipient's ${recipientKind}! Spelling mistakes can lead to permanent loss of the transferred funds.`;\n      }\n    }\n    return '';\n  }\n  // Only Numbers with Decimals\n  sanitizeNumberInput(e, type = ''): void {\n    console.dir(this.token?.decimals, e.target);\n    if (['gas', 'storage'].includes(type) || (type === 'amount' && this.token?.decimals == 0)) {\n      e.target.value = e.target.value.replace(/[^0-9]/g, '');\n    } else {\n      e.target.value = e.target.value.replace(/[^0-9\\.]/g, '');\n      if ((e.target.value.match(/\\./g) || []).length > 1) {\n        const tmp = e.target.value.split('');\n        tmp.splice(tmp.lastIndexOf('.'), 1);\n        e.target.value = tmp.join('');\n      }\n      if (e.target.value.charAt(0) === '.') {\n        e.target.value = '0' + e.target.value;\n      }\n    }\n  }\n  closeModalAction(emit: string = null): void {\n    ModalComponent.currentModel.next({ name: '', data: null });\n    this.operationResponse.emit(emit);\n    this.reset();\n  }\n  reset(init = false): void {\n    if (!init) {\n      this.confirmRequest = null;\n      if (this.syncSub) {\n        this.syncSub.unsubscribe();\n        this.syncSub = undefined;\n      }\n    }\n    this.tokenTransfer = '';\n    this.transactions = [];\n    this.activeAccount = null;\n\n    this.customGasLimit = '';\n    this.customStorageLimit = '';\n\n    this.token = null;\n    this.domain = undefined;\n\n    this.parameters = null;\n    this.batchParamIndex = 0;\n    this.micheline = null;\n    this.batchParameters = [];\n    this.parametersFormat = 0;\n    this.transformedParameters = [];\n    this.executedSchema = [];\n    this.schema = undefined;\n\n    this.showFullBatch = false;\n    this.sendResponse = null;\n    this.ledgerError = '';\n    this.password = '';\n    this.pwdInvalid = '';\n    this.advancedForm = false;\n    this.externalReq = false;\n  }\n  counter(i: number) {\n    return new Array(i);\n  }\n\n  toggleTab(e) {\n    let elem = e.target;\n    while (elem.tagName.toLowerCase() !== 'li') {\n      elem = elem.parentElement;\n    }\n    elem.classList.toggle('expanded');\n  }\n}\n","<div class=\"flex-row dropdown\" [class.expanded]=\"isOpen\" (click)=\"toggleDropdown()\" [id]=\"ecmpId\">\n  <img class=\"button icon-torus\"\n    [src]=\"torusVerifier === '' ? 'assets/img/tezos-xtz-logo.svg' :  'assets/img/' + torusVerifier.toLowerCase() + '-logo.svg'\" />\n  <input readonly [(ngModel)]=\"torusVerifierName\" /><img class=\"button icon-db\"\n    src=\"../../../assets/img/down-arrow.svg\" />\n  <div class=\"flex-column dropdown-content\">\n    <a [class.selected]=\"torusVerifierName === 'Tezos Address'\"\n      (click)=\"torusVerifier = ''; torusVerifierName = 'Tezos Address';\">\n      Tezos Address\n    </a>\n    <a [class.selected]=\"torusVerifierName === 'Tezos Domains'\"\n      (click)=\"torusVerifier = 'domain'; torusVerifierName = 'Tezos Domains'\">\n      Tezos Domains\n    </a>\n    <ng-container *ngFor=\"let key of torusService.verifierMapKeys\">\n      <ng-container *ngIf=\"torusService.verifierMap[key].lookups\">\n        <a [class.selected]=\"torusVerifierName === torusService.verifierMap[key].name\"\n          (click)=\"torusVerifier = key; torusVerifierName = torusService.verifierMap[key].name\">\n          {{ torusService.verifierMap[key].name }}\n        </a>\n      </ng-container>\n    </ng-container>\n  </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { TorusService } from '../../../../services/torus/torus.service';\nimport { DropdownComponent } from '../dropdown.component';\n\n@Component({\n  selector: 'app-ui-dropdown-prepare-send',\n  templateUrl: './prepare-send-dropdown.component.html',\n  styleUrls: ['../../../../../scss/components/ui/dropdown/prepare-send-dropdown.component.scss']\n})\nexport class PrepareSendDropdownComponent extends DropdownComponent implements OnInit {\n  @Input() torusVerifierName = 'Tezos Address';\n  @Input() torusVerifier = '';\n\n  constructor(public router: Router, public torusService: TorusService) {\n    super();\n  }\n\n  ngOnInit(): void {}\n\n  toggleDropdown(): void {\n    this.dropdownResponse.emit({\n      torusVerifierName: this.torusVerifierName,\n      torusVerifier: this.torusVerifier\n    });\n    this.isOpen = !this.isOpen;\n  }\n}\n","<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"closeModalAction()\"><img class=\"x\"\n          src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">{{ !isNFT ? getTitle() : 'Send Token'}}</h1>\n    </div>\n    <div class=\"flex-column prepare-send\">\n      <form autocomplete=\"off\">\n        <div *ngIf=\"!this.isMultipleDestinations\" class=\"flex-column top\">\n          <div *ngIf=\"isNFT\" class=\"flex-row token\">\n            <app-asset class=\"asset\" [priorityList]=\"['thumbnailAsset', 'displayAsset']\" [assets]=\"token\"></app-asset>\n            <span class=\"title\">{{token?.name}}</span>\n          </div>\n          <span *ngIf=\"!this.token || !(this.token?.isBooleanAmount || this.token?.balance == 1)\"\n            class=\"flex-row label title\">ENTER {{!isNFT ? 'AMOUNT' :\n            'QUANTITY'}}:</span>\n          <div *ngIf=\"!this.token || !(this.token?.isBooleanAmount || this.token?.balance == 1)\"\n            class=\"flex-row amount\">\n            <input #amountInput inputmode=\"decimal\" name=\"none\" [placeholder]=\"token?.decimals == 0 ? '0' : '0.00'\" [(ngModel)]=\"amount\"\n              name=\"none\" (mousedown)=\"sendMax = false; default\"\n              (input)=\"sanitizeNumberInput($event, 'amount'); amountChange()\"\n              (paste)=\"sanitizeNumberInput($event, 'amount')\" (change)=\"amountChange()\"\n              [disabled]=\"isMultipleDestinations\" />\n            <button *ngIf=\"!this.isMultipleDestinations\" tabindex=-1 class=\"small\" [class.max]=\"sendMax\"\n              (click)=\"sendEntireBalance($event)\">MAX</button>\n          </div>\n          <div class=\"flex-row fees\">\n            <span *ngIf=\"!tokenTransfer\" class=\"amount-usd\">\n              <span>USD:&nbsp;</span>{{'$' + (getTotalAmount() * walletService.wallet.XTZrate | number:'1.2-2' ||\n              '0.00')\n              }}\n            </span>\n            <span class=\"amount-fee\"><span>FEE{{ getTotalBurn() > 0 ? ' & STORAGE COST' : ''}}:&nbsp;</span><img\n                *ngIf=\"simSemaphore\" src=\"../../../../assets/img/feeLoader.gif\">{{ getTotalCost() != 0 ? (getTotalCost()\n              |\n              number:'1.0-6') + ' tez' : '--'\n              }}</span>\n          </div>\n        </div>\n      </form>\n      <form class=\"to\" autocomplete=\"off\">\n        <div *ngIf=\"!this.isMultipleDestinations\" class=\"flex-column\">\n          <span class=\"label title\">SEND TO:</span>\n          <div class=\"address\">\n            <div *ngIf=\"!toPkh\" class=\"flex-column tool\" id=\"paste\" (click)=\"pasteToPkh()\">\n              <img src=\"assets/img/paste.svg\" />\n            </div>\n            <app-qr-scanner *ngIf=\"!toPkh\" [override]=\"true\" class=\"flex-column tool\" id=\"qr\" (scanResponse)=\"handleScanResponse($event)\"></app-qr-scanner>\n            <app-ui-dropdown-prepare-send [torusVerifier]=\"torusVerifier\" [torusVerifierName]=\"torusVerifierName\"\n              (dropdownResponse)=\"dropdownResponse($event)\"></app-ui-dropdown-prepare-send>\n            <input type=\"text\" placeholder=\"Recipient\" class=\"text\" (input)=\"updateDefaultValues($event)\"\n              (change)=\"toPkhChange()\" name=\"toPkh\" [(ngModel)]=\"toPkh\">\n          </div>\n          <div class=\"flex-row address-display\">\n            <span [style.display]=\"!torusPendingLookup && torusLookupAddress ? '' : 'none'\">{{ torusLookupAddress\n              }}</span><span [style.display]=\"torusPendingLookup ? '' : 'none'\"><img\n                src=\"../../../../assets/img/feeLoader.gif\"></span>\n          </div>\n        </div>\n        <div *ngIf=\"this.isMultipleDestinations\" class=\"flex-column\">\n          <label class=\"label\">Addresses and amounts <span class=\"batchInfo\">{{ batchSpace() }}</span></label>\n          <textarea name=\"none\" type=\"text\" class=\"text\" (input)=\"updateDefaultValues()\" rows=\"3\"\n            [(ngModel)]=\"toMultipleDestinationsString\" name=\"none\"\n            placeholder=\"address1 amount1 ; &#10;address2 amount2 ; &#10;address3 ...\"></textarea>\n        </div>\n        <div class=\"flex-column\">\n          <app-ui-toggle-advanced style=\"width: calc(100% - 1.5em);margin: 1rem 0;\" [default]=\"false\"\n            (stateChange)=\"advancedForm = $event\"></app-ui-toggle-advanced>\n          <button *ngIf=\"!isNFT && advancedForm\" class=\"small multiple-destinations\" (click)=\"toggleDestination()\">\n            <span>\n              <ng-container *ngIf=\"!this.isMultipleDestinations\">Multiple transactions</ng-container>\n              <ng-container *ngIf=\"this.isMultipleDestinations\">Single transaction</ng-container>\n            </span>\n          </button>\n        </div>\n      </form>\n      <form autocomplete=\"off\" *ngIf=\"advancedForm\" class=\"flex-column advanced-form\">\n        <div class=\"flex-row\">\n          <div class=\"flex-column\">\n            <label class=\"label\">Gas limit</label>\n            <input inputmode=\"decimal\" name=\"none\" type=\"text\" class=\"text\" (input)=\"sanitizeNumberInput($event, 'gas')\"\n              (paste)=\"sanitizeNumberInput($event, 'gas')\" placeholder={{this.defaultTransactionParams.gas.toString()}}\n              [(ngModel)]=\"customGasLimit\" name=\"none\">\n          </div>\n          <div class=\"flex-column\">\n            <label class=\"label\">Fee</label>\n            <input inputmode=\"decimal\" name=\"none\" type=\"text\" (input)=\"sanitizeNumberInput($event); updateMaxAmount()\"\n              (paste)=\"sanitizeNumberInput($event); updateMaxAmount()\" class=\"text\"\n              placeholder={{this.defaultTransactionParams.fee.toString()}} [(ngModel)]=\"customFee\" name=\"none\">\n          </div>\n        </div>\n        <div class=\"flex-row\">\n          <div class=\"flex-column\">\n            <label class=\"label\">Storage limit</label>\n            <input inputmode=\"decimal\" name=\"none\" type=\"text\" (input)=\"sanitizeNumberInput($event, 'storage'); updateMaxAmount()\"\n              (paste)=\"sanitizeNumberInput($event, 'storage'); updateMaxAmount()\" class=\"text\"\n              placeholder={{this.defaultTransactionParams.storage.toString()}} [(ngModel)]=\"customStorageLimit\"\n              name=\"none\">\n          </div>\n          <div class=\"flex-column\">\n            <label class=\"label\">Max storage cost</label>\n            <input inputmode=\"decimal\" name=\"none\" type=\"text\" class=\"text read-only\" [value]=\"burnAmount() ? burnAmount() : '0 tez'\"\n              tabindex=-1 readonly>\n          </div>\n        </div>\n      </form>\n      <br />\n      <div class=\"flex-column bottom\">\n        <div class=\"seperator\"></div>\n        <span *ngIf=\"formInvalid !== ''\" class=\"label danger\">\n          {{ formInvalid }}\n        </span>\n        <button class=\"confirm\" (click)=\"preview()\">Preview</button>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit, Input, ViewChild, ElementRef, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\nimport { TokenService } from '../../../../services/token/token.service';\nimport { EstimateService } from '../../../../services/estimate/estimate.service';\nimport { DefaultTransactionParams } from '../../../../interfaces';\nimport { FullyPreparedTransaction, PartiallyPreparedTransaction, PrepareRequest } from '../../../misc/send/interfaces';\nimport { Account, ImplicitAccount, OriginatedAccount } from '../../../../services/wallet/wallet';\nimport { TorusService } from '../../../../services/torus/torus.service';\nimport Big from 'big.js';\nimport { TranslateService } from '@ngx-translate/core';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { InputValidationService } from '../../../../services/input-validation/input-validation.service';\nimport assert from 'assert';\nimport { TezosDomainsService } from '../../../../services/tezos-domains/tezos-domains.service';\nimport { ModalComponent } from '../../modal.component';\nimport { TokenBalancesService } from '../../../../services/token-balances/token-balances.service';\n\nconst zeroTxParams: DefaultTransactionParams = {\n  gas: 0,\n  storage: 0,\n  fee: 0,\n  burn: 0\n};\n@Component({\n  selector: 'app-prepare-send',\n  templateUrl: './prepare-send.component.html',\n  styleUrls: ['../../../../../scss/components/modals/modal.scss']\n})\nexport class PrepareSendComponent extends ModalComponent implements OnInit, OnChanges {\n  @Input() prepareRequest: PrepareRequest = null;\n  @Output() prepareResponse = new EventEmitter();\n  @ViewChild('destType') public destType: ElementRef;\n  activeAccount: Account = null;\n  tokenTransfer: string = null;\n  token = null;\n  costPerByte: string = this.estimateService.costPerByte;\n\n  defaultTransactionParams: DefaultTransactionParams = zeroTxParams;\n  active = false;\n  isMultipleDestinations = false;\n  advancedForm = false;\n  hideAmount = false;\n  simSemaphore = 0;\n  isNFT = false;\n  accountDropdownIsOpen = false;\n\n  torusVerifierName = 'Tezos Address';\n  torusVerifier = '';\n  torusLookupId = '';\n  torusLookupAddress = '';\n  torusTwitterId = '';\n  torusPendingLookup = false;\n  torusLastLookup = '';\n\n  transactions = [];\n  toMultipleDestinationsString = '';\n\n  formInvalid = '';\n  latestSimError = '';\n  prevEquiClass = '';\n\n  sendMax = null;\n\n  amount = '';\n  toPkh = '';\n  customFee = '';\n  customGasLimit = '';\n  customStorageLimit = '';\n\n  name = 'prepare-send';\n\n  constructor(\n    private tokenService: TokenService,\n    private estimateService: EstimateService,\n    public torusService: TorusService,\n    private translate: TranslateService,\n    private walletService: WalletService,\n    public tezosDomains: TezosDomainsService,\n    private inputValidationService: InputValidationService,\n    private tokenBalancesService: TokenBalancesService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {}\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes?.prepareRequest?.currentValue) {\n      this.reset(true);\n      this.tokenTransfer = changes.prepareRequest.currentValue.tokenTransfer ?? null;\n      this.token = this.tokenService.getAsset(this.tokenTransfer);\n      this.isNFT = this.tokenBalancesService.isNFT(this.token);\n      this.activeAccount = changes.prepareRequest.currentValue.account;\n      this.amount = !this.token || !(this.token?.isBooleanAmount || this.token?.balance == 1) ? '' : '1';\n      if (!this.isOpen) {\n        this.openModal();\n      }\n    }\n  }\n  openModal() {\n    ModalComponent.currentModel.next({ name: this.name, data: null });\n    this.estimateService.preLoadData(this.activeAccount.pkh, this.activeAccount.pk);\n  }\n  closeModalAction() {\n    this.prepareResponse.emit(null);\n    ModalComponent.currentModel.next({ name: '', data: null });\n    this.reset();\n  }\n\n  reset(init = false) {\n    if (!init) {\n      this.prepareRequest = null;\n    }\n\n    this.defaultTransactionParams = zeroTxParams;\n    this.active = false;\n    this.isMultipleDestinations = false;\n    this.advancedForm = false;\n    this.hideAmount = false;\n    this.simSemaphore = 0;\n\n    this.tokenTransfer = null;\n    this.token = null;\n    this.isNFT = null;\n    this.accountDropdownIsOpen = false;\n\n    this.transactions = [];\n    this.toMultipleDestinationsString = '';\n\n    this.formInvalid = '';\n    this.latestSimError = '';\n    this.prevEquiClass = '';\n    this.torusVerifierName = 'Tezos Address';\n    this.torusVerifier = '';\n\n    this.sendMax = null;\n\n    this.amount = '';\n    this.toPkh = '';\n    this.customFee = '';\n    this.customGasLimit = '';\n    this.customStorageLimit = '';\n    this.clearTorus();\n  }\n  getTitle(): string {\n    return `Send ${this.getAssetName(true)}`;\n  }\n  getAssetName(short = true): string {\n    if (this.tokenTransfer) {\n      return this.token?.symbol ?? this.token?.name ?? 'Unknown';\n    } else {\n      return !this.prepareRequest.symbol ? 'tez' : this.prepareRequest.symbol;\n    }\n  }\n  getTotalAmount(): string {\n    let totalSent = Big(0);\n    for (const tx of this.transactions) {\n      totalSent = totalSent.add(tx.amount);\n    }\n    return totalSent.toFixed();\n  }\n  getTotalCost(display: boolean = false): number | string {\n    const totalFee = Big(this.getTotalFee()).plus(Big(this.getTotalBurn())).toString();\n    if (display && totalFee === '0') {\n      return '-';\n    }\n    return Number(totalFee);\n  }\n  getTotalFee(): number {\n    if (this.customFee !== '' && (Number(this.customFee) || this.customFee === '0')) {\n      return Number(this.customFee);\n    }\n    return Number(this.defaultTransactionParams.fee);\n  }\n  getTotalBurn(): number {\n    if (this.customStorageLimit !== '' && Number(this.customStorageLimit)) {\n      return Number(Big(this.customStorageLimit).mul(this.transactions.length).times(this.costPerByte).div(1000000).toString());\n    }\n    return this.defaultTransactionParams.burn;\n  }\n  burnAmount(): string {\n    const burn = this.customStorageLimit ? Number(Big(this.customStorageLimit).times(this.costPerByte).div(1000000)) : this.defaultTransactionParams.burn;\n    if (burn) {\n      return burn + ' tez';\n    }\n    return '';\n  }\n  amountChange(): void {\n    this.estimateFees();\n  }\n  async estimateFees(): Promise<void> {\n    console.log('estimate..');\n    const prevSimError = this.latestSimError;\n    this.latestSimError = '';\n    let txs: PartiallyPreparedTransaction[] = [];\n    try {\n      txs = this.getMinimalPreparedTxs();\n      this.transactions = txs;\n    } catch (e) {\n      console.log(e);\n    }\n    if (txs?.length) {\n      const equiClass = this.equiClass(this.activeAccount.address, txs);\n      if (this.prevEquiClass !== equiClass || (this.tokenTransfer && this.checkBalance())) {\n        this.latestSimError = '';\n        this.prevEquiClass = equiClass;\n        this.simSemaphore++; // Put lock on 'Preview and 'Send max'\n        const callback = (res) => {\n          if (res) {\n            if (res.error) {\n              this.formInvalid = res.error;\n              this.latestSimError = res.error;\n            } else {\n              this.defaultTransactionParams = res;\n              this.formInvalid = '';\n              this.latestSimError = '';\n              this.updateMaxAmount();\n            }\n          } else {\n            console.log('no res');\n          }\n          this.simSemaphore--;\n        };\n        this.estimateService.estimateTransactions(JSON.parse(JSON.stringify(txs)), this.activeAccount.address, this.tokenTransfer, callback);\n      } else {\n        this.latestSimError = prevSimError;\n        this.formInvalid = this.latestSimError;\n      }\n    } else {\n      this.latestSimError = prevSimError;\n      if (this.isMultipleDestinations ? !this.toMultipleDestinationsString : !this.toPkh) {\n        this.defaultTransactionParams = zeroTxParams;\n        this.updateMaxAmount();\n        this.prevEquiClass = '';\n      }\n    }\n  }\n  equiClass(sender: string, transactions: any): string {\n    let data = sender;\n    if (this.tokenTransfer) {\n      data += transactions[0].to + transactions[0].amount.toString();\n    } else {\n      for (const tx of transactions) {\n        if (tx?.to) {\n          data += tx.to;\n        } else if (tx?.meta) {\n          data += `${tx.meta.verifier}:${tx.meta.alias}`;\n        }\n      }\n    }\n    return data;\n  }\n  /*\n    1. input validation\n      strict checks that\n    2. create basic transaction array\n  */\n  sanitizeNumberInput(e, type = ''): void {\n    console.dir(this.token?.decimals, e.target);\n    if (['gas', 'storage'].includes(type) || (type === 'amount' && this.token?.decimals == 0)) {\n      e.target.value = e.target.value.replace(/[^0-9]/g, '');\n    } else {\n      e.target.value = e.target.value.replace(/[^0-9\\.]/g, '');\n      if ((e.target.value.match(/\\./g) || []).length > 1) {\n        const tmp = e.target.value.split('');\n        tmp.splice(tmp.lastIndexOf('.'), 1);\n        e.target.value = tmp.join('');\n      }\n      if (e.target.value.charAt(0) === '.') {\n        e.target.value = '0' + e.target.value;\n      }\n    }\n  }\n  updateDefaultValues(ev?: any): void {\n    const val = ev?.target.value.trim();\n    if (val && !this.torusVerifier) {\n      if (this.inputValidationService.twitterAccount(val)) {\n        this.torusVerifier = 'twitter';\n        this.torusVerifierName = 'Twitter';\n      } else if (this.inputValidationService.tezosDomain(val)) {\n        this.torusVerifier = 'domain';\n        this.torusVerifierName = 'Tezos Domains';\n      }\n      ev.target.value = ev.target.value.trim();\n    }\n\n    if (!this.torusVerifier) {\n      this.estimateFees();\n      if (this.isMultipleDestinations) {\n        this.amount = this.getTotalAmount();\n      }\n    } else {\n      this.verifierChange();\n    }\n  }\n  toPkhChange(): void {\n    if (this.torusVerifier && (this.torusLastLookup !== `${this.torusVerifier}:${this.toPkh}` || this.torusPendingLookup)) {\n      this.torusLookup();\n    }\n  }\n  // Will return PartiallyPreparedTransaction or throw an error\n  getMinimalPreparedTxs(finalCheck = false): PartiallyPreparedTransaction[] {\n    if (!this.isMultipleDestinations) {\n      if (this.torusVerifier) {\n        assert(!this.invalidTorusAccount(), this.invalidTorusAccount());\n        assert(this.torusReady(), 'Pending lookup');\n        this.checkTx(this.torusLookupAddress, this.amount, finalCheck);\n        const meta: any = {\n          verifier: this.torusVerifier,\n          alias: this.torusLookupId\n        };\n        if (this.torusTwitterId) {\n          meta.twitterId = this.torusTwitterId;\n        }\n        return [\n          {\n            kind: 'transaction',\n            destination: this.torusLookupAddress,\n            amount: this.amount ? this.amount : '0',\n            meta\n          }\n        ];\n      } else {\n        this.checkTx(this.toPkh, this.amount, finalCheck);\n      }\n      return [\n        {\n          kind: 'transaction',\n          destination: this.toPkh,\n          amount: this.amount ? this.amount : '0'\n        }\n      ];\n      //this.checkGasStorageFee();\n    } else {\n      return this.getBatch(finalCheck);\n      //assert(false, 'not supported yet')\n    }\n  }\n  checkTx(toPkh: string, amount: string, finalCheck: boolean): void {\n    assert(\n      this.torusVerifier || !(!this.inputValidationService.address(toPkh) || toPkh === this.activeAccount.address),\n      this.translate.instant('SENDCOMPONENT.INVALIDRECEIVERADDRESS')\n    );\n    assert(\n      !this.torusVerifier ||\n        !(!this.inputValidationService.torusAccount(this.toPkh, this.torusVerifier) || this.torusLookupAddress === this.activeAccount.address),\n      'Invalid recipient'\n    );\n    assert(\n      !(\n        !this.inputValidationService.amount(amount, this.token ? this.token.decimals : undefined) ||\n        (finalCheck && (amount === '0' || amount === '') && toPkh.slice(0, 3) !== 'KT1')\n      ),\n      this.translate.instant('SENDCOMPONENT.INVALIDAMOUNT')\n    );\n  }\n  getBatch(finalCheck = false): PartiallyPreparedTransaction[] {\n    const txs: PartiallyPreparedTransaction[] = this.toMultipleDestinationsString\n      .trim()\n      .split(';')\n      .map((row, i) => {\n        if (row.trim()) {\n          const cols = row\n            .trim()\n            .split(' ')\n            .map((col) => col.trim())\n            .filter((col) => col);\n          assert(cols?.length === 2, `Transaction ${i + 1} has invalid number of arguments. Expected 2, but got ${cols?.length}.`);\n          assert(this.inputValidationService.address(cols[0]), `Transaction ${i + 1} contains an invalid destination.`);\n          assert(this.inputValidationService.amount(cols[1]), `Transaction ${i + 1} contains an invalid amount.`);\n          this.checkTx(cols[0], cols[1], finalCheck);\n          const tx: PartiallyPreparedTransaction = {\n            kind: 'transaction',\n            destination: cols[0],\n            amount: cols[1]\n          };\n          return tx;\n        }\n      })\n      .filter((row) => row);\n    return txs;\n  }\n  getFullyPreparedTxs(): FullyPreparedTransaction[] {\n    assert(!this.simSemaphore && (!this.torusVerifier || this.torusReady()), this.formInvalid ? this.formInvalid : 'Awaiting request');\n    const minimalTxs = this.getMinimalPreparedTxs(true);\n    this.transactions = minimalTxs;\n    assert(this.inputValidationService.fee(this.customFee), 'Invalid fee');\n    assert(this.inputValidationService.gas(this.customGasLimit), 'Invalid gas limit');\n    assert(this.inputValidationService.gas(this.customStorageLimit), 'Invalid storage limit');\n    assert(!this.checkBalance(), this.checkBalance());\n    assert(\n      minimalTxs.length === this.defaultTransactionParams.customLimits?.length,\n      this.formInvalid === this.estimateService.tooSlowPreloadError ? this.estimateService.tooSlowPreloadError : 'Simulation error'\n    );\n    return this.opsWithCustomLimits();\n  }\n  opsWithCustomLimits(): FullyPreparedTransaction[] {\n    let extraGas: number = 0;\n    let extraStorage: number = 0;\n    if (this.customGasLimit && this.customGasLimit !== this.defaultTransactionParams.gas.toString()) {\n      extraGas = Number(this.customGasLimit) - this.defaultTransactionParams.gas;\n    }\n    if (this.customStorageLimit && this.customStorageLimit !== this.defaultTransactionParams.storage.toString()) {\n      extraStorage = Number(this.customStorageLimit) - this.defaultTransactionParams.storage;\n    }\n    const extraGasPerOp: number = Math.round(extraGas / this.transactions.length);\n    const extraStoragePerOp: number = Math.round(extraStorage / this.transactions.length);\n    const txs: FullyPreparedTransaction[] = [];\n    for (let i = 0; i < this.transactions.length; i++) {\n      let gasLimit: string = extraGas\n        ? (Number(this.defaultTransactionParams.customLimits[i].gasLimit) + extraGasPerOp).toString()\n        : this.defaultTransactionParams.customLimits[i].gasLimit.toString();\n      let storageLimit = extraStorage\n        ? (Number(this.defaultTransactionParams.customLimits[i].storageLimit) + extraStoragePerOp).toString()\n        : this.defaultTransactionParams.customLimits[i].storageLimit.toString();\n      gasLimit = !(Number(gasLimit) < 0) ? gasLimit : '0';\n      storageLimit = !(Number(storageLimit) < 0) ? storageLimit : '0';\n      const fullyTx: FullyPreparedTransaction = {\n        ...this.transactions[i],\n        fee: i === this.transactions.length - 1 ? this.getTotalFee().toString() : '0',\n        gasLimit,\n        storageLimit\n      };\n      txs.push(fullyTx);\n    }\n    return txs;\n  }\n  invalidTorusAccount(): string {\n    const torusError = {\n      google: 'Invalid Google email address',\n      reddit: 'Invalid Reddit username',\n      twitter: 'Invalid Twitter username',\n      domain: 'Tezos Domains must be valid url',\n      email: 'Invalid email address'\n    };\n    if (!this.inputValidationService.torusAccount(this.toPkh, this.torusVerifier) && this.toPkh !== '') {\n      return torusError[this.torusVerifier];\n    }\n  }\n  sendEntireBalance(event: Event): void {\n    event.stopPropagation();\n    this.sendMax = true;\n    this.checkMaxAmount();\n    this.amountChange();\n  }\n  toggleDestination(): void {\n    this.defaultTransactionParams = zeroTxParams;\n    this.sendMax = false;\n    this.prevEquiClass = '';\n    this.isMultipleDestinations = !this.isMultipleDestinations;\n    this.transactions = [];\n    this.toMultipleDestinationsString = '';\n    this.formInvalid = '';\n    this.toPkh = '';\n    this.amount = '';\n    this.customFee = '';\n    this.customGasLimit = '';\n    this.customStorageLimit = '';\n    this.clearTorus();\n    this.updateDefaultValues();\n  }\n  clearTorus(): void {\n    this.torusVerifier = '';\n    this.torusPendingLookup = false;\n    this.torusLookupAddress = '';\n    this.torusLookupId = '';\n    this.torusTwitterId = '';\n    this.torusLastLookup = '';\n  }\n  checkMaxAmount(): void {\n    if (this.sendMax) {\n      const max = this.maxToSend(this.activeAccount);\n      if (max.length && max.slice(0, 1) !== '-') {\n        this.amount = max;\n      } else {\n        this.amount = '0';\n      }\n    }\n  }\n  checkBalance(): string {\n    if (this.transactions.length > 0) {\n      if (this.activeAccount && this.activeAccount instanceof ImplicitAccount) {\n        const max = Big(this.maxToSend(this.activeAccount)).plus(this.tokenTransfer ? 0 : 0.000001);\n        let amount = Big(0);\n        for (const tx of this.transactions) {\n          amount = amount.plus(Big(tx.amount));\n        }\n        if (amount.gt(max)) {\n          return this.translate.instant('SENDCOMPONENT.TOOHIGHFEEORAMOUNT');\n        }\n      } else if (this.activeAccount && this.activeAccount instanceof OriginatedAccount) {\n        const maxKt = Big(this.maxToSend(this.activeAccount));\n        const maxTz = Big(this.maxToSend(this.walletService.wallet.getImplicitAccount(this.activeAccount.pkh))).plus(0.000001);\n        let amount = Big(0);\n        for (const tx of this.transactions) {\n          amount = amount.plus(Big(tx.amount));\n        }\n        if (amount.gt(maxKt)) {\n          return this.translate.instant('SENDCOMPONENT.TOOHIGHAMOUNT');\n        } else if (new Big('0').gt(maxTz)) {\n          return this.translate.instant('SENDCOMPONENT.TOOHIGHFEE');\n        }\n      }\n    }\n    return '';\n  }\n  updateMaxAmount(): void {\n    if (this.sendMax) {\n      const max = this.maxToSend(this.activeAccount);\n      let maxAmount = '0';\n      if (max.length && max.slice(0, 1) !== '-') {\n        maxAmount = max;\n      }\n      if (this.amount !== maxAmount) {\n        this.amount = maxAmount;\n      }\n    }\n  }\n  maxToSend(account: Account): string {\n    if (account && account instanceof ImplicitAccount && !this.tokenTransfer) {\n      let accountBalance = Big(account.balanceXTZ).div(1000000);\n      accountBalance = accountBalance.minus(this.customFee && Number(this.customFee) ? Number(this.customFee) : this.defaultTransactionParams.fee);\n      if (!this.isMultipleDestinations) {\n        accountBalance = accountBalance.minus(\n          this.customStorageLimit && Number(this.customStorageLimit)\n            ? Number(Big(this.customStorageLimit).times(this.costPerByte).div('1000000'))\n            : this.defaultTransactionParams.burn\n        );\n      } else {\n        accountBalance = accountBalance.minus(this.defaultTransactionParams.burn);\n      }\n      accountBalance = accountBalance.minus(0.000001); // dust\n      return accountBalance.toString();\n    } else {\n      if (this.tokenTransfer) {\n        if (account instanceof ImplicitAccount) {\n          return Big(account.getTokenBalance(this.tokenTransfer))\n            .div(10 ** this.token.decimals)\n            .toFixed();\n        }\n      } else {\n        return Big(account.balanceXTZ).div(1000000).toString();\n      }\n    }\n  }\n\n  async verifierChange(): Promise<void> {\n    this.torusLookupAddress = '';\n    if (this.torusVerifier) {\n      this.torusLookup();\n    } else {\n      this.formInvalid = '';\n      this.estimateFees();\n    }\n    // this.validateReceiverAddress();\n    // resimulate?\n  }\n  async torusLookup(): Promise<any> {\n    const lookupInput = `${this.torusVerifier}:${this.toPkh}`;\n    let formInvalid = '';\n    if (!this.torusService.verifierMapKeys.includes(this.torusVerifier) && this.torusVerifier !== 'domain') {\n      formInvalid = 'Invalid verifier';\n    } else if (this.invalidTorusAccount()) {\n      formInvalid = this.invalidTorusAccount();\n    } else if (this.toPkh) {\n      this.torusPendingLookup = true;\n      this.torusLookupId = this.toPkh;\n\n      const { pkh, twitterId } =\n        this.torusVerifier === 'domain'\n          ? await this.tezosDomains\n              .getAddressFromDomain(this.toPkh)\n              .then((ans) => {\n                if (ans?.pkh === '') {\n                  formInvalid = 'Could not find the domain';\n                }\n                return ans;\n              })\n              .catch((e) => {\n                console.error(e);\n                formInvalid = e;\n                return '';\n              })\n          : await this.torusService.lookupPkh(this.torusVerifier, this.toPkh).catch((e) => {\n              console.error(e);\n              formInvalid = e;\n              return '';\n            });\n      if (lookupInput !== `${this.torusVerifier}:${this.toPkh}`) {\n        // Lookup input values have changed. So we can ignore this response from lookupPkh().\n        return;\n      }\n      this.formInvalid = formInvalid;\n      this.torusPendingLookup = false;\n      if (pkh) {\n        this.torusLookupAddress = pkh;\n        this.torusTwitterId = twitterId ? twitterId : '';\n        this.torusLastLookup = lookupInput;\n        this.estimateFees();\n      } else {\n        this.torusLookupAddress = '';\n      }\n    }\n  }\n  batchSpace(txs = 0): boolean | string {\n    if (this.isMultipleDestinations && this.defaultTransactionParams.customLimits && this.defaultTransactionParams.customLimits.length) {\n      const numberOfTxs = txs ? txs : this.defaultTransactionParams.customLimits.length;\n      const txsLimit = 294 + (this.defaultTransactionParams.reveal ? 0 : 2); // Max transactions in a batch is 296 (294 with a reveal)\n      return !txs ? this.numberWithCommas(numberOfTxs + ' / ' + txsLimit) : numberOfTxs <= txsLimit;\n    }\n    return !txs ? '' : true;\n  }\n  numberWithCommas(x: string): string {\n    const parts: Array<string> = x.split('.');\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    return parts.join('.');\n  }\n  torusReady(): boolean {\n    return !this.torusPendingLookup && this.torusLookupAddress !== '';\n  }\n  preview(): void {\n    let txs: FullyPreparedTransaction[];\n    try {\n      txs = this.getFullyPreparedTxs();\n      this.prepareResponse.emit(txs);\n      ModalComponent.currentModel.next({\n        name: 'confirm-send',\n        data: {\n          customGasLimit: this.customGasLimit,\n          customStorageLimit: this.customStorageLimit\n        }\n      });\n      this.reset();\n    } catch (e) {\n      this.formInvalid = e.message;\n    }\n  }\n  dynSize(): string {\n    const size = this.amount ? this.amount.length : 0;\n    if (size < 7) {\n      return '5';\n    } else if (size < 9) {\n      return '4';\n    } else if (size < 12) {\n      return '3';\n    } else if (size < 17) {\n      return '2';\n    }\n    return '1.5';\n  }\n\n  dropdownResponse(data): void {\n    if (data?.torusVerifier !== this.torusVerifier) {\n      console.log(this.torusVerifier + ' -> ' + data.torusVerifier);\n      this.torusVerifier = data.torusVerifier;\n      this.torusVerifierName = data.torusVerifierName;\n      this.verifierChange();\n    }\n  }\n  pasteToPkh(): void {\n    navigator.clipboard.readText().then((clipText) => {\n      this.toPkh = clipText;\n      this.updateDefaultValues({ target: { value: this.toPkh } });\n    });\n  }\n  handleScanResponse(ev): void {\n    this.toPkh = ev?.pkh || '';\n    this.updateDefaultValues({ target: { value: this.toPkh } });\n  }\n}\n","<div *ngIf=\"active && template === 'gap'\" class=\"flex-column kukai-modal gap\">\n  <div class=\"content\">\n    <div class=\"flex-column top\">\n      <img class=\"flex-row button close\" (click)=\"cancel()\" src=\"../../../../assets/img/add-minterpop.svg\" />\n      <h1 class=\"title\">Confirmation</h1>\n    </div>\n    <div class=\"seperator\"></div>\n    <div class=\"flex-column confirm-send\">\n        <div class=\"asset-name\">{{ templateRequest.template.descriptions[0].text }}</div>\n        <div class=\"flex-row transaction\">\n          <div class=\"flex-column left\">\n            <span class=\"default-text\">Send</span>\n            <span class=\"default-text amount\">{{ (templateRequest.partialOps[0].amount | number:'1.0-6') + ' tez'\n              }}</span>\n            <span class=\"default-text\">USD&nbsp;{{'$' +\n              (templateRequest.partialOps[0].amount\n              *\n              walletService.wallet.XTZrate | number:'1.0-2')\n              }}</span>\n            <span class=\"default-text\">From:</span>\n            <div class=\"flex-row torus\" *ngIf=\"this.walletService.wallet.verifier\">\n              <img class=\"icon\" src=\"../../../assets/img/{{ this.walletService.wallet.verifier }}-logo.svg\">\n              <div class=\"flex-column\">\n                <span class=\"name\">{{ this.walletService.wallet.displayName() }}</span><span class=\"address\">{{\n                  activeAccount.address }}</span>\n              </div>\n            </div>\n            <span *ngIf=\"!this.walletService.wallet.verifier\" class=\"default-text single-to\">{{ activeAccount.address\n              }}</span>\n          </div>\n          <div *ngIf=\"templateRequest.template.descriptions[0]?.imgUrl\" class=\"flex-column right\">\n            <img class=\"token-image\" [src]=\"templateRequest.template.descriptions[0]?.imgUrl\" />\n          </div>\n        </div>\n      <br />\n      <div class=\"seperator\"></div>\n      <div class=\"flex-column bottom\">\n        <div class=\"flex-row default-text more-info\" [class]=\"showMore ? 'open' : ''\" (click)=\"toggle()\">{{ !showMore ?\n          'Show More' : 'Show Less' }}<img src=\"../../../../assets/img/gap-arrow.svg\"></div>\n        <div *ngIf=\"showMore\" class=\"info\">\n          <div class=\"flex-column\">\n            <div class=\"default-text\">\n              Send to:\n            </div>\n            <div class=\"default-text\">\n              {{ templateRequest.ops[0].destination }}\n            </div>\n          </div>\n          <div class=\"seperator\"></div>\n          <div class=\"flex-column\">\n            <div class=\"flex-row\">\n              <div class=\"default-text\">\n                Fee\n              </div>\n              <div class=\"default-text\">\n                {{ templateRequest.fee.network + ' tez' }}\n              </div>\n            </div>\n            <div class=\"flex-row\">\n              <div class=\"default-text\">\n                Max Storage Cost\n              </div>\n              <div class=\"default-text\">\n                {{ templateRequest.fee.storage + ' tez' }}\n              </div>\n            </div>\n          </div>\n          <div class=\"seperator\"></div>\n          <div class=\"flex-column\">\n            <div class=\"flex-row\">\n              <div class=\"default-text\">\n                Contract Call\n              </div>\n              <div class=\"default-text\">\n                {{ templateRequest.ops[0]?.parameters?.entrypoint }}\n              </div>\n            </div>\n            <br/>\n          </div>\n        </div>\n      </div>\n      <br />\n      <div class=\"flex-row buttons\">\n        <button (click)=\"approve()\" [disabled]=\"templateRequest?.partialOps?.length !== 1\">\n          <ng-container *ngIf=\"templateRequest.template.button; else defaultButtonText\">\n            {{templateRequest.template.button}}</ng-container>\n          <ng-template #defaultButtonText>PURCHASE</ng-template>\n        </button>\n      </div>\n      <div class=\"footer\">\n        <span>Powered by</span><img class=\"logo\" src=\"../../../../assets/img/header-logo-grey.svg\">\n      </div>\n    </div>\n  </div>\n</div>\n\n<div *ngIf=\"active && template === 'minterpop'\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-column top\">\n      <img class=\"flex-row button close\" (click)=\"cancel()\" src=\"../../../../assets/img/add-minterpop.svg\" />\n      <h1 class=\"title\">Confirmation</h1>\n    </div>\n    <div class=\"seperator\"></div>\n    <div class=\"flex-column confirm-send\">\n        <div class=\"asset-name\">{{ templateRequest.template.descriptions[0].text }}</div>\n        <div class=\"flex-row transaction\">\n          <div class=\"flex-column left\">\n            <span class=\"default-text\">Send</span>\n            <span class=\"default-text amount\">{{ (templateRequest.partialOps[0].amount | number:'1.0-6') + ' tez'\n              }}</span>\n            <span class=\"default-text\">USD&nbsp;{{'$' +\n              (templateRequest.partialOps[0].amount\n              *\n              walletService.wallet.XTZrate | number:'1.0-2')\n              }}</span>\n            <span class=\"default-text\">From:</span>\n            <div class=\"flex-row torus\" *ngIf=\"this.walletService.wallet.verifier\">\n              <img class=\"icon\" src=\"../../../assets/img/{{ this.walletService.wallet.verifier }}-logo.svg\">\n              <div class=\"flex-column\">\n                <span class=\"name\">{{ this.walletService.wallet.displayName() }}</span><span class=\"address\">{{\n                  activeAccount.address }}</span>\n              </div>\n            </div>\n            <span *ngIf=\"!this.walletService.wallet.verifier\" class=\"default-text single-to\">{{ activeAccount.address\n              }}</span>\n          </div>\n          <div *ngIf=\"templateRequest.template.descriptions[0]?.imgUrl\" class=\"flex-column right\">\n            <img class=\"token-image\" [src]=\"templateRequest.template.descriptions[0]?.imgUrl\" />\n          </div>\n        </div>\n      <br />\n      <div class=\"seperator\"></div>\n      <div class=\"flex-column bottom\">\n        <div class=\"flex-row default-text more-info\" [class]=\"showMore ? 'open' : ''\" (click)=\"toggle()\">{{ !showMore ?\n          'Show More' : 'Show Less' }}<img src=\"../../../../assets/img/dropdown-minterpop.svg\"></div>\n        <div *ngIf=\"showMore\" class=\"info\">\n          <div class=\"flex-column\">\n            <div class=\"default-text\">\n              Send to:\n            </div>\n            <div class=\"default-text\">\n              {{ templateRequest.ops[0].destination }}\n            </div>\n          </div>\n          <div class=\"seperator\"></div>\n          <div class=\"flex-column\">\n            <div class=\"flex-row\">\n              <div class=\"default-text\">\n                Fee\n              </div>\n              <div class=\"default-text\">\n                {{ templateRequest.fee.network + ' tez' }}\n              </div>\n            </div>\n            <div class=\"flex-row\">\n              <div class=\"default-text\">\n                Max Storage Cost\n              </div>\n              <div class=\"default-text\">\n                {{ templateRequest.fee.storage + ' tez' }}\n              </div>\n            </div>\n          </div>\n          <div class=\"seperator\"></div>\n          <div class=\"flex-column\">\n            <div class=\"flex-row\">\n              <div class=\"default-text\">\n                Contract Call\n              </div>\n              <div class=\"default-text\">\n                {{ templateRequest.ops[0]?.parameters?.entrypoint }}\n              </div>\n            </div>\n            <br/>\n          </div>\n        </div>\n      </div>\n      <br />\n      <div class=\"flex-row buttons\">\n        <button (click)=\"approve()\" [disabled]=\"templateRequest?.partialOps?.length !== 1\">\n          <ng-container *ngIf=\"templateRequest.template.button; else defaultButtonText\">\n            {{templateRequest.template.button}}</ng-container>\n          <ng-template #defaultButtonText>Send</ng-template>\n        </button>\n      </div>\n      <div class=\"footer\">\n        <span>Powered by</span><img class=\"logo\" src=\"../../../../assets/img/header-logo-grey.svg\">\n      </div>\n    </div>\n  </div>\n</div>\n\n\n<div *ngIf=\"active && template === 'default'\" class=\"kukai-template\">\n  <div *ngIf=\"templateRequest.template\" class=\"flex-column card\">\n    <H1>You are about to<BR><b\n        *ngIf=\"templateRequest.template.action; else defaultAction\">{{templateRequest.template.action}}</b>\n      <ng-template #defaultAction><b>send</b></ng-template>\n    </H1>\n    <ng-container *ngFor=\"let description of templateRequest.template.descriptions\">\n      <ng-container *ngIf=\"!description.imgUrl\">\n        <p class=\"single\" *ngIf=\"description.text\">{{ description.text }}</p>\n      </ng-container>\n      <ng-container *ngIf=\"description.imgUrl\">\n        <img *ngIf=\"description.imgUrl\" src=\"{{description.imgUrl}}\" height=\"150\">\n        <p class=\"img-text\" *ngIf=\"description.text\">{{description.text}}</p>\n      </ng-container>\n    </ng-container>\n    <div class=\"buttons\" [class.horizontally]=\"!templateRequest.template.buttonsVertically\"\n      [class.vertically]=\"templateRequest.template.buttonsVertically\">\n      <button class=\"secondary\" (click)=\"cancel()\">Cancel</button>\n      <button (click)=\"approve()\">\n        <ng-container *ngIf=\"templateRequest.template.button; else defaultButtonText\">\n          {{templateRequest.template.button}}</ng-container>\n        <ng-template #defaultButtonText>Send</ng-template>\n      </button>\n    </div>\n    <p class=\"fee\">Estimated fee <b *ngIf=\"templateRequest.fee\">{{templateRequest.fee.total}} tez</b><img\n        *ngIf=\"!templateRequest.fee\" src=\"../../../../assets/img/feeLoader.gif\"></p>\n    <div class=\"footer\">\n      <span>Powered by</span><img class=\"logo\" src=\"../../../../assets/img/header-logo-grey.svg\">\n    </div>\n  </div>\n</div>","import { Component, EventEmitter, Input, OnInit, Output, SimpleChanges, OnChanges } from '@angular/core';\nimport { TemplateRequest, TemplateFee, FullyPreparedTransaction } from '../../../misc/send/interfaces';\nimport { Template, BaseTemplate } from 'kukai-embed';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { MessageService } from '../../../../services/message/message.service';\nimport { SubjectService } from '../../../../services/subject/subject.service';\n\n@Component({\n  selector: 'app-confirm-send-embed',\n  templateUrl: './confirm-send.component.html',\n  styleUrls: ['./confirm-send.component.scss']\n})\nexport class ConfirmSendEmbedComponent implements OnInit, OnChanges {\n  @Input() templateRequest: TemplateRequest = null;\n  @Output() isApproved = new EventEmitter();\n  @Input() activeAccount = null;\n  active = false;\n  showMore = false;\n  template = 'default';\n  constructor(public walletService: WalletService, public messageService: MessageService, private subjectService: SubjectService) {}\n\n  ngOnInit(): void {\n    this.subjectService.origin.subscribe((origin) => {\n      if (origin && origin.indexOf('gap') !== -1) {\n        // (m)interpop\n        this.template = 'gap';\n      } else if (origin && origin.indexOf('interpop') !== -1) {\n        // (m)interpop\n        this.template = 'minterpop';\n      } else {\n        this.template = 'default';\n      }\n    });\n  }\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes?.templateRequest?.currentValue) {\n      console.log(this.templateRequest);\n      if ((<BaseTemplate>this.templateRequest?.template)?.descriptions?.length) {\n        this.hideScrollbar();\n        this.active = true;\n      } else {\n        console.warn('No template descriptions');\n        this.cancel();\n      }\n    }\n  }\n  cancel() {\n    this.reset();\n    this.isApproved.emit(null);\n  }\n  approve() {\n    if (this.templateRequest.ops && this.templateRequest.fee) {\n      this.isApproved.emit(this.templateRequest.ops);\n      this.reset();\n    }\n  }\n  toggle() {\n    if (this.templateRequest.ops) {\n      this.showMore = !this.showMore;\n    }\n  }\n  reset() {\n    this.resetScrollbar();\n    this.active = false;\n  }\n  hideScrollbar() {\n    const scrollBarWidth = window.innerWidth - document.body.offsetWidth;\n    document.body.style.marginRight = scrollBarWidth.toString();\n    document.body.style.overflow = 'hidden';\n  }\n  resetScrollbar() {\n    document.body.style.marginRight = '';\n    document.body.style.overflow = '';\n  }\n}\n","<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-column top\">\n      <div class=\"flex-row button close\" (click)=\"closeModalAction()\"><img class=\"x\"\n          src=\"../../../../../assets/img/close-btn-x.png\" />\n      </div>\n      <h1 class=\"title\">Confirmation</h1>\n    </div>\n    <div class=\"flex-column liquidity-baking-confirm\">\n      <ng-container *ngIf=\"entrypoint === 'addLiquidity'\">\n        <div class=\"flex-column container-inputs alt from\">\n          <div class=\"flex-row currency from\">\n            <span class=\"amount\">{{ expectedXtz | number:'1.0-6' }}</span>\n            <div class=\"flex-row left\">\n              <span class=\"symbol\">{{ 'XTZ' }}</span>\n              <img [src]=\"'assets/img/tezos-xtz-logo.svg'\" />\n            </div>\n          </div>\n          <div class=\"seperator arrow plus\">\n            <span class=\"img-wrap\"><img [src]=\"semaphore ? 'assets/img/feeLoader.gif' : 'assets/img/lb-plus.svg'\" /></span>\n          </div>\n          <div class=\"flex-row currency from\">\n            <span class=\"amount\">{{ expectedToken | number:'1.0-8' }}</span>\n            <div class=\"flex-row left\">\n              <span class=\"symbol\">{{ 'tzBTC' }}</span>\n              <img [src]=\"'assets/img/tokens/tzbtc.png'\" />\n            </div>\n          </div>\n        </div>\n        <div class=\"seperator arrow\">\n          <div class=\"backdrop\"></div>\n          <span class=\"img-wrap\"><img [src]=\"semaphore ? 'assets/img/feeLoader.gif' : 'assets/img/lb-down-arrow.svg'\" /></span>\n        </div>\n        <div class=\"flex-column container-inputs alt to\">\n          <div class=\"flex-row currency to\">\n            <span class=\"amount\"> {{ expectedLqd ? (expectedLqd | number:'1.0-0') : \"&nbsp;\" }}</span>\n            <div class=\"flex-row left\">\n              <span class=\"symbol\">{{ 'SIRS' }}</span>\n              <img [src]=\"'assets/img/tokens/sirius.png'\" />\n            </div>\n          </div>\n        </div>\n      </ng-container>\n      <ng-container *ngIf=\"entrypoint === 'removeLiquidity'\">\n        <div class=\"flex-column container-inputs alt from\">\n          <div class=\"flex-row currency from\">\n            <span class=\"amount\">{{ expectedLqd | number:'1.0-0' }}</span>\n            <div class=\"flex-row left\">\n              <span class=\"symbol\">{{ 'SIRS' }}</span>\n              <img [src]=\"'assets/img/tokens/sirius.png'\" />\n            </div>\n          </div>\n        </div>\n        <div class=\"seperator arrow\">\n          <div class=\"backdrop\"></div>\n          <span class=\"img-wrap\"><img [src]=\"semaphore ? 'assets/img/feeLoader.gif' : 'assets/img/lb-down-arrow.svg'\" /></span>\n        </div>\n        <div class=\"flex-column container-inputs alt to\">\n          <div class=\"flex-row currency to\">\n            <span class=\"amount\"> {{expectedXtz ? (expectedXtz | number:'1.0-6') : \"&nbsp;\"}}</span>\n            <div class=\"flex-row left\">\n              <span class=\"symbol\">{{ 'XTZ' }}</span>\n              <img [src]=\"'assets/img/tezos-xtz-logo.svg'\" />\n            </div>\n          </div>\n          <div class=\"seperator arrow plus\">\n            <span class=\"img-wrap\"><img [src]=\"semaphore ? 'assets/img/feeLoader.gif' : 'assets/img/lb-plus.svg'\" /></span>\n          </div>\n          <div class=\"flex-row currency to\">\n            <span class=\"amount\"> {{expectedToken ? (expectedToken | number:'1.0-8') : \"&nbsp;\"}}</span>\n            <div class=\"flex-row left\">\n              <span class=\"symbol\">{{ 'tzBTC' }}</span>\n              <img [src]=\"'assets/img/tokens/tzbtc.png'\" />\n            </div>\n          </div>\n        </div>\n      </ng-container>\n      <ng-container *ngIf=\"entrypoint === 'xtzToToken'\">\n        <div class=\"flex-column container-inputs\">\n          <div *ngIf=\"expectedXtz\" class=\"flex-row currency from\">\n            <span class=\"amount\">{{expectedXtz | number:'1.0-6'}}</span>\n            <div class=\"flex-row left\">\n              <span class=\"symbol\">{{ 'XTZ' }}</span>\n              <img [src]=\"'assets/img/tezos-xtz-logo.svg'\" />\n            </div>\n          </div>\n          <div class=\"seperator arrow\">\n            <div class=\"backdrop\"></div>\n            <span class=\"img-wrap\"><img [src]=\"semaphore ? 'assets/img/feeLoader.gif' : 'assets/img/lb-down-arrow.svg'\" /></span>\n          </div>\n          <div class=\"flex-row currency to\">\n            <span class=\"amount\"> {{expectedToken ? (expectedToken | number:'1.0-8') : \"&nbsp;\"}}</span>\n            <div class=\"flex-row left\">\n              <span class=\"symbol\">{{ 'tzBTC' }}</span>\n              <img [src]=\"'assets/img/tokens/tzbtc.png'\" />\n            </div>\n            <span class=\"flex-row hint\">Expected</span>\n          </div>\n        </div>\n      </ng-container>\n      <ng-container *ngIf=\"entrypoint === 'tokenToXtz'\">\n        <div class=\"flex-column container-inputs\">\n          <div class=\"flex-row currency from\">\n            <span class=\"amount\">{{expectedToken | number:'1.0-8'}}</span>\n            <div class=\"flex-row left\">\n              <span class=\"symbol\">{{ 'tzBTC' }}</span>\n              <img [src]=\"'assets/img/tokens/tzbtc.png'\" />\n            </div>\n          </div>\n          <div class=\"seperator arrow\">\n            <div class=\"backdrop\"></div>\n            <span class=\"img-wrap\"><img [src]=\"semaphore ? 'assets/img/feeLoader.gif' : 'assets/img/lb-down-arrow.svg'\" /></span>\n          </div>\n          <div class=\"flex-row currency to\">\n            <span class=\"amount\"> {{expectedXtz ? (expectedXtz | number:'1.0-6') : \"&nbsp;\"}}</span>\n            <div class=\"flex-row left\">\n              <span class=\"symbol\">{{ 'XTZ' }}</span>\n              <img [src]=\"'assets/img/tezos-xtz-logo.svg'\" />\n            </div>\n            <span class=\"flex-row hint\">Expected</span>\n          </div>\n        </div>\n      </ng-container>\n      <div class=\"output\">\n        <div *ngIf=\"minimumToken && !minimumXtz\" class=\"flex-row item\">\n          <span class=\"flex-row key\">Minimum Received:&nbsp;\n          </span>\n          <img src=\"assets/img/information-circle-outline.svg\" class=\"info-button\" />\n          <div class=\"body\">\n            The minimum amount you are guaranteed to receive. If the exchange rate changes unfavorably such that you can no longer receive at least this amount, then your transaction will not be completed.\n          </div>\n          <span class=\"value\">{{minimumToken | number:'1.2-8'}} tzBTC</span>\n        </div>\n        <div *ngIf=\"minimumXtz && !minimumToken\" class=\"flex-row item\">\n          <span class=\"flex-row key\">Minimum Received:&nbsp;\n          </span>\n          <img src=\"assets/img/information-circle-outline.svg\"\n              class=\"info-button\" />\n          <div class=\"body\">\n            The minimum amount you are guaranteed to receive. If the exchange rate changes unfavorably such that you can no longer receive at least this amount, then your transaction will not be completed.\n          </div>\n          <span class=\"value\">{{minimumXtz | number:'1.6-6'}} XTZ</span>\n        </div>\n        <div\n          *ngIf=\"minimumXtz && minimumToken\"\n          class=\"item\">\n          <span class=\"flex-row key\" style=\"margin: 0 0 0.5em 0\">Minimum Received:&nbsp;\n          </span>\n          <img src=\"assets/img/information-circle-outline.svg\" class=\"info-button\" />\n          <div class=\"body\">\n            The minimum amount you are guaranteed to receive. If the exchange rate changes unfavorably such that you can no longer receive at least this amount, then your transaction will not be completed.\n          </div>\n          <span class=\"value\">{{minimumXtz | number:'1.6-6'}} XTZ + {{\n            minimumToken | number:'1.2-8'}} tzBTC</span>\n        </div>\n        <div *ngIf=\"minimumLqd\" class=\"flex-row item\">\n          <span class=\"flex-row key\">Minimum Received:&nbsp;\n          </span>\n          <img src=\"assets/img/information-circle-outline.svg\" class=\"info-button\" />\n          <div class=\"body\">\n            The minimum amount you are guaranteed to receive. If the exchange rate changes unfavorably such that you can no longer receive at least this amount, then your transaction will not be completed.\n          </div>\n          <span class=\"value\">{{minimumLqd | number:'1.0-0'}} SIRS</span>\n        </div>\n        <div class=\"flex-row item\">\n          <span class=\"flex-row key\">Fee:</span>\n          <span class=\"value\">&nbsp;{{getTotalFee() | number:'1.0-6'}} tez</span>\n        </div>\n        <div class=\"flex-row item\" *ngIf=\"getTotalBurn(); let storageCost\">\n          <span class=\"flex-row key\">Max Storage Cost:</span>\n          <span class=\"value\">&nbsp;{{storageCost | number:'1.0-6'}} tez</span>\n        </div>\n      </div>\n      <div *ngIf=\"(externalReq && (!walletService.isLedgerWallet() || ledgerError))\" class=\"flex-column more-info-toggle\" [class.expanded]=\"advancedForm\">\n        <div class=\"flex-row item\" (click)=\"advancedForm = !advancedForm\">\n          <span class=\"value\">{{ 'Advanced' }}</span>\n          <div class=\"flex-row\"><img src=\"assets/img/chevron-down.svg\"></div>\n        </div>\n      </div>\n      <form *ngIf=\"advancedForm && (externalReq && (!walletService.isLedgerWallet() || ledgerError))\" autocomplete=\"off\" class=\"more-info-body\" [class.expanded]=\"advancedForm\">\n        <div class=\"flex-row\">\n          <div class=\"flex-column entity\">\n            <label class=\"label\">Gas limit</label>\n            <input type=\"text\" inputmode=\"decimal\" class=\"text\" (input)=\"sanitizeNumberInput($event, 0, 'customGasLimit')\"\n              (paste)=\"sanitizeNumberInput($event, 0, 'customGasLimit')\" [placeholder]=\"getTotalDefaultGas() || '0'\"\n              [value]=\"customGasLimit\">\n          </div>\n          <div class=\"flex-column entity\">\n            <label class=\"label\">Fee</label>\n            <input type=\"text\" inputmode=\"decimal\" class=\"text\" [placeholder]=\"getTotalFee() || '0'\" (paste)=\"sanitizeNumberInput($event, 6, 'customFee')\"\n              (input)=\"sanitizeNumberInput($event, 6, 'customFee')\" [value]=\"customFee\">\n          </div>\n        </div>\n        <div class=\"flex-row\">\n          <div class=\"flex-column entity\">\n            <label class=\"label\">Storage limit</label>\n            <input type=\"text\" inputmode=\"decimal\" class=\"text\" (input)=\"sanitizeNumberInput($event, 0, 'customStorageLimit')\"\n              (paste)=\"sanitizeNumberInput($event, 0, 'customStorageLimit')\" [placeholder]=\"getTotalDefaultStorage() || '0'\"\n              [value]=\"customStorageLimit\">\n          </div>\n          <div class=\"flex-column entity\">\n            <label class=\"label\">Max storage cost</label>\n            <input type=\"text\" inputmode=\"decimal\" class=\"text read-only\" [placeholder]=\"(getTotalBurn() || '0') + ' tez'\" tabindex=-1\n              readonly>\n          </div>\n        </div>\n      </form>\n      <div class=\"flex-column bottom\">\n        <div class=\"seperator\"></div>\n        <span class=\"form-validity\" [class.error]=\"formInvalid !== 'Awaiting Request'\">{{ formInvalid }}</span>\n        <button *ngIf=\"walletService.isLedgerWallet() && ledgerError; else elseBlock\" class=\"confirm\"\n          [disabled]=\"!!formInvalid\" (click)=\"ledgerRetry()\">Sign with Ledger</button>\n        <ng-template #elseBlock>\n          <span *ngIf=\"this.pwdInvalid\" class=\"label danger\">{{ pwdInvalid }}</span>\n          <input *ngIf=\"walletService.isPwdWallet()\" [(ngModel)]=\"password\" autocomplete=\"current-password\"\n            placeholder=\"Password\" class=\"text password\" type=\"password\" (input)=\"this.pwdInvalid = ''\"\n            (change)=\"this.pwdInvalid = ''\" (keydown.enter)='inject()'>\n          <button class=\"confirm\" (click)=\"inject()\"\n            [disabled]=\"(walletService.isLedgerWallet() && (!sendResponse || !sendResponse.payload || !sendResponse.payload.signedOperation)) || walletService.isWatchWallet()\">\n            {{ walletService.isLedgerWallet() ? 'Broadcast' : confirmTitle}}</button>\n        </ng-template>\n      </div>\n    </div>\n  </div>\n</div>","import { EventEmitter, Input, OnChanges, OnDestroy, Output } from '@angular/core';\nimport { Component, OnInit, SimpleChanges } from '@angular/core';\nimport { ConfirmSwapRequest, FullyPreparedTransaction, PrepareRequest, LqdEntrypoints, PartiallyPreparedTransaction } from '../../misc/send/interfaces';\nimport { TokenService } from '../../../services/token/token.service';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { EstimateService } from '../../../services/estimate/estimate.service';\nimport { OperationService } from '../../../services/operation/operation.service';\nimport { MessageService } from '../../../services/message/message.service';\nimport { CoordinatorService } from '../../../services/coordinator/coordinator.service';\nimport { LookupService } from '../../../services/lookup/lookup.service';\nimport { LedgerService } from '../../../services/ledger/ledger.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DefaultTransactionParams, KeyPair } from '../../../interfaces';\nimport Big from 'big.js';\nimport { LedgerWallet, TorusWallet } from '../../../services/wallet/wallet';\nimport { InputValidationService } from '../../../services/input-validation/input-validation.service';\nimport { ModalComponent } from '../modal.component';\nimport { Subscription } from 'rxjs';\nimport { TezosDomainsService } from '../../../services/tezos-domains/tezos-domains.service';\nimport { TokenBalancesService } from '../../../services/token-balances/token-balances.service';\nimport { SubjectService } from '../../../services/subject/subject.service';\nimport { Amount } from '../../../services/swap-liquidity/classes/Amount';\nimport assert from 'assert';\nimport { SwapLiquidityService } from '../../../services/swap-liquidity/swap-liquidity.service';\n\nconst zeroTxParams: DefaultTransactionParams = {\n  gas: 0,\n  storage: 0,\n  fee: 0,\n  burn: 0\n};\n\n@Component({\n  selector: 'app-swap-liquidity-confirm',\n  templateUrl: './swap-liquidity-confirm.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class SwapLiquidityConfirmComponent extends ModalComponent implements OnInit, OnChanges, OnDestroy {\n  readonly lqdTokenContract = 'KT1AafHA1C1vk959wvHWBispY9Y2f3fxBUUo';\n  readonly lqdContract = 'KT1TxqZ8QtKvLu3V3JH7Gx58n7Co8pgtpQU5';\n  readonly tzBTCContract = 'KT1PWx2mnDueood7fEmfbBDKx1D9BAnnXitn';\n\n  @Input() confirmRequest: PrepareRequest = null;\n  @Output() operationResponse = new EventEmitter();\n  syncSub: Subscription;\n  activeAccount = null;\n  externalReq: boolean = false;\n  transactions: FullyPreparedTransaction[] = [];\n  semaphore = false;\n\n  defaultTransactionParams: DefaultTransactionParams = zeroTxParams;\n\n  customFee = '';\n  customGasLimit = '';\n  customStorageLimit = '';\n\n  sendResponse = null;\n  ledgerError = '';\n  password = '';\n  pwdInvalid = '';\n  advancedForm = false;\n  name = 'swap-liquidity-confirm';\n\n  expectedLqd: number;\n  minimumLqd: number;\n  expectedXtz: number;\n  minimumXtz: number;\n  expectedToken: number;\n  minimumToken: number;\n  entrypoint: string;\n\n  confirmTitle = '';\n\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(\n    private translate: TranslateService,\n    public tokenService: TokenService,\n    public walletService: WalletService,\n    private estimateService: EstimateService,\n    private operationService: OperationService,\n    private messageService: MessageService,\n    private coordinatorService: CoordinatorService,\n    private lookupService: LookupService,\n    private ledgerService: LedgerService,\n    private inputValidationService: InputValidationService,\n    public tezosDomainService: TezosDomainsService,\n    public tokenBalanceService: TokenBalancesService,\n    private subjectService: SubjectService,\n    private swapLiquidityService: SwapLiquidityService\n  ) {\n    super();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes?.confirmRequest?.currentValue) {\n      this.reset(true);\n      this.parseTransactions(changes.confirmRequest.currentValue);\n      this.init();\n      ModalComponent.currentModel.next({ name: this.name, data: null });\n      if (this.externalReq) {\n        this.syncSub = this.subjectService.beaconResponse.subscribe((response) => {\n          this.closeModalAction(response ? 'silent' : '');\n        });\n      }\n    }\n  }\n  parseTransactions(csr: ConfirmSwapRequest): void {\n    let hasTrailingZeroApproval = false;\n    this.externalReq = csr.externalReq;\n    this.activeAccount = csr.account;\n    this.transactions = csr.transactions;\n    this.entrypoint = this.transactions.find((t) => Object.values(LqdEntrypoints).includes(t?.parameters?.entrypoint))?.parameters.entrypoint;\n    switch (this.entrypoint) {\n      case LqdEntrypoints.xtzToToken:\n        this.confirmTitle = 'Confirm Swap';\n        this.expectedXtz = parseFloat(this.transactions[0]?.amount);\n        this.minimumToken = new Amount({ rpcAmount: this.transactions[0]?.parameters.value.args[1].args[0].int, decimalPlaces: 8 }).internalNormalised;\n        this.calculateXtzToToken();\n        break;\n      case LqdEntrypoints.tokenToXtz:\n        this.confirmTitle = 'Confirm Swap';\n        const tokenToXtz = this.transactions.find((t) => t?.parameters?.entrypoint === LqdEntrypoints.tokenToXtz);\n        hasTrailingZeroApproval =\n          this.transactions[this.transactions.length - 1].parameters.entrypoint === 'approve' &&\n          this.transactions[this.transactions.length - 1]?.parameters?.value.args[1].int === '0';\n        this.expectedToken = new Amount({ rpcAmount: tokenToXtz?.parameters.value.args[1].args[0].int, decimalPlaces: 8 }).internalNormalised;\n        this.minimumXtz = new Amount({ rpcAmount: tokenToXtz?.parameters.value.args[1].args[1].args[0].int, decimalPlaces: 6 }).internalNormalised;\n        this.calculateTokenToXTZ();\n        break;\n      case LqdEntrypoints.addLiquidity:\n        this.confirmTitle = 'Add Liquidity';\n        const addLiquidity = this.transactions.find((t) => t?.parameters?.entrypoint === LqdEntrypoints.addLiquidity);\n        hasTrailingZeroApproval =\n          this.transactions[this.transactions.length - 1].parameters.entrypoint === 'approve' &&\n          this.transactions[this.transactions.length - 1]?.parameters?.value.args[1].int === '0';\n        this.expectedToken = new Amount({ rpcAmount: addLiquidity?.parameters.value.args[1].args[1].args[0].int, decimalPlaces: 8 }).internalNormalised;\n        this.expectedXtz = parseFloat(addLiquidity?.amount);\n        this.minimumLqd = new Amount({ rpcAmount: addLiquidity?.parameters.value.args[1].args[0].int, decimalPlaces: 0 }).internalNormalised;\n        this.calcAddLiquidity();\n        break;\n      case LqdEntrypoints.removeLiquidity:\n        this.confirmTitle = 'Remove Liquidity';\n        this.expectedLqd = new Amount({ rpcAmount: this.transactions[0]?.parameters.value.args[1].args[0].int, decimalPlaces: 0 }).internalNormalised;\n        this.minimumXtz = new Amount({ rpcAmount: this.transactions[0]?.parameters.value.args[1].args[1].args[0].int, decimalPlaces: 6 }).internalNormalised;\n        this.minimumToken = new Amount({\n          rpcAmount: this.transactions[0]?.parameters.value.args[1].args[1].args[1].args[0].int,\n          decimalPlaces: 8\n        }).internalNormalised;\n        this.calcRemoveLiquidity();\n        break;\n    }\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  open(): void {\n    super.open();\n  }\n  async init(): Promise<void> {\n    if (this.walletService.wallet instanceof LedgerWallet) {\n      this.ledgerError = '?';\n    }\n  }\n  getTotalAmount(): string {\n    let totalSent = Big(0);\n    for (const tx of this.transactions) {\n      totalSent = totalSent.add(tx.amount);\n    }\n    return totalSent.toFixed();\n  }\n  getTotalCost(display: boolean = false): string {\n    const totalFee = Big(this.getTotalFee()).plus(Big(this.getTotalBurn())).toString();\n    if (display && totalFee === '0') {\n      return '-';\n    }\n    return totalFee;\n  }\n  getTotalFee(): string {\n    if (this.customFee) {\n      return this.customFee;\n    }\n    let totalFee = Big(0);\n    for (const tx of this.transactions) {\n      totalFee = totalFee.add(tx.fee ? tx.fee : 0);\n    }\n    return totalFee.toFixed();\n  }\n  getTotalBurn(): number {\n    const totalActiveStorageLimit: number =\n      this.customStorageLimit !== '' && Number(this.customStorageLimit) ? Number(this.customStorageLimit) : this.getTotalDefaultStorage();\n    return Number(Big(totalActiveStorageLimit).times(this.estimateService.costPerByte).div(1000000).toString());\n  }\n  getTotalDefaultGas(): number {\n    let totalGas = Big(0);\n    for (const tx of this.transactions) {\n      totalGas = totalGas.plus(tx.gasLimit);\n    }\n    return totalGas.toFixed();\n  }\n  getTotalDefaultStorage(): number {\n    let totalStorage = Big(0);\n    for (const tx of this.transactions) {\n      totalStorage = totalStorage.plus(tx.storageLimit);\n    }\n    return totalStorage.toFixed();\n  }\n  totalAmount(): string {\n    let totalSent = Big(0);\n    for (const tx of this.transactions) {\n      totalSent = totalSent.add(tx.amount);\n    }\n    return totalSent.toFixed();\n  }\n  async ledgerRetry(): Promise<void> {\n    if (!this.inputValidationService.fee(this.getTotalFee().toString())) {\n      this.messageService.addError('Invalid fee');\n      return;\n    }\n    this.messageService.startSpinner('Preparing transaction...');\n    const keys = await this.walletService.getKeys('');\n    if (keys) {\n      await this.sendTransaction(keys);\n    } else {\n      this.messageService.stopSpinner();\n    }\n  }\n  async inject(): Promise<void> {\n    if (this.semaphore) {\n      return;\n    }\n    if (this.walletService.isLedgerWallet()) {\n      await this.broadCastLedgerTransaction();\n      this.sendResponse = null;\n      ModalComponent.currentModel.next({ name: '', data: null });\n    } else {\n      if (!this.inputValidationService.fee(this.getTotalFee().toString())) {\n        this.messageService.addError('Invalid fee');\n        return;\n      }\n      const pwd = this.password;\n      this.password = '';\n      this.messageService.startSpinner('Signing transaction...');\n      let keys;\n      try {\n        keys = await this.walletService.getKeys(pwd, this.activeAccount.pkh);\n      } catch {\n        this.messageService.stopSpinner();\n      }\n      if (keys) {\n        this.pwdInvalid = '';\n        this.messageService.startSpinner('Sending transaction...');\n        await this.sendTransaction(keys);\n        ModalComponent.currentModel.next({ name: '', data: null });\n      } else {\n        this.messageService.stopSpinner();\n        if (this.walletService.wallet instanceof TorusWallet) {\n          this.pwdInvalid = `Authorization failed`;\n        } else {\n          this.pwdInvalid = this.translate.instant('SENDCOMPONENT.WRONGPASSWORD'); // 'Wrong password!';\n        }\n      }\n    }\n  }\n  async sendTransaction(keys: KeyPair): Promise<void> {\n    const txs: FullyPreparedTransaction[] = this.opsWithCustomLimits();\n    this.subscriptions.add(\n      this.operationService.transfer(this.activeAccount.address, txs, Number(this.getTotalFee()), keys, '').subscribe(\n        async (ans: any) => {\n          this.sendResponse = ans;\n          if (ans.success === true) {\n            console.log('Transaction successful ', ans);\n            if (ans.payload.opHash) {\n              await this.messageService.stopSpinner();\n              this.operationResponse.emit(ans.payload.opHash);\n              const metadata = {\n                transactions: this.transactions,\n                opHash: ans.payload.opHash\n              };\n              await this.coordinatorService.boost(this.activeAccount.address, metadata);\n              for (const transaction of this.transactions) {\n                if (this.walletService.addressExists(transaction.destination)) {\n                  await this.coordinatorService.boost(transaction.destination);\n                }\n              }\n            } else if (this.walletService.wallet instanceof LedgerWallet) {\n              await this.requestLedgerSignature();\n              return;\n            }\n          } else {\n            await this.messageService.stopSpinner();\n            console.log('Transaction error id ', ans.payload.msg);\n            this.messageService.addError(ans.payload.msg, 0);\n            this.operationResponse.emit('broadcast_error');\n          }\n          this.reset();\n        },\n        (err) => {\n          this.messageService.stopSpinner();\n          console.log('Error Message ', JSON.stringify(err));\n          if (this.walletService.isLedgerWallet()) {\n            this.messageService.addError('Failed to create transaction', 0);\n            this.operationResponse.emit('broadcast_error');\n          }\n          this.reset();\n        }\n      )\n    );\n  }\n  opsWithCustomLimits(): FullyPreparedTransaction[] {\n    let extraGas: number = 0;\n    let extraStorage: number = 0;\n    if (this.customGasLimit && this.customGasLimit !== this.getTotalDefaultGas().toString()) {\n      extraGas = Number(this.customGasLimit) - this.getTotalDefaultGas();\n    }\n    if (this.customStorageLimit && this.customStorageLimit !== this.getTotalDefaultStorage().toString()) {\n      extraStorage = Number(this.customStorageLimit) - this.getTotalDefaultStorage();\n    }\n    const extraGasPerOp: number = Math.round(extraGas / this.transactions.length);\n    const extraStoragePerOp: number = Math.round(extraStorage / this.transactions.length);\n    const txs: FullyPreparedTransaction[] = [];\n    for (let i = 0; i < this.transactions.length; i++) {\n      let gasLimit: string = extraGas ? (Number(this.transactions[i].gasLimit) + extraGasPerOp).toString() : this.transactions[i].gasLimit.toString();\n      let storageLimit = extraStorage\n        ? (Number(this.transactions[i].storageLimit) + extraStoragePerOp).toString()\n        : this.transactions[i].storageLimit.toString();\n      gasLimit = !(Number(gasLimit) < 0) ? gasLimit : '0';\n      storageLimit = !(Number(storageLimit) < 0) ? storageLimit : '0';\n      const fullyTx: FullyPreparedTransaction = {\n        ...this.transactions[i],\n        fee: i === this.transactions.length - 1 ? this.getTotalFee().toString() : '0',\n        gasLimit,\n        storageLimit\n      };\n      txs.push(fullyTx);\n    }\n    return txs;\n  }\n  sanitizeNumberInput(e, decimalPlaces: number, type = ''): void {\n    const exp = new RegExp(`^\\\\d{0,}(\\\\.\\\\d{0,${decimalPlaces}})?\\$`, 'g');\n    if (exp.test(e?.target?.value)) {\n      this[type] = e?.target?.value;\n    } else {\n      e.target.value = this[type];\n    }\n  }\n  async requestLedgerSignature(): Promise<void> {\n    if (this.walletService.wallet instanceof LedgerWallet) {\n      await this.messageService.startSpinner('Waiting for Ledger signature...');\n      try {\n        const op = this.sendResponse.payload.unsignedOperation;\n        let signature = '';\n        if (op.length <= 2290) {\n          signature = await this.ledgerService.signOperation('03' + op, this.walletService.wallet.implicitAccounts[0].derivationPath);\n        } else {\n          signature = await this.ledgerService.signHash(\n            this.operationService.ledgerPreHash('03' + op),\n            this.walletService.wallet.implicitAccounts[0].derivationPath\n          );\n        }\n        if (signature) {\n          const signedOp = op + signature;\n          this.sendResponse.payload.signedOperation = signedOp;\n          this.ledgerError = '';\n        } else {\n          this.ledgerError = 'Failed to sign transaction';\n        }\n      } finally {\n        this.messageService.stopSpinner();\n      }\n    }\n  }\n  async broadCastLedgerTransaction(): Promise<void> {\n    this.subscriptions.add(\n      this.operationService.broadcast(this.sendResponse.payload.signedOperation).subscribe(async (ans: any) => {\n        this.sendResponse = ans;\n        if (ans.success && this.activeAccount) {\n          const metadata = {\n            transactions: this.transactions,\n            opHash: ans.payload.opHash\n          };\n          await this.coordinatorService.boost(this.activeAccount.address, metadata);\n          if (this.walletService.addressExists(this.transactions[0].destination)) {\n            await this.coordinatorService.boost(this.transactions[0].destination);\n          }\n          this.operationResponse.emit(ans.payload.opHash);\n        } else {\n          console.log('sendResponse', JSON.stringify(this.sendResponse));\n          this.operationResponse.emit('broadcast_error');\n        }\n        console.log('ans: ' + JSON.stringify(ans));\n        this.reset();\n      })\n    );\n  }\n  closeModalAction(emit: string = null): void {\n    ModalComponent.currentModel.next({ name: '', data: null });\n    this.operationResponse.emit(emit);\n    this.reset();\n  }\n  reset(init = false): void {\n    if (!init) {\n      this.confirmRequest = null;\n      if (this.syncSub) {\n        this.syncSub.unsubscribe();\n        this.syncSub = undefined;\n      }\n    }\n    this.transactions = [];\n    this.activeAccount = null;\n\n    this.customFee = '';\n    this.customGasLimit = '';\n    this.customStorageLimit = '';\n\n    this.sendResponse = null;\n    this.ledgerError = '';\n    this.password = '';\n    this.pwdInvalid = '';\n    this.advancedForm = false;\n    this.externalReq = false;\n\n    this.expectedLqd = undefined;\n    this.minimumLqd = undefined;\n    this.expectedXtz = undefined;\n    this.minimumXtz = undefined;\n    this.expectedToken = undefined;\n    this.minimumToken = undefined;\n  }\n  openInfoModal(title: string): void {\n    switch (title) {\n      case 'fee':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'Expected fee for this transaction charged by the Tezos blockchain.',\n            title: 'Fee'\n          },\n          forceClose: false\n        });\n        break;\n      case 'minimumxtz':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The minimum amount of XTZ to be received from the transaction.',\n            title: 'Minimum XTZ'\n          },\n          forceClose: false\n        });\n        break;\n      case 'expectedxtz':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The expected amount of XTZ to be received from the transaction.',\n            title: 'Expected XTZ'\n          },\n          forceClose: false\n        });\n        break;\n      case 'requiredtoken':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'Required tzBTC needed for transaction.',\n            title: 'Required tzBTC'\n          },\n          forceClose: false\n        });\n        break;\n      case 'minimumtoken':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The minimum amount of tzBTC to be received from the transaction.',\n            title: 'Minimum tzBTC'\n          },\n          forceClose: false\n        });\n        break;\n      case 'expectedtoken':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The expected amount of tzBTC to be received from the transaction.',\n            title: 'Expected tzBTC'\n          },\n          forceClose: false\n        });\n        break;\n      case 'minimumlqt':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The minimum amount of SIRS to be received from the transaction.',\n            title: 'Minimum SIRS'\n          },\n          forceClose: false\n        });\n        break;\n      case 'expectedlqt':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The expected amount of SIRS to be received from the transaction.',\n            title: 'Expected SIRS'\n          },\n          forceClose: false\n        });\n        break;\n      default:\n        break;\n    }\n  }\n  async calculateXtzToToken(): Promise<void> {\n    this.semaphore = true;\n    const xtzToSell = new Amount({\n      normalisedAmount: this.expectedXtz,\n      decimalPlaces: 6\n    });\n    await this.swapLiquidityService.fetchStorage(this.lqdContract);\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    const result = this.swapLiquidityService.calculateXtzToToken(xtzToSell, xtzPool, tokenPool, 0.005, this.swapLiquidityService.settings('liquidityBaking'));\n    this.expectedToken = result.expected?.internalNormalised.toFixed(result.expected?.decimalPlaces).toString();\n    this.semaphore = false;\n  }\n  async calculateTokenToXTZ(): Promise<void> {\n    this.semaphore = true;\n    const tokenToSell = new Amount({\n      normalisedAmount: this.expectedToken,\n      decimalPlaces: 8\n    });\n    await this.swapLiquidityService.fetchStorage(this.lqdContract);\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    const result = this.swapLiquidityService.calculateTokenToXTZ(tokenToSell, xtzPool, tokenPool, 0.005, this.swapLiquidityService.settings('liquidityBaking'));\n    this.expectedXtz = result.expected?.internalNormalised.toFixed(result.expected?.decimalPlaces).toString();\n    this.semaphore = false;\n  }\n  async calcAddLiquidity(): Promise<void> {\n    this.semaphore = true;\n    const toSell = new Amount({\n      normalisedAmount: this.expectedXtz,\n      decimalPlaces: 6\n    });\n    await this.swapLiquidityService.fetchStorage(this.lqdContract);\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    const result = this.swapLiquidityService.calculateAddLiquidityXTZ(\n      toSell,\n      xtzPool,\n      tokenPool,\n      parseFloat(this.swapLiquidityService.storage[this.lqdContract]?.total_pool),\n      0.005,\n      this.swapLiquidityService.settings('liquidityBaking')\n    );\n    this.expectedLqd = result.liquidityExpected?.internalNormalised.toFixed(result.liquidityExpected?.decimalPlaces).toString();\n    this.semaphore = false;\n  }\n  async calcRemoveLiquidity(): Promise<void> {\n    this.semaphore = true;\n    const lqtToBurn = new Amount({\n      normalisedAmount: this.expectedLqd,\n      decimalPlaces: 0\n    });\n    await this.swapLiquidityService.fetchStorage(this.lqdContract);\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    const result = this.swapLiquidityService.calculateRemoveLiquidity(\n      lqtToBurn,\n      xtzPool,\n      tokenPool,\n      parseFloat(this.swapLiquidityService.storage[this.lqdContract]?.total_pool),\n      0.005,\n      this.swapLiquidityService.settings('liquidityBaking')\n    );\n    this.expectedXtz = result.xtzExpected?.internalNormalised.toFixed(result.xtzExpected?.decimalPlaces).toString();\n    this.expectedToken = result.tokenExpected?.internalNormalised.toFixed(result.tokenExpected?.decimalPlaces).toString();\n    this.semaphore = false;\n  }\n}\n","<app-prepare-send *ngIf=\"!embedded\" [prepareRequest]=\"prepareRequest\" (prepareResponse)=\"handlePrepareResponse($event)\"></app-prepare-send>\n<app-confirm-send [confirmRequest]=\"confirmRequest\" (operationResponse)=\"handleConfirmResponse($event)\"></app-confirm-send>\n<app-confirm-send-embed *ngIf=\"embedded\" [templateRequest]=\"templateRequest\" (isApproved)=\"handleTemplateApproval($event)\" [activeAccount]=\"activeAccount\"></app-confirm-send-embed>\n<app-swap-liquidity (prepareResponse)=\"handlePrepareResponse($event)\"></app-swap-liquidity>\n<app-swap-liquidity-confirm [confirmRequest]=\"confirmSwapLiquidityRequest\" (operationResponse)=\"handleConfirmResponse($event)\"></app-swap-liquidity-confirm>\n","import { Component, OnInit, Input, Output, EventEmitter, OnChanges, SimpleChanges, OnDestroy } from '@angular/core';\nimport { Account, EmbeddedTorusWallet } from '../../../services/wallet/wallet';\nimport {\n  PrepareRequest,\n  ConfirmRequest,\n  FullyPreparedTransaction,\n  PartiallyPreparedTransaction,\n  TemplateRequest,\n  TemplateFee,\n  ConfirmSwapRequest,\n  LqdEntrypoints\n} from './interfaces';\nimport { Template } from 'kukai-embed';\nimport { TokenService } from '../../../services/token/token.service';\nimport { EstimateService } from '../../../services/estimate/estimate.service';\nimport { MessageService } from '../../../services/message/message.service';\nimport { assertMichelsonData } from '@taquito/michel-codec';\nimport { OperationService } from '../../../services/operation/operation.service';\nimport Big from 'big.js';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { CoordinatorService } from '../../../services/coordinator/coordinator.service';\nimport { CONSTANTS } from '../../../../environments/environment';\nimport { SubjectService } from '../../../services/subject/subject.service';\nimport { Subscription } from 'rxjs';\nimport { ExternalRequest } from '../../../interfaces';\n\n@Component({\n  selector: 'app-send',\n  templateUrl: './send.component.html'\n})\nexport class SendComponent implements OnInit, OnChanges, OnDestroy {\n  LqdEntrypoints = LqdEntrypoints;\n  @Input() embedded: boolean;\n  activeAccount: Account;\n  @Input() tokenTransfer: string;\n  @Input() externalRequest: ExternalRequest;\n  @Input() template: Template;\n  @Output() operationResponse = new EventEmitter();\n  prepareRequest: PrepareRequest = null;\n  confirmRequest: ConfirmRequest = null;\n  templateRequest: TemplateRequest = null;\n  confirmSwapLiquidityRequest: ConfirmSwapRequest = null;\n  symbol: string;\n  readonly thresholdUSD = 50;\n  private subscriptions: Subscription = new Subscription();\n  private swapLiquidityEntrypoints = ['addLiquidity', 'removeLiquidity', 'xtzToToken', 'tokenToXtz'];\n\n  readonly lqdContract = 'KT1TxqZ8QtKvLu3V3JH7Gx58n7Co8pgtpQU5';\n  readonly tzBTCContract = 'KT1PWx2mnDueood7fEmfbBDKx1D9BAnnXitn';\n\n  constructor(\n    public tokenService: TokenService,\n    private estimateService: EstimateService,\n    private messageService: MessageService,\n    private operationService: OperationService,\n    private walletService: WalletService,\n    private coordinatorService: CoordinatorService,\n    private subjectService: SubjectService\n  ) {}\n\n  ngOnInit(): void {\n    this.subscriptions.add(\n      this.subjectService.prepareTokenTransfer.subscribe((t) => {\n        this.prepareRequest = t;\n        this.tokenTransfer = t?.tokenTransfer;\n        this.activeAccount = t?.account;\n        this.symbol = t?.symbol;\n      })\n    );\n  }\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes?.externalRequest?.currentValue) {\n      this.activeAccount = changes.externalRequest.currentValue.selectedAccount;\n      this.checkOpReq(changes.externalRequest.currentValue.operationRequest);\n    }\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  private async checkOpReq(opReq: any): Promise<void | {\n    kind;\n    destination;\n    amount;\n    parameters;\n    gasRecommendation;\n    storageRecommendation;\n  }> {\n    if (opReq.operationDetails) {\n      opReq = opReq.operationDetails;\n    }\n    if (this.walletService.wallet instanceof EmbeddedTorusWallet && !this.walletService.wallet?.sk && this.template?.silent) {\n      this.operationResponse.emit('invalid_parameters');\n      return;\n    }\n    if (opReq[0].kind === 'transaction') {\n      const txs: PartiallyPreparedTransaction[] = opReq.map((tx) => {\n        if (tx.kind !== 'transaction') {\n          throw new Error('Invalid op kind');\n        }\n        // identify token transfers\n        return {\n          kind: 'transaction',\n          destination: tx.destination,\n          amount: Big(tx.amount)\n            .div(10 ** 6)\n            .toFixed(), // handle token decimals here\n          parameters: tx.parameters ? tx.parameters : undefined,\n          gasRecommendation: tx.gas_limit ? tx.gas_limit : undefined,\n          storageRecommendation: tx.storage_limit ? tx.storage_limit : undefined\n        };\n      });\n      if (this.validParameters(txs)) {\n        if (txs.length === 1 && !this.template) {\n          const tokenTransferObj: any = this.getTokenTransferObj(txs[0]);\n          if (tokenTransferObj) {\n            const asset = this.tokenService.getAsset(tokenTransferObj.tokenId);\n            txs[0].amount = Big(tokenTransferObj.amount)\n              .div(10 ** asset.decimals)\n              .toFixed();\n            txs[0].destination = tokenTransferObj.to;\n            this.tokenTransfer = tokenTransferObj.tokenId;\n            delete txs[0].parameters;\n          } else {\n            this.tokenTransfer = '';\n          }\n          this.simulateRequest(txs, tokenTransferObj?.tokenId);\n        } else {\n          this.tokenTransfer = '';\n          this.simulateRequest(txs, '');\n        }\n      } else {\n        this.operationResponse.emit('invalid_parameters');\n      }\n    }\n  }\n  getTokenTransferObj(op: any): null | { tokenId: string; to: string; amount: string } {\n    if (op.parameters && this.tokenService.isKnownTokenContract(op.destination)) {\n      const tokenTransfer = this.operationService.parseTokenTransfer(op);\n      if (tokenTransfer && this.tokenService.isKnownTokenId(tokenTransfer?.tokenId)) {\n        return tokenTransfer;\n      }\n    }\n    return null;\n  }\n  validParameters(txs: PartiallyPreparedTransaction[]): boolean {\n    for (const tx of txs) {\n      if (tx.parameters) {\n        try {\n          if (!tx.parameters.value || !tx.parameters.entrypoint) {\n            throw new Error('entrypoint and value expected');\n          }\n          assertMichelsonData(tx.parameters.value);\n        } catch (e) {\n          this.messageService.addError(`Invalid parameters: ${e.message}`);\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n  async simulateRequest(\n    txs: PartiallyPreparedTransaction[],\n    tokenTransfer: string\n  ): Promise<void | {\n    tx: PartiallyPreparedTransaction;\n    fee;\n    gasLimit;\n    storageLimit;\n  }> {\n    if (this.template) {\n      if (this.template.silent) {\n        console.log('Silent signing');\n      } else {\n        this.templateRequest = {\n          template: this.template,\n          partialOps: txs\n        };\n      }\n    } else {\n      await this.messageService.startSpinner('Preparing transaction...');\n    }\n    try {\n      await this.estimateService.preLoadData(this.activeAccount.pkh, this.activeAccount.pk);\n      const callback = (res) => {\n        if (res) {\n          if (res.error) {\n            this.messageService.addError(`Simulation error: ${res.error.message}`, 0);\n            this.operationResponse.emit({\n              error: 'invalid_parameters',\n              errorMessage: res.error.message\n            });\n          } else {\n            const fullyPrepared: FullyPreparedTransaction[] = txs.map((tx, i) => {\n              return {\n                ...tx,\n                fee: i === txs.length - 1 ? res.fee : '0',\n                gasLimit: res.customLimits[i].gasLimit.toString(),\n                storageLimit: res.customLimits[i].storageLimit.toString()\n              };\n            });\n            if (this.template) {\n              const fee = this.getTemplateFee(fullyPrepared);\n              console.log('Use template', this.template);\n              if (!this.template.silent) {\n                this.templateRequest = {\n                  template: this.template,\n                  partialOps: txs,\n                  ops: fullyPrepared,\n                  fee\n                };\n              } else {\n                let amount = Big(0);\n                for (const op of fullyPrepared) {\n                  amount = Big(op.amount).plus(amount);\n                }\n                amount = Big(fee.total).plus(amount);\n                amount = amount.times(Big(CONSTANTS.MAINNET && this.walletService.wallet?.XTZrate ? this.walletService.wallet.XTZrate : 1));\n                if (amount.gt(Big(this.thresholdUSD))) {\n                  this.operationResponse.emit('exceeded_threshold');\n                } else {\n                  this.silentInject(fullyPrepared);\n                }\n              }\n            } else {\n              this.confirmTransactions(fullyPrepared, true);\n            }\n          }\n        } else {\n          throw new Error('No simulation result');\n        }\n      };\n      await this.estimateService.estimateTransactions(JSON.parse(JSON.stringify(txs)), this.activeAccount.pkh, tokenTransfer, callback);\n    } catch (e) {\n      console.error(e);\n      this.operationResponse.emit('unknown_error');\n    } finally {\n      await this.messageService.stopSpinner();\n    }\n  }\n  prepareTransaction(): void {\n    this.prepareRequest = {\n      account: this.activeAccount,\n      tokenTransfer: this.tokenTransfer,\n      symbol: this.symbol\n    };\n  }\n  confirmTransactions(transactions: FullyPreparedTransaction[], externalReq: boolean): void {\n    if (this.isLbReq(transactions)) {\n      if (!externalReq) {\n        this.activeAccount = this.subjectService.activeAccount.getValue();\n      }\n      this.confirmSwapLiquidityRequest = {\n        account: this.activeAccount,\n        transactions,\n        externalReq\n      };\n    } else {\n      this.confirmRequest = {\n        account: this.activeAccount,\n        tokenTransfer: this.tokenTransfer,\n        transactions,\n        externalReq\n      };\n    }\n  }\n  private isLbReq(transactions: FullyPreparedTransaction[]): boolean {\n    if (\n      transactions.length === 1 &&\n      transactions[0].destination === this.lqdContract &&\n      ['xtzToToken', 'removeLiquidity'].includes(transactions[0].parameters?.entrypoint)\n    ) {\n      // xtzToToken or removeLiquidity\n      return true;\n    } else if (transactions[0].destination === this.tzBTCContract && transactions[0].parameters?.entrypoint === 'approve') {\n      // can be tokenToXtz or addLiquidity\n      if (transactions.length === 3 && transactions[0].parameters?.value?.args[1]?.int !== '0') {\n        console.log('prepend 0 approve');\n        // normalize\n        transactions.unshift({\n          ...transactions[0],\n          kind: 'transaction',\n          amount: '0',\n          destination: this.tzBTCContract,\n          parameters: this.operationService.getRevokeAmountParameters(this.lqdContract)\n        });\n      }\n      if (\n        transactions.length === 4 &&\n        new Set([transactions[0].destination, transactions[1].destination, transactions[3].destination, this.tzBTCContract]).size === 1 &&\n        new Set([transactions[0].parameters?.entrypoint, transactions[1].parameters?.entrypoint, transactions[3].parameters?.entrypoint, 'approve']).size ===\n          1 &&\n        new Set([\n          transactions[0].parameters?.value?.args[0]?.string,\n          transactions[1].parameters?.value?.args[0]?.string,\n          transactions[3].parameters?.value?.args[0]?.string,\n          this.lqdContract\n        ]).size === 1 &&\n        transactions[2].destination === this.lqdContract &&\n        ['tokenToXtz', 'addLiquidity'].includes(transactions[2].parameters?.entrypoint)\n      ) {\n        return true;\n      }\n    }\n    return false;\n  }\n  handlePrepareResponse(preparedTransactions: FullyPreparedTransaction[]): void {\n    this.prepareRequest = null;\n    if (preparedTransactions) {\n      console.log('PrepareResponse', JSON.stringify(preparedTransactions));\n      this.confirmTransactions(preparedTransactions, false);\n    }\n  }\n  handleConfirmResponse(opHash: string): void {\n    this.confirmRequest = null;\n    this.confirmSwapLiquidityRequest = null;\n    this.operationResponse.emit(opHash);\n  }\n  handleTemplateApproval(ops: FullyPreparedTransaction[]): void {\n    if (ops) {\n      this.silentInject(ops);\n    } else {\n      this.operationResponse.emit(null);\n    }\n    this.template = null;\n  }\n  private getTemplateFee(ops: FullyPreparedTransaction[]): TemplateFee {\n    let network = new Big(0);\n    let storageLimit = new Big(0);\n    for (const op of ops) {\n      network = network.plus(op.fee);\n      storageLimit = storageLimit.plus(op.storageLimit);\n    }\n    let storage = storageLimit.times(this.estimateService.costPerByte).div('1000000');\n    const total = network.plus(storage).toFixed();\n    network = network.toFixed();\n    storage = storage.toFixed();\n    return { network, storage, total };\n  }\n  async silentInject(ops: FullyPreparedTransaction[]): Promise<void> {\n    if (!this.walletService.isEmbeddedTorusWallet()) {\n      this.operationResponse.emit('UNSUPPORTED_WALLET_TYPE');\n      return;\n    }\n    for (const op of ops) {\n      // Limit to transactions for now\n      if (op.kind !== 'transaction') {\n        this.operationResponse.emit('UNSUPPORTED_KIND');\n        break;\n      }\n    }\n    if (!this.template.silent) {\n      this.messageService.startSpinner('Sending transaction...');\n    }\n    let keys;\n    try {\n      keys = await this.walletService.getKeys('', this.activeAccount.pkh);\n    } catch {\n      this.messageService.stopSpinner();\n    }\n    if (!keys) {\n      this.operationResponse.emit('FAILED_TO_SIGN');\n      return;\n    }\n    this.subscriptions.add(\n      this.operationService.transfer(this.activeAccount.address, ops, Number(ops[ops.length - 1].fee), keys, '').subscribe(\n        async (ans: any) => {\n          if (ans.success === true) {\n            console.log('Transaction successful ', ans);\n            await this.messageService.stopSpinner();\n            this.operationResponse.emit(ans.payload.opHash);\n            const metadata = {\n              transactions: ops,\n              opHash: ans.payload.opHash\n            };\n            await this.coordinatorService.boost(this.activeAccount.address, metadata);\n            for (const transaction of ops) {\n              if (this.walletService.addressExists(transaction.destination)) {\n                await this.coordinatorService.boost(transaction.destination);\n              }\n            }\n          } else {\n            await this.messageService.stopSpinner();\n            console.log('Transaction error id ', ans.payload.msg);\n            this.messageService.addError(ans.payload.msg, 0);\n            this.operationResponse.emit({\n              error: 'broadcast_error',\n              errorMessage: ans.payload.msg\n            });\n          }\n        },\n        (err) => {\n          this.messageService.stopSpinner();\n          console.log(err);\n          this.operationResponse.emit('UNKNOWN_ERROR');\n        }\n      )\n    );\n  }\n}\n","<div *ngIf=\"req\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-column top\">\n      <img class=\"flex-row button close\" (click)=\"cancel()\" src=\"../../../../assets/img/add-minterpop.svg\" />\n      <h1 class=\"title\">{{req.template.action || 'Confirmation'}}</h1>\n    </div>\n    <div class=\"seperator\"></div>\n    <div class=\"flex-column confirm-send\">\n        <div *ngIf=\"req.template.descriptions[0].text\" class=\"asset-name\">{{ req.template.descriptions[0].text }}</div>\n        <div class=\"flex-row transaction\">\n          <div class=\"flex-column left\">\n            <span *ngIf=\"req.template.descriptions[1].text\" class=\"default-text\">{{ req.template.descriptions[1].text }}</span>\n            <span *ngIf=\"req.template.descriptions[2]\" class=\"default-text amount\">{{ req.template.descriptions[2].text }}</span>\n            <span *ngIf=\"req.template.descriptions[3]\" class=\"default-text\">{{ req.template.descriptions[3].text }}</span>\n            <span class=\"default-text\">From:</span>\n            <div class=\"flex-row torus\" *ngIf=\"this.walletService.wallet.verifier\">\n              <img class=\"icon\" src=\"../../../assets/img/{{ this.walletService.wallet.verifier }}-logo.svg\">\n              <div class=\"flex-column\">\n                <span class=\"name\">{{ this.walletService.wallet.displayName() }}</span><span class=\"address\">{{\n                  req.activeAccount.address }}</span>\n              </div>\n            </div>\n            <span *ngIf=\"!this.walletService.wallet.verifier\" class=\"default-text single-to\">{{ req.activeAccount.address\n              }}</span>\n          </div>\n          <div *ngIf=\"req.template.descriptions[0]?.imgUrl\" class=\"flex-column right\">\n            <img class=\"token-image\" [src]=\"req.template.descriptions[0]?.imgUrl\" />\n          </div>\n        </div>\n      <br />\n      <div class=\"seperator\"></div>\n      <div class=\"flex-column bottom\">\n        <div class=\"flex-row default-text more-info\" [class]=\"showMore ? 'open' : ''\" (click)=\"showMore = !showMore\">{{ !showMore ?\n          'Show More' : 'Show Less' }}<img src=\"../../../../assets/img/dropdown-minterpop.svg\"></div>\n        <div *ngIf=\"showMore && req.payload\" class=\"info\">\n          <textarea style=\"width: 100%; padding: 0.5rem\" rows=10>{{req.payload}}</textarea>\n        </div>\n      </div>\n      <br />\n      <div class=\"flex-row buttons\">\n        <button (click)=\"approve()\">\n          <ng-container *ngIf=\"req.template.button; else defaultButtonText\">\n            {{req.template.button}}</ng-container>\n          <ng-template #defaultButtonText>Send</ng-template>\n        </button>\n      </div>\n      <div class=\"footer\">\n        <span>Powered by</span><img class=\"logo\" src=\"../../../../assets/img/header-logo-grey.svg\">\n      </div>\n    </div>\n  </div>\n</div> ","import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\nimport { WalletService } from '../../../../../services/wallet/wallet.service';\n\n@Component({\n  selector: 'app-sign-expr-template',\n  templateUrl: './template.component.html',\n  styleUrls: ['../../confirm-send/confirm-send.component.scss']\n})\nexport class ExprTemplateComponent implements OnInit, OnChanges {\n  @Input() req = null;\n  @Output() isApproved = new EventEmitter();\n  constructor(public walletService: WalletService) {}\n\n  ngOnInit(): void {}\n  ngOnChanges(changes: SimpleChanges): void {}\n  cancel() {\n    this.isApproved.emit(false);\n  }\n  approve() {\n    this.isApproved.emit(true);\n  }\n}\n","<div *ngIf=\"signRequest && payload && !template\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-column top\">\n      <img class=\"flex-row button close\" (click)=\"rejectSigning()\" src=\"../../../../assets/img/add-minterpop.svg\" />\n      <h1 class=\"title\">{{ signRequest?.title ? signRequest.title : 'Sign Expression' }}</h1>\n    </div>\n    <div class=\"flex-column sign-expr\">\n      <div class=\"seperator\"></div>\n      <p class=\"previewAttention\">{{ description ? description : 'An application has requested you sign an\n        expression.' }}</p>\n        <div class=\"seperator\"></div>\n      <div class=\"flex-row more-info\" [class]=\"showMore ? 'open' : ''\" (click)=\"toggle()\">{{ !showMore ? 'Show More' : 'Show Less' }}<img src=\"../../../../assets/img/dropdown-minterpop.svg\"></div>\n      <div *ngIf=\"showMore\" class=\"info\">\n        <textarea rows=\"6\" readonly>{{ payload }}</textarea>\n      </div>\n      <div class=\"flex-column bottom\">\n        <span *ngIf=\"this.pwdInvalid\" class=\"danger margin\">{{ this.pwdInvalid }}</span>\n        <button class=\"purple confirm\" (click)=\"sign()\">SIGN</button>\n        <div class=\"footer\">\n          <span>Powered by</span><img class=\"logo\" src=\"../../../../assets/img/header-logo-grey.svg\">\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<app-sign-expr-template *ngIf=\"signRequest && payload && template\" [req]=\"{payload: payload, template: template, activeAccount: activeAccount}\" (isApproved)=\"handleTemplateApproval($event)\"></app-sign-expr-template>","import { Component, OnInit, SimpleChanges, Input, Output, EventEmitter, OnChanges } from '@angular/core';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { MessageService } from '../../../../services/message/message.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Account } from '../../../../services/wallet/wallet';\nimport { OperationService } from '../../../../services/operation/operation.service';\nimport { emitMicheline } from '@taquito/michel-codec';\nimport { valueDecoder } from '@taquito/local-forging/dist/lib/michelson/codec';\nimport { Uint8ArrayConsumer } from '@taquito/local-forging/dist/lib/uint8array-consumer';\nimport { InputValidationService } from '../../../../services/input-validation/input-validation.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-sign-expr-embed',\n  templateUrl: './sign-expr.component.html',\n  styleUrls: ['./sign-expr.component.scss']\n})\nexport class SignExprEmbedComponent implements OnInit, OnChanges {\n  @Input() signRequest: any;\n  @Input() activeAccount: Account;\n  @Output() signResponse = new EventEmitter();\n  syncSub: Subscription;\n  password = '';\n  pwdInvalid = '';\n  payload = '';\n  template = null;\n  description = null;\n  isMessage = false;\n  showMore = true;\n  constructor(\n    public walletService: WalletService,\n    private messageService: MessageService,\n    public translate: TranslateService,\n    private operationService: OperationService,\n    private inputValidationService: InputValidationService\n  ) {}\n  ngOnInit(): void {}\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.signRequest) {\n      const scrollBarWidth = window.innerWidth - document.body.offsetWidth;\n      document.body.style.marginRight = scrollBarWidth.toString();\n      document.body.style.overflow = 'hidden';\n      this.template = this.signRequest.ui;\n      this.isMessage = this.inputValidationService.isMessageSigning(this.signRequest.payload);\n      const value = valueDecoder(Uint8ArrayConsumer.fromHexString(this.signRequest.payload.slice(2)));\n      const payload = emitMicheline(value, {\n        indent: '  ',\n        newline: '\\n'\n      });\n      this.payload = this.isMessage ? value.string : payload;\n    }\n  }\n  async sign() {\n    const pwd = this.password;\n    this.password = '';\n    await this.messageService.startSpinner(`Signing ${this.isMessage ? 'message' : 'payload'}...`);\n    let keys;\n    try {\n      keys = await this.walletService.getKeys(pwd, this.activeAccount.pkh);\n    } catch (e) {\n      console.warn(e);\n      this.messageService.stopSpinner();\n    }\n    if (keys) {\n      this.pwdInvalid = '';\n      try {\n        const signature = this.operationService.sign(this.signRequest.payload, keys.sk).edsig;\n        this.acceptSigning(signature);\n      } catch (e) {\n        this.pwdInvalid = 'Signing failed';\n        console.warn(e);\n      } finally {\n        this.messageService.stopSpinner();\n      }\n    } else {\n      this.messageService.stopSpinner();\n      if (this.walletService.isTorusWallet()) {\n        this.pwdInvalid = `Authorization failed`;\n      } else {\n        this.pwdInvalid = this.translate.instant('SENDCOMPONENT.WRONGPASSWORD');\n      }\n    }\n  }\n  rejectSigning() {\n    this.closeModal();\n    this.signResponse.emit(null);\n  }\n  acceptSigning(signature: string) {\n    this.messageService.addSuccess(this.isMessage ? 'Message signed!' : 'Payload signed!');\n    this.closeModal();\n    this.signResponse.emit(signature);\n  }\n  closeModal() {\n    // restore body scrollbar\n    document.body.style.marginRight = '';\n    document.body.style.overflow = '';\n    this.clear();\n  }\n  clear() {\n    this.password = '';\n    this.pwdInvalid = '';\n    this.payload = '';\n    this.isMessage = false;\n    this.template = null;\n  }\n  toggle() {\n    this.showMore = !this.showMore;\n  }\n  handleTemplateApproval(t) {\n    if (t) {\n      this.sign();\n    } else {\n      this.rejectSigning();\n    }\n  }\n}\n","<h3>Processing Request...</h3>\n<br />\n<h1 class=\"high-demand\">High Demand for Items!</h1>\n<br />\n<p class=\"desc\">Your request is being processed. Wait times vary.\n</p>\n<br />\n<br />\n<h1>Estimated Wait Time:</h1>\n<h1 class=\"flex-row time\">\n  <span *ngIf=\"hours !== '00'\"class=\"flex-column hours\">\n    <h1>{{ hours }}</h1>\n    <h5>Hours</h5>\n  </span>\n  <span class=\"flex-column minutes\">\n    <h1>{{ minutes }}</h1>\n    <h5>Minutes</h5>\n  </span>\n  <span class=\"flex-column seconds\">\n    <h1>{{ seconds }}</h1>\n    <h5>Seconds</h5>\n  </span>\n</h1>\n<br />\n<br />\n<br />\n<h2 class=\"desc\">At the end of the wait time, you will be asked to re-authenticate to access your account.</h2>","import { Component, Input, OnInit, SimpleChanges } from '@angular/core';\n\n@Component({\n  selector: 'app-queue-embed',\n  templateUrl: './queue.component.html',\n  styleUrls: ['./queue.component.scss']\n})\nexport class QueueEmbedComponent implements OnInit {\n  @Input('queueTime') queueTime = 0;\n  hours = '0';\n  minutes = '0';\n  seconds = '0';\n  constructor() {}\n  ngOnInit(): void {\n    this.updateTime();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.queueTime.currentValue !== changes.queueTime.previousValue) {\n      this.updateTime();\n    }\n  }\n\n  updateTime() {\n    let sec: any = this.queueTime;\n    let hrs: any = Math.floor(sec / 3600);\n    sec -= hrs * 3600;\n    let min: any = Math.floor(sec / 60);\n    sec -= min * 60;\n    sec = sec.toString();\n    min = min.toString();\n    hrs = hrs.toString();\n\n    this.hours = hrs.length < 2 ? '0' + hrs : hrs;\n    this.minutes = min.length < 2 ? '0' + min : min;\n    this.seconds = sec.length < 2 ? '0' + sec : sec;\n  }\n}\n","<app-queue-embed *ngIf=\"this.queueTimeVisible > 0\" [queueTime]=\"this.queueTimeVisible\"></app-queue-embed>\n<div *ngIf=\"this.queueTime === 0 && this.queueTimeVisible === 0\" class=\"flex-column direct-auth-login-alt\" [class.manutd]=\"template === 'manutd'\">\n  <div class=\"flex-row header\">\n    <img (click)=\"abort()\" class=\"abort\" src=\"../../../assets/img/x-alt.svg\">\n    <img *ngIf=\"loginConfig.showBackButton\" (click)=\"back()\" class=\"back\" src=\"../../../assets/img/back-arrow.svg\">\n  </div>\n  <h1 *ngIf=\"this.loginConfig?.customPrio !== 'high'\">{{ template === 'manutd' ? 'CHOOSE SOCIAL PROVIDER' : 'Choose Sign In Type' }}</h1>\n  <h1 *ngIf=\"this.loginConfig?.customPrio === 'high'\">Please re-authenticate</h1>\n  <div class=\"flex-row-wrap login-options\" *ngIf=\"torusService && torusService.verifierMapKeys\">\n    <ng-container *ngFor=\"let key of loginOptions; let idx = index\">\n      <div *ngIf=\"loginConfig.buttonsVertically === true || (loginConfig.wideButtons && loginConfig.wideButtons[idx] === true); else narrow\" class=\"flex-row option wide\" [class.facebook]=\"key === 'facebook'\" [class.twitter]=\"key === 'twitter'\" [class.reddit]=\"key === 'reddit'\"\n        (click)=\"login(key)\">\n        <img [src]=\"key === 'facebook' ? '../../../../assets/img/torus-login/' + key + '-white.svg' : '../../../../assets/img/torus-login/' + key + '-color.svg'\" width=\"24\" /><span>Sign in with {{ key |\n          titlecase }}</span>\n      </div>\n      <ng-template #narrow>\n        <div class=\"flex-row option narrow\"\n        (click)=\"login(key)\">\n        <img [src]=\"'../../../../assets/img/torus-login/' + key + '-color.svg'\" width=\"24\" />\n      </div>\n      </ng-template>\n    </ng-container>\n  </div>\n  <div class=\"footer\">\n    <span>Powered by</span><img class=\"logo\" src=\"../../../../assets/img/header-logo-grey.svg\">\n  </div>\n</div>","import { EventEmitter, Input, Output, SimpleChanges, Component, OnInit, OnChanges, AfterViewInit, ElementRef, HostListener } from '@angular/core';\nimport { LoginConfig, TypeOfLogin, LoginPrio } from 'kukai-embed';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { MessageService } from '../../../../services/message/message.service';\nimport { TorusService } from '../../../../services/torus/torus.service';\nimport { EmbeddedTorusWallet } from '../../../../services/wallet/wallet';\nimport { CONSTANTS } from '../../../../../environments/environment';\nimport { SubjectService } from '../../../../services/subject/subject.service';\nimport { UtilsService } from '../../../../services/utils/utils.service';\n\n@Component({\n  selector: 'app-signin',\n  templateUrl: './signin.component.html',\n  styleUrls: ['./signin.component.scss']\n})\nexport class SigninComponent implements OnInit, OnChanges, AfterViewInit {\n  constructor(\n    private messageService: MessageService,\n    public torusService: TorusService,\n    private walletService: WalletService,\n    private subjectService: SubjectService,\n    private elRef: ElementRef,\n    private utilsService: UtilsService\n  ) {}\n  @Input() dismiss: Boolean;\n  @Input() loginConfig: LoginConfig;\n  @Output() loginResponse = new EventEmitter();\n  template = 'default';\n  loginOptions = [];\n  queueTime: number = 0;\n  queueTimeVisible: number = 0;\n  queueLen = 0;\n  queueLenInterval: any;\n  statusCounter: number = 0;\n  queueInterval: NodeJS.Timeout;\n  readonly queueEndpoint = 'https://q.tcinfra.net/rpc';\n  ngOnInit(): void {\n    this.subjectService.origin.subscribe((origin) => {\n      if (origin && origin.indexOf('gap') !== -1) {\n        this.template = 'gap';\n      } else if (origin && origin.indexOf('interpop') !== -1) {\n        // (m)interpop\n        this.template = 'minterpop';\n      } else if (origin && (origin.indexOf('manutd') !== -1 || origin.indexOf('concordia') !== -1)) {\n        this.template = 'manutd';\n      } else {\n        this.template = 'default';\n      }\n    });\n  }\n  ngAfterViewInit(): void {\n    this.viewportCheck();\n  }\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes?.loginConfig) {\n      if (this.loginConfig?.customPrio === LoginPrio.Low) {\n        this.queueLen = 0;\n        this.queueLenInterval = setInterval(async () => {\n          this.queueLen = await this.getQueueLen();\n          console.log('Queue length (s)', this.queueLen);\n        }, 5000);\n        this.getQueueLen().then((res) => {\n          this.queueLen = res;\n          console.log('Queue length (s)', this.queueLen);\n        });\n      }\n    }\n    if (changes?.dismiss?.currentValue === true) {\n      this.messageService.stopSpinner().then(() => this.loginResponse.emit('dismiss'));\n    }\n    if (changes?.loginConfig?.currentValue) {\n      if (this.loginConfig.customPrio === 'high') {\n        if (this.walletService.wallet && this.walletService.wallet instanceof EmbeddedTorusWallet) {\n          if (this.walletService.wallet?.verifier) {\n            this.loginConfig.loginOptions = [this.walletService.wallet.verifier as TypeOfLogin];\n          }\n          this.startQueue();\n        }\n      }\n      if (this.loginConfig.loginOptions?.length > 0) {\n        this.loginOptions = [];\n        for (const loginOption of this.loginConfig.loginOptions) {\n          if (this.torusService.verifierMapKeys.includes(loginOption)) {\n            this.loginOptions.push(loginOption);\n          }\n        }\n      } else {\n        this.loginOptions = this.torusService.verifierMapKeys;\n      }\n    }\n  }\n  @HostListener('window:resize', ['$event'])\n  onResize() {\n    this.viewportCheck();\n  }\n  viewportCheck(): void {\n    if (screen.width < 650) {\n      this.elRef.nativeElement.classList.add('viewport-override-0');\n    } else {\n      this.elRef.nativeElement.classList.remove('viewport-override-0');\n    }\n    if (screen.width < 481) {\n      this.elRef.nativeElement.classList.add('viewport-override-1');\n    } else {\n      this.elRef.nativeElement.classList.remove('viewport-override-1');\n    }\n  }\n  async startQueue() {\n    // set high prio\n    if (this.walletService.wallet instanceof EmbeddedTorusWallet) {\n      this.queueTime = -1;\n      this.setHighPrio(this.walletService.wallet.verifier, this.walletService.wallet.id);\n    }\n    this.queueTimeVisible = -1;\n    this.messageService.startSpinner();\n    this.queueInterval = setInterval(() => {\n      if (this.queueTimeVisible > 1 || (this.queueTimeVisible === 1 && this.queueTime === 0)) {\n        this.queueTimeVisible -= 1;\n      }\n      if (this.walletService.wallet instanceof EmbeddedTorusWallet) {\n        let timeBetweenChecks = 300;\n        if (this.queueTimeVisible < 4) {\n          timeBetweenChecks = 2;\n        } else if (this.queueTimeVisible < 60) {\n          timeBetweenChecks = 15;\n        } else if (this.queueTimeVisible < 1800) {\n          timeBetweenChecks = 60;\n        }\n        this.statusCounter = ++this.statusCounter % timeBetweenChecks;\n        if (this.statusCounter === 0) {\n          this.checkQueue(this.walletService.wallet.verifier, this.walletService.wallet.id);\n        }\n      }\n      if (this.queueTimeVisible <= 0 && this.queueTime === 0) {\n        this.stopQueue();\n      }\n    }, 1000);\n  }\n  stopQueue() {\n    if (this.queueInterval) {\n      clearInterval(this.queueInterval);\n    }\n    if (this.queueLenInterval) {\n      clearInterval(this.queueLenInterval);\n    }\n    this.queueTime = 0;\n    this.queueTimeVisible = 0;\n    this.queueLen = 0;\n    this.statusCounter = 0;\n    this.messageService.stopSpinner();\n  }\n  async abort() {\n    this.elRef.nativeElement.querySelector('.direct-auth-login-alt').style.animation = 'transition-down 0.25s';\n    await this.utilsService.sleep(230);\n    this.loginResponse.emit(null);\n    this.stopQueue();\n  }\n  back() {\n    this.loginResponse.emit(undefined);\n    this.stopQueue();\n  }\n  async login(typeOfLogin: string) {\n    try {\n      this.messageService.startSpinner('Loading wallet...');\n      let loginData;\n      const len: number = this.queueLen;\n      if (this.loginConfig?.customPrio === LoginPrio.Low) {\n        loginData = await this.torusService.loginTorus(typeOfLogin, '', len > 5 ? 1 : 0, true);\n      } else if (this.loginConfig?.customPrio === LoginPrio.LowFast) {\n        loginData = await this.torusService.loginTorus(typeOfLogin, '', 2, true);\n      } else if (this.loginConfig?.customPrio === LoginPrio.High && this.walletService.wallet instanceof EmbeddedTorusWallet) {\n        loginData = await this.torusService.loginTorus(typeOfLogin, this.walletService.wallet.id);\n      } else {\n        loginData = await this.torusService.loginTorus(typeOfLogin);\n      }\n      if (!loginData?.keyPair) {\n        throw new Error('Login failed');\n      }\n      if (this.loginConfig?.customPrio === LoginPrio.Low) {\n        // loginData.keyPair = { pk: '', pkh: '' };\n        if (loginData?.keyPair?.pk === '') {\n          this.setLowPrio(loginData.userInfo);\n        } else {\n          if (len > 5) {\n            this.skipQueue(loginData.userInfo.typeOfLogin, loginData.userInfo.verifierId, loginData.keyPair.pkh);\n          } else {\n            if (loginData?.userInfo?.preexistingPkh) {\n              this.setLowPrio(loginData.userInfo);\n            } else {\n              this.skipQueue(loginData.userInfo.typeOfLogin, loginData.userInfo.verifierId, loginData?.keyPair?.pkh || loginData?.userInfo?.preexistingPkh);\n            }\n          }\n        }\n      } else if (this.loginConfig?.customPrio === LoginPrio.LowFast) {\n        if (loginData?.userInfo?.preexistingPkh) {\n          this.skipQueue(loginData.userInfo.typeOfLogin, loginData.userInfo.verifierId, loginData?.keyPair?.pkh || loginData?.userInfo?.preexistingPkh);\n        } else {\n          this.setLowPrio(loginData.userInfo);\n        }\n      }\n      if (this.dismiss === null) {\n        await this.messageService.stopSpinner();\n      }\n      this.elRef.nativeElement.querySelector('.direct-auth-login-alt').style.animation = 'transition-down 0.25s';\n      await this.utilsService.sleep(230);\n      this.loginResponse.emit(loginData);\n      this.stopQueue();\n    } catch {\n      await this.messageService.stopSpinner();\n    }\n  }\n  async setLowPrio(userInfo: any) {\n    let { typeOfLogin, verifierId } = userInfo;\n    const res = await this.post(this.queueEndpoint, {\n      action: 'add_low_priority',\n      network: CONSTANTS.MAINNET ? 'mainnet' : 'testnet',\n      verifier: typeOfLogin,\n      identity: verifierId,\n      groups: [CONSTANTS.NETWORK, this.subjectService.origin?.value]\n    });\n    console.log('setLowPrio', res);\n    return res;\n  }\n  async setHighPrio(typeOfLogin: string, verifierId: string) {\n    const res = await this.post(this.queueEndpoint, {\n      action: 'add_high_priority',\n      network: CONSTANTS.MAINNET ? 'mainnet' : 'testnet',\n      verifier: typeOfLogin,\n      identity: verifierId,\n      groups: [CONSTANTS.NETWORK, this.subjectService.origin?.value]\n    });\n    console.log('setHighPrio', res);\n    this.updateQueue(res);\n    return res;\n  }\n  async checkQueue(typeOfLogin: string, verifierId: string) {\n    const res = await this.post(\n      this.queueEndpoint,\n      {\n        action: 'fetch',\n        network: CONSTANTS.MAINNET ? 'mainnet' : 'testnet',\n        verifier: typeOfLogin,\n        identity: verifierId\n      },\n      0\n    );\n    console.log('checkQueue', res);\n    this.updateQueue(res);\n    return res;\n  }\n  async skipQueue(typeOfLogin: string, verifierId: string, pkh: string) {\n    const res = await this.post(this.queueEndpoint, {\n      action: 'report',\n      network: CONSTANTS.MAINNET ? 'mainnet' : 'testnet',\n      verifier: typeOfLogin,\n      identity: verifierId,\n      groups: [CONSTANTS.NETWORK, this.subjectService.origin?.value],\n      metadata: { pkh }\n    });\n    console.log('skipQueue', res);\n    return res;\n  }\n  updateQueue(res: any) {\n    if (res?.EstimatedTimeSeconds !== -1) {\n      if (res.EstimatedTimeSeconds === 0 && res.Status === 'error') {\n        console.error('FailedToResolve');\n        this.abort();\n        return;\n      }\n      if (this.queueTimeVisible === -1) {\n        this.messageService.stopSpinner();\n      }\n      this.queueTime = this.queueTimeVisible = res.EstimatedTimeSeconds;\n    }\n  }\n  async getQueueLen(): Promise<number> {\n    const res = await this.post(this.queueEndpoint, {\n      action: 'len'\n    });\n    return Number(res.EstimatedTimeSeconds);\n  }\n  async get(url: string, triesLeft = 3) {\n    return await fetch(url)\n      .then(async (res) => {\n        return await res.json();\n      })\n      .catch(async (e) => {\n        if (triesLeft > 0) {\n          return await this.get(url, --triesLeft);\n        } else {\n          throw e;\n        }\n      });\n  }\n  async post(url: string, body: any, triesLeft = 3) {\n    return await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    })\n      .then(async (res) => {\n        return await res.json();\n      })\n      .catch(async (e) => {\n        if (triesLeft > 0) {\n          return await this.post(url, body, --triesLeft);\n        } else {\n          throw e;\n        }\n      });\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { TorusWallet, ImplicitAccount } from '../../../../services/wallet/wallet';\n\n@Component({\n  selector: 'app-card',\n  templateUrl: './card.component.html',\n  styleUrls: ['../../../../../scss/components/views/embedded/card/card.component.scss']\n})\nexport class CardComponent implements OnInit {\n  @Input() activeAccount: ImplicitAccount;\n\n  constructor(private walletService: WalletService) {}\n\n  ngOnInit(): void {}\n\n  displayName(): string {\n    if (this.walletService.wallet instanceof TorusWallet) {\n      return this.walletService.wallet.displayName();\n    } else {\n      return '';\n    }\n  }\n\n  verifier(): string {\n    if (this.walletService.wallet instanceof TorusWallet) {\n      return this.walletService.wallet.verifier;\n    } else {\n      return '';\n    }\n  }\n}\n","<div class=\"container\">\n    <div>\n        <img src=\"../../../assets/img/torus-login/{{verifier()}}-color.svg\" width=\"24\">\n        <h4>{{displayName()}}</h4>\n        <p>{{activeAccount.pkh}}</p>\n    </div>\n    <div>\n        <h4>BALANCE:</h4>\n        <h3>{{activeAccount.balanceXTZ || 0}} XTZ</h3>\n    </div>\n</div>\n","<app-signin *ngIf=\"login\" [dismiss]=\"dismiss\" [loginConfig]=\"loginConfig\" (loginResponse)=\"loginResponse($event)\"></app-signin>\n<app-send [embedded]=\"true\" *ngIf=\"externalRequest\" (operationResponse)=\"operationResponse($event)\" [headless]=true [externalRequest]=externalRequest\n    [template]=\"template\" [activeAccount]=activeAccount></app-send>\n<app-sign-expr-embed *ngIf=\"signRequest && activeAccount\" [signRequest]=\"signRequest\" [activeAccount]=activeAccount (signResponse)=\"signResponse($event)\"></app-sign-expr-embed>\n<app-card *ngIf=\"activeAccount && !blockCard && (!externalRequest && !login && !signRequest)\" [activeAccount]=activeAccount></app-card>\n","import { Component, ElementRef, OnInit } from '@angular/core';\nimport { TorusService } from '../../../services/torus/torus.service';\nimport { CONSTANTS } from '../../../../environments/environment';\nimport { ImportService } from '../../../services/import/import.service';\nimport { KeyPair, ExternalRequest } from '../../../interfaces';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { PartialTezosTransactionOperation } from '@airgap/beacon-sdk';\nimport { EmbeddedTorusWallet, ImplicitAccount } from '../../../services/wallet/wallet';\nimport { CoordinatorService } from '../../../services/coordinator/coordinator.service';\nimport { utils, common } from '../../../libraries/index';\nimport { ActivatedRoute } from '@angular/router';\nimport { LookupService } from '../../../services/lookup/lookup.service';\nimport { ActivityService } from '../../../services/activity/activity.service';\nimport { EmbeddedAuthService } from '../../../services/embedded-auth/embedded-auth.service';\nimport {\n  RequestTypes,\n  ResponseTypes,\n  RequestMessage,\n  ResponseMessage,\n  OperationResponse,\n  LogoutRequest,\n  TrackRequest,\n  LoginRequest,\n  OperationRequest,\n  AuthRequest,\n  CardRequest,\n  CardResponse,\n  SignExprRequest,\n  SignExprResponse,\n  LoginConfig,\n  LoginPrio\n} from 'kukai-embed';\nimport { Subscription } from 'rxjs';\nimport { SubjectService } from '../../../services/subject/subject.service';\nimport { InputValidationService } from '../../../services/input-validation/input-validation.service';\nenum Permission {\n  LOGIN = 'login',\n  OPERATIONS = 'operations',\n  MICHELINE = 'micheline',\n  MICHELINE_SILENT = 'micheline_silent'\n}\ninterface Permissions {\n  origins: string[];\n  permissions: {\n    [Permission.LOGIN]: boolean;\n    [Permission.OPERATIONS]: boolean;\n    [Permission.MICHELINE]: boolean;\n    [Permission.MICHELINE_SILENT]?: boolean;\n  };\n}\n@Component({\n  selector: 'app-embedded',\n  templateUrl: './embedded.component.html',\n  styleUrls: ['../../../../scss/components/views/embedded/embedded.component.scss']\n})\nexport class EmbeddedComponent implements OnInit {\n  readonly permissionMatrix: Record<string, Permissions> = {\n    brio: {\n      origins: ['https://playwithbrio.com', 'https://www.playwithbrio.com', 'https://production.playwithbrio.com'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true\n      }\n    },\n    minterpop: {\n      origins: ['https://minterpop.com', '*.minterpop.com'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true\n      }\n    },\n    interpop: {\n      origins: ['https://interpopcomics.com', 'https://www.interpopcomics.com'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true\n      }\n    },\n    humanMachine: {\n      origins: ['https://human-machine.io'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    ubisoft: {\n      origins: ['*.ubisoft.com'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: true\n      }\n    },\n    gap: {\n      origins: ['*.gap.com'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true,\n        micheline_silent: true\n      }\n    },\n    manutd: {\n      origins: ['*.manutd.com', '*.trili.tech'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true\n      }\n    },\n    lexus: {\n      origins: ['https://ldai.lexusdesign.in'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    blockspace: {\n      origins: ['https://block-space.app'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    evian: {\n      origins: ['https://nft.evian.com', 'https://happy85.marieclaire.fr', 'https://claim.renaissance.land'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    souvie: {\n      origins: ['https://souvie.dev'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    tzstaging: {\n      origins: ['*.tzstaging.com', 'https://tzstaging.com', 'https://tezos.com', 'https://quests.tezos.com', 'https://freetez.tezos.com'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true\n      }\n    },\n    studioexception: {\n      origins: ['https://studioexception.eu'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: true\n      }\n    },\n    cleantree: {\n      origins: ['https://cleantree.artshelp.net'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    vitality: {\n      origins: ['*.vitality.gg'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true\n      }\n    },\n    kanvas: {\n      origins: ['*.tzconnect.berlin', 'https://metavert.sowvital.com'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true\n      }\n    },\n    proofof: {\n      origins: ['https://proofofperformance.xyz', 'https://pop-six.vercel.app'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    emergents: {\n      origins: ['https://play.emergentstcg.com'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    thegoodsociety: {\n      origins: ['https://www.thegoodsociety.org'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    circa: {\n      origins: ['https://circa.art', 'https://nft.circa.art'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    mooncakes: {\n      origins: ['https://mooncakes.fun', '*.mooncakes.fun', 'https://df97ay9gblnsi.cloudfront.net'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true\n      }\n    },\n    truename: {\n      origins: ['https://truename.me'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    verticalcrypto: {\n      origins: ['https://verticalcrypto.art', '*.verticalcrypto.art'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    playrecord: {\n      origins: ['https://claim.playrecordmint.xyz'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    mclaren: {\n      origins: ['*.mclaren.com'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true\n      }\n    },\n    hek: {\n      origins: ['https://nftshop.hek.ch'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    flosports: {\n      origins: ['https://collectibles.flosports.tv'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true\n      }\n    },\n    serpentine: {\n      origins: ['https://digital.serpentinegalleries.org', '*.prod.gke.papers.tech'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    sowvital: {\n      origins: ['https://collectibles.sowvital.com'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true\n      }\n    },\n    bargainer: {\n      origins: ['https://bargainer.ai', 'https://www.bargainer.ai'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    aigam: {\n      origins: ['https://aigam.es', 'https://www.aigam.es'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    bouncer: {\n      origins: ['https://convincethebouncer.com'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    battletabs: {\n      origins: ['https://tzcollectibles.battletabs.com'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true\n      }\n    },\n    trackmind: {\n      origins: ['https://trackmind.tech'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true\n      }\n    },\n    starsymphony: {\n      origins: ['*.starsymphony.io'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true\n      }\n    },\n    kanvaspoa: {\n      origins: ['https://kanvas-poa.vercel.app'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    tesserart: {\n      origins: ['*.tesserart.xyz', 'https://tesserart.xyz'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true\n      }\n    }\n  };\n  constructor(\n    private torusService: TorusService,\n    private importService: ImportService,\n    private walletService: WalletService,\n    private coordinatorService: CoordinatorService,\n    private route: ActivatedRoute,\n    private lookupService: LookupService,\n    private activityService: ActivityService,\n    private embeddedAuthService: EmbeddedAuthService,\n    private subjectService: SubjectService,\n    private inputValidationService: InputValidationService,\n    private elRef: ElementRef\n  ) {}\n  pendingOps: string[] = [];\n  ophashSubscription: Subscription;\n  origin = '';\n  login = false;\n  dismiss: Boolean = null;\n  blockCard = true;\n  activeAccount: ImplicitAccount = null;\n  template = null;\n  externalRequest: ExternalRequest = null;\n  signRequest = null;\n  loginConfig: LoginConfig = null;\n  queueMode: LoginPrio = null;\n  currentInstanceId = '';\n\n  ngOnInit(): void {\n    document.body.style.background = 'none';\n    this.torusService.initTorus();\n    if (window.addEventListener) {\n      window.addEventListener('message', this.handleRequest, false);\n    } else {\n      (window as any).attachEvent('onmessage', this.handleRequest);\n    }\n    console.log('icabod is connected...');\n    this.route.queryParams\n      .filter((params) => params.instanceId)\n      .subscribe((params) => {\n        this.walletService.loadStoredWallet(params.instanceId);\n        this.currentInstanceId = params.instanceId;\n        if (this.walletService.wallet instanceof EmbeddedTorusWallet) {\n          this.origin = this.walletService.wallet.origin;\n          this.subjectService.origin.next(this.origin);\n          if (this.walletService.wallet?.implicitAccounts[0]) {\n            this.activeAccount = this.walletService.wallet.implicitAccounts[0];\n            // this.coordinatorService.startXTZ();\n            // this.coordinatorService.start(this.activeAccount.address, this.coordinatorService.defaultDelayActivity);\n            // this.subscribeToConfirmedOps();\n          }\n        }\n      });\n    window.parent.window.postMessage(JSON.stringify({ type: ResponseTypes.initComplete, failed: false }), this.origin || '*');\n  }\n  handleRequest = (evt) => {\n    try {\n      const data: RequestMessage = JSON.parse(evt.data);\n      if (this.hasPermission(null, evt.origin)) {\n        console.log(`Received ${evt.data} from ${evt.origin}`);\n        if (data && data.type) {\n          this.origin = evt.origin;\n          this.subjectService.origin.next(this.origin);\n          switch (data.type) {\n            case RequestTypes.loginRequest:\n              this.handleLoginRequest(data);\n              break;\n            case RequestTypes.operationRequest:\n              this.handleOperationRequest(data);\n              break;\n            case RequestTypes.signExprRequest:\n              this.handleSignExprRequest(data);\n              break;\n            case RequestTypes.trackRequest:\n              this.handleTrackRequest(data);\n              break;\n            case RequestTypes.logoutRequest:\n              this.handleLogoutRequest(data);\n              break;\n            case RequestTypes.authRequest:\n              this.handleAuthRequest(data);\n              break;\n            case RequestTypes.cardRequest:\n              this.handleCardRequest(data);\n              break;\n            case RequestTypes.dismissRequest:\n              this.dismiss = true;\n              break;\n            default:\n              console.warn('Unknown request', data);\n          }\n        }\n      } else if (data && data.type) {\n        console.error(`Invalid origin (${evt.origin})`);\n      }\n    } catch {}\n  };\n  private handleSignExprRequest(req: SignExprRequest) {\n    if (!this.hasPermission(Permission.MICHELINE)) {\n      const response: ResponseMessage = {\n        type: ResponseTypes.signExprResponse,\n        failed: true,\n        error: 'NO_PERMISSION'\n      };\n      this.sendResponse(response);\n      return;\n    }\n    if (this.walletService.wallet instanceof EmbeddedTorusWallet && this.walletService.wallet.implicitAccounts[0] && req.expr) {\n      if (req.expr.slice(0, 2) === '0x') {\n        req.expr = req.expr.slice(2);\n      }\n      if (this.inputValidationService.isMichelineExpr(req.expr)) {\n        if (req?.ui?.silent && this.hasPermission(Permission.MICHELINE_SILENT)) {\n          this.embeddedAuthService\n            .signExprSilent(req.expr)\n            .then((signature) => {\n              this.signResponse(signature);\n            })\n            .catch((e) => {\n              this.sendResponse({\n                type: ResponseTypes.signExprResponse,\n                failed: true,\n                error: e.message ? e.message : 'UNKNOWN_ERROR'\n              });\n            });\n        } else {\n          this.signRequest = {\n            payload: req.expr,\n            ui: this.normalizeTemplate(req?.ui)\n          };\n        }\n      } else {\n        this.sendResponse({\n          type: ResponseTypes.signExprResponse,\n          failed: true,\n          error: 'INVALID_PARAMETERS'\n        });\n      }\n    } else {\n      let response: ResponseMessage;\n      if (!(this.walletService.wallet instanceof EmbeddedTorusWallet) || !this.walletService.wallet.implicitAccounts[0]) {\n        response = {\n          type: ResponseTypes.signExprResponse,\n          failed: true,\n          error: 'NO_WALLET_FOUND'\n        };\n      } else {\n        response = {\n          type: ResponseTypes.signExprResponse,\n          failed: true,\n          error: 'INVALID_PARAMETERS'\n        };\n      }\n      this.sendResponse(response);\n    }\n  }\n  public signResponse(response: any) {\n    this.signRequest = null;\n    let resp: SignExprResponse;\n    if (response && typeof response === 'string' && response.length > 95 && response.slice(0, 5) === 'spsig') {\n      resp = {\n        type: ResponseTypes.signExprResponse,\n        failed: false,\n        signature: response\n      };\n    } else {\n      resp = {\n        type: ResponseTypes.signExprResponse,\n        failed: true,\n        error: 'ABORTED_BY_USER'\n      };\n    }\n    this.sendResponse(resp);\n  }\n  private handleLoginRequest(req: LoginRequest) {\n    if (!this.hasPermission(Permission.LOGIN)) {\n      const response: ResponseMessage = {\n        type: ResponseTypes.loginResponse,\n        failed: true,\n        error: 'NO_PERMISSION'\n      };\n      this.sendResponse(response);\n      return;\n    }\n    this.queueMode = req?.config.customPrio ? req?.config.customPrio : null;\n    if (this.activeAccount || ([LoginPrio.Low, LoginPrio.LowFast].includes(this.queueMode) && this.walletService.wallet)) {\n      const response: ResponseMessage = {\n        type: ResponseTypes.loginResponse,\n        failed: true,\n        error: 'ALREADY_LOGGED_IN'\n      };\n      this.sendResponse(response);\n    } else if (this.queueMode === 'high' && !this.walletService.wallet) {\n      const response: ResponseMessage = {\n        type: ResponseTypes.loginResponse,\n        failed: true,\n        error: 'NO_WALLET_FOUND'\n      };\n      this.sendResponse(response);\n    } else {\n      if (req?.config?.customSpinnerDismissal) {\n        this.dismiss = false;\n      }\n      if (req?.config) {\n        this.loginConfig = req.config;\n      }\n      this.login = true;\n    }\n  }\n  private handleOperationRequest(req: OperationRequest) {\n    if (!this.hasPermission(Permission.OPERATIONS)) {\n      const response: ResponseMessage = {\n        type: ResponseTypes.operationResponse,\n        failed: true,\n        error: 'NO_PERMISSION'\n      };\n      this.sendResponse(response);\n      return;\n    }\n    if (this.walletService.wallet instanceof EmbeddedTorusWallet && this.walletService.wallet.implicitAccounts[0] && req.operations) {\n      if (this.isValidOperation(req.operations)) {\n        this.template = req.ui ? this.normalizeTemplate(req.ui) : null;\n        this.externalRequest = { operationRequest: req.operations, selectedAccount: this.activeAccount };\n      } else {\n        this.externalRequest = null;\n        this.sendResponse({\n          type: ResponseTypes.operationResponse,\n          failed: true,\n          error: 'INVALID_TRANSACTION'\n        });\n      }\n    } else {\n      this.sendResponse({\n        type: ResponseTypes.operationResponse,\n        failed: true,\n        error: 'NO_WALLET_FOUND'\n      });\n    }\n  }\n  private async handleTrackRequest(req: TrackRequest) {\n    this.pendingOps.push(req.opHash);\n  }\n  private handleLogoutRequest(req: LogoutRequest) {\n    if (this.walletService.wallet instanceof EmbeddedTorusWallet && this.walletService.wallet.instanceId) {\n      const instanceId = this.walletService.wallet.instanceId;\n      this.logout(instanceId);\n      this.sendResponse({\n        type: ResponseTypes.logoutResponse,\n        instanceId,\n        failed: false\n      });\n    } else {\n      this.noWalletError();\n    }\n  }\n  async loginResponse(loginData: any) {\n    let response: ResponseMessage;\n    let toImport: any;\n    if (loginData === 'dismiss') {\n      this.dismiss = null;\n      response = {\n        type: ResponseTypes.dismissResponse,\n        failed: false\n      };\n    } else if (loginData) {\n      const { keyPair, userInfo } = loginData;\n      const { idToken = '', accessToken = '', long_lived_token = '', ...filteredUserInfo } = { ...userInfo };\n      let instanceId;\n      if (\n        this.walletService.wallet &&\n        this.walletService.wallet instanceof EmbeddedTorusWallet &&\n        keyPair?.pk &&\n        !this.walletService.wallet.implicitAccounts[0] &&\n        this.currentInstanceId\n      ) {\n        instanceId = this.currentInstanceId;\n      } else {\n        // 160 bits of entropy, base58 encoded\n        instanceId = this.generateInstanceId();\n      }\n      response = {\n        type: ResponseTypes.loginResponse,\n        instanceId,\n        pk: keyPair.pk,\n        pkh: keyPair.pkh,\n        userData: filteredUserInfo,\n        failed: false\n      };\n      toImport = { keyPair, userInfo, instanceId };\n      if (this.loginConfig?.authParams) {\n        try {\n          response.authResponse = await this.embeddedAuthService.authenticate(this.loginConfig.authParams, this.origin, keyPair);\n        } catch (e) {\n          console.error(e);\n          response = {\n            type: ResponseTypes.loginResponse,\n            failed: true,\n            error: e?.message\n          };\n          toImport = undefined;\n        }\n      }\n    } else {\n      this.dismiss = null;\n      response = {\n        type: ResponseTypes.loginResponse,\n        failed: true,\n        error: loginData === null ? 'ABORTED_BY_USER' : 'BACKED_BY_USER'\n      };\n    }\n    const loginConfig = this.loginConfig;\n    if (this.dismiss === null) {\n      this.login = false;\n      this.loginConfig = null;\n    }\n    setTimeout(() => {\n      this.sendResponse(response);\n      if (toImport) {\n        if (loginConfig?.strictAuth) {\n          toImport.keyPair.sk = '';\n        }\n        this.importAccount(toImport.keyPair, toImport.userInfo, toImport.instanceId);\n      }\n    }, 10);\n  }\n  async handleAuthRequest(authReq: AuthRequest) {\n    if (!this.hasPermission(Permission.LOGIN)) {\n      const response: ResponseMessage = {\n        type: ResponseTypes.loginResponse,\n        failed: true,\n        error: 'NO_PERMISSION'\n      };\n      this.sendResponse(response);\n      return;\n    }\n    this.embeddedAuthService\n      .authenticate(authReq, this.origin)\n      .then((authResponse: any) => {\n        this.sendResponse({\n          type: ResponseTypes.authResponse,\n          failed: false,\n          message: authResponse.message,\n          signature: authResponse.signature\n        });\n      })\n      .catch((e: Error) => {\n        this.sendResponse({\n          type: ResponseTypes.authResponse,\n          failed: true,\n          error: e.message ? e.message : 'UNKNOWN_ERROR'\n        });\n      });\n  }\n  handleCardRequest(req: CardRequest) {\n    this.blockCard = !req.show;\n    const response: CardResponse = {\n      type: ResponseTypes.cardResponse,\n      failed: false\n    };\n    this.sendResponse(response);\n  }\n  noWalletError() {\n    this.sendResponse({\n      type: ResponseTypes.logoutResponse,\n      failed: true,\n      error: 'NO_WALLET_FOUND'\n    });\n  }\n  operationResponse(opHash: any) {\n    let response: OperationResponse;\n    let errorMessage = '';\n    if (opHash?.error && opHash.errorMessage) {\n      errorMessage = opHash.errorMessage;\n      opHash = opHash.error;\n    }\n    if (!opHash) {\n      response = {\n        type: ResponseTypes.operationResponse,\n        failed: true,\n        error: 'ABORTED_BY_USER'\n      };\n    } else if (opHash === 'exceeded_threshold') {\n      response = {\n        type: ResponseTypes.operationResponse,\n        failed: true,\n        error: 'EXEEDED_THRESHOLD'\n      };\n    } else if (opHash === 'broadcast_error') {\n      response = {\n        type: ResponseTypes.operationResponse,\n        failed: true,\n        error: 'BROADCAST_ERROR',\n        errorMessage\n      };\n    } else if (opHash === 'invalid_parameters') {\n      response = {\n        type: ResponseTypes.operationResponse,\n        failed: true,\n        error: 'INVALID_PARAMETERS',\n        errorMessage\n      };\n    } else if (utils.validOperationHash(opHash)) {\n      response = {\n        type: ResponseTypes.operationResponse,\n        opHash,\n        failed: false\n      };\n    } else {\n      console.warn('Unknown operation response:', opHash);\n      response = {\n        type: ResponseTypes.operationResponse,\n        failed: true,\n        error: 'UNKNOWN_ERROR'\n      };\n    }\n    this.template = null;\n    this.externalRequest = null;\n    setTimeout(() => {\n      this.sendResponse(response);\n    }, 0);\n  }\n  private sendResponse(resp: ResponseMessage) {\n    window.parent.window.postMessage(JSON.stringify(resp), this.origin);\n  }\n  private async importAccount(keyPair: KeyPair, userInfo: any, instanceId: string) {\n    if (keyPair?.pk) {\n      await this.importService\n        .importWalletFromPk(\n          keyPair.pk,\n          '',\n          {\n            verifier: userInfo.typeOfLogin,\n            id: userInfo.verifierId,\n            name: userInfo.name,\n            embedded: true,\n            origin: this.origin\n          },\n          keyPair.sk,\n          instanceId\n        )\n        .then((success: boolean) => {\n          if (success) {\n            this.activeAccount = this.walletService.wallet.implicitAccounts[0];\n            // this.coordinatorService.startXTZ();\n            // this.coordinatorService.start(this.activeAccount.address, this.coordinatorService.defaultDelayActivity);\n            // this.subscribeToConfirmedOps();\n          }\n        });\n    } else if (keyPair?.pk === '') {\n      // login without keys\n      await this.importService.importWalletFromPk(\n        keyPair.pk,\n        '',\n        {\n          verifier: userInfo.typeOfLogin,\n          id: userInfo.verifierId,\n          name: userInfo.name,\n          embedded: true,\n          origin: this.origin\n        },\n        '',\n        instanceId\n      );\n    }\n    this.currentInstanceId = instanceId;\n  }\n  private isValidOperation(transactions: PartialTezosTransactionOperation[]): boolean {\n    try {\n      transactions.forEach((tx) => {\n        if (tx.kind !== 'transaction' || typeof tx.amount !== 'string' || !utils.validAddress(tx.destination)) {\n          throw new Error('Invalid transaction');\n        }\n      });\n    } catch (e) {\n      console.warn(e);\n      return false;\n    }\n    return true;\n  }\n  private generateInstanceId(): string {\n    return common.base58encode(utils.mnemonicToEntropy(utils.generateMnemonic(15)), new Uint8Array([]));\n  }\n  private logout(instanceId: string) {\n    this.subjectService.logout.next(true);\n    this.walletService.clearWallet(instanceId);\n    this.lookupService.clear();\n    this.activeAccount = null;\n    if (this.ophashSubscription) {\n      this.ophashSubscription.unsubscribe();\n    }\n    this.currentInstanceId = '';\n  }\n  subscribeToConfirmedOps() {\n    this.ophashSubscription = this.subjectService.confirmedOp.subscribe((opHash) => {\n      if (this.pendingOps.includes(opHash)) {\n        this.sendResponse({\n          type: ResponseTypes.trackResponse,\n          opHash: opHash,\n          failed: false\n        });\n        for (let i = 0; i < this.pendingOps.length; i++) {\n          if (this.pendingOps[i] === opHash) {\n            this.pendingOps.splice(i, 1);\n          }\n        }\n      }\n    });\n  }\n  private normalizeTemplate(template: any): any {\n    if (template?.descriptions) {\n      for (let i in template.descriptions) {\n        if (typeof template.descriptions[i] === 'string') {\n          template.descriptions[i] = {\n            text: template.descriptions[i]\n          };\n        }\n      }\n    }\n    return template;\n  }\n  private hasPermission(permission: Permission, origin: string = this.origin): boolean {\n    if (!CONSTANTS.MAINNET) {\n      return true;\n    }\n    try {\n      const keys = Object.keys(this.permissionMatrix);\n      for (const key of keys) {\n        for (const allowedOrigin of this.permissionMatrix[key].origins) {\n          if (allowedOrigin.startsWith('*.') ? origin.endsWith(allowedOrigin.slice(1)) : origin === allowedOrigin) {\n            return permission ? this.permissionMatrix[key].permissions[permission] : !!this.permissionMatrix[key].permissions;\n          }\n        }\n      }\n    } catch (e) {\n      console.error(e);\n    }\n    return false;\n  }\n}\n","<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"closeModal()\"><img class=\"x\"\n          src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">Receive Address</h1>\n    </div>\n    <div class=\"seperator\"></div>\n    <div class=\"flex-column receive\">\n      <label class=\"value\">Your account QR code</label>\n      <canvas id='canvas'></canvas>\n      <span class=\"flex-row value\">{{ activeAddress }}<img class=\"copy\" src=\"../../../assets/img/copy-icon.svg\"\n          (click)=\"copy()\" /></span>\n    </div>\n  </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport * as QRCode from 'qrcode';\nimport { MessageService } from '../../../services/message/message.service';\nimport { ModalComponent } from '../modal.component';\nimport copy from 'copy-to-clipboard';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'app-receive',\n  templateUrl: './receive.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class ReceiveComponent extends ModalComponent implements OnInit {\n  activeAddress: string;\n  showReceiveFormat = {\n    btnOutline: true,\n    dropdownItem: false\n  };\n\n  name = 'receive';\n\n  constructor(private messageService: MessageService, private translate: TranslateService) {\n    super();\n  }\n\n  ngOnInit(): void {}\n  open(data: any): void {\n    this.activeAddress = data.address;\n    setTimeout(() => {\n      this.getQR();\n    }, 100);\n    super.open(data);\n  }\n  closeModal(): void {\n    ModalComponent.currentModel.next({ name: '', data: null });\n  }\n  getQR(): void {\n    QRCode.toCanvas(\n      document.getElementById('canvas'),\n      this.activeAddress,\n      {\n        errorCorrectionLevel: 'H',\n        scaleFactor: 2,\n        color: { light: '#FCFCFC' }\n      },\n      function (err, canvas) {\n        if (err) {\n          throw err;\n        }\n      }\n    );\n  }\n  copy(): void {\n    copy(this.activeAddress);\n    const copyToClipboard = this.translate.instant('OVERVIEWCOMPONENT.COPIEDTOCLIPBOARD');\n    this.messageService.add(this.activeAddress + ' ' + copyToClipboard, 5);\n  }\n}\n","<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"closeModal()\"><img class=\"x\" src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">Add New Account</h1>\n    </div>\n    <div class=\"seperator\"></div>\n    <div class=\"flex-column new-account\">\n      <div class=\"label\">\n        ENTER YOUR PASSWORD TO CONFIRM\n      </div>\n      <input #pwdInput [(ngModel)]=\"password\" class=\"text password\" autocomplete=\"current-password\"\n        placeholder=\"Password\" type=\"password\" (input)=\"this.errorMsg = ''\" (change)=\"this.errorMsg = ''\" (keydown.enter)=\"!messageService.spinnerOn ? addPkh() : null\">\n      <span *ngIf=\"this.errorMsg\" class=\"danger margin\">{{ this.errorMsg }}</span>\n      <div class=\"flex-column bottom\">\n        <div class=\"seperator\"></div>\n        <button class=\"confirm\" (click)=\"!messageService.spinnerOn ? addPkh() : null\">Confirm</button>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { HdWallet } from '../../../services/wallet/wallet';\nimport { CoordinatorService } from '../../../services/coordinator/coordinator.service';\nimport { MessageService } from '../../../services/message/message.service';\nimport { ModalComponent } from '../modal.component';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-new-implicit',\n  templateUrl: './new-implicit.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class NewImplicitComponent extends ModalComponent implements OnInit {\n  @ViewChild('pwdInput') pwdView: ElementRef;\n  password = '';\n  errorMsg = '';\n  name = 'new-implicit';\n  constructor(\n    public walletService: WalletService,\n    private coordinatorService: CoordinatorService,\n    private messageService: MessageService,\n    private router: Router\n  ) {\n    super();\n  }\n  openModal(): void {\n    if (this.openPkhSpot()) {\n      ModalComponent.currentModel.next({ name: this.name, data: null });\n      this.clear();\n      setTimeout(() => {\n        const inputElem = this.pwdView.nativeElement as HTMLInputElement;\n        inputElem.focus();\n      }, 100);\n    } else {\n      this.messageService.addWarning(\"Can't create additional accounts when an unused account already exists\");\n    }\n  }\n  closeModal(): void {\n    ModalComponent.currentModel.next({ name: '', data: null });\n    this.clear();\n  }\n  ngOnInit(): void {}\n  async addPkh(): Promise<void> {\n    if (this.openPkhSpot()) {\n      this.messageService.startSpinner('Creating new account');\n      const pkh = await this.walletService.incrementAccountIndex(this.password);\n      if (pkh) {\n        this.coordinatorService.start(pkh, this.coordinatorService.defaultDelayActivity);\n        this.closeModal();\n        this.router.navigateByUrl(`/account/${pkh}`);\n      } else {\n        this.errorMsg = 'Wrong password!';\n      }\n      this.messageService.stopSpinner();\n    } else {\n      console.log('blocked!');\n      this.messageService.addError(\"Can't create additional accounts when an unused account already exists\");\n    }\n  }\n  openPkhSpot(): boolean {\n    const balance: number = this.walletService.wallet.implicitAccounts[this.walletService.wallet.implicitAccounts.length - 1].balanceXTZ;\n    const tokens = this.walletService.wallet.implicitAccounts[this.walletService.wallet.implicitAccounts.length - 1].tokens?.length;\n    return this.walletService.wallet instanceof HdWallet && ((balance && balance > 0) || (tokens && tokens > 0));\n  }\n  clear(): void {\n    this.password = '';\n    this.errorMsg = '';\n  }\n}\n","<div class=\"flex-row dropdown pr-request\" [class.expanded]=\"isOpen\" [id]=\"ecmpId\">\n  <div class=\"flex-row currentAddress\" (click)=\"toggleDropdown()\"><img\n      *ngIf=\"!!getUsername(selection?.address)\" class=\"logo\" src=\"../../../../assets/img/{{ getVerifier() }}-logo.svg\" /><span\n      class=\"address\">{{\n      getUsername(selection?.address) || \"&nbsp;&nbsp;&nbsp;&nbsp;\" + selection?.address }}</span><img\n      *ngIf=\"['', 'domain'].includes(getVerifier())\" class=\"button icon-db\"\n      src=\"../../../../assets/img/down-arrow.svg\" />\n  </div>\n  <div class=\"flex-column dropdown-content\">\n    <ng-container *ngFor=\"let account of options\">\n      <div class=\"option\" [class.selected]=\"account?.address === current?.address\"\n        (click)=\"selection = account; toggleDropdown()\">\n        <ng-container *ngIf=\"getUsername(account?.address)\">\n          <div class=\"flex-row alias\"><img class=\"logo\"\n              src=\"../../../../assets/img/{{ getVerifier() }}-logo.svg\" /><span>{{\n              getUsername(account?.address) }}</span></div>\n          <br /><span>{{\n            account?.address }}</span>\n        </ng-container>\n        <ng-container *ngIf=\"!getUsername(account?.address)\">{{ account?.address }}</ng-container>\n      </div>\n    </ng-container>\n  </div>\n</div>","import { Component, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { TorusWallet } from '../../../../services/wallet/wallet';\nimport { LookupService } from '../../../../services/lookup/lookup.service';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { DropdownComponent } from '../dropdown.component';\n\n@Component({\n  selector: 'app-ui-dropdown-permission-request',\n  templateUrl: './permission-request.component.html',\n  styleUrls: ['../../../../../scss/components/ui/dropdown/account-dropdown.component.scss']\n})\nexport class PermissionRequestDropdownComponent extends DropdownComponent implements OnInit, OnChanges {\n  constructor(public router: Router, public lookupService: LookupService, private walletService: WalletService) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.selection = this.current;\n    this.list = this.options;\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.options && changes.options.currentValue !== changes.options.previousValue) {\n      this.list = this.options;\n    }\n  }\n\n  getUsername(address: string): string {\n    if (this.walletService.wallet instanceof TorusWallet) {\n      return this.walletService.wallet.displayName();\n    } else {\n      const party = this.lookupService.resolve({\n        address: address || this.current?.address\n      });\n      if (party?.name) {\n        return party.name;\n      }\n    }\n    return '';\n  }\n  getVerifier(): string {\n    if (this.walletService.wallet instanceof TorusWallet) {\n      return this.walletService.wallet.verifier;\n    } else {\n      return 'domain';\n    }\n  }\n\n  toggleDropdown(): void {\n    this.dropdownResponse.emit(this.selection);\n    this.isOpen = !this.isOpen;\n  }\n}\n","<div *ngIf=\"permissionRequest\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"rejectPermissions()\"><img class=\"x\"\n          src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">Connect</h1>\n    </div>\n    <div class=\"flex-column permission-request\">\n      <span class=\"transport\">{{ permissionRequest.version ? 'Beacon' : 'Wallet Connect'}}</span>\n      <ng-container *ngIf=\"cachedIcon(permissionRequest); let cachedIcon;\">\n        <app-asset class=\"app-icon\" [assets]=\"{ displayAsset: cachedIcon }\"></app-asset>\n      </ng-container>\n      <span class=\"dapp-name\">{{ permissionRequest.appMetadata.name }}</span>\n      <span class=\"question\">Do you want to connect to<br>this app?</span>\n      <h6>Apply To Account:</h6>\n      <app-ui-dropdown-permission-request [options]=\"accounts\" [current]=\"preSelectedAccount\"\n        (dropdownResponse)=\"selectedAccount = $event\" style=\"width: 100%;align-self: center;\">\n      </app-ui-dropdown-permission-request>\n      <div class=\"flex-column bottom\">\n        <div class=\"seperator\"></div>\n        <button class=\"blue confirm\" (click)=\"grantPermissions()\">Connect</button>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit, Input, EventEmitter, Output, OnChanges, SimpleChanges, OnDestroy } from '@angular/core';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { MessageService } from '../../../services/message/message.service';\nimport { Subscription } from 'rxjs';\nimport { SubjectService } from '../../../services/subject/subject.service';\nimport { Router } from '@angular/router';\nimport { BeaconService } from '../../../services/beacon/beacon.service';\nimport { Account } from '../../../services/wallet/wallet';\n\n@Component({\n  selector: 'app-permission-request',\n  templateUrl: './permission-request.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class PermissionRequestComponent implements OnInit, OnChanges, OnDestroy {\n  @Input() permissionRequest: any;\n  @Input() activeAccount;\n  @Output() permissionResponse = new EventEmitter();\n  syncSub: Subscription;\n  preSelectedAccount: Account;\n  selectedAccount: Account;\n  accounts: Account[];\n  private subscriptions: Subscription = new Subscription();\n  constructor(\n    public walletService: WalletService,\n    private messageService: MessageService,\n    private subjectService: SubjectService,\n    private router: Router,\n    private beaconService: BeaconService\n  ) {}\n  ngOnInit(): void {\n    if (this.walletService.wallet) {\n      this.preSelectedAccount = this.selectedAccount = this.activeAccount?.address?.startsWith('tz')\n        ? this.activeAccount\n        : this.walletService.wallet.implicitAccounts[0];\n    }\n    this.subscriptions.add(\n      this.subjectService.walletUpdated.subscribe(async () => {\n        this.accounts = this.walletService.wallet?.getImplicitAccounts();\n      })\n    );\n    this.accounts = this.walletService.wallet?.getImplicitAccounts();\n  }\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.activeAccount) {\n      this.preSelectedAccount = this.selectedAccount = this.activeAccount?.address?.startsWith('tz')\n        ? this.activeAccount\n        : this.walletService.wallet.implicitAccounts[0];\n    }\n    if (this.permissionRequest) {\n      const scrollBarWidth = window.innerWidth - document.body.offsetWidth;\n      document.body.style.marginRight = scrollBarWidth.toString();\n      document.body.style.overflow = 'hidden';\n      this.messageService.removeBeaconMsg(true);\n      this.syncSub = this.subjectService.beaconResponse.subscribe((response) => {\n        this.permissionResponse.emit(response ? 'silent' : '');\n        this.reset();\n      });\n    }\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  rejectPermissions(): void {\n    this.permissionResponse.emit(null);\n    this.reset();\n  }\n  grantPermissions(): void {\n    const pk = this.selectedAccount?.pk;\n    this.permissionResponse.emit(pk);\n    this.reset();\n    this.router.navigate([`/account/${this.selectedAccount.address}`]);\n  }\n  reset(): void {\n    document.body.style.marginRight = '';\n    document.body.style.overflow = '';\n    this.permissionRequest = null;\n    if (this.syncSub) {\n      this.syncSub.unsubscribe();\n      this.syncSub = undefined;\n    }\n  }\n  scopeToText(scope: string): string {\n    if (scope === 'sign') {\n      return 'Request other signing';\n    } else if (scope === 'operation_request') {\n      return 'Request operation signing';\n    }\n    return scope;\n  }\n  cachedIcon(permissionRequest): string {\n    if (permissionRequest?.appMetadata?.icon) {\n      let icon = permissionRequest?.appMetadata?.icon;\n      if (icon.startsWith('https://')) {\n        icon = icon.slice(8);\n      }\n      return `https://static.tcinfra.net/media/medium/web/${icon}`;\n    }\n    return '';\n  }\n}\n","<div *ngIf=\"signRequest\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"rejectSigning()\"><img class=\"x\" src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">\n        <ng-container *ngIf=\"!isDeku && isMessage\">Sign Message</ng-container>\n        <ng-container *ngIf=\"!isDeku && !isMessage\">Sign Expression</ng-container>\n        <ng-container *ngIf=\"isDeku\">Sign Deku Operation</ng-container>\n      </h1>\n    </div>\n    <div class=\"flex-column sign-expr\">\n      <p class=\"previewAttention\">An application has requested you sign a<ng-container *ngIf=\"!isDeku && isMessage\"> message</ng-container><ng-container *ngIf=\"!isDeku && !isMessage\">n expression</ng-container><ng-container *ngIf=\"isDeku\"> Deku operation</ng-container></p>\n      <p *ngIf=\"!isDeku && !isMessage\" class=\"previewAttention warning\">Warning! Only sign if you understand the expression or trust the source.</p>\n      <p *ngIf=\"isDeku\" class=\"previewAttention warning\">[Layer 2]</p>\n      <app-ui-toggle-advanced *ngIf=\"!isMessage\" style=\"width: 13rem; margin-bottom: 2rem;\" [default]=\"false\" (stateChange)=\"advancedForm = $event\"></app-ui-toggle-advanced>\n      <textarea *ngIf=\"advancedForm || isMessage\" rows=\"10\" readonly>{{ payload }}</textarea>\n      <div class=\"seperator\" style =\"left: 0\"></div>\n      <div class=\"flex-column bottom\">\n        <span *ngIf=\"this.pwdInvalid\" class=\"danger margin\">{{ this.pwdInvalid }}</span>\n        <input *ngIf=\"walletService.isPwdWallet()\" [(ngModel)]=\"password\"\n          autocomplete=\"current-password\" placeholder=\"Password\" class=\"text password\" type=\"password\"\n          (input)=\"this.pwdInvalid = ''\" (change)=\"this.pwdInvalid = ''\" (keydown.enter)='!messageService.spinnerOn ? sign(): null'>\n        <button class=\"purple confirm\" (click)=\"!messageService.spinnerOn ? sign(): null\" [disabled]=\"walletService.isWatchWallet()\">\n          {{ walletService.isLedgerWallet() ? 'Sign with Ledger' : 'Sign'}}</button>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit, SimpleChanges, Input, Output, EventEmitter, OnChanges } from '@angular/core';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { MessageService } from '../../../services/message/message.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Account } from '../../../services/wallet/wallet';\nimport { OperationService } from '../../../services/operation/operation.service';\nimport { emitMicheline } from '@taquito/michel-codec';\nimport { valueDecoder } from '@taquito/local-forging/dist/lib/michelson/codec';\nimport { Uint8ArrayConsumer } from '@taquito/local-forging/dist/lib/uint8array-consumer';\nimport { LedgerService } from '../../../services/ledger/ledger.service';\nimport { InputValidationService } from '../../../services/input-validation/input-validation.service';\nimport { ModalComponent } from '../modal.component';\nimport { Subscription } from 'rxjs';\nimport { SubjectService } from '../../../services/subject/subject.service';\n\n@Component({\n  selector: 'app-sign-expr',\n  templateUrl: './sign-expr.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class SignExprComponent extends ModalComponent implements OnInit, OnChanges {\n  @Input() signRequest: any;\n  @Input() activeAccount: Account;\n  @Output() signResponse = new EventEmitter();\n  syncSub: Subscription;\n  password = '';\n  pwdInvalid = '';\n  payload = '';\n  isMessage = false;\n  isDeku = false;\n  advancedForm = false;\n  name = 'sign-expr';\n  constructor(\n    public walletService: WalletService,\n    private messageService: MessageService,\n    public translate: TranslateService,\n    private operationService: OperationService,\n    private ledgerService: LedgerService,\n    private inputValidationService: InputValidationService,\n    private subjectService: SubjectService\n  ) {\n    super();\n  }\n  ngOnInit(): void {}\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.signRequest) {\n      ModalComponent.currentModel.next({ name: this.name, data: null });\n      this.isDeku = this.signRequest.payload.slice(0, 2) === '80';\n      if (!this.isDeku) {\n        this.isMessage = this.inputValidationService.isMessageSigning(this.signRequest.payload);\n        const value = valueDecoder(Uint8ArrayConsumer.fromHexString(this.signRequest.payload.slice(2)));\n        const payload = emitMicheline(value, {\n          indent: '  ',\n          newline: '\\n'\n        });\n        this.payload = this.isMessage ? value.string : payload;\n      } else {\n        console.log('pay', this.payload);\n        this.payload = `0x${this.signRequest.payload}`;\n      }\n      this.syncSub = this.subjectService.beaconResponse.subscribe((response) => {\n        this.signResponse.emit(response ? 'silent' : '');\n        this.closeModal();\n      });\n    }\n  }\n  async sign(): Promise<void> {\n    if (this.walletService.isLedgerWallet()) {\n      this.requestLedgerSignature();\n    } else {\n      const pwd = this.password;\n      this.password = '';\n      await this.messageService.startSpinner(`Signing ${this.isMessage ? 'message' : 'payload'}...`);\n      let keys;\n      try {\n        keys = await this.walletService.getKeys(pwd, this.activeAccount.pkh);\n      } catch (e) {\n        console.warn(e);\n        this.messageService.stopSpinner();\n      }\n      if (keys) {\n        this.pwdInvalid = '';\n        try {\n          const signature = this.operationService.sign(this.signRequest.payload, keys.sk).edsig;\n          this.acceptSigning(signature);\n        } catch (e) {\n          this.pwdInvalid = 'Signing failed';\n          console.warn(e);\n        } finally {\n          this.messageService.stopSpinner();\n        }\n      } else {\n        this.messageService.stopSpinner();\n        if (this.walletService.isTorusWallet()) {\n          this.pwdInvalid = `Authorization failed`;\n        } else {\n          this.pwdInvalid = this.translate.instant('SENDCOMPONENT.WRONGPASSWORD');\n        }\n      }\n    }\n  }\n  async requestLedgerSignature(): Promise<void> {\n    await this.messageService.startSpinner('Waiting for Ledger signature...');\n    try {\n      const payload = this.signRequest.payload;\n      let signature = '';\n      if (payload.length <= 2290) {\n        signature = await this.ledgerService.signOperation(payload, this.walletService.wallet.implicitAccounts[0].derivationPath);\n      } else {\n        signature = await this.ledgerService.signHash(\n          this.operationService.ledgerPreHash(payload),\n          this.walletService.wallet.implicitAccounts[0].derivationPath\n        );\n      }\n      if (signature) {\n        this.acceptSigning(this.operationService.hexsigToEdsig(signature));\n      } else {\n        this.pwdInvalid = 'Failed to sign transaction';\n      }\n    } finally {\n      this.messageService.stopSpinner();\n    }\n  }\n  rejectSigning(): void {\n    this.closeModal();\n    this.signResponse.emit(null);\n  }\n  acceptSigning(signature: string): void {\n    this.messageService.addSuccess(this.isMessage ? 'Message signed!' : 'Payload signed!');\n    this.closeModal();\n    this.signResponse.emit(signature);\n  }\n  closeModal(): void {\n    ModalComponent.currentModel.next({ name: '', data: null });\n    this.clear();\n  }\n  clear(): void {\n    this.password = '';\n    this.pwdInvalid = '';\n    this.payload = '';\n    this.isMessage = false;\n    if (this.syncSub) {\n      this.syncSub.unsubscribe();\n      this.syncSub = undefined;\n    }\n  }\n}\n","<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"closeModalAction()\"><img class=\"x\"\n          src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">Originate</h1>\n    </div>\n    <div class=\"seperator\"></div>\n    <div class=\"flex-column originate\">\n      <div class=\"flex-column top\">\n        <span class=\"amount key\">AMOUNT:&nbsp;<span class=\"value\">{{ this.balance ? this.balance + ' ' + 'tez' : ''\n            }}</span></span>\n        <!-- <span class=\"amount-usd\"> </span> -->\n        <span class=\"section key\">From:&nbsp;<span class=\"from\">{{ externalRequest?.selectedAccount?.address }}</span></span>\n      </div>\n      <br />\n      <div class=\"flex-row attrs\">\n        <div class=\"flex-row attr\">\n          <span class=\"key\">FEE:&nbsp;</span><span class=\"value\">{{ this.getTotalFee() }} tez</span>\n        </div>\n        <div class=\"flex-row attr\">\n          <span class=\"key\">MAX STORAGE COST:&nbsp;</span><span class=\"value\">{{ getTotalBurn() }} tez</span>\n        </div>\n      </div>\n      <app-ui-toggle-advanced style=\"width: calc(100% - 1em);margin: 2em 0;\" [default]=\"false\"\n        (stateChange)=\"advancedForm = $event\">\n      </app-ui-toggle-advanced>\n      <form autocomplete=\"off\" *ngIf=\"advancedForm\" class=\"advanced-form\">\n        <div class=\"tabs-container\">\n          <div class=\"flex-row tabs\">\n            <span class=\"tab\" [class.active]=\"activeTab === 0\" (click)=\"activeTab = 0\">Code</span>\n            <span class=\"tab\" [class.active]=\"activeTab === 1\" (click)=\"activeTab = 1\">Storage</span>\n          </div>\n        </div>\n        <textarea rows=\"10\" readonly>{{ getScript() }}</textarea>\n        <ng-container *ngIf=\"!(walletService.isLedgerWallet() && !ledgerError)\">\n          <div class=\"flex-row\">\n            <div class=\"flex-column\">\n              <label class=\"label\">Gas limit</label>\n              <input numericinput=\"decimal\" name=\"none\" type=\"text\" class=\"text\" placeholder={{this.defaultTransactionParams.gas.toString()}}\n                [(ngModel)]=\"customGas\">\n            </div>\n            <div class=\"flex-column\">\n              <label class=\"label\">Fee</label>\n              <input numericinput=\"decimal\" name=\"none\" type=\"text\" class=\"text\" (keypress)=\"keyPressNumbersDecimal($event, 'customFee')\"\n                placeholder={{this.defaultTransactionParams.fee.toString()}} [(ngModel)]=\"customFee\">\n            </div>\n          </div>\n          <div class=\"flex-row\">\n            <div class=\"flex-column\">\n              <label class=\"label\">Storage limit</label>\n              <input numericinput=\"decimal\" name=\"none\" type=\"text\" class=\"text\"\n                placeholder={{this.defaultTransactionParams?.storage.toString()}} [(ngModel)]=\"customStorage\">\n            </div>\n            <div class=\"flex-column\">\n              <label class=\"label\">Max storage cost</label>\n              <input numericinput=\"decimal\" name=\"none\" type=\"text\" class=\"text read-only\" [value]=\"burnAmount() ? burnAmount() : '0 tez'\"\n                tabindex=-1 readonly>\n            </div>\n          </div>\n        </ng-container>\n      </form>\n      <span *ngIf=\"formInvalid\" class=\"danger margin\">\n        {{ formInvalid }}\n      </span>\n      <div class=\"flex-column bottom\">\n        <div class=\"seperator\"></div>\n        <br />\n        <ng-container *ngIf=\"walletService.isPwdWallet()\">\n          <input name=\"none\" [(ngModel)]=\"password\" placeholder=\"Password\" autocomplete=\"current-password\"\n            class=\"text password\" type=\"password\" (input)=\"this.pwdInvalid = ''\" (paste)=\"this.pwdInvalid = ''\"\n            (keydown.enter)='!messageService.spinnerOn ? inject() : null'>\n        </ng-container>\n        <button *ngIf=\"walletService.isLedgerWallet() && ledgerError; else elseBlock\" class=\"blue confirm\"\n          (click)=\"ledgerSign()\">Sign with Ledger</button>\n        <ng-template #elseBlock>\n          <button class=\"blue confirm\" (click)=\"!messageService.spinnerOn ? inject() : null\"\n            [disabled]=\"(walletService.isLedgerWallet() && (!sendResponse || !sendResponse.payload || !sendResponse.payload.signedOperation)) || walletService.isWatchWallet()\">\n            {{ walletService.isLedgerWallet() ? 'Broadcast' : 'Confirm'}}</button>\n        </ng-template>\n      </div>\n      <span *ngIf=\"this.pwdInvalid\" class=\"danger margin\">{{ this.pwdInvalid }}</span>\n    </div>\n  </div>\n</div>","import { Component, OnInit, Input, Output, EventEmitter, OnChanges, SimpleChanges, OnDestroy } from '@angular/core';\nimport { KeyPair, DefaultTransactionParams, ExternalRequest } from '../../../interfaces';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { CoordinatorService } from '../../../services/coordinator/coordinator.service';\nimport { OperationService } from '../../../services/operation/operation.service';\nimport { InputValidationService } from '../../../services/input-validation/input-validation.service';\nimport { LedgerService } from '../../../services/ledger/ledger.service';\nimport { LedgerWallet, Account, TorusWallet } from '../../../services/wallet/wallet';\nimport { MessageService } from '../../../services/message/message.service';\nimport Big from 'big.js';\nimport { emitMicheline, assertMichelsonData, assertMichelsonContract } from '@taquito/michel-codec';\nimport { EstimateService } from '../../../services/estimate/estimate.service';\nimport { Subscription } from 'rxjs';\nimport { ModalComponent } from '../modal.component';\nimport { SubjectService } from '../../../services/subject/subject.service';\n\nconst zeroTxParams: DefaultTransactionParams = {\n  gas: 0,\n  storage: 0,\n  fee: 0,\n  burn: 0\n};\n\n@Component({\n  selector: 'app-originate',\n  templateUrl: './originate.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class OriginateComponent extends ModalComponent implements OnInit, OnChanges, OnDestroy {\n  readonly beaconMode = true;\n  @Input() externalRequest: ExternalRequest;\n  @Output() operationResponse = new EventEmitter();\n  syncSub: Subscription;\n  defaultTransactionParams: DefaultTransactionParams = zeroTxParams;\n  costPerByte: string = this.estimateService.costPerByte;\n\n  balance = '';\n  script: any;\n\n  customFee = '';\n  customGas = '';\n  customStorage = '';\n\n  pwdInvalid: string;\n  formInvalid = '';\n  sendResponse: any;\n  ledgerError = '';\n  simError = '';\n\n  password: string;\n  advancedForm = false;\n  simSemaphore = 0;\n  activeTab = 0;\n\n  name = 'originate';\n\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(\n    private walletService: WalletService,\n    private operationService: OperationService,\n    private coordinatorService: CoordinatorService,\n    private inputValidationService: InputValidationService,\n    private ledgerService: LedgerService,\n    private messageService: MessageService,\n    private estimateService: EstimateService,\n    private subjectService: SubjectService\n  ) {\n    super();\n  }\n  ngOnInit(): void {}\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.beaconMode) {\n      if (\n        this.externalRequest?.operationRequest?.operationDetails?.length === 1 &&\n        this.externalRequest.operationRequest.operationDetails[0].kind === 'origination'\n      ) {\n        if (this.isValidOrigination()) {\n          this.openModal();\n          this.balance = Big(this.externalRequest.operationRequest.operationDetails[0].balance)\n            .div(10 ** 6)\n            .toFixed();\n          this.script = this.externalRequest.operationRequest.operationDetails[0].script;\n          const recommendations = {\n            gasRecommendation: this.externalRequest.operationRequest.operationDetails[0].gas_limit\n              ? this.externalRequest.operationRequest.operationDetails[0].gas_limit\n              : undefined,\n            storageRecommendation: this.externalRequest.operationRequest.operationDetails[0].storage_limit\n              ? this.externalRequest.operationRequest.operationDetails[0].storage_limit\n              : undefined\n          };\n          this.estimateFees(recommendations);\n          if (this.beaconMode) {\n            this.syncSub = this.subjectService.beaconResponse.subscribe((response) => {\n              this.operationResponse.emit(response ? 'silent' : '');\n              this.closeModal();\n            });\n          }\n        } else {\n          console.warn('Invalid origination');\n          this.operationResponse.emit('parameters_error');\n        }\n      }\n    }\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  openModal(): void {\n    if (this.walletService.wallet) {\n      // hide body scrollbar\n      const scrollBarWidth = window.innerWidth - document.body.offsetWidth;\n      document.body.style.marginRight = scrollBarWidth.toString();\n      document.body.style.overflow = 'hidden';\n      this.clearForm();\n      if (this.walletService.isLedgerWallet()) {\n        this.ledgerError = '?';\n      }\n      ModalComponent.currentModel.next({ name: this.name, data: null });\n    }\n  }\n  isValidOrigination(): boolean {\n    const origination = this.externalRequest.operationRequest.operationDetails[0];\n    if (!origination.balance || !this.inputValidationService.amount(origination.balance, 0)) {\n      console.warn('invalid balance');\n      return false;\n    }\n    try {\n      assertMichelsonContract(origination.script.code);\n      assertMichelsonData(origination.script.storage);\n    } catch (e) {\n      console.warn('Invalid script');\n      return false;\n    }\n    return true;\n  }\n  async estimateFees(recommendations: any = {}): Promise<void> {\n    const callback = (res) => {\n      if (res) {\n        if (res.error) {\n          this.simError = res.error;\n          this.formInvalid = this.simError;\n        } else {\n          this.defaultTransactionParams = res;\n        }\n      }\n      this.simSemaphore--;\n    };\n    this.simSemaphore++;\n    await this.estimateService.preLoadData(this.externalRequest.selectedAccount.pkh, this.externalRequest.selectedAccount.pk);\n    this.estimateService.estimateOrigination({ ...this.getOrigination(), ...recommendations }, this.externalRequest.selectedAccount.pkh, callback);\n  }\n  getOrigination(): {\n    balance: string;\n    script: string;\n    gasLimit: number;\n    storageLimit: number;\n  } {\n    const gasLimit = this.customGas ? Number(this.customGas) : this.defaultTransactionParams.gas;\n    const storageLimit = this.customStorage ? Number(this.customStorage) : this.defaultTransactionParams.storage;\n    return JSON.parse(\n      JSON.stringify({\n        balance: this.balance,\n        script: this.script,\n        gasLimit,\n        storageLimit\n      })\n    );\n  }\n  getTotalCost(display: boolean = false): string {\n    const totalFee = Big(this.getTotalFee()).plus(Big(this.getTotalBurn())).toString();\n    if (display && totalFee === '0') {\n      return '-';\n    }\n    return totalFee;\n  }\n  getTotalFee(): number {\n    if (this.customFee !== '' && Number(this.customFee)) {\n      return Number(this.customFee);\n    }\n    return Number(this.defaultTransactionParams.fee);\n  }\n  getTotalBurn(): number {\n    if (this.customStorage !== '' && Number(this.customStorage)) {\n      return Number(Big(this.customStorage).times(this.costPerByte).div(1000000).toString());\n    }\n    return this.defaultTransactionParams.burn;\n  }\n  burnAmount(): string {\n    const burn = this.customStorage ? Number(Big(this.customStorage).times(this.costPerByte).div(1000000)) : this.defaultTransactionParams.burn;\n    if (burn) {\n      return burn + ' tez';\n    }\n    return '';\n  }\n  getScript(): string {\n    return this.activeTab\n      ? emitMicheline(this.script.storage, {\n          indent: '  ',\n          newline: '\\n'\n        })\n      : emitMicheline(this.script.code, { indent: '  ', newline: '\\n' });\n  }\n  closeModalAction(): void {\n    this.operationResponse.emit(null);\n    this.closeModal();\n  }\n  closeModal(): void {\n    ModalComponent.currentModel.next({ name: '', data: null });\n    this.clearForm();\n    this.messageService?.stopSpinner();\n  }\n  async inject(): Promise<void> {\n    this.formInvalid = this.simError;\n    const valid = this.validateOrigination();\n    if (valid) {\n      const pwd = this.password;\n      this.password = '';\n      this.messageService.startSpinner('Signing operation...');\n      let keys;\n      try {\n        keys = await this.walletService.getKeys(pwd, this.externalRequest.selectedAccount.pkh);\n      } catch {\n        this.messageService.stopSpinner();\n      }\n      if (this.walletService.isLedgerWallet()) {\n        this.broadCastLedgerTransaction();\n        this.sendResponse = null;\n      } else {\n        if (keys) {\n          this.pwdInvalid = '';\n          this.messageService.startSpinner('Sending operation...');\n          this.sendOrigination(keys);\n          this.closeModal();\n        } else {\n          this.messageService.stopSpinner();\n          if (this.walletService.wallet instanceof TorusWallet) {\n            this.pwdInvalid = `Authorization failed`;\n          } else {\n            this.pwdInvalid = 'Wrong password!';\n          }\n        }\n      }\n    }\n  }\n  validateOrigination(): boolean {\n    if (this.simSemaphore) {\n      return false;\n    } else if (this.formInvalid) {\n      return false;\n    } else if (!this.inputValidationService.gas(this.customGas)) {\n      this.formInvalid = 'Invalid gas limit';\n      return false;\n    } else if (!this.inputValidationService.storage(this.customStorage)) {\n      this.formInvalid = 'Invalid storage limit';\n      return false;\n    } else if (!this.inputValidationService.amount(this.customFee, 6)) {\n      this.formInvalid = 'Invalid fee';\n      return false;\n    }\n    return true;\n  }\n  async ledgerSign(): Promise<void> {\n    this.formInvalid = this.simError;\n    const valid = this.validateOrigination();\n    if (valid) {\n      const keys = await this.walletService.getKeys('');\n      if (keys) {\n        this.sendOrigination(keys);\n      }\n    }\n  }\n  async sendOrigination(keys: KeyPair): Promise<void> {\n    //this.fee = '';\n    this.subscriptions.add(\n      this.operationService.originate(this.getOrigination(), this.getTotalFee(), keys).subscribe(\n        async (ans: any) => {\n          this.sendResponse = ans;\n          if (ans.success === true) {\n            if (ans.payload.opHash) {\n              this.operationResponse.emit(ans.payload.opHash);\n              const metadata = {\n                kt1: ans.payload.newPkh,\n                opHash: ans.payload.opHash,\n                origination: this.externalRequest.operationRequest.operationDetails[0]\n              };\n              this.coordinatorService.boost(this.externalRequest.selectedAccount.address, metadata);\n            } else if (this.walletService.isLedgerWallet()) {\n              this.requestLedgerSignature();\n            }\n          } else {\n            this.messageService.stopSpinner();\n            console.log('Origination error id ', ans.payload.msg);\n            this.messageService.addError(ans.payload.msg, 0);\n            this.operationResponse.emit('broadcast_error');\n            if (this.walletService.isLedgerWallet) {\n              this.closeModal();\n            }\n          }\n        },\n        (err) => {\n          console.log('Error Message ', JSON.stringify(err));\n          this.ledgerError = 'Failed to create operation';\n        }\n      )\n    );\n  }\n  async requestLedgerSignature(): Promise<void> {\n    if (this.walletService.wallet instanceof LedgerWallet) {\n      const op = this.sendResponse.payload.unsignedOperation;\n      this.messageService.startSpinner('Waiting for Ledger signature');\n      let signature;\n      try {\n        signature = await this.ledgerService.signOperation('03' + op, this.walletService.wallet.implicitAccounts[0].derivationPath);\n      } finally {\n        this.messageService.stopSpinner();\n      }\n      if (signature) {\n        const signedOp = op + signature;\n        this.sendResponse.payload.signedOperation = signedOp;\n        this.ledgerError = '';\n      } else {\n        this.ledgerError = 'Failed to sign operation';\n      }\n    }\n  }\n  async broadCastLedgerTransaction(): Promise<void> {\n    this.messageService.startSpinner('Broadcasting operation');\n    this.subscriptions.add(\n      this.operationService.broadcast(this.sendResponse.payload.signedOperation).subscribe(\n        (ans: any) => {\n          this.sendResponse = ans;\n          if (ans.success && this.externalRequest.selectedAccount.address) {\n            const metadata = {\n              kt1: ans.payload.newPkh,\n              opHash: ans.payload.opHash,\n              origination: this.externalRequest.operationRequest.operationDetails[0]\n            };\n            this.coordinatorService.boost(this.externalRequest.selectedAccount.address, metadata);\n          } else {\n            this.messageService.addError(this.sendResponse.payload.msg, 0);\n            this.operationResponse.emit('broadcast_error');\n          }\n          this.closeModal();\n          console.log('ans: ' + JSON.stringify(ans));\n        },\n        (error) => {\n          this.messageService.stopSpinner();\n          this.messageService.addError(error, 0);\n          this.operationResponse.emit('broadcast_error');\n        }\n      )\n    );\n  }\n  clearForm(): void {\n    this.defaultTransactionParams = zeroTxParams;\n    this.customFee = '';\n    this.customGas = '';\n    this.customStorage = '';\n\n    this.balance = '';\n    this.script = null;\n\n    this.advancedForm = false;\n\n    this.password = '';\n    this.pwdInvalid = '';\n    this.formInvalid = '';\n    this.simError = '';\n\n    this.sendResponse = null;\n    this.ledgerError = '';\n    this.simSemaphore = 0;\n    this.activeTab = 0;\n\n    if (this.syncSub) {\n      this.syncSub.unsubscribe();\n      this.syncSub = undefined;\n    }\n  }\n  // Only Numbers with Decimals\n  keyPressNumbersDecimal(event, input): boolean {\n    const charCode = event.which ? event.which : event.keyCode;\n    if (charCode !== 46 && charCode > 31 && (charCode < 48 || charCode > 57)) {\n      event.preventDefault();\n      return false;\n    } else if (charCode === 46 && this[input].length === 0) {\n      this[input] = '0' + this[input];\n    }\n    return true;\n  }\n}\n","<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"closeModalAction()\"><img class=\"x\"\n          src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">Confirm Staking</h1>\n    </div>\n    <div class=\"flex-column confirm-staking\">\n      <div class=\"flex-row head\">\n        <img *ngIf=\"delegate?.logo\" [src]=\"delegate.logo\" />\n        <div class=\"flex-column data\"\n          *ngIf=\"delegate?.name ? delegate.name : toPkh; let delegateDisplayName; else undelegate\">\n          <span class=\"name\">{{ delegateDisplayName }}</span>\n          <div class=\"flex-row fee-space\"><span class=\"fee\"><span>SPLIT:</span>&nbsp;{{ delegate?.fee ?\n              toPercent(delegate.fee) : 'UNKNOWN' }}</span><span *ngIf=\"delegate?.freeSpace\"\n              class=\"space\" [class.insufficent]=\"delegate.freeSpace < balanceXTZ\"><span>SPACE:</span>&nbsp;{{ round(delegate.freeSpace) }}</span>\n          </div>\n        </div>\n        <ng-template #undelegate>\n          <div class=\"flex-column data\">\n            <span class=\"name\">Undelegate from baker</span>\n          </div>\n        </ng-template>\n      </div>\n      <br />\n      <app-ui-toggle-advanced style=\"width: calc(100% - 1em);\" [default]=\"false\" (stateChange)=\"advanced = $event\">\n      </app-ui-toggle-advanced>\n      <br />\n      <br />\n      <ng-container *ngIf=\"advanced\">\n        <form autocomplete=\"off\">\n          <div class=\"label\">Fee <span class=\"label\" style=\"margin: 0; text-transform: lowercase;\">(tez)</span></div>\n          <input inputmode=\"decimal\" name=\"none\" [(ngModel)]=\"fee\" class=\"text fee\" type=\"text\" placeholder=\"{{defaultFee}}\"\n            [disabled]=\"walletService.isLedgerWallet() && sendResponse?.payload?.signedOperation\" />\n        </form>\n      </ng-container>\n      <br />\n      <br />\n      <div class=\"flex-column bottom\">\n        <div class=\"seperator\"></div>\n        <ng-container *ngIf=\"walletService.isPwdWallet()\">\n          <div class=\"label\">ENTER YOUR PASSWORD TO CONFIRM</div>\n          <span *ngIf=\"this.pwdValid\" class=\"label danger\">{{ this.pwdValid }}</span>\n          <input name=\"none\" [(ngModel)]=\"password\" placeholder=\"Password\" autocomplete=\"current-password\"\n            class=\"text password\" type=\"password\" (input)=\"this.pwdValid = ''\" (change)=\"this.pwdValid = ''\"\n            (keydown.enter)='!messageService.spinnerOn ? inject() : null'>\n        </ng-container>\n        <button class=\"confirm\" *ngIf=\"walletService.isLedgerWallet() && ledgerError; else elseBlock\"\n          (click)=\"ledgerSign()\">Sign with Ledger</button>\n        <ng-template #elseBlock>\n          <button class=\"confirm\" (click)=\"!messageService.spinnerOn ? inject() : null\"\n            [disabled]=\"(walletService.isLedgerWallet() && (!sendResponse || !sendResponse.payload || !sendResponse.payload.signedOperation)) || walletService.isWatchWallet()\">\n            {{ walletService.isLedgerWallet() ? 'Broadcast' : 'Confirm'}}</button>\n        </ng-template>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit, Input, ViewChild, ElementRef, Output, EventEmitter, OnChanges, SimpleChanges, OnDestroy } from '@angular/core';\nimport { KeyPair, ExternalRequest } from '../../../interfaces';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { CoordinatorService } from '../../../services/coordinator/coordinator.service';\nimport { OperationService } from '../../../services/operation/operation.service';\nimport { ExportService } from '../../../services/export/export.service';\nimport { InputValidationService } from '../../../services/input-validation/input-validation.service';\nimport { LedgerService } from '../../../services/ledger/ledger.service';\nimport { LedgerWallet, Account, ImplicitAccount, OriginatedAccount, TorusWallet } from '../../../services/wallet/wallet';\nimport { MessageService } from '../../../services/message/message.service';\nimport { TezosDomainsService } from '../../../services/tezos-domains/tezos-domains.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ModalComponent } from '../modal.component';\nimport { Subscription } from 'rxjs';\nimport { SubjectService } from '../../../services/subject/subject.service';\nimport Big from 'big.js';\n\n@Component({\n  selector: 'app-delegate',\n  templateUrl: './delegate.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class DelegateComponent extends ModalComponent implements OnInit, OnChanges, OnDestroy {\n  domainPendingLookup = false;\n  defaultFee = 0.0003;\n  readonly pkhFee = 0.0003;\n  readonly ktFee = 0.0008;\n  @ViewChild('toPkhInput') toPkhView: ElementRef;\n  @Input() beaconMode = false;\n  @Input() externalRequest: ExternalRequest;\n  @Output() operationResponse = new EventEmitter();\n  activeAccount: Account;\n  toPkh: string;\n  delegate = null;\n  fee: string = '';\n  password: string;\n  pwdValid: string;\n  formInvalid = '';\n  sendResponse: any;\n  ledgerError = '';\n  syncSub: Subscription;\n  advanced = false;\n  balanceXTZ = 0;\n\n  name = 'delegate-confirm';\n\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(\n    private route: ActivatedRoute,\n    public walletService: WalletService,\n    private operationService: OperationService,\n    private coordinatorService: CoordinatorService,\n    private exportService: ExportService,\n    private inputValidationService: InputValidationService,\n    private ledgerService: LedgerService,\n    private messageService: MessageService,\n    private tezosDomains: TezosDomainsService,\n    private subjectService: SubjectService,\n    private router: Router\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    if (this.walletService.wallet) {\n      let address = this.route.snapshot.paramMap.get('address');\n      if (this.walletService.addressExists(address)) {\n        this.activeAccount = this.walletService.wallet.getAccount(address);\n      }\n      this.subscriptions.add(\n        this.subjectService.activeAccount.subscribe((activeAccount) => {\n          this.activeAccount = activeAccount;\n        })\n      );\n    }\n  }\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.beaconMode) {\n      if (this.externalRequest?.operationRequest) {\n        const opReq = this.externalRequest.operationRequest.operationDetails\n          ? this.externalRequest.operationRequest.operationDetails\n          : this.externalRequest.operationRequest;\n        if (opReq[0]?.kind === 'delegation') {\n          if (opReq[0].delegate) {\n            this.activeAccount = this.externalRequest.selectedAccount;\n            ModalComponent.currentModel.next({\n              name: '',\n              data: null\n            });\n            this.clearForm();\n            ModalComponent.currentModel.next({\n              name: 'delegate-confirm',\n              data: { address: opReq[0].delegate }\n            });\n          }\n        }\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  open(data): void {\n    if (this.walletService.wallet) {\n      this.clearForm(true);\n      this.estimateDefaultFee();\n      this.toPkh = data.address;\n      this.delegate = data;\n      this.balanceXTZ = this.activeAccount ? this.activeAccount.balanceXTZ / 1000000 : 0;\n      if (this.walletService.isLedgerWallet()) {\n        this.ledgerError = '?';\n      }\n      if (this.beaconMode) {\n        this.syncSub = this.subjectService.beaconResponse.subscribe((response) => {\n          this.operationResponse.emit(response ? 'silent' : '');\n        });\n      }\n      super.open();\n    }\n  }\n\n  async inject(): Promise<void> {\n    const pwd = this.password;\n    this.password = '';\n    this.messageService.startSpinner('Signing operation...');\n    let keys;\n    try {\n      keys = await this.walletService.getKeys(pwd, this.activeAccount.pkh);\n    } catch {\n      this.messageService.stopSpinner();\n    }\n    if (this.walletService.isLedgerWallet()) {\n      this.broadCastLedgerTransaction();\n      this.sendResponse = null;\n    } else {\n      if (keys) {\n        this.pwdValid = '';\n        this.messageService.startSpinner('Sending operation...');\n        this.sendDelegation(keys);\n      } else {\n        this.messageService.stopSpinner();\n        if (this.walletService.wallet instanceof TorusWallet) {\n          this.pwdValid = `Authorization failed`;\n        } else {\n          this.pwdValid = 'Wrong password!';\n        }\n      }\n    }\n  }\n  async ledgerSign(): Promise<void> {\n    const keys = await this.walletService.getKeys('');\n    if (keys) {\n      this.messageService.startSpinner('');\n      this.sendDelegation(keys);\n    }\n  }\n\n  async sendDelegation(keys: KeyPair): Promise<void> {\n    let fee = this.getFee();\n    this.subscriptions.add(\n      this.operationService.delegate(this.activeAccount.address, this.toPkh, Number(fee), keys).subscribe(\n        async (ans: any) => {\n          this.sendResponse = ans;\n          console.log(JSON.stringify(ans));\n          if (ans.success === true) {\n            if (ans.payload.opHash) {\n              this.operationResponse.emit(ans.payload.opHash);\n              const metadata = {\n                delegate: this.toPkh,\n                opHash: ans.payload.opHash\n              };\n              this.coordinatorService.boost(this.activeAccount.address, metadata);\n              this.closeModal();\n              this.router.navigate([`/account/${this.activeAccount.address}`]);\n            } else if (this.walletService.isLedgerWallet()) {\n              this.requestLedgerSignature();\n            }\n          } else {\n            console.log('Delegation error id ', ans.payload.msg);\n            this.messageService.addError(ans.payload.msg, 0);\n            this.operationResponse.emit('broadcast_error');\n            this.closeModal();\n          }\n        },\n        (err) => {\n          console.log('Error Message ', JSON.stringify(err));\n          this.ledgerError = 'Failed to create operation';\n        }\n      )\n    );\n  }\n  async requestLedgerSignature(): Promise<void> {\n    if (this.walletService.wallet instanceof LedgerWallet) {\n      const op = this.sendResponse.payload.unsignedOperation;\n      this.messageService.startSpinner('Waiting for Ledger signature');\n      let signature;\n      try {\n        signature = await this.ledgerService.signOperation('03' + op, this.walletService.wallet.implicitAccounts[0].derivationPath);\n      } finally {\n        this.messageService.stopSpinner();\n      }\n      if (signature) {\n        const signedOp = op + signature;\n        this.sendResponse.payload.signedOperation = signedOp;\n        this.ledgerError = '';\n      } else {\n        this.ledgerError = 'Failed to sign operation';\n      }\n    }\n  }\n  async broadCastLedgerTransaction(): Promise<void> {\n    this.messageService.startSpinner('Broadcasting operation');\n    this.operationService.broadcast(this.sendResponse.payload.signedOperation).subscribe(\n      (ans: any) => {\n        this.sendResponse = ans;\n        if (ans.success && this.activeAccount.address) {\n          this.operationResponse.emit(ans.payload.opHash);\n          const metadata = {\n            delegate: this.toPkh,\n            opHash: ans.payload.opHash\n          };\n          this.coordinatorService.boost(this.activeAccount.address, metadata);\n          this.closeModal();\n          this.router.navigate([`/account/${this.activeAccount.address}`]);\n        } else {\n          this.messageService.addError(this.sendResponse.payload.msg, 0);\n          this.operationResponse.emit('broadcast_error');\n        }\n        this.closeModal();\n        console.log('ans: ' + JSON.stringify(ans));\n      },\n      (error) => {\n        this.messageService.stopSpinner();\n        this.messageService.addError(error, 0);\n        this.operationResponse.emit('broadcast_error');\n      }\n    );\n  }\n  estimateDefaultFee(): void {\n    this.subscriptions.add(\n      this.operationService.isRevealed(this.activeAccount.pkh).subscribe((revealed: boolean) => {\n        const revealFee = revealed ? 0 : 0.0001;\n        if (this.activeAccount instanceof ImplicitAccount) {\n          this.defaultFee = Number(new Big(revealFee).plus(this.pkhFee));\n        } else if (this.activeAccount instanceof OriginatedAccount) {\n          this.defaultFee = Number(new Big(revealFee).plus(this.ktFee));\n        }\n      })\n    );\n  }\n  getFee(): string {\n    return this.fee !== '' ? this.fee : this.defaultFee.toString();\n  }\n  clearForm(init: boolean = false): void {\n    if (!init && this.syncSub) {\n      this.syncSub.unsubscribe();\n      this.syncSub = undefined;\n    }\n    this.toPkh = '';\n    this.fee = '';\n    this.defaultFee = this.pkhFee;\n    this.password = '';\n    this.pwdValid = '';\n    this.formInvalid = '';\n    this.sendResponse = '';\n    this.ledgerError = '';\n    this.domainPendingLookup = false;\n    this.delegate = null;\n    this.advanced = false;\n  }\n  async invalidInput(): Promise<string> {\n    // if it is a tezos-domain\n    if (this.toPkh && this.toPkh.indexOf('.') > -1) {\n      try {\n        this.domainPendingLookup = true;\n        const { pkh } = await this.tezosDomains.getAddressFromDomain(this.toPkh);\n        if (pkh) {\n          this.toPkh = pkh;\n        } else {\n          this.domainPendingLookup = false;\n          return 'Could not find the domain';\n        }\n      } catch (error) {\n        return error.message;\n      } finally {\n        this.domainPendingLookup = false;\n      }\n    }\n    if (\n      (!this.inputValidationService.address(this.toPkh) && this.toPkh !== '') ||\n      (this.toPkh.length > 1 && this.toPkh.slice(0, 2) !== 'tz') ||\n      this.walletService.wallet.getImplicitAccount(this.toPkh)\n    ) {\n      return 'invalid delegate address';\n    } else if (!this.inputValidationService.fee(this.fee)) {\n      return 'invalid fee';\n    } else {\n      return '';\n    }\n  }\n  // Only Numbers with Decimals\n  keyPressNumbersDecimal(event, input): boolean {\n    const charCode = event.which ? event.which : event.keyCode;\n    if (charCode !== 46 && charCode > 31 && (charCode < 48 || charCode > 57)) {\n      event.preventDefault();\n      return false;\n    } else if (charCode === 46 && this[input].length === 0) {\n      this[input] = '0' + this[input];\n    }\n    return true;\n  }\n  download(): void {\n    this.exportService.downloadOperationData(this.sendResponse.payload.unsignedOperation, false);\n  }\n\n  closeModalAction(): void {\n    this.operationResponse.emit(null);\n    this.closeModal();\n  }\n\n  closeModal(): void {\n    ModalComponent.currentModel.next({ name: '', data: null });\n    this.clearForm();\n    this.ledgerError = '';\n    this.messageService.stopSpinner();\n  }\n\n  round(val): string {\n    return Math.round(Number(val)).toString();\n  }\n\n  toPercent(val): string {\n    return parseFloat((Number(val) * 100).toFixed(2)).toString() + '%';\n  }\n}\n","<div #viewRef class=\"flex-column list\">\n  <a *ngFor=\"let account of list\" class=\"flex-row option\" [class.selected]=\"account?.address === current?.address\"\n    routerLink=\"/account/{{account?.address}}{{postfix}}\" (click)=\"closeModal()\">\n    <div class=\"flex-column left\">\n      <ng-container *ngIf=\"getUsername(account?.address)\">\n        <div class=\"flex-row alias\"><img class=\"logo\" src=\"../../../../assets/img/{{ getVerifier() }}-logo.svg\" /><span\n            class=\"name\">{{\n            getUsername(account?.address) }}</span><img class=\"copy\" src=\"../../../../assets/img/copy-icon.svg\"\n            (click)=\"this.copy($event, account?.address); false\" /></div>\n        <span class=\"addr\">{{\n          !isMobile ? account?.address : account?.shortAddress() }}</span>\n      </ng-container>\n      <ng-container *ngIf=\"!getUsername(account?.address)\">\n        <div class=\"flex-row\"><span class=\"addr default\">{{\n            !isMobile ? account?.address : account?.shortAddress() }}</span><img class=\"copy\"\n            src=\"../../../../assets/img/copy-icon.svg\" (click)=\"this.copy($event, account?.address); false\" /></div>\n      </ng-container>\n    </div>\n    <div class=\"flex-column balances\">\n      <div class=\"balance-tez\">{{ (getBalance(account) | number: '1.0-6' | removeComma) }} tez</div>\n      <div class=\"balance-fiat\">{{ '$' + (getBalanceFiat(account) | number:'1.2-2' | removeComma)\n        }}</div>\n    </div>\n  </a>\n  <div class=\"flex-row total-balances\">\n    <h3>TOTAL:</h3>\n    <div class=\"flex-column\">\n      <div class=\"balance-tez\">{{ (getTotalBalance() | number: '1.0-6' | removeComma) + ' tez' }}\n      </div>\n      <div class=\"balance-fiat\">{{ '$' + (getTotalFiat() | number:'1.2-2' | removeComma) }}\n      </div>\n    </div>\n  </div>\n</div>","import { AfterViewInit, Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { TorusWallet } from '../../../../services/wallet/wallet';\nimport { LookupService } from '../../../../services/lookup/lookup.service';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { ModalComponent } from '../../modal.component';\nimport { Subscription } from 'rxjs';\nimport { ListComponent } from '../../../ui/generic/list.component';\nimport copy from 'copy-to-clipboard';\nimport { MessageService } from '../../../../services/message/message.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport Big from 'big.js';\nimport { RemoveCommaPipe } from '../../../../pipes/remove-comma.pipe';\nimport { filter } from 'rxjs/operators';\nimport { SubjectService } from '../../../../services/subject/subject.service';\n\n@Component({\n  selector: 'app-account-list-body',\n  templateUrl: './body.component.html',\n  styleUrls: ['../../../../../scss/components/modals/account-list.scss']\n})\nexport class AccountListBodyComponent extends ListComponent implements OnInit, AfterViewInit, OnDestroy {\n  postfix = '';\n  isMobile = false;\n  @ViewChild('viewRef') viewRef: ElementRef;\n  preSelectedAccount: string;\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(\n    public router: Router,\n    public lookupService: LookupService,\n    private walletService: WalletService,\n    public translate: TranslateService,\n    public messageService: MessageService,\n    public removeCommaPipe: RemoveCommaPipe,\n    private subjectService: SubjectService\n  ) {\n    super();\n    this.subscriptions.add(\n      this.router.events.pipe(filter((evt) => evt instanceof NavigationEnd)).subscribe(async (r: NavigationEnd) => {\n        let accountAddress = r.url.substr(r.url.indexOf('/account/') + 9);\n        this.postfix = !!accountAddress.substring(36) ? accountAddress.substring(36) : '';\n      })\n    );\n  }\n\n  ngOnInit(): void {\n    if (this.walletService.wallet) {\n      this.preSelectedAccount = this.current;\n    }\n    this.subscriptions.add(\n      this.subjectService.walletUpdated.subscribe(() => {\n        this.list = this.walletService.wallet?.getAccounts();\n      })\n    );\n    this.list = this.walletService.wallet?.getAccounts();\n\n    const e = () => {\n      this.isMobile = !!parseInt(document.documentElement.style.getPropertyValue('--is-mobile'));\n    };\n    window.addEventListener('resize', e);\n    e();\n  }\n\n  ngAfterViewInit(): void {\n    const selRef = this.viewRef.nativeElement.querySelector('.option.selected') as HTMLElement;\n    this.viewRef.nativeElement.scrollTo(0, selRef.offsetTop - 100);\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  getUsername(address: string): string {\n    if (this.walletService.wallet instanceof TorusWallet) {\n      return this.walletService.wallet.displayName();\n    } else {\n      const party = this.lookupService.resolve({ address: address });\n      if (party?.name) {\n        return party.name;\n      }\n    }\n    return '';\n  }\n  getVerifier(): string {\n    if (this.walletService.wallet instanceof TorusWallet) {\n      return this.walletService.wallet.verifier;\n    } else {\n      return 'domain';\n    }\n  }\n  closeModal(): void {\n    ModalComponent.currentModel.next({ name: '', data: null });\n  }\n  copy(e, address: string): void {\n    e.stopPropagation();\n    copy(address);\n    const copyToClipboard = this.translate.instant('OVERVIEWCOMPONENT.COPIEDTOCLIPBOARD');\n    this.messageService.add(address + ' ' + copyToClipboard, 5);\n  }\n  getBalance(account): number | string {\n    return Big(account?.balanceXTZ ?? 0)\n      .div(1000000)\n      .toFixed();\n  }\n  getBalanceFiat(account): number {\n    return account?.balanceUSD ?? 0;\n  }\n\n  getTotalBalance(): number {\n    return Big(this.walletService.wallet.totalBalanceXTZ ?? 0)\n      .div(1000000)\n      .toFixed();\n  }\n\n  getTotalFiat(): number {\n    return this.walletService.wallet.totalBalanceUSD ?? 0;\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LookupService } from '../../../services/lookup/lookup.service';\nimport { ModalComponent } from '../modal.component';\nimport { MessageService } from '../../../services/message/message.service';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'app-account-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class AccountListComponent extends ModalComponent implements OnInit {\n  @Input() title;\n  @Input() activeAccount;\n  name = 'account-list';\n\n  constructor(public router: Router, public lookupService: LookupService, public translate: TranslateService, public messageService: MessageService) {\n    super();\n  }\n\n  ngOnInit(): void {}\n  closeModal(): void {\n    ModalComponent.currentModel.next({ name: '', data: null });\n  }\n}\n","<div [style.display]=\"!isOpen ? 'none' : ''\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"closeModal()\"><img class=\"x\"\n          src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">{{ title }}</h1>\n    </div>\n    <app-account-list-body [current]=\"activeAccount\">\n    </app-account-list-body>\n  </div>\n</div>","<div [style.display]=\"!isOpen ? 'none' : ''\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-column top\">\n      <div class=\"flex-row button close\" (click)=\"closeModal()\"><img class=\"x\"\n          src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">Reveal Seed Words</h1>\n    </div>\n    <div class=\"flex-column export-mnemonic\">\n      <div *ngIf=\"!!mnemonicPhrase\" class=\"whitebox\" (mouseout)=\"mouseOut($event)\"\n        (touchstart)=\"$event.stopPropagation(); this.hideBlur = true;\" (touchend)=\"checkSelection($event)\"\n        (click)=\"$event.stopPropagation()\" (mouseup)=\"checkSelection($event)\">\n        {{ mnemonicPhrase }}<div *ngIf=\"!hideBlur\" class=\"flex-row seed-blur\"\n          (click)=\"$event.stopPropagation(); this.hideBlur = true;\">\n          <span>CLICK HERE TO REVEAL YOUR SEED WORDS</span>\n        </div>\n      </div>\n      <p *ngIf=\"!!mnemonicPhrase\" class=\"description red\">\n        <span *ngIf=\"isSelectedMnemonic\" style=\"margin: 1rem 0\" class=\"warning red\">\n          WARNING: Copying the seed words to your clipboard can result in sensitive leakage. The clipboard\n          is a shared\n          resource that can be monitored by other web pages or browser extensions.<br />\n        </span>\n      </p>\n      <div *ngIf=\"!mnemonicPhrase && !isSocialWallet\" class=\"flex-column bottom\">\n        <div class=\"seperator\"></div>\n        <div class=\"label\">\n          ENTER YOUR PASSWORD TO REVEAL\n        </div>\n        <span [style.visibility]=\"!pwdInvalid ? 'hidden' : ''\" [style.margin]=\"!pwdInvalid ? '0' : ''\"\n          class=\"label danger\">{{ this.pwdInvalid }}</span>\n        <input [(ngModel)]=\"pwd\" autocomplete=\"current-password\" placeholder=\"Password\" class=\"text password\"\n          type=\"password\" (input)=\"this.pwdInvalid = ''\" (change)=\"this.pwdInvalid = ''\"\n          (keydown.enter)='!messageService.spinnerOn ? reveal() : null'>\n        <button class=\"button confirm\" (click)=\"!messageService.spinnerOn ? reveal() : null\">Continue</button>\n      </div>\n      <div *ngIf=\"!mnemonicPhrase && isSocialWallet\" class=\"flex-column bottom\">\n        <div class=\"seperator\"></div>\n        <div class=\"label\">\n          AUTHENTICATE TO ACCESS YOUR SEED WORDS\n        </div>\n        <span [style.visibility]=\"!pwdInvalid ? 'hidden' : ''\" [style.margin]=\"0\"\n          class=\"label danger\">{{ this.pwdInvalid }}</span>\n        <button class=\"button confirm\" (click)=\"revealSocial()\">Continue</button>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { MessageService } from '../../../services/message/message.service';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { ModalComponent } from '../modal.component';\nimport { ExportedSocialWallet, TorusWallet } from '../../../services/wallet/wallet';\n\n@Component({\n  selector: 'app-export-mnemonic',\n  templateUrl: './export-mnemonic.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class ExportMnemonicComponent extends ModalComponent implements OnInit {\n  name = 'export-mnemonic';\n  mnemonicPhrase = '';\n  ledgerError = '';\n  pwdInvalid = '';\n  pwd = '';\n  hideBlur = false;\n  isSelectedMnemonic = false;\n  isSocialWallet = false;\n  constructor(public walletService: WalletService, private messageService: MessageService) {\n    super();\n    if (this.walletService.wallet) {\n      if (this.walletService.wallet instanceof TorusWallet) {\n        this.isSocialWallet = true;\n      }\n    }\n  }\n\n  ngOnInit(): void {}\n\n  closeModal(): void {\n    this.reset();\n    ModalComponent.currentModel.next({ name: '', data: null });\n  }\n\n  async reveal(): Promise<void> {\n    try {\n      this.messageService.startSpinner();\n      this.mnemonicPhrase = await this.walletService.revealMnemonicPhrase(this.pwd);\n      this.pwdInvalid = this.mnemonicPhrase === '' ? 'INVALID PASSWORD' : '';\n      this.messageService.stopSpinner();\n    } catch {\n      this.pwdInvalid = this.mnemonicPhrase === '' ? 'INVALID PASSWORD' : '';\n    }\n  }\n\n  async revealSocial(): Promise<void> {\n    try {\n      this.pwdInvalid = '';\n      this.messageService.startSpinner();\n      this.mnemonicPhrase = await this.walletService.revealSocialMnemonicPhrase();\n      if (!this.mnemonicPhrase) {\n        this.pwdInvalid = 'Authentication failed!';\n      }\n      this.messageService.stopSpinner();\n    } catch (e) {\n      this.messageService.stopSpinner();\n      console.error(e);\n      throw new Error('Failed to reveal social mnemonic');\n    }\n  }\n\n  mouseOut(e): void {\n    e.stopPropagation();\n    this.hideBlur = false;\n    window.getSelection()?.removeAllRanges();\n  }\n  checkSelection(ev): void {\n    ev.stopPropagation();\n    if (this.isTextSelected()) {\n      this.isSelectedMnemonic = true;\n    }\n  }\n  private isTextSelected(): boolean {\n    let selection: Selection;\n    if (window.getSelection) {\n      selection = window.getSelection();\n    } else if (document.getSelection) {\n      selection = document.getSelection();\n    } else return false;\n    return !selection?.isCollapsed;\n  }\n  reset(): void {\n    this.mnemonicPhrase = '';\n    this.ledgerError = '';\n    this.pwdInvalid = '';\n    this.pwd = '';\n    this.hideBlur = false;\n    this.isSelectedMnemonic = false;\n  }\n}\n","<div class=\"flex-row dropdown session-select\" [class.expanded]=\"isOpen\" [id]=\"ecmpId\">\n  <div class=\"flex-row currentAddress\" (click)=\"toggleDropdown()\"><img\n      *ngIf=\"!!getUsername(selection?.address)\" class=\"logo\" src=\"../../../../assets/img/{{ getVerifier() }}-logo.svg\" /><span\n      class=\"address\">{{\n      getUsername(selection?.address) || \"&nbsp;&nbsp;&nbsp;&nbsp;\" + selection?.address }}</span><img\n      *ngIf=\"['', 'domain'].includes(getVerifier())\" class=\"button icon-db\"\n      src=\"../../../../assets/img/down-arrow.svg\" />\n  </div>\n  <div class=\"flex-column dropdown-content\">\n    <ng-container *ngFor=\"let account of options\">\n      <div class=\"option\" [class.selected]=\"account?.address === current?.address\"\n        (click)=\"selection = account; toggleDropdown()\">\n        <ng-container *ngIf=\"getUsername(account?.address)\">\n          <div class=\"flex-row alias\"><img class=\"logo\"\n              src=\"../../../../assets/img/{{ getVerifier() }}-logo.svg\" /><span>{{\n              getUsername(account?.address) }}</span></div>\n          <br /><span>{{\n            account?.address }}</span>\n        </ng-container>\n        <ng-container *ngIf=\"!getUsername(account?.address)\">{{ account?.address }}</ng-container>\n      </div>\n    </ng-container>\n  </div>\n</div>","import { Component, OnChanges, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LookupService } from '../../../../services/lookup/lookup.service';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { PermissionRequestDropdownComponent } from '../permission-request/permission-request.component';\n\n@Component({\n  selector: 'app-ui-dropdown-session-select',\n  templateUrl: './session-select.component.html',\n  styleUrls: ['../../../../../scss/components/ui/dropdown/account-dropdown.component.scss']\n})\nexport class SessionSelectDropdownComponent extends PermissionRequestDropdownComponent implements OnInit, OnChanges {\n  constructor(public router: Router, public lookupService: LookupService, walletService: WalletService) {\n    super(router, lookupService, walletService);\n  }\n}\n","<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"close()\"><img class=\"x\"\n          src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">Change Session Account</h1>\n    </div>\n    <div class=\"seperator\"></div>\n    <div class=\"flex-column session-select\">\n      <app-ui-dropdown-session-select [options]=\"accounts\" [current]=\"selectedAccount\"\n        (dropdownResponse)=\"selectedAccount = $event\" style=\"width: 100%;align-self: center;\">\n      </app-ui-dropdown-session-select>\n      <div class=\"flex-column bottom\">\n        <div class=\"seperator\"></div>\n        <button class=\"blue confirm\" (click)=\"changeAddress()\">Confirm</button>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { Subscription } from 'rxjs';\nimport { SubjectService } from '../../../services/subject/subject.service';\nimport { Account } from '../../../services/wallet/wallet';\nimport { ModalComponent } from '../modal.component';\nimport { WalletConnectService } from '../../../services/wallet-connect/wallet-connect.service';\n\n@Component({\n  selector: 'app-session-select',\n  templateUrl: './session-select.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class SessionSelectComponent extends ModalComponent implements OnInit, OnDestroy {\n  preSelectedAccountAddress: string;\n  selectedAccount: Account;\n  accounts: Account[];\n  topic: string;\n  private subscriptions: Subscription = new Subscription();\n  name = 'session-select';\n  constructor(public walletService: WalletService, private subjectService: SubjectService, private walletConnectService: WalletConnectService) {\n    super();\n  }\n  open(data: { topic: string; preSelectedAccountAddress: string }): void {\n    this.topic = data.topic;\n    this.preSelectedAccountAddress = data.preSelectedAccountAddress;\n    this.accounts = this.walletService.wallet?.getImplicitAccounts();\n    this.selectedAccount = this.accounts.find((acc) => acc.address === this.preSelectedAccountAddress);\n    super.open();\n  }\n  ngOnInit(): void {\n    this.subscriptions.add(\n      this.subjectService.walletUpdated.subscribe(async () => {\n        this.accounts = this.walletService.wallet?.getImplicitAccounts();\n      })\n    );\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  changeAddress(): void {\n    this.walletConnectService.updateSession(this.topic, this.selectedAccount.pkh);\n    this.close();\n  }\n}\n","import { Component, OnDestroy, OnInit, HostListener } from '@angular/core';\nimport { MessageService } from '../../../services/message/message.service';\nimport { WalletClient, BeaconMessageType, PermissionScope, PermissionResponseInput, OperationResponseInput } from '@airgap/beacon-sdk';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { CONSTANTS } from '../../../../environments/environment';\nimport { Account } from '../../../services/wallet/wallet';\nimport { BeaconService } from '../../../services/beacon/beacon.service';\nimport { DeeplinkService } from '../../../services/deeplink/deeplink.service';\nimport { assertMichelsonData } from '@taquito/michel-codec';\nimport { InputValidationService } from '../../../services/input-validation/input-validation.service';\nimport { SubjectService } from '../../../services/subject/subject.service';\nimport { Subscription } from 'rxjs';\nimport { ExternalRequest } from '../../../interfaces';\nimport { WalletConnectService } from '../../../services/wallet-connect/wallet-connect.service';\nimport { ModalComponent } from '../../../components/modals/modal.component';\n\n@Component({\n  selector: 'app-uri-handler',\n  templateUrl: './uri-handler.component.html'\n})\nexport class UriHandlerComponent implements OnInit, OnDestroy {\n  private subscriptions: Subscription = new Subscription();\n  constructor(\n    public messageService: MessageService,\n    public walletService: WalletService,\n    private beaconService: BeaconService,\n    private deeplinkService: DeeplinkService,\n    private inputValidationService: InputValidationService,\n    private subjectService: SubjectService,\n    private walletConnectService: WalletConnectService\n  ) {\n    this.subscriptions.add(\n      this.subjectService.activeAccount.subscribe((activeAccount) => {\n        this.activeAccount = activeAccount;\n      })\n    );\n    this.subscriptions.add(\n      this.subjectService.wc2.subscribe((m) => {\n        this.handleBeaconMessage(m);\n      })\n    );\n    this.subscriptions.add(\n      this.walletConnectService.changeSessionAccount.subscribe((topic: string) => {\n        ModalComponent.currentModel.next({ name: 'session-select', data: { topic, preSelectedAccountAddress: this.activeAccount?.pkh } });\n      })\n    );\n    this.walletConnectService.getCurrentRequest = (): any => {\n      const req = this.getReq();\n      if (req?.version === 0) {\n        return req;\n      }\n      return null;\n    };\n    this.subscriptions.add(\n      this.walletConnectService.autoCloseRequest.subscribe((x: any) => {\n        this.onAutoCloseRequest(x);\n      })\n    );\n  }\n  permissionRequest: PermissionResponseInput | any = null;\n  externalRequest: ExternalRequest = null;\n  signRequest: any = null;\n  activeAccount: Account;\n  selectedAccount: Account;\n  @HostListener('window:focus', ['$event'])\n  onFocus(event: FocusEvent): void {\n    this.changeFavicon();\n  }\n  ngOnInit(): void {\n    if (this.walletService.wallet) {\n      this.init();\n    }\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  async init() {\n    let pairingString = this.deeplinkService.popPairingJson();\n    if (pairingString) {\n      console.log(pairingString);\n      if (pairingString.startsWith('wc')) {\n        this.walletConnectService.pair(pairingString);\n        pairingString = '';\n      } else {\n        this.beaconService.preNotifyPairing(pairingString);\n      }\n    }\n    window.addEventListener('storage', (e) => {\n      this.handleStorageEvent(e);\n    });\n    await this.connectApp().catch((error) => console.error('connect error', error));\n    if (pairingString) {\n      await this.beaconService.client.isConnected;\n      this.beaconService.addPeer(pairingString);\n    }\n  }\n  changeFavicon(active: boolean = false): void {\n    if (active && document.hasFocus()) {\n      active = false;\n    }\n    const src: string = active ? 'favicon-attention.ico' : 'favicon.ico';\n    document.getElementById('favicon').setAttribute('href', src);\n  }\n  /* https://github.com/airgap-it/beacon-sdk/blob/master/src/clients/wallet-client/WalletClient.ts */\n  connectApp = async (): Promise<void> => {\n    if (!this.beaconService.client) {\n      this.beaconService.client = new WalletClient({\n        name: 'Kukai Wallet'\n      });\n    }\n    await this.beaconService.client.init(); // Establish P2P connection\n    this.beaconService.client\n      .connect(async (message: any) => {\n        this.handleBeaconMessage(message);\n      })\n      .catch((error) => console.error('connect error', error));\n  };\n  async handleBeaconMessage(message: any) {\n    console.log('### beacon message', message);\n    console.log(JSON.stringify(message));\n    if (message.type !== BeaconMessageType.SignPayloadRequest && message.network.type !== CONSTANTS.NETWORK) {\n      console.warn(`Rejecting Beacon message because of network. Expected ${CONSTANTS.NETWORK} instead of ${message.network.type}`);\n      await this.beaconService.rejectOnNetwork(message);\n    } else if (!this.isBlocked()) {\n      switch (message.type) {\n        case BeaconMessageType.PermissionRequest:\n          await this.handlePermissionRequest(message);\n          break;\n        case BeaconMessageType.OperationRequest:\n          if (await this.isSupportedOperationRequest(message)) {\n            this.externalRequest = { operationRequest: message, selectedAccount: this.selectedAccount };\n            this.changeFavicon(true);\n          } else if (message?.version === 0) {\n            console.error('Invalid request');\n          }\n          break;\n        case BeaconMessageType.SignPayloadRequest:\n          if (await this.isSupportedSignPayload(message)) {\n            this.signRequest = message;\n            this.changeFavicon(true);\n          }\n          break;\n        default:\n          await this.beaconService.rejectOnUnknown(message);\n          console.warn('Unknown message type', message);\n      }\n    } else {\n      console.warn('Blocked by other Beacon/Wc2 request');\n      // need to reject instead of drop if WC2, in order to not block the new request queue\n      if (message.version === 0) {\n        console.log('reject wc2 req');\n        if (message.type === 'permission_request') {\n          this.walletConnectService.rejectPairing(message);\n        } else {\n          this.walletConnectService.wcResponse(message, '', false);\n        }\n      }\n    }\n  }\n  private isBlocked() {\n    return this.permissionRequest || this.externalRequest || this.signRequest;\n  }\n  async handlePermissionRequest(message: any): Promise<void> {\n    console.log('## permission request');\n    if (message.version) {\n      message.scopes = message.scopes.filter((scope: PermissionScope) => [PermissionScope.OPERATION_REQUEST, PermissionScope.SIGN].includes(scope));\n    }\n    if (typeof message.scopes === 'object' || message.scopes.length) {\n      if (this.walletService.wallet) {\n        this.permissionRequest = message;\n        this.changeFavicon(true);\n      } else {\n        console.warn('No wallet found');\n        await this.beaconService.rejectOnSourceAddress(message);\n      }\n    } else {\n      console.warn('No valid scope');\n    }\n  }\n  async isSupportedOperationRequest(message: any): Promise<boolean> {\n    try {\n      if (!this.walletService.wallet) {\n        console.log('No wallet found');\n        await this.beaconService.rejectOnUnknown(message);\n        return false;\n      } else if (!this.walletService.wallet.getImplicitAccount(message.sourceAddress)) {\n        console.warn('Source address not recogized');\n        await this.beaconService.rejectOnSourceAddress(message);\n        return false;\n      } else if (message.operationDetails.length > 1) {\n        for (const op of message.operationDetails) {\n          if (op.kind !== 'transaction') {\n            console.warn('Only transaction batches supported');\n            await this.beaconService.rejectOnTooManyOps(message);\n            return false;\n          }\n        }\n      }\n      if (message.operationDetails[0].kind === 'transaction') {\n        for (let i = 0; i < message.operationDetails.length; i++) {\n          if (\n            message.operationDetails[i].destination &&\n            message.operationDetails[i].parameters &&\n            this.walletService.wallet.getAccount(message.operationDetails[i].destination)\n          ) {\n            console.warn('Invocation of user controlled contract is disabled');\n            await this.beaconService.rejectOnPermission(message);\n            return false;\n          } else if (!message.operationDetails[i]?.destination) {\n            console.warn('Missing destination');\n            await this.beaconService.rejectOnUnknown(message);\n            return false;\n          } else if (this.invalidAmount(message.operationDetails[i])) {\n            console.warn('Invalid amount');\n            await this.beaconService.rejectOnUnknown(message);\n            return false;\n          } else if (this.invalidParameters(message.operationDetails[i].parameters)) {\n            await this.beaconService.rejectOnParameters(message);\n            return false;\n          } else if (this.invalidOptionals(message.operationDetails[i])) {\n            await this.beaconService.rejectOnParameters(message);\n            return false;\n          }\n        }\n      } else if (message.operationDetails[0].kind === 'delegation') {\n        if (!message.operationDetails[0].delegate) {\n          console.warn('Invalid delegate');\n          await this.beaconService.rejectOnUnknown(message);\n          return false;\n        }\n      } else if (message.operationDetails[0].kind === 'origination') {\n        if (!message.operationDetails[0].script) {\n          console.warn('No script found');\n          await this.beaconService.rejectOnParameters(message);\n          return false;\n        } else if (this.invalidOptionals(message.operationDetails[0])) {\n          await this.beaconService.rejectOnParameters(message);\n          return false;\n        }\n      } else {\n        console.warn('Unsupported operation kind');\n        await this.beaconService.rejectOnUnknown(message);\n        return false;\n      }\n      this.selectedAccount = this.walletService.wallet.getImplicitAccount(message.sourceAddress);\n      return true;\n    } catch (e) {\n      if (e?.message === 'No matching request found!' && message.version === 0) {\n        console.log('wc2');\n        this.walletConnectService.wcResponse(message, '', false);\n      } else {\n        throw e;\n      }\n    }\n    return false;\n  }\n  private invalidAmount(op: any): boolean {\n    if (typeof op?.amount === 'number') {\n      // normalize\n      op.amount = op.amount.toString();\n    }\n    return !op?.amount || typeof op.amount !== 'string' || !this.inputValidationService.amount(op.amount, 0);\n  }\n  private invalidOptionals(op: any): boolean {\n    if (typeof op.gas_limit === 'number') {\n      // normalize\n      op.gas_limit = op.gas_limit.toString();\n    }\n    if (typeof op.storage_limit === 'number') {\n      op.storage_limit = op.storage_limit.toString();\n    }\n    if (op.gas_limit && (typeof op.gas_limit !== 'string' || !this.inputValidationService.amount(op.gas_limit, 0))) {\n      return true;\n    } else if (op.storage_limit && (typeof op.storage_limit !== 'string' || !this.inputValidationService.amount(op.storage_limit, 0))) {\n      return true;\n    }\n    return false;\n  }\n  async isSupportedSignPayload(message: any): Promise<Boolean> {\n    try {\n      if (!this.walletService.wallet) {\n        console.log('No wallet found');\n        await this.beaconService.rejectOnUnknown(message);\n        return false;\n      } else if (!this.walletService.wallet.getImplicitAccount(message.sourceAddress)) {\n        console.warn('Source address not recogized');\n        await this.beaconService.rejectOnSourceAddress(message);\n        return false;\n      }\n      if (message.payload.slice(0, 2) === '0x') {\n        message.payload = message.payload.slice(2);\n      }\n      message.payload = message.payload.toLowerCase();\n      const hexString = message.payload;\n      console.log('hex', hexString);\n      if ((message.signingType !== 'raw' && message.signingType !== 'micheline') || !this.inputValidationService.hexString(hexString)) {\n        console.warn('Invalid sign payload');\n        await this.beaconService.rejectOnUnknown(message);\n        return false;\n      } else if (!['05', '80'].includes(hexString.slice(0, 2))) {\n        console.warn('Unsupported prefix:' + hexString.slice(0, 2));\n        await this.beaconService.rejectOnUnknown(message);\n        return false;\n      }\n      if (hexString.slice(0, 2) === '05' && !this.inputValidationService.isMichelineExpr(hexString)) {\n        await this.beaconService.rejectOnUnknown(message);\n        return false;\n      }\n      this.selectedAccount = this.walletService.wallet.getImplicitAccount(message.sourceAddress);\n      return true;\n    } catch (e) {\n      if (e?.message === 'No matching request found!' && message.version === 0) {\n        console.log('wc2');\n        this.walletConnectService.wcResponse(message, '', false);\n      } else {\n        throw e;\n      }\n    }\n    return false;\n  }\n  invalidParameters(parameters: any): boolean {\n    try {\n      if (parameters) {\n        if (!parameters.value || !parameters.entrypoint) {\n          throw new Error('entrypoint and value expected');\n        }\n        assertMichelsonData(parameters.value);\n      }\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n  /* operation request handling */\n  async operationResponse(opHash: any): Promise<void> {\n    if (opHash?.error) {\n      opHash = opHash.error;\n    }\n    if (!this.externalRequest) {\n      return;\n    }\n    console.log('hash', opHash);\n    console.log('externalRequest', this.externalRequest);\n    if (this.externalRequest.operationRequest.version) {\n      if (!opHash) {\n        await this.beaconService.rejectOnUserAbort(this.externalRequest.operationRequest);\n      } else if (opHash === 'broadcast_error') {\n        await this.beaconService.rejectOnBroadcastError(this.externalRequest.operationRequest);\n      } else if (opHash === 'invalid_parameters') {\n        await this.beaconService.rejectOnParameters(this.externalRequest.operationRequest);\n      } else if (opHash === 'parameters_error') {\n        await this.beaconService.rejectOnParameters(this.externalRequest.operationRequest);\n      } else if (opHash === 'unknown_error') {\n        await this.beaconService.rejectOnUnknown(this.externalRequest.operationRequest);\n      } else if (opHash !== 'silent') {\n        const response: OperationResponseInput = {\n          type: BeaconMessageType.OperationResponse,\n          transactionHash: opHash,\n          id: this.externalRequest.operationRequest.id\n        };\n        await this.beaconService.client.respond(response);\n      }\n    } else if (this.externalRequest.operationRequest.version === 0) {\n      if (opHash?.length > 50) {\n        this.walletConnectService.wcResponse(this.externalRequest.operationRequest, opHash, true);\n      } else if (opHash !== 'silent') {\n        this.walletConnectService.wcResponse(this.externalRequest.operationRequest, opHash, false);\n      }\n    }\n    if (opHash !== 'silent') {\n      this.beaconService.responseSync();\n    }\n    this.externalRequest = null;\n  }\n  /* permission handling */\n  async permissionResponse(publicKey: string): Promise<void> {\n    if (this.permissionRequest.version) {\n      // Beacon\n      if (!publicKey) {\n        this.beaconService.rejectOnUserAbort(this.permissionRequest);\n      } else if (publicKey !== 'silent') {\n        this.beaconService.approvePermissionRequest(this.permissionRequest, publicKey).then(() => {\n          this.beaconService.syncBeaconState();\n        });\n      }\n    } else {\n      // Wallet Connect 2\n      if (!publicKey) {\n        this.walletConnectService.rejectPairing(this.permissionRequest);\n      } else if (publicKey !== 'silent') {\n        this.walletConnectService.approvePairing(this.permissionRequest, publicKey);\n      }\n    }\n    this.beaconService.responseSync();\n    this.permissionRequest = null;\n  }\n  /* sign payload handling */\n  async signResponse(signature: string): Promise<void> {\n    if (this.signRequest.version) {\n      if (!signature) {\n        await this.beaconService.rejectOnUserAbort(this.signRequest);\n      } else if (signature !== 'silent') {\n        await this.beaconService.approveSignPayloadRequest(this.signRequest, signature);\n      }\n    } else if (this.signRequest.version === 0) {\n      if (signature) {\n        this.walletConnectService.wcResponse(this.signRequest, signature, true);\n      } else {\n        this.walletConnectService.wcResponse(this.signRequest, signature, false);\n      }\n    }\n    this.beaconService.responseSync();\n    console.log(signature);\n    this.signRequest = null;\n  }\n  private async handleStorageEvent(ev: StorageEvent): Promise<void> {\n    switch (ev.key) {\n      case 'beacon:communication-peers-wallet':\n        const peers = JSON.parse(ev.newValue);\n        const senderIds = (await this.beaconService.client.getAppMetadataList()).map((app) => {\n          return app.senderId;\n        });\n        const newPeers = peers.length - senderIds.length;\n        if (newPeers > 0) {\n          const newPeer = peers ? peers.pop() : null;\n          if (newPeer && !senderIds.includes(newPeer.senderId)) {\n            const { senderId, ...peer } = newPeer;\n            await this.beaconService.addPeer(JSON.stringify(peer), false);\n          }\n        } else {\n          this.beaconService.syncBeaconState();\n        }\n        break;\n      case 'beacon:request-response':\n        if (ev.newValue) {\n          this.subjectService.beaconResponse.next(true);\n          this.beaconService.syncBeaconState();\n          this.changeFavicon();\n        }\n        break;\n    }\n  }\n  private getReq() {\n    return this.permissionRequest || this.externalRequest?.operationRequest || this.signRequest || null;\n  }\n  private onAutoCloseRequest(x: any) {\n    if (this.permissionRequest) {\n      if (this.permissionRequest?.wcData?.id === x || this.permissionRequest?.wcData?.params?.pairingTopic === x) {\n        this.subjectService.beaconResponse.next(false);\n      }\n    } else if (this.externalRequest?.operationRequest) {\n      const opReq = this.externalRequest?.operationRequest;\n      if (opReq?.wcData?.id === x || opReq?.wcData?.topic === x) {\n        this.subjectService.beaconResponse.next(false);\n      }\n    } else if (this.signRequest) {\n      if (this.signRequest?.wcData?.id === x || this.signRequest?.wcData?.topic === x) {\n        this.subjectService.beaconResponse.next(false);\n      }\n    }\n  }\n}\n","<app-send [embedded]=\"false\" (operationResponse)=\"operationResponse($event)\"\n  [externalRequest]=\"externalRequest\"></app-send>\n<app-delegate (operationResponse)=\"operationResponse($event)\" [beaconMode]=true [externalRequest]=externalRequest>\n</app-delegate>\n<app-originate (operationResponse)=\"operationResponse($event)\" [externalRequest]=externalRequest></app-originate>\n<app-permission-request (permissionResponse)=\"permissionResponse($event)\" [permissionRequest]=\"permissionRequest\"\n  [activeAccount]=activeAccount>\n</app-permission-request>\n<app-sign-expr (signResponse)=\"signResponse($event)\" [signRequest]=\"signRequest\" [activeAccount]=selectedAccount>\n</app-sign-expr>\n<app-account-list [title]=\"'Accounts'\" [activeAccount]=\"activeAccount\"></app-account-list>\n<app-new-implicit></app-new-implicit>\n<app-receive></app-receive>\n<app-export-mnemonic></app-export-mnemonic>\n<app-session-select></app-session-select>","<div *ngIf=\"provider\" [class.transak]=\"provider === BuyProviderType.Transak\" [class.moonpay]=\"provider === BuyProviderType.MoonPay\">\n  <div class=\"top\">\n    <a>\n      <button class=\"back secondary\" (click)=\"close()\">\n        <img src=\"../../../../../assets/img/left-arrow.svg\">Back</button>\n    </a>\n    <p>Buy XTZ (tez) with {{ BuyProviderType[provider] }}</p>\n  </div>\n  <div class=\"main\">\n    <ng-container *ngIf=\"url\">\n      <iframe allow=\"accelerometer; autoplay; camera; gyroscope; payment\" frameborder=\"0\" height=\"100%\" [src]=\"this.url\"\n        width=\"100%\" (load)=\"iframeLoaded()\" (error)=\"iframeError()\">\n        <p>Your browser does not support iframes.</p>\n      </iframe>\n    </ng-container>\n  </div>\n</div>\n<img *ngIf=\"isLoading\" class=\"loading\" src=\"../../../../../../assets/img/loader.svg\">","import { Component, HostListener, OnDestroy, OnInit } from '@angular/core';\nimport { SubjectService, BuyProvider } from '../../../../../services/subject/subject.service';\nimport { generateOnRampURL } from '@coinbase/cbpay-js';\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\nimport { Account } from '../../../../../services/wallet/wallet';\nimport { Subscription } from 'rxjs';\nimport { CONSTANTS, environment } from '../../../../../../environments/environment';\n@Component({\n  selector: 'app-buy',\n  templateUrl: `./buy.component.html`,\n  styleUrls: ['../../../../../../scss/components/views/logged-in/account-view/buy/buy.component.scss']\n})\nexport class BuyComponent implements OnInit, OnDestroy {\n  @HostListener('window:resize', ['$event'])\n  onResize() {\n    this.mobile = window.innerWidth < 575;\n  }\n  public readonly BuyProviderType = BuyProvider;\n  readonly dev: boolean = !(CONSTANTS.MAINNET && environment.production);\n  readonly baseUrl: string = `https://buy${this.dev ? '-staging' : ''}.moonpay.com`;\n  mobile = false;\n  url: SafeUrl;\n  account: Account;\n  provider: BuyProvider;\n  isLoading: boolean = false;\n  private subscriptions: Subscription = new Subscription();\n  constructor(private sanitizer: DomSanitizer, private subjectService: SubjectService) {}\n\n  ngOnInit(): void {\n    this.onResize();\n    this.subscriptions.add(\n      this.subjectService.activeAccount.subscribe((a) => {\n        this.account = a;\n      })\n    );\n    this.subscriptions.add(\n      this.subjectService.buy.subscribe((o) => {\n        this.provider = o;\n        if (Number.isInteger(o)) {\n          this.open();\n        } else {\n          this.close();\n        }\n      })\n    );\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.unsubscribe();\n  }\n\n  private async open(): Promise<void> {\n    this.isLoading = true;\n    const address: string = this.account ? this.account.address : null;\n    if (!address?.startsWith('tz')) {\n      return;\n    }\n    switch (this.provider) {\n      case BuyProvider.Coinbase:\n        this.isLoading = false;\n        const newWindow = window.open(\n          generateOnRampURL({\n            appId: 'aa41d510-15f9-4426-87bd-3a506b6e22c0',\n            destinationWallets: [{ address, blockchains: ['tezos'] }]\n          }),\n          'Coinbase Pay',\n          'height=600,width=400'\n        );\n        newWindow.opener = null;\n        break;\n      case BuyProvider.Transak:\n        this.isLoading = false;\n        let walletAddressesData = {\n          coins: {\n            XTZ: { address }\n          }\n        };\n        const apiKey = CONSTANTS.MAINNET ? 'f1336570-699b-4181-9bd1-cdd57206981f' : '3b0e81f3-37dc-41f3-9837-bd8d2c350313';\n        this.url = this.sanitizer.bypassSecurityTrustResourceUrl(\n          `https://${!CONSTANTS.MAINNET ? 'staging-' : ''}global.transak.com?apiKey=${apiKey}&cryptoCurrencyCode=XTZ&walletAddressesData=${JSON.stringify(\n            walletAddressesData\n          )}&disableWalletAddressForm=true}`\n        );\n        break;\n      case BuyProvider.MoonPay:\n        this.url = await this.signUrl(address);\n        break;\n    }\n  }\n  private close(): void {\n    this.url = null;\n    this.provider = undefined;\n    this.isLoading = false;\n  }\n  private async signUrl(address: string): Promise<SafeUrl> {\n    if (address?.startsWith('tz')) {\n      const query: string = `?apiKey=${\n        this.dev ? 'pk_test_M23P0Zc5SvBORSFV63sfWKi7n5QbGZR' : 'pk_live_rP9HlBRO54nY4QKLxc6ONl4Prrm6vymK'\n      }&colorCode=%237178E3&currencyCode=xtz&walletAddress=${encodeURIComponent(address)}`;\n      const sig = await this.post({ dev: this.dev, url: query });\n      if (sig) {\n        const url = this.sanitizer.bypassSecurityTrustResourceUrl(`${this.baseUrl}${query}&signature=${encodeURIComponent(sig)}`);\n        return url;\n      }\n    }\n    return null;\n  }\n  private async post(data: any = {}): Promise<string> {\n    return fetch('https://utils.kukai.network/moonpay/sign', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n      .then(async (d) => {\n        return d.text();\n      })\n      .catch((e) => {\n        return '';\n      });\n  }\n  iframeLoaded() {\n    this.isLoading = false;\n  }\n  iframeError() {\n    this.isLoading = false;\n  }\n}\n","<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"closeModal()\"><img class=\"x\"\n          src=\"../../../../../assets/img/close-btn-x.png\" />\n      </div>\n      <div class=\"flex-column text\">\n        <h1 class=\"title\">{{ title }}</h1>\n        <h2 class=\"secondary\">Choose a provider</h2>\n      </div>\n    </div>\n    <div class=\"flex-column buy\">\n      <div class=\"flex-row option\" (click)=\"buyTez(BuyProviderType.Coinbase)\">\n        <img src=\"assets/img/coinbase.png\" />\n        <div class=\"text\">\n          <h3>Coinbase</h3>\n          <h4>Transfer from Coinbase</h4>\n        </div>\n      </div>\n      <div class=\"flex-row option\" (click)=\"buyTez(BuyProviderType.Transak)\">\n        <img src=\"assets/img/transak.png\" />\n        <div class=\"text\">\n          <h3>Transak</h3>\n          <h4>Bank transfers &amp; local payment methods in 120+ countries</h4>\n        </div>\n      </div>\n      <div class=\"flex-row option\" (click)=\"buyTez(BuyProviderType.MoonPay)\">\n        <img src=\"assets/img/moonpay.svg\" />\n        <div class=\"text\">\n          <h3>Moonpay</h3>\n          <h4>Cards &amp; bank transfers</h4>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { ModalComponent } from '../modal.component';\nimport { SubjectService, BuyProvider } from '../../../services/subject/subject.service';\n\n@Component({\n  selector: 'app-buy-modal',\n  templateUrl: './buy.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class BuyModalComponent extends ModalComponent implements OnInit {\n  title = 'Get Tez (XTZ)';\n  name = 'buy';\n  address = '';\n  onrampInstance = null;\n  public readonly BuyProviderType = BuyProvider;\n  constructor(private subjectService: SubjectService) {\n    super();\n  }\n\n  ngOnInit() {}\n  open() {\n    super.open();\n  }\n\n  closeModal(): void {\n    super.close();\n  }\n  buyTez(provider: BuyProvider) {\n    this.subjectService.buy.next(provider);\n    this.closeModal();\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-logged-in',\n  templateUrl: './logged-in.component.html'\n})\nexport class LoggedInComponent implements OnInit {\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","<app-uri-handler></app-uri-handler>\n<router-outlet></router-outlet>\n<app-buy></app-buy>\n<app-buy-modal></app-buy-modal>","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { StartComponent } from './components/views/start/start.component';\nimport { NewWalletComponent } from './components/views/start/login-types/new-wallet/new-wallet.component';\nimport { MnemonicImportComponent } from './components/views/start/login-types/mnemonic-import/mnemonic-import.component';\nimport { ConnectLedgerComponent } from './components/views/start/login-types/connect-ledger/connect-ledger.component';\nimport { P404Component } from './components/views/error/404.component';\nimport { P500Component } from './components/views/error/500.component';\nimport { PrivacyPolicyComponent } from './components/views/start/agreement/privacy-policy/privacy-policy.component';\nimport { TermsOfUseComponent } from './components/views/start/agreement/terms-of-use/terms-of-use.component';\nimport { EmbeddedComponent } from './components/views/embedded/embedded.component';\nimport { LoggedInComponent } from './components/views/logged-in/logged-in.component';\nimport { ActivateComponent } from './components/views/start/activate/activate.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      { path: '', component: StartComponent },\n      { path: 'new-wallet', component: NewWalletComponent },\n      { path: 'import', component: MnemonicImportComponent },\n      { path: 'connect-ledger', component: ConnectLedgerComponent },\n      {\n        path: 'account',\n        component: LoggedInComponent,\n        loadChildren: () => import(`./components/views/logged-in/logged-in.module`).then((module) => module.LoggedInModule)\n      },\n      { path: 'activate', component: ActivateComponent },\n      { path: 'serviceworker', component: TermsOfUseComponent },\n      { path: 'embedded', component: EmbeddedComponent }\n    ]\n  },\n  { path: 'privacy-policy', component: PrivacyPolicyComponent },\n  { path: 'terms-of-use', component: TermsOfUseComponent },\n  { path: 'wc', redirectTo: '' },\n  { path: '404', component: P404Component, data: { title: 'Page 404' } },\n  { path: '500', component: P500Component, data: { title: 'Page 500' } },\n  { path: '**', redirectTo: '404' }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, {})],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {}\n","<div [style.display]=\"!isOpen ? 'none' : ''\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"close()\"><img class=\"x\"\n          src=\"../../../../../assets/img/close-btn-x.png\" />\n      </div>\n      <h1 class=\"title\">{{ title }}</h1>\n    </div>\n    <div class=\"flex-column info\">\n      <div class=\"message\">\n        {{ message }}\n      </div>\n      <div *ngIf=\"action\" class=\"flex-column bottom\">\n        <div class=\"seperator\"></div>\n        <button class=\"button confirm\" (click)=\"proceed()\">{{ action }}</button>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { ModalComponent } from '../modal.component';\n\n@Component({\n  selector: 'app-info',\n  templateUrl: './info.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class InfoComponent extends ModalComponent implements OnInit {\n  action = '';\n  message = '';\n  href = '';\n  title = 'Info';\n  name = 'info';\n  constructor() {\n    super();\n  }\n\n  ngOnInit(): void {}\n\n  open(data: any): void {\n    this.action = data?.action;\n    this.message = data?.message;\n    this.href = data?.href;\n    this.title = data?.title || this.title;\n    super.open();\n  }\n\n  closeModal(): void {\n    super.close();\n  }\n  proceed(): void {\n    if (!!this.href) {\n      const newTab = window.open(this.href, '_blank');\n      newTab.focus();\n      newTab.opener = null;\n    }\n    this.closeModal();\n  }\n}\n","<ng-container *ngIf=\"!message?.timeout && message?.msg\">\n  <span *ngIf=\"!message?.email && !message?.username && !message?.twitterId && message?.msg\">{{ message.msg }}</span>\n  <span *ngIf=\"message?.email || message?.username || message?.twitterId\">Click <a target=\"_blank\"\n      href=\"{{ notifyFormat(message) }}\">here to notify</a> {{ getAlias(message) }} via {{ message.msg }}: <b>{{\n      message.amount }}</b> sent</span>\n  <svg version=\"1.2\" baseProfile=\"tiny-ps\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14 14\" width=\"14\" height=\"14\"\n    class=\"flex-row button close\" (click)=\"removeMessage(index)\">\n    <title>Popups</title>\n    <g id=\"Popups\">\n      <g id=\"Confirmation TEZ\">\n        <g id=\"Close Button\">\n          <path id=\"Rectangle 13\" class=\"shp0\"\n            d=\"M13.46 0.54C14.18 1.25 14.18 2.41 13.46 3.12L3.12 13.46C2.41 14.18 1.25 14.18 0.54 13.46C-0.18 12.75 -0.18 11.59 0.54 10.88L10.88 0.54C11.59 -0.18 12.75 -0.18 13.46 0.54ZM3.12 0.54L13.46 10.88C14.18 11.59 14.18 12.75 13.46 13.46C12.75 14.18 11.59 14.18 10.88 13.46L0.54 3.12C-0.18 2.41 -0.18 1.25 0.54 0.54C1.25 -0.18 2.41 -0.18 3.12 0.54Z\" />\n        </g>\n      </g>\n    </g>\n  </svg>\n</ng-container>\n<ng-container *ngIf=\"message?.timeout && message?.msg\">\n  <span *ngIf=\"message?.msg\">{{ message.msg }}</span><img *ngIf=\"message?.loader\" class=\"loader\"\n    src=\"../../../../assets/img/wait.svg\">\n</ng-container>","import { Component, Input, OnInit } from '@angular/core';\nimport { MessageService } from '../../../services/message/message.service';\n\n@Component({\n  selector: 'app-alert',\n  templateUrl: './alert.component.html',\n  styleUrls: ['../../../../scss/components/modals/alert/alert.component.scss']\n})\nexport class AlertComponent implements OnInit {\n  @Input() public message;\n  @Input() index;\n\n  constructor(public messageService: MessageService) {}\n  readonly subject = 'Sent you Tezos tokens';\n  ngOnInit(): void {\n    if (this.message?.timeout) {\n      setTimeout(() => {\n        this.removeMessage(this.index);\n        this.message = null;\n      }, this.message?.timeout);\n    }\n  }\n\n  removeMessage(index: number): void {\n    this.messageService.messages.splice(index, 1);\n  }\n  getHostName(): string {\n    return location.hostname;\n  }\n  notifyFormat(message: any): string | Error {\n    if (message.email) {\n      return this.mailtoFormat(message);\n    } else if (message.username) {\n      return this.redditPmFormat(message);\n    } else if (message.twitterId) {\n      return this.twitterPmFormat(message);\n    } else {\n      throw new Error('Invalid message');\n    }\n  }\n  mailtoFormat(message: any): string {\n    const subject = encodeURI(this.subject);\n    const body = this.encodedBody(message.amount, 'Google', `https://${this.getHostName()}\\n\\n`);\n    return `mailto:${message.email}?subject=${subject}&body=${body}`;\n  }\n  redditPmFormat(message: any): string {\n    // https://www.reddit.com/message/compose?to=USERNAME&subject=SUBJECT&message=MESSAGE\n    const subject = encodeURI(this.subject);\n    const body = this.encodedBody(`${message.amount}`, 'Reddit', `[kukai.app](https://${this.getHostName()})`);\n    return `https://www.reddit.com/message/compose?to=${message.username}&subject=${subject}&message=${body}`;\n  }\n  twitterPmFormat(message: any): string {\n    // https://twitter.com/messages/compose?recipient_id=USER_ID&text=MESSAGE\n    const body = this.encodedBody(message.amount, 'Twitter', `https://${this.getHostName()}`);\n    return `https://twitter.com/messages/compose?recipient_id=${message.twitterId}&text=${body}`;\n  }\n  encodedBody(amount: string, accountType: string, url: string): string {\n    const s = accountType === 'Reddit' ? '  ' : '';\n    const b = accountType === 'Reddit' ? '**' : '';\n    const t = accountType === 'Twitter' ? 'Tezos ' : '';\n    return encodeURI(\n      `Hi,${s}\\nI sent you ${b}${amount}${b} using the Kukai wallet.\\n\\nYou can access your ${t}wallet with your ${accountType} account at: ${url}`\n    );\n  }\n  getAlias(message: any): string {\n    return message.email ? message.email : message.username ? message.username : message.handler ? message.handler : 'recipient';\n  }\n}\n","<div class='msg-container'>\n  <div *ngFor=\"let message of messageService.messages ; let i = index\">\n    <app-alert [message]=\"message\" [index]=\"i\" class=\"flex-row alert\" [class]=\"'alert alert-'+message.type\">\n    </app-alert>\n  </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { MessageService } from '../../../services/message/message.service';\nimport { TorusService } from '../../../services/torus/torus.service';\n\n@Component({\n  selector: 'app-messages',\n  templateUrl: './messages.component.html',\n  styleUrls: ['../../../../scss/components/ui/messages/messages.component.scss']\n})\nexport class MessagesComponent implements OnInit {\n  constructor(public messageService: MessageService, public torusService: TorusService) {}\n  ngOnInit(): void {}\n}\n","<div *ngIf=\"router.url.indexOf('/account/') > -1\" class=\"flex-row dropdown\" [class.expanded]=\"isOpen\"\n  [style.cursor]=\"['', 'domain'].includes(getVerifier()) ? '' : 'text'\" [id]=\"ecmpId\">\n  <div class=\"flex-row currentAddress\" (click)=\"['', 'domain'].includes(getVerifier()) ? toggleDropdown() : ''\"><img\n      *ngIf=\"!!getUsername(current?.address)\" class=\"logo\"\n      src=\"../../../../assets/img/{{ getVerifier() }}-logo.svg\" /><span class=\"address\">{{\n      getUsername(current?.address) || \"&nbsp;&nbsp;&nbsp;&nbsp;\" + current?.shortAddress() }}</span><img\n      *ngIf=\"['', 'domain'].includes(getVerifier())\" class=\"button icon-db\"\n      src=\"../../../../assets/img/down-arrow.svg\" />\n  </div>\n  <div class=\"flex-column dropdown-content\">\n    <div class=\"flex-column body\">\n      <ng-container *ngFor=\"let account of list; trackBy: trackAccount\">\n        <a class=\"option\" routerLink=\"/account/{{account?.address}}{{postfix}}\"\n          [class.selected]=\"account?.address === current?.address\"\n          [style.padding]=\"!getUsername(current?.address) ? '0.75rem 1.125rem 0.75rem calc(2.5rem - var(--border-width))' : ''\"\n          (click)=\"toggleDropdown()\">\n          <ng-container *ngIf=\"getUsername(account?.address)\">\n            <div class=\"flex-row alias\"><img class=\"logo\"\n                src=\"../../../../assets/img/{{ getVerifier() }}-logo.svg\" /><span>{{\n                getUsername(account?.address) }}</span></div>\n          </ng-container>\n          <ng-container *ngIf=\"!getUsername(account?.address)\">{{ account?.shortAddress() }}</ng-container>\n        </a>\n      </ng-container>\n    </div>\n    <div *ngIf=\"list?.length > 1\" class=\"option show-all\" [style.padding]=\"!getUsername(current?.address) ? '0.75rem 1.125rem 0.75rem calc(2.5rem - var(--border-width))' : ''\" (click)=\"showAll()\">\n      <span>Show All</span>\n    </div>\n  </div>\n</div>","import { Component, Input, OnChanges, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { TorusWallet } from '../../../../services/wallet/wallet';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { LookupService } from '../../../../services/lookup/lookup.service';\nimport { DropdownComponent } from '../dropdown.component';\nimport { ModalComponent } from '../../../modals/modal.component';\nimport { filter } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-ui-dropdown-account',\n  templateUrl: './account-dropdown.component.html',\n  styleUrls: ['../../../../../scss/components/ui/dropdown/account-dropdown.component.scss']\n})\nexport class AccountDropdownComponent extends DropdownComponent implements OnInit, OnChanges, OnDestroy {\n  postfix = '';\n\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(public router: Router, public lookupService: LookupService, private walletService: WalletService) {\n    super();\n    this.subscriptions.add(\n      this.router.events.pipe(filter((evt) => evt instanceof NavigationEnd)).subscribe(async (r: NavigationEnd) => {\n        let accountAddress = r.url.substr(r.url.indexOf('/account/') + 9);\n        this.postfix = !!accountAddress.substring(36) ? accountAddress.substring(36) : '';\n      })\n    );\n  }\n\n  ngOnInit(): void {\n    this.list = this.options;\n    let accountAddress = this.router.url.substr(this.router.url.indexOf('/account/') + 9);\n    this.postfix = !!accountAddress.substring(36) ? accountAddress.substring(36) : '';\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.options && changes.options.currentValue !== changes.options.previousValue) {\n      this.list = this.options;\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.unsubscribe();\n  }\n\n  getUsername(address: string): string {\n    if (this.walletService.wallet instanceof TorusWallet) {\n      return this.walletService.wallet.displayName();\n    } else {\n      const party = this.lookupService.resolve({\n        address: address || this.current?.address\n      });\n      if (party?.name) {\n        return party.name;\n      }\n    }\n    return '';\n  }\n  getVerifier(): string {\n    if (this.walletService.wallet instanceof TorusWallet) {\n      return this.walletService.wallet.verifier;\n    } else {\n      return 'domain';\n    }\n  }\n  showAll(): void {\n    ModalComponent.currentModel.next({ name: 'account-list', data: null });\n  }\n  trackAccount(index: number, account: any) {\n    return account?.address ? account.address : index;\n  }\n}\n","<div class=\"hamburger-dropdown\" [class.expanded]=\"isOpen\" [id]=\"ecmpId\">\n  <img class=\"button icon-db\" src=\"../../../../assets/img/hamburger.svg\" (click)=\"toggleDropdown()\" />\n  <div *ngIf=\"router.url.indexOf('/account/') === 0\" class=\"flex-column mobile dropdown-content\">\n    <div class=\"flex-row-wrap account-content\">\n      <div class=\"flex-column button\" (click)=\"unlockableService.toggleFeature('theme', 'dark');toggleDropdown()\">\n        <div class=\"wrapper\">\n          <img class=\"icon\" [src]=\"this.unlockableService?.unlockables?.theme === 'dark' ? 'assets/img/light_mode_blue.svg' : 'assets/img/dark_mode_blue.svg'\" />\n        </div>\n        <span>THEME</span>\n      </div>\n      <div *ngIf=\"router.url.indexOf('/account/') === 0\" class=\"flex-column button\" (click)=\"copy();toggleDropdown()\">\n        <div class=\"wrapper\">\n          <img class=\"icon\" src=\"../../../../assets/img/copy-blue.svg\" />\n        </div>\n        <span>COPY</span>\n      </div>\n      <div class=\"flex-column button\" (click)=\"receive();toggleDropdown()\">\n        <div class=\"wrapper\">\n          <img class=\"icon\" src=\"../../../../assets/img/qr-blue.svg\" />\n        </div>\n        <span>QR</span>\n      </div>\n      <div *ngIf=\"walletService.isHdWallet()\" class=\"flex-column button\" (click)=\"newAccount();toggleDropdown()\">\n        <div class=\"wrapper\">\n          <img class=\"icon\" src=\"../../../../assets/img/add-blue.svg\" />\n        </div>\n        <span>ADD</span>\n      </div>\n    </div>\n    <div class=\"flex-row button delegation\" routerLink=\"/account/{{activeAccount?.address}}/stakers\"\n      (click)=\"toggleDropdown()\">\n      <div *ngIf=\"!activeAccount?.delegate\" class=\"flex-row\">\n        <span class=\"flex-row\">STAKING:</span><span class=\"choose\">NOT\n          STAKING</span>\n      </div>\n      <div *ngIf=\"activeAccount?.delegate\" class=\"flex-row\">\n        <span>STAKING</span>\n        <span class=\"flex-row address\">{{ delegateName\n          }}</span>\n      </div>\n    </div>\n\n    <div class=\"flex-row button\" [routerLink]=\"'/account/' + activeAccount?.address + '/settings'\" (click)=\"toggleDropdown()\">\n      <span>SETTINGS</span><img class=\"icon settings\" src=\"../../../../assets/img/cog.svg\" style=\"width: 2.75rem\" />\n    </div>\n    <div class=\"flex-row button\" (click)=\"logout();toggleDropdown()\">\n      <span>LOGOUT</span><img class=\"icon\" src=\"../../../../assets/img/sign-out-alt.svg\" style=\"width: 2.5rem\" />\n    </div>\n  </div>\n  <div *ngIf=\"router.url.indexOf('/account/') !== 0\" class=\"flex-column mobile dropdown-content\">\n    <div routerLink=\"/import/\" class=\"flex-row button\" (click)=\"toggleDropdown()\">\n      <span>Import Wallet</span>\n    </div>\n    <div routerLink=\"/new-wallet/\" class=\"flex-row button\" (click)=\"toggleDropdown()\">\n      <span>Create New Wallet</span>\n    </div>\n    <div routerLink=\"/connect-ledger/\" class=\"flex-row button\" (click)=\"toggleDropdown()\">\n      <span>Connect Ledger</span>\n    </div>\n  </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { Account } from '../../../../services/wallet/wallet';\nimport { DropdownComponent } from '../dropdown.component';\nimport { TranslateService } from '@ngx-translate/core';\nimport copy from 'copy-to-clipboard';\nimport { MessageService } from '../../../../services/message/message.service';\nimport { LookupService } from '../../../../services/lookup/lookup.service';\nimport { SubjectService } from '../../../../services/subject/subject.service';\nimport { ModalComponent } from '../../../../components/modals/modal.component';\nimport { take } from 'rxjs/operators';\nimport { UnlockableService } from '../../../../services/unlockable/unlockable.service';\n\n@Component({\n  selector: 'app-ui-mobile-menu',\n  templateUrl: './mobile-menu.component.html',\n  styleUrls: ['../../../../../scss/components/ui/dropdown/mobile-menu.component.scss']\n})\nexport class MobileMenuDropdownComponent extends DropdownComponent implements OnInit {\n  @Input() activeAccount: Account;\n  @Input() delegateName;\n  @Input() newAccount;\n  @Input() receive;\n\n  constructor(\n    public router: Router,\n    public walletService: WalletService,\n    public lookupService: LookupService,\n    private messageService: MessageService,\n    private translate: TranslateService,\n    private subjectService: SubjectService,\n    public unlockableService: UnlockableService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {}\n  toggleDropdown(): void {\n    if (window.innerHeight < document.body.scrollHeight) {\n      document.body.style.overflow = 'hidden';\n    }\n    this.isOpen = !this.isOpen;\n  }\n  copy(): void {\n    copy(this.activeAccount.address);\n    const copyToClipboard = this.translate.instant('OVERVIEWCOMPONENT.COPIEDTOCLIPBOARD');\n    this.messageService.add(this.activeAccount.address + ' ' + copyToClipboard, 5);\n  }\n  openSwap() {\n    this.messageService.startSpinner();\n    ModalComponent.currentModel.next({ name: 'swap-liquidity', data: null });\n  }\n  logout(): void {\n    this.subjectService.logout.next(true);\n    this.messageService.clear();\n    this.walletService.clearWallet();\n    this.lookupService.clear();\n    this.router.navigate(['']);\n  }\n}\n","<div class=\"flex-row top-container desktop\" [class]=\"router.url.indexOf('/account') === 0 ? 'default' : ''\">\n  <a routerLink=\"/\" class=\"flex-row brand-logo\">\n    <img class=\"icon\" src=\"../../../assets/img/header-logo.svg\" />\n  </a>\n  <div *ngIf=\"router.url.indexOf('/account/') === 0\" class=\"flex-row right\">\n    <div class=\"button icon\" (click)=\"unlockableService.toggleFeature('theme', 'dark')\">\n      <img [src]=\"this.unlockableService?.unlockables?.theme === 'dark' ? 'assets/img/light_mode.svg' : 'assets/img/dark_mode.svg'\" />\n      <div class=\"tooltip\">\n        <div class=\"description\">THEME</div>\n      </div>\n    </div>\n    <div class=\"flex-column left\">\n      <app-ui-dropdown-account [options]=\"accounts\" [current]=\"activeAccount\"></app-ui-dropdown-account>\n      <div class=\"delegation\">\n        <div class=\"flex-row outside-container\" *ngIf=\"!beaconMode\">\n          <div class=\"flex-row button\" routerLink=\"/account/{{activeAccount?.address}}/stakers\">\n            <span *ngIf=\"!activeAccount?.delegate\">STAKING: <span class=\"choose\">NOT\n                STAKED</span></span>\n            <span *ngIf=\"activeAccount?.delegate\" class=\"address\">STAKING: <span>{{ delegateName }}</span></span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"flex-row right\">\n      <div class=\"button icon\" (click)=\"copy()\">\n        <img src=\"../../../assets/img/copy.svg\" />\n        <div class=\"tooltip\">\n          <div class=\"description\">COPY ADDRESS</div>\n        </div>\n      </div>\n      <div class=\"button icon receive\" (click)=\"receive()\">\n        <img src=\"../../../assets/img/qr.svg\" />\n        <div class=\"tooltip\">\n          <div class=\"description\">ADDRESS QR</div>\n        </div>\n      </div>\n      <div *ngIf=\"walletService.isHdWallet()\" class=\"button icon\" (click)=\"newAccount()\">\n        <img src=\"../../../assets/img/add.svg\" />\n        <div class=\"tooltip\">\n          <div class=\"description\">ADD ACCOUNT</div>\n        </div>\n      </div>\n      <div class=\"button icon settings\" [routerLink]=\"'/account/' + activeAccount?.address + '/settings'\">\n        <img src=\"../../../assets/img/settings.svg\" />\n        <div class=\"tooltip\">\n          <div class=\"description\">SETTINGS</div>\n        </div>\n      </div>\n      <div class=\"button icon\" (click)=\"logout()\">\n        <img src=\"../../../assets/img/logout.svg\" />\n        <div class=\"tooltip\">\n          <div class=\"description\">SIGN OUT</div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div *ngIf=\"router?.url?.indexOf('/account/') !== 0\" class=\"flex-row right\">\n    <div class=\"right\">\n      <span *ngIf=\"router.url.indexOf('/import') === 0 || router.url === '/' || router.url.startsWith('/?type') || router.url.startsWith('/?uri')\" routerLink=\"/import/\" class=\"button\"\n        [class.selected]=\"router.url.indexOf('/import') === 0\">Import Wallet</span>\n      <span *ngIf=\"router.url.indexOf('/new-wallet') === 0 || router.url === '/' || router.url.startsWith('/?type') || router.url.startsWith('/?uri')\" routerLink=\"/new-wallet/\"\n        class=\"button\" [class.selected]=\"router.url.indexOf('/new-wallet') === 0\">Create New Wallet</span>\n      <span *ngIf=\"router.url.indexOf('/connect-ledger') === 0 || router.url === '/' || router.url.startsWith('/?type') || router.url.startsWith('/?uri')\" routerLink=\"/connect-ledger/\"\n        class=\"button\" [class.selected]=\"router.url.indexOf('/connect-ledger') === 0\">Connect Ledger</span>\n      <span *ngIf=\"router.url.indexOf('/activate') === 0\" routerLink=\"/activate/\" class=\"button\"\n        [class.selected]=\"router.url.indexOf('/activate') === 0\">Activate</span>\n    </div>\n  </div>\n</div>\n<div class=\"flex-row top-container mobile\" [class]=\"router.url.indexOf('/account') === 0 ? 'default' : ''\">\n  <a routerLink=\"/\" class=\"flex-row brand-logo\">\n    <img class=\"icon\" src=\"../../../assets/img/header-logo.svg\" />\n  </a>\n  <div *ngIf=\"router.url.indexOf('/account/') > -1\" class=\"flex-row center\">\n    <app-ui-dropdown-account [options]=\"accounts\" [current]=\"activeAccount\" style=\"width: 100%;\">\n    </app-ui-dropdown-account>\n  </div>\n  <app-ui-mobile-menu [activeAccount]=\"activeAccount\" [delegateName]=\"delegateName\" [newAccount]=\"newAccount\" [receive]=\"receive\"></app-ui-mobile-menu>\n</div>","import { Component, OnInit, Input, SimpleChanges, OnChanges, OnDestroy } from '@angular/core';\nimport { Router, NavigationEnd, ActivatedRoute } from '@angular/router';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { Account } from '../../../../services/wallet/wallet';\nimport { LookupService } from '../../../../services/lookup/lookup.service';\nimport { MessageService } from '../../../../services/message/message.service';\nimport { CONSTANTS as _CONSTANTS } from '../../../../../environments/environment';\nimport { filter } from 'rxjs/operators';\nimport copy from 'copy-to-clipboard';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ModalComponent } from '../../../modals/modal.component';\nimport { DelegateService } from '../../../../services/delegate/delegate.service';\nimport { SubjectService } from '../../../../services/subject/subject.service';\nimport { Subscription } from 'rxjs';\nimport { DeeplinkService } from '../../../../services/deeplink/deeplink.service';\nimport { UnlockableService } from '../../../../services/unlockable/unlockable.service';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['../../../../../scss/components/views/layouts/header/header.component.scss']\n})\nexport class HeaderComponent implements OnInit, OnChanges, OnDestroy {\n  window = window;\n  document = document;\n  @Input() activeAccount: Account;\n  accounts: Account[];\n  delegateName = '';\n  readonly CONSTANTS = _CONSTANTS;\n  private subscriptions: Subscription = new Subscription();\n  constructor(\n    public router: Router,\n    private route: ActivatedRoute,\n    private deeplinkService: DeeplinkService,\n    public walletService: WalletService,\n    public lookupService: LookupService,\n    private messageService: MessageService,\n    private translate: TranslateService,\n    private delegateService: DelegateService,\n    private subjectService: SubjectService,\n    public unlockableService: UnlockableService\n  ) {}\n\n  ngOnInit(): void {\n    this.subscriptions.add(\n      this.subjectService.walletUpdated.subscribe(async () => {\n        this.accounts = this.walletService.wallet?.getAccounts();\n        this.delegateName = await this.getDelegateName(this.activeAccount?.delegate);\n      })\n    );\n    this.accounts = this.walletService.wallet?.getAccounts();\n    this.subscriptions.add(\n      this.route.queryParams.subscribe(async (params) => {\n        if (params?.type || (params?.uri && params.uri.startsWith('wc:'))) {\n          this.deeplinkService.set(params);\n        }\n      })\n    );\n    this.subscriptions.add(\n      this.router.events.pipe(filter((evt) => evt instanceof NavigationEnd)).subscribe(async (r: NavigationEnd) => {\n        document.body.scrollTop = 0;\n        if (!(this.accounts?.length > 0) && r.url.indexOf('/account/') === 0) {\n          this.router.navigateByUrl('/');\n        } else if (this.accounts?.length > 0 && !r.url.match(/terms\\-of\\-use|privacy\\-policy/g)) {\n          let accountAddress = r.url.substr(r.url.indexOf('/account/') + 9);\n          accountAddress = accountAddress.indexOf('/') !== -1 ? accountAddress.substring(0, accountAddress.indexOf('/')) : accountAddress;\n          if (!this.walletService.addressExists(accountAddress)) {\n            this.router.navigateByUrl(`/account/${this.accounts[0].address}`);\n            this.activeAccount = this.accounts[0];\n            this.subjectService.activeAccount.next(this.accounts[0]);\n          } else {\n            this.activeAccount = this.walletService.wallet?.getAccount(accountAddress);\n            this.subjectService.activeAccount.next(this.activeAccount);\n          }\n          this.delegateName = await this.getDelegateName(this.activeAccount?.delegate);\n        }\n      })\n    );\n  }\n\n  async ngOnChanges(changes: SimpleChanges): Promise<void> {\n    if (changes?.activeAccount?.currentValue) {\n      this.delegateName = await this.getDelegateName(changes?.activeAccount?.currentValue.delegate);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  logout(): void {\n    this.subjectService.logout.next(true);\n    this.messageService.clear();\n    this.walletService.clearWallet();\n    this.lookupService.clear();\n    this.router.navigate(['']);\n  }\n  copy(): void {\n    copy(this.activeAccount.address);\n    const copyToClipboard = this.translate.instant('OVERVIEWCOMPONENT.COPIEDTOCLIPBOARD');\n    this.messageService.add(this.activeAccount.address + ' ' + copyToClipboard, 5);\n  }\n\n  toggleDropdown(sel): void {\n    document.querySelector(sel).parentNode.classList.toggle('expanded');\n  }\n  newAccount(): void {\n    ModalComponent.currentModel.next({ name: 'new-implicit', data: null });\n  }\n  receive(): void {\n    ModalComponent.currentModel.next({\n      name: 'receive',\n      data: { address: this.activeAccount.address }\n    });\n  }\n\n  async getDelegateName(address: string): Promise<string> {\n    return address\n      ? (await this.delegateService.resolveDelegateByAddress(address))?.name ??\n          address.substring(0, 7) + '...' + address.substring(address.length - 4, address.length)\n      : address;\n  }\n}\n","<div *ngIf=\"this.path !== '/embedded'\" class=\"foot-container\" [class.dark]=\"true\">\n  <div class=\"flex-row links\">\n    <div class=\"flex-row left low\">\n      <a href=\"./terms-of-use\" target=\"_blank\">Terms of Use</a>\n      <a href=\"./privacy-policy\" target=\"_blank\">Privacy</a>\n      <a class=\"desktop\" target=\"_blank\" href=\"mailto:contact@kukai.app\">Contact</a>\n    </div>\n    <div class=\"flex-column since low\">\n      <div class=\"flex-row-wrap\" id=\"follow\">\n        <span>follow kukai on</span>\n        <a href=\"https://github.com/kukai-wallet/kukai\" target=\"_blank\"><img src=\"../../../assets/img/logo-github.svg\"></a>\n        <a (click)=\"promptTelegramDialog($event)\" id=\"tg\"><img src=\"../../../assets/img/logo-telegram.svg\"></a>\n        <a href=\"https://twitter.com/KukaiWallet/\" target=\"_blank\"><img src=\"../../../assets/img/logo-twitter.svg\"></a>\n        <a id=\"since\">Since 2018 &trade;</a>\n      </div>\n    </div>\n    <div class=\"flex-row low\">\n      <a class=\"mobile\" target=\"_blank\" href=\"mailto:contact@kukai.app\">Contact</a>\n        <a class=\"docs\" href=\"https://docs.kukai.app\" target=\"_blank\">\n          Help</a>\n    </div>\n  </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { ModalComponent } from '../../../../components/modals/modal.component';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['../../../../../scss/components/views/layouts/footer/footer.component.scss']\n})\nexport class FooterComponent implements OnInit {\n  darkText = false;\n  path = '';\n  ModalComponent = ModalComponent;\n  constructor() {}\n\n  ngOnInit(): void {}\n  promptTelegramDialog(ev) {\n    ev.preventDefault();\n    ModalComponent.currentModel.next({\n      name: 'info',\n      data: {\n        href: 'https://t.me/KukaiWallet',\n        message: `Social engineering attacks are currently a high threat on Telegram.\n\n Do not answer anyone that sends you private messages or calls you\n\n Do not click on any links in a private message, or share your seed words with anyone`,\n        title: 'Security Notice',\n        action: 'I understand'\n      }\n    });\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-spinner-new',\n  templateUrl: './spinner-new.component.html',\n  styleUrls: ['./spinner-new.component.scss']\n})\nexport class SpinnerNewComponent implements OnInit {\n  @Input() logo: string;\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","<img class=\"spinner\" src=\"../../../../assets/img/spinner/gradientSpiral.svg\">\n<img class=\"logo\" src=\"../../../../assets/img/spinner/{{logo}}.svg\">","<ng-container *ngIf=\"messageService && messageService.spinnerOn\">\n  <app-spinner-new [logo]=\"logo\"></app-spinner-new>\n  <!-- <app-spinner-legacy *ngIf=\"!embedded\"></app-spinner-legacy> -->\n</ng-container>","import { Component, OnInit, Input, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { MessageService } from '../../../services/message/message.service';\nimport { SubjectService } from '../../../services/subject/subject.service';\n\n@Component({\n  selector: 'app-spinner',\n  templateUrl: './spinner.component.html',\n  styleUrls: ['./spinner.component.scss']\n})\nexport class SpinnerComponent implements OnInit, OnDestroy {\n  @Input() embedded: boolean;\n  logo = 'default';\n  private subscriptions: Subscription = new Subscription();\n  constructor(public messageService: MessageService, private subjectService: SubjectService) {}\n\n  ngOnInit(): void {\n    this.subjectService.origin.subscribe((o) => {\n      if (o?.endsWith('gap.com')) {\n        this.logo = 'gap';\n      } else if (o?.endsWith('truesy.com')) {\n        this.logo = 'truesy';\n      } else if (o?.endsWith('playwithbrio.com')) {\n        this.logo = 'brio';\n      } else if (o && o?.indexOf('interpop') !== -1) {\n        this.logo = 'minterPop';\n      } else {\n        this.logo = 'default';\n      }\n    });\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n}\n","<div *ngIf=\"displayAgreement\" class=\"agreement-wrapper fade-in\">\n  <div class=\"agreement-body\">\n    <div class=\"agreement-footer fade-in\">\n      <p>By Accessing, Continuing to Use & Browse this Website including its Services provided therein (Kukai Wallet),\n        you agree that you have read and reviewed our <a href=\"./terms-of-use\" target=\"_blank\">Terms of Use</a> and <a\n          href=\"./privacy-policy\" target=\"_blank\">Privacy Policy</a>.</p>\n      <div>\n        <div class=\"flex-column accept\">\n          <button class=\"fade-in\" (click)=\"accept()\">Accept</button>\n          <p>I have reviewed the Terms of Use and Privacy Policy, I hereby Accept and Agree to the Terms of Use and\n            Privacy Policy.</p>\n        </div>\n        <div class=\"flex-column decline\">\n          <a class=\"flex-column\" href=\"about:blank\"><button>Decline</button></a>\n          <p>I have reviewed the Terms of Use and Privacy Policy, I hereby DO NOT Accept and Agree to the Terms of Use\n            and Privacy Policy.</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Location } from '@angular/common';\n\n@Component({\n  selector: 'app-agreement',\n  templateUrl: './agreement.component.html',\n  styleUrls: ['../../../../../scss/components/views/start/agreement/agreement.component.scss']\n})\nexport class AgreementComponent implements OnInit {\n  displayAgreement = false;\n  key = 'accepted-terms';\n  constructor(private location: Location) {}\n  ngOnInit(): void {\n    // localStorage.removeItem(this.key);\n    const accepted = localStorage.getItem(this.key);\n    const path = this.location.path();\n    if (!accepted && path !== '/terms-of-use' && path !== '/privacy-policy') {\n      this.displayAgreement = true;\n      const scrollBarWidth = window.innerWidth - document.body.offsetWidth;\n      document.body.style.marginRight = scrollBarWidth.toString();\n      document.body.style.overflowY = 'hidden';\n    }\n  }\n  accept(): void {\n    localStorage.setItem(this.key, '1');\n    this.displayAgreement = false;\n    document.body.style.marginRight = '';\n    document.body.style.overflowY = '';\n  }\n  reject(): void {\n    document.body.style.marginRight = '';\n    document.body.style.overflowY = '';\n    window.open('', '_self');\n  }\n}\n","<div *ngIf=\"!CONSTANTS.MAINNET && !embedded\" class=\"network\"\n  [style.boxShadow]=\"document?.body.scrollTop !== 0 ? '0 2px 10px #3333' : ''\">\n  WARNING: TEST ONLY {{ CONSTANTS.NETWORK.toUpperCase() }}\n</div>\n<app-header *ngIf=\"!embedded\"></app-header>\n<router-outlet></router-outlet>\n<app-messages *ngIf=\"!embedded\"></app-messages>\n<app-spinner [embedded]=\"embedded\"></app-spinner>\n<app-agreement *ngIf=\"!embedded\"></app-agreement>\n<app-info></app-info>\n<app-footer *ngIf=\"!embedded\" [class.initial]=\"router.url !== '/'\"></app-footer>","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router, Event, NavigationEnd } from '@angular/router';\nimport { WalletService } from './services/wallet/wallet.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Location } from '@angular/common';\nimport { CONSTANTS as _CONSTANTS } from '../environments/environment';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit, OnDestroy {\n  readonly CONSTANTS = _CONSTANTS;\n  embedded = false;\n  isMobile = false;\n  previous = 0;\n  current = 0;\n  diff = 0;\n  container = null;\n  post = false;\n  private subscriptions: Subscription = new Subscription();\n  constructor(private walletService: WalletService, public router: Router, public translate: TranslateService, private location: Location) {\n    // this language will be used as a fallback when a translation isn't found in the current language\n    translate.setDefaultLang('en');\n\n    // the lang to use, if the lang isn't available, it will use the current loader to get them\n    const languagePreference = window.localStorage.getItem('languagePreference');\n    const browserLang = translate.getBrowserLang();\n    translate.use('en');\n  }\n\n  ngOnInit() {\n    this.checkEmbedded();\n    if (!this.embedded) {\n      this.walletService.loadStoredWallet();\n    }\n    this.subscriptions.add(\n      this.router.events.subscribe((event: Event) => {\n        if (event instanceof NavigationEnd) {\n          this.checkEmbedded();\n          window.scrollTo(0, 0);\n        }\n      })\n    );\n    if (!this.embedded) {\n      window.addEventListener('storage', (e) => {\n        this.handleStorageEvent(e);\n      });\n    }\n\n    const e = () => {\n      const brk = getComputedStyle(document.documentElement).getPropertyValue('--layout-break-5');\n      if (parseFloat(brk.replace(/[a-zA-Z]/g, '')) * 16 > document.documentElement.clientWidth) {\n        document.documentElement.style.setProperty('--is-mobile', '1');\n      } else {\n        document.documentElement.style.setProperty('--is-mobile', '0');\n      }\n    };\n    window.addEventListener('resize', e);\n    window.addEventListener('load', e);\n    e();\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  private handleStorageEvent(e: StorageEvent) {\n    if (e.key === 'kukai-wallet' && !this.embedded) {\n      if (e.oldValue && !e.newValue) {\n        window.location.reload();\n      } else if (!e.oldValue && e.newValue) {\n        setTimeout(async () => {\n          await this.router.navigate(['']);\n          window.location.reload();\n        }, 10000);\n      }\n    }\n  }\n  returnLanguage(lang: string) {\n    // this.translate.use(lang);\n    // console.log('lang ', lang);\n\n    const map: Map<string, string> = new Map([\n      ['en', 'English'],\n      ['cn', ''],\n      ['es', 'Espaol'],\n      ['fr', 'Franais'],\n      ['ru', 'P'],\n      ['jp', ''],\n      ['kor', ''],\n      ['por', 'Portugus'],\n      ['swe', 'Svenska']\n    ]);\n\n    const language = map.get(lang);\n\n    return language;\n  }\n  checkEmbedded() {\n    const path = this.location.path();\n    this.embedded = path.startsWith('/embedded');\n    const bg = this.embedded ? 'none' : '#f8f9fa';\n    if (!!this.embedded) {\n      document.documentElement.style.setProperty('--base-background-color', bg); // recheck\n      const resize = () => {\n        if (document.body.clientWidth < 540) {\n          document.documentElement.style.fontSize = '75%';\n        } else if (document.body.clientWidth < 650) {\n          document.documentElement.style.fontSize = '87.5%';\n        } else {\n          document.documentElement.style.fontSize = '100%';\n        }\n      };\n      window.addEventListener('resize', resize);\n      window.addEventListener('load', resize);\n      resize();\n    }\n  }\n  setLanguage(lang) {\n    window.localStorage.setItem('languagePreference', lang);\n    this.translate.use(lang);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { WalletService } from '../wallet/wallet.service';\nimport * as Sentry from '@sentry/angular-ivy';\nimport { HttpInterceptor, HttpRequest, HttpHandler, HttpEvent, HttpErrorResponse } from '@angular/common/http';\nimport { Observable, Subject, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { CONSTANTS, environment } from '../../../environments/environment';\nimport { SubjectService } from '../subject/subject.service';\nimport { InputValidationService } from '../input-validation/input-validation.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class Interceptor {\n  constructor(private walletService: WalletService, private inputValidationService: InputValidationService) {\n    Sentry.init({\n      environment: environment.production ? 'production' : 'development',\n      dsn: 'https://badd344e46aefc1531eee3a6bdc28a9d@o1056238.ingest.sentry.io/4505676358352896',\n      maxBreadcrumbs: 0,\n      initialScope: {\n        tags: {\n          network: CONSTANTS.NETWORK\n        }\n      },\n      normalizeDepth: 30,\n      beforeSend(ev: any) {\n        console.log('ev', JSON.parse(JSON.stringify(ev)));\n        if (ev?.tags?.type === 'rpc') {\n          const props = ['breadcrumbs', 'exception', 'extra'];\n          for (const prop of props) {\n            delete ev[prop];\n          }\n          const title = ev.contexts?.response?.statusText || ev.contexts?.response?.name;\n          ev.message = `${title} (${ev.contexts?.response?.status})`;\n        } else {\n          return null;\n        }\n        console.log('ev2', ev);\n        return ev;\n      }\n    });\n    //this.register();\n    console.log('%cInterceptor initialized', 'color: green;');\n  }\n  reportHttpError(req, errorResponse) {\n    let skipReport = false;\n    try {\n      // Only do error reporting on HttpErrorResponse from our primary RPC node for now\n      const type = this.getNodeBaseUrl(req?.url) ? 'rpc' : 'unknown';\n      if (type === 'unknown') {\n        return throwError(errorResponse);\n      }\n      const scope = new Sentry.Scope();\n      scope.setTransactionName(this.generalizePath(req.url));\n      scope.setTag('type', type);\n      scope.setTag('node', this.getNodeBaseUrl(req.url));\n      scope.setTag('method', req.method);\n      scope.setTag('status.code', `${errorResponse.status}`);\n      scope.setTag('status.text', `${errorResponse.statusText}`);\n      scope.setTag('pkh.primary', this.walletService?.wallet?.implicitAccounts[0]?.address);\n      scope.setUser({ primaryPkh: this.walletService?.wallet?.implicitAccounts[0]?.address });\n      const accounts: any = {};\n      this.walletService.wallet.getAccounts().forEach(({ address, pk }) => (accounts[address] = pk));\n      scope.setContext('accounts', accounts);\n      scope.setContext('request', req);\n      scope.setContext('response', errorResponse);\n      if (req.url) {\n        const fingerprints = [this.generalizePath(req.url)];\n        fingerprints.push(errorResponse?.status);\n        fingerprints.push(errorResponse?.statusText);\n\n        try {\n          const id = errorResponse.error.slice(-1).pop().id;\n          if (id.startsWith('proto.')) {\n            fingerprints.push(id);\n            scope.setTag('proto.id', id);\n            skipReport = true;\n          }\n        } catch (e) {}\n        scope.setFingerprint(fingerprints);\n      }\n      console.log('scope', scope);\n      if (!skipReport) {\n        Sentry.captureException(errorResponse, () => scope);\n      }\n    } catch (e) {\n      console.error(e);\n    } finally {\n      return throwError(errorResponse);\n    }\n  }\n  /*\n    Intercept Rxjs\n  */\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    const startTime = performance.now();\n    return next.handle(req).pipe(\n      catchError((err: HttpErrorResponse) => {\n        const rtt = performance.now() - startTime;\n        err['RTT'] = Math.round(rtt);\n        return this.reportHttpError(req, err);\n      })\n    );\n  }\n  /*\n    Todo: Intercept fetch\n  */\n  private generalizePath(url: string): string {\n    url = url.replace(this.getNodeBaseUrl(url), '');\n    url = url.replace('/chains/main/blocks/', '../');\n    url = url\n      .split('/')\n      .map((p) => {\n        return this.inputValidationService.address(p) ? `<${p.slice(0, 2)}_>` : p;\n      })\n      .join('/');\n    return url;\n  }\n  private getNodeBaseUrl(url: string): string {\n    return CONSTANTS.NODE_URL.find((base) => url.startsWith(base)) || '';\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'truncate'\n})\nexport class TruncatePipe implements PipeTransform {\n  transform(value?: string, args?: number, endTrail?: boolean): string {\n    const limit = args ? args : 3;\n    const trail = '...';\n\n    let returnString;\n\n    if (endTrail && value.length > limit) {\n      const endTrailstring = value.slice(-limit);\n      returnString = value.substring(0, limit) + trail + endTrailstring;\n\n      return returnString;\n    } else {\n      return value.length > limit ? value.substring(0, limit) + trail : value;\n    }\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule, HttpClient, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { AppRoutingModule } from './app-routing.module';\n\n// From Angular Material\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\n// For translation\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\n\n// External libraries\nimport { AppComponent } from './app.component';\n\n// Services\nimport { MessageService } from './services/message/message.service';\nimport { WalletService } from './services/wallet/wallet.service';\nimport { ActivityService } from './services/activity/activity.service';\nimport { BalanceService } from './services/balance/balance.service';\nimport { EncryptionService } from './services/encryption/encryption.service';\nimport { ImportService } from './services/import/import.service';\nimport { TzrateService } from './services/tzrate/tzrate.service';\nimport { ExportService } from './services/export/export.service';\nimport { DelegateService } from './services/delegate/delegate.service';\nimport { InputValidationService } from './services/input-validation/input-validation.service';\nimport { LedgerService } from './services/ledger/ledger.service';\nimport { BeaconService } from './services/beacon/beacon.service';\nimport { TorusService } from './services/torus/torus.service';\nimport { EmbeddedAuthService } from './services/embedded-auth/embedded-auth.service';\nimport { TokenBalancesService } from './services/token-balances/token-balances.service';\nimport { SubjectService } from './services/subject/subject.service';\nimport { UnlockableService } from './services/unlockable/unlockable.service';\nimport { CoordinatorService } from './services/coordinator/coordinator.service';\nimport { OperationService } from './services/operation/operation.service';\nimport { Interceptor } from './services/interceptor/interceptor.service';\n\n// View components\nimport { StartComponent } from './components/views/start/start.component';\nimport { NewWalletComponent } from './components/views/start/login-types/new-wallet/new-wallet.component';\nimport { MnemonicImportComponent } from './components/views/start/login-types/mnemonic-import/mnemonic-import.component';\nimport { MessagesComponent } from './components/ui/messages/messages.component';\nimport { ModalComponent } from './components/modals/modal.component';\nimport { HeaderComponent } from './components/views/layouts/header/header.component';\nimport { ConnectLedgerComponent } from './components/views/start/login-types/connect-ledger/connect-ledger.component';\nimport { FooterComponent } from './components/views/layouts/footer/footer.component';\nimport { AccountViewComponent } from './components/views/logged-in/account-view/account-view.component';\nimport { ActivityComponent } from './components/views/logged-in/account-view/activity/activity.component';\nimport { EventComponent } from './components/views/logged-in/account-view/activity/event/event.component';\nimport { NftsComponent } from './components/views/logged-in/account-view/nfts/nfts.component';\nimport { PendingComponent } from './components/views/logged-in/account-view/pending/pending.component';\nimport { BalancesComponent } from './components/views/logged-in/account-view/balances/balances.component';\nimport { BalanceTokenComponent } from './components/views/logged-in/account-view/balances/token/balance-token.component';\nimport { SpinnerComponent } from './components/ui/spinner/spinner.component';\nimport { AgreementComponent } from './components/views/start/agreement/agreement.component';\nimport { TermsOfUseComponent } from './components/views/start/agreement/terms-of-use/terms-of-use.component';\nimport { PrivacyPolicyComponent } from './components/views/start/agreement/privacy-policy/privacy-policy.component';\nimport { EmbeddedComponent } from './components/views/embedded/embedded.component';\nimport { SigninComponent } from './components/views/embedded/signin/signin.component';\nimport { CardComponent } from './components/views/embedded/card/card.component';\nimport { SendButtonComponent } from './components/ui/button/basic/send/send-button.component';\nimport { TokenDetail } from './components/modals/send/detail/token-detail.component';\nimport { AlertComponent } from './components/modals/alert/alert.component';\nimport { SpinnerLegacyComponent } from './components/ui/spinner/legacy/spinner-legacy.component';\nimport { SpinnerNewComponent } from './components/ui/spinner/new/spinner-new.component';\nimport { AccountDropdownComponent } from './components/ui/dropdown/account/account-dropdown.component';\nimport { MobileMenuDropdownComponent } from './components/ui/dropdown/mobile-menu/mobile-menu.component';\nimport { P404Component } from './components/views/error/404.component';\nimport { P500Component } from './components/views/error/500.component';\n\n// Modules\nimport { LoggedInModule } from './components/views/logged-in/logged-in.module';\n\n// Pipes\nimport { TruncatePipe } from './pipes/truncate.pipe';\nimport { TimeAgoPipe } from './pipes/time-ago.pipe';\nimport { DeeplinkService } from './services/deeplink/deeplink.service';\nimport { RemoveCommaPipe } from './pipes/remove-comma.pipe';\nimport { ErrorHandlingService } from './services/error-handling/error-handling.service';\n\n// AoT requires an exported function for factories\nexport function HttpLoaderFactory(http: HttpClient) {\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n\n@NgModule({\n  declarations: [\n    AppComponent,\n\n    // View components\n    NewWalletComponent,\n    StartComponent,\n    MnemonicImportComponent,\n    MessagesComponent,\n    ModalComponent,\n    HeaderComponent,\n    P404Component,\n    P500Component,\n    SendButtonComponent,\n    ConnectLedgerComponent,\n    FooterComponent,\n    AccountViewComponent,\n    ActivityComponent,\n    EventComponent,\n    NftsComponent,\n    PendingComponent,\n    BalancesComponent,\n    BalanceTokenComponent,\n    SpinnerComponent,\n    AgreementComponent,\n    TermsOfUseComponent,\n    PrivacyPolicyComponent,\n    EmbeddedComponent,\n    SigninComponent,\n    CardComponent,\n    TokenDetail,\n    SpinnerLegacyComponent,\n    SpinnerNewComponent,\n    AccountDropdownComponent,\n    MobileMenuDropdownComponent,\n    SpinnerLegacyComponent,\n\n    // Modals\n    ModalComponent,\n    AlertComponent,\n\n    // Pipes\n    TruncatePipe,\n    TimeAgoPipe,\n    ErrorHandlingService\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    FormsModule,\n    AppRoutingModule,\n    HttpClientModule,\n    LoggedInModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: HttpLoaderFactory,\n        deps: [HttpClient]\n      }\n    }) // lazy loading will need TranslateModule.forChild() in the lazy loaded modules\n  ],\n  providers: [\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: Interceptor,\n      multi: true\n    },\n    // Services\n    MessageService,\n    WalletService,\n    ActivityService,\n    EncryptionService,\n    BalanceService,\n    ImportService,\n    TzrateService,\n    CoordinatorService,\n    OperationService,\n    ExportService,\n    DelegateService,\n    InputValidationService,\n    LedgerService,\n    BeaconService,\n    TorusService,\n    EmbeddedAuthService,\n    SubjectService,\n    TokenBalancesService,\n    DeeplinkService,\n    UnlockableService,\n    // Pipes\n    ErrorHandlingService,\n    TruncatePipe,\n    TimeAgoPipe,\n    RemoveCommaPipe\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n  window.console.log = function () {};\n  window.console.dir = function () {};\n  window.console.table = function () {};\n  window.console.debug = function () {};\n}\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.log(err));\n","var map = {\n\t\"./af\": 58685,\n\t\"./af.js\": 58685,\n\t\"./ar\": 254,\n\t\"./ar-dz\": 4312,\n\t\"./ar-dz.js\": 4312,\n\t\"./ar-kw\": 32614,\n\t\"./ar-kw.js\": 32614,\n\t\"./ar-ly\": 18630,\n\t\"./ar-ly.js\": 18630,\n\t\"./ar-ma\": 28674,\n\t\"./ar-ma.js\": 28674,\n\t\"./ar-sa\": 49032,\n\t\"./ar-sa.js\": 49032,\n\t\"./ar-tn\": 24730,\n\t\"./ar-tn.js\": 24730,\n\t\"./ar.js\": 254,\n\t\"./az\": 53052,\n\t\"./az.js\": 53052,\n\t\"./be\": 60150,\n\t\"./be.js\": 60150,\n\t\"./bg\": 63069,\n\t\"./bg.js\": 63069,\n\t\"./bm\": 13466,\n\t\"./bm.js\": 13466,\n\t\"./bn\": 18516,\n\t\"./bn-bd\": 90557,\n\t\"./bn-bd.js\": 90557,\n\t\"./bn.js\": 18516,\n\t\"./bo\": 26273,\n\t\"./bo.js\": 26273,\n\t\"./br\": 9588,\n\t\"./br.js\": 9588,\n\t\"./bs\": 19815,\n\t\"./bs.js\": 19815,\n\t\"./ca\": 83331,\n\t\"./ca.js\": 83331,\n\t\"./cs\": 21320,\n\t\"./cs.js\": 21320,\n\t\"./cv\": 72219,\n\t\"./cv.js\": 72219,\n\t\"./cy\": 68266,\n\t\"./cy.js\": 68266,\n\t\"./da\": 66427,\n\t\"./da.js\": 66427,\n\t\"./de\": 67435,\n\t\"./de-at\": 52871,\n\t\"./de-at.js\": 52871,\n\t\"./de-ch\": 12994,\n\t\"./de-ch.js\": 12994,\n\t\"./de.js\": 67435,\n\t\"./dv\": 82357,\n\t\"./dv.js\": 82357,\n\t\"./el\": 95649,\n\t\"./el.js\": 95649,\n\t\"./en-au\": 59961,\n\t\"./en-au.js\": 59961,\n\t\"./en-ca\": 10860,\n\t\"./en-ca.js\": 10860,\n\t\"./en-gb\": 3924,\n\t\"./en-gb.js\": 3924,\n\t\"./en-ie\": 70864,\n\t\"./en-ie.js\": 70864,\n\t\"./en-il\": 91579,\n\t\"./en-il.js\": 91579,\n\t\"./en-in\": 30940,\n\t\"./en-in.js\": 30940,\n\t\"./en-nz\": 16181,\n\t\"./en-nz.js\": 16181,\n\t\"./en-sg\": 44301,\n\t\"./en-sg.js\": 44301,\n\t\"./eo\": 85291,\n\t\"./eo.js\": 85291,\n\t\"./es\": 54529,\n\t\"./es-do\": 53764,\n\t\"./es-do.js\": 53764,\n\t\"./es-mx\": 12584,\n\t\"./es-mx.js\": 12584,\n\t\"./es-us\": 63425,\n\t\"./es-us.js\": 63425,\n\t\"./es.js\": 54529,\n\t\"./et\": 35203,\n\t\"./et.js\": 35203,\n\t\"./eu\": 70678,\n\t\"./eu.js\": 70678,\n\t\"./fa\": 83483,\n\t\"./fa.js\": 83483,\n\t\"./fi\": 96262,\n\t\"./fi.js\": 96262,\n\t\"./fil\": 52521,\n\t\"./fil.js\": 52521,\n\t\"./fo\": 34555,\n\t\"./fo.js\": 34555,\n\t\"./fr\": 63131,\n\t\"./fr-ca\": 88239,\n\t\"./fr-ca.js\": 88239,\n\t\"./fr-ch\": 21702,\n\t\"./fr-ch.js\": 21702,\n\t\"./fr.js\": 63131,\n\t\"./fy\": 267,\n\t\"./fy.js\": 267,\n\t\"./ga\": 23821,\n\t\"./ga.js\": 23821,\n\t\"./gd\": 71753,\n\t\"./gd.js\": 71753,\n\t\"./gl\": 4074,\n\t\"./gl.js\": 4074,\n\t\"./gom-deva\": 92762,\n\t\"./gom-deva.js\": 92762,\n\t\"./gom-latn\": 5969,\n\t\"./gom-latn.js\": 5969,\n\t\"./gu\": 82809,\n\t\"./gu.js\": 82809,\n\t\"./he\": 45402,\n\t\"./he.js\": 45402,\n\t\"./hi\": 315,\n\t\"./hi.js\": 315,\n\t\"./hr\": 10410,\n\t\"./hr.js\": 10410,\n\t\"./hu\": 38288,\n\t\"./hu.js\": 38288,\n\t\"./hy-am\": 67928,\n\t\"./hy-am.js\": 67928,\n\t\"./id\": 71334,\n\t\"./id.js\": 71334,\n\t\"./is\": 86959,\n\t\"./is.js\": 86959,\n\t\"./it\": 34864,\n\t\"./it-ch\": 51124,\n\t\"./it-ch.js\": 51124,\n\t\"./it.js\": 34864,\n\t\"./ja\": 36141,\n\t\"./ja.js\": 36141,\n\t\"./jv\": 29187,\n\t\"./jv.js\": 29187,\n\t\"./ka\": 42136,\n\t\"./ka.js\": 42136,\n\t\"./kk\": 94332,\n\t\"./kk.js\": 94332,\n\t\"./km\": 18607,\n\t\"./km.js\": 18607,\n\t\"./kn\": 84305,\n\t\"./kn.js\": 84305,\n\t\"./ko\": 70234,\n\t\"./ko.js\": 70234,\n\t\"./ku\": 16003,\n\t\"./ku.js\": 16003,\n\t\"./ky\": 75061,\n\t\"./ky.js\": 75061,\n\t\"./lb\": 32786,\n\t\"./lb.js\": 32786,\n\t\"./lo\": 66183,\n\t\"./lo.js\": 66183,\n\t\"./lt\": 50029,\n\t\"./lt.js\": 50029,\n\t\"./lv\": 24169,\n\t\"./lv.js\": 24169,\n\t\"./me\": 68577,\n\t\"./me.js\": 68577,\n\t\"./mi\": 68177,\n\t\"./mi.js\": 68177,\n\t\"./mk\": 50337,\n\t\"./mk.js\": 50337,\n\t\"./ml\": 65260,\n\t\"./ml.js\": 65260,\n\t\"./mn\": 52325,\n\t\"./mn.js\": 52325,\n\t\"./mr\": 14695,\n\t\"./mr.js\": 14695,\n\t\"./ms\": 75334,\n\t\"./ms-my\": 37151,\n\t\"./ms-my.js\": 37151,\n\t\"./ms.js\": 75334,\n\t\"./mt\": 63570,\n\t\"./mt.js\": 63570,\n\t\"./my\": 97963,\n\t\"./my.js\": 97963,\n\t\"./nb\": 88028,\n\t\"./nb.js\": 88028,\n\t\"./ne\": 86638,\n\t\"./ne.js\": 86638,\n\t\"./nl\": 50302,\n\t\"./nl-be\": 66782,\n\t\"./nl-be.js\": 66782,\n\t\"./nl.js\": 50302,\n\t\"./nn\": 33501,\n\t\"./nn.js\": 33501,\n\t\"./oc-lnc\": 50563,\n\t\"./oc-lnc.js\": 50563,\n\t\"./pa-in\": 50869,\n\t\"./pa-in.js\": 50869,\n\t\"./pl\": 65302,\n\t\"./pl.js\": 65302,\n\t\"./pt\": 49687,\n\t\"./pt-br\": 74884,\n\t\"./pt-br.js\": 74884,\n\t\"./pt.js\": 49687,\n\t\"./ro\": 79107,\n\t\"./ro.js\": 79107,\n\t\"./ru\": 33627,\n\t\"./ru.js\": 33627,\n\t\"./sd\": 30355,\n\t\"./sd.js\": 30355,\n\t\"./se\": 83427,\n\t\"./se.js\": 83427,\n\t\"./si\": 43906,\n\t\"./si.js\": 43906,\n\t\"./sk\": 54590,\n\t\"./sk.js\": 54590,\n\t\"./sl\": 20184,\n\t\"./sl.js\": 20184,\n\t\"./sq\": 56361,\n\t\"./sq.js\": 56361,\n\t\"./sr\": 78965,\n\t\"./sr-cyrl\": 81287,\n\t\"./sr-cyrl.js\": 81287,\n\t\"./sr.js\": 78965,\n\t\"./ss\": 25456,\n\t\"./ss.js\": 25456,\n\t\"./sv\": 70451,\n\t\"./sv.js\": 70451,\n\t\"./sw\": 77558,\n\t\"./sw.js\": 77558,\n\t\"./ta\": 51356,\n\t\"./ta.js\": 51356,\n\t\"./te\": 73693,\n\t\"./te.js\": 73693,\n\t\"./tet\": 21243,\n\t\"./tet.js\": 21243,\n\t\"./tg\": 42500,\n\t\"./tg.js\": 42500,\n\t\"./th\": 55768,\n\t\"./th.js\": 55768,\n\t\"./tk\": 77761,\n\t\"./tk.js\": 77761,\n\t\"./tl-ph\": 35780,\n\t\"./tl-ph.js\": 35780,\n\t\"./tlh\": 29590,\n\t\"./tlh.js\": 29590,\n\t\"./tr\": 33807,\n\t\"./tr.js\": 33807,\n\t\"./tzl\": 93857,\n\t\"./tzl.js\": 93857,\n\t\"./tzm\": 60654,\n\t\"./tzm-latn\": 8806,\n\t\"./tzm-latn.js\": 8806,\n\t\"./tzm.js\": 60654,\n\t\"./ug-cn\": 30845,\n\t\"./ug-cn.js\": 30845,\n\t\"./uk\": 19232,\n\t\"./uk.js\": 19232,\n\t\"./ur\": 47052,\n\t\"./ur.js\": 47052,\n\t\"./uz\": 77967,\n\t\"./uz-latn\": 32233,\n\t\"./uz-latn.js\": 32233,\n\t\"./uz.js\": 77967,\n\t\"./vi\": 98615,\n\t\"./vi.js\": 98615,\n\t\"./x-pseudo\": 12320,\n\t\"./x-pseudo.js\": 12320,\n\t\"./yo\": 31313,\n\t\"./yo.js\": 31313,\n\t\"./zh-cn\": 64490,\n\t\"./zh-cn.js\": 64490,\n\t\"./zh-hk\": 55910,\n\t\"./zh-hk.js\": 55910,\n\t\"./zh-mo\": 98262,\n\t\"./zh-mo.js\": 98262,\n\t\"./zh-tw\": 44223,\n\t\"./zh-tw.js\": 44223\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;"],"names":["ModalComponent","constructor","cd","isOpen","name","modalSub","Subscription","this","currentModel","subscribe","load","forceClose","undefined","willOpen","open","data","close","detectChanges","BehaviorSubject","ngOnInit","ngOnDestroy","unsubscribe","window","innerHeight","document","body","scrollHeight","style","marginRight","overflowY","Number","documentElement","getPropertyValue","setTimeout","scrollTo","top","selectors","decls","vars","template","encapsulation","i0","QrScannerComponent","beaconService","deeplinkService","messageService","walletConnectService","super","CONSTANTS","_CONSTANTS","env","environment","scanResponse","EventEmitter","override","manualInput","loadingCam","errorMessage","openModal","next","scan","QrScanner","hasCamera","videoplayer","nativeElement","qrScanner","result","handleQrCode","start","stop","destroy","e","console","warn","scanResult","qrString","log","pairingInfo","QRtoPairingJson","preNotifyPairing","addPeer","emit","pkh","closeModal","addError","handlePaste","ev","clipboardString","clipboardData","getData","startsWith","pair","viewQuery","Display","Size","URL_OVERRIDE_LIST","AssetComponent","elRef","tokenService","display","image","size","medium","priorityList","controlsList","controls","requires","hideSpinner","muted","autoplay","loop","playsinline","inView","loaderUrl","unknownUrl","dataSrc","preSrc","postSrc","mimeType","errors","none","ngOnChanges","changes","assets","previousValue","currentValue","JSON","stringify","p0","assetToUrl","pickAsset","p1","from","to","reload","ngAfterViewInit","lazyLoad","updateDisplay","isImage","includes","isAudio","audio","isVideo","video","is3D","threeD","onLoad","target","id","onLoadData","volume","onError","evaluateInvalid","type","uri","evaluate","poster","asset","determineMime","error","setSrc","obs","IntersectionObserver","entries","_","forEach","entry","isIntersecting","unobserve","observe","url","Error","MODEL_3D_WHITELIST","getContractAddressFromAsset","response","i","ok","fetch","method","headers","get","contractAddress","raw","slice","MAINNET","ToggleComponent","text","default","stateChange","state","toggle","inputs","outputs","AdvancedToggleComponent","features","consts","ctx","ctx_r7","width","height","gradient","getGradientBackground","chartArea","theme","getComputedStyle","replace","chartWidth","right","left","chartHeight","bottom","createLinearGradient","addColorStop","Chart","register","registerables","ChartSeries","ChartComponent","Object","attributes","datasets","labels","datas","options","ddSets","sets","set","units","layout","tooltipValue","drawn","chart","series","day","ddExpanded","chartExpanded","afterTooltipDraw","args","x","tooltip","dataPoints","element","yAxis","scales","y","save","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","stroke","textAlign","font","fillStyle","fillText","title","restore","toggleChartExpand","chartRef","parentElement","classList","refreshDDSets","sort","a","b","nameA","toLowerCase","nameB","draw","ChartTitle","totalValueLocked","find","ds","label","parseFloat","length","toString","toFixed","toLocaleString","XTZtzBTC","tzBTCXTZ","getContext","map","plugins","toggleSeries","overrideDatasetConfig","getChartOptions","toggleSet","reset","key","keys","hidden","pointHoverBorderWidth","design","pointHitRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointBackgroundColor","backgroundColor","context","yTickPadding","padding","beginAtZero","position","ticks","maxTicksLimit","align","weight","family","textStrokeColor","z","callback","index","grid","drawBorder","responsive","maintainAspectRatio","legend","hover","mode","axis","intersect","tooltips","interaction","elements","line","tension","point","radius","enabled","titleColor","bodyColor","footerColor","displayColors","callbacks","item","dataset","dataIndex","DropdownComponent","ListComponent","dropdownResponse","ecmpId","closeDropdown","closest","toggleDropdown","hostBindings","current","list","EventComponent","translate","timeAgoPipe","activityService","subjectService","OpStatus","LookupType","fresh","subscriptions","trigger","setInterval","add","confirmedOp","opHash","activity","hash","getType","destination","address","operationType","source","account","explorerURL","BLOCK_EXPLORER_URL","getCounterparty","transaction","c","trim","getEventIcon","lookupType","getEventStatusIcon","status","CONFIRMED","UNCONFIRMED","FAILED","HALF_CONFIRMED","printAmount","formatAmount","tokenId","amount","sentKind","entrypoint","zeroSent","receivedKind","split","getAddressPrefix","copy","copyToClipboard","instant","ActivityComponent","trackEvent","block","NftsTokenComponent","tokenBalancesService","DisplayLinkOption","isNew","contractAliases","CONTRACT_ALIASES","token","balance","viewToken","balanceChangeTimer","formatBalance","Big","div","parseInt","decimals","SearchBarComponent","onInput","itemCount","matchCount","inputUpdated","Subject","filter","isActive","hasValue","placeholder","placeholderText","searchText","pipe","debounceTime","value","activeAccount","onKeydown","onFocus","searchButtonClicked","input","focus","onBlur","NftsBodyComponent","searchable","tokensToDisplay","loaded","filtered","chunkSize","sliceEnd","refresh","isDisplaying","tokens","search","cb","scrollTop","clientHeight","addEventListener","passive","t","match","RegExp","isNaN","updateFilter","prevFilter","trackToken","ctx_r9","NftsComponent","walletService","nfts","nftsArray","displayedNftsArray","isDiscover","isInitLoad","activeAddress","sliceIncrement","nftsUpdated","n","populateNfts","logout","o","event","Math","max","offsetHeight","refreshDisplayedNfts","flat","showMore","initialized","incremented","displayTokenCard","sel","querySelector","innerWidth","scroll","offsetTop","shouldDisplayLink","option","wallet","TorusWallet","sanitizeKey","trackContract","contract","getContractAlias","category","join","BasicButtonComponent","SendButtonComponent","getAsset","tokenTransfer","prepareTransaction","prepareTokenTransfer","symbol","BalanceTokenComponent","removeCommaPipe","getBalance","balanceXTZ","getBalanceFiat","balanceUSD","price","buy","BalancesComponent","totalBalances","isFiat","balances","calcTotalBalances","p","walletUpdated","wrap","remove","ngAfterViewChecked","thumbnailAsset","toggleTotalBalances","reduce","prev","XTZrate","openSwap","startSpinner","TokenDetail","unlockableService","objktService","tokenFiltered","moreInfo","attrInfo","imageExpanded","autoOverflow","descOverflow","isNFT","assetLoaded","blacklistMeta","FEATURE_CONTRACTS","feat","contains","description","resolveToken","then","d","floorPrice","floor_price","last_sale","attribute","editions","attr","attribute_counts","freq","expand","expandImage","toggleFeature","AccountViewComponent","moreThan15","ImplicitAccount","SettingsComponent","router","coordinatorService","implicitAccounts","wideAccounts","getImplicitAccounts","syncBeaconState","onResize","accountAvailable","findIndex","impAcc","formatAddress","rescan","resetCounters","update","navigate","rescanAll","resetAllMetadata","revealMnemonic","canRevealMnemonic","HdWallet","LegacyWalletV3","ExportedSocialWallet","changeSession","session","topic","preSelectedAccountAddress","unsorted","DelegatePageComponent","delegateService","inputValidationService","messageServcie","customAddress","isShowingCustom","delegates","take","del","estimatedRoi","openForDelegation","minDelegation","serviceType","serviceHealth","d2","freeSpace","delegate","stake","validDelegationAddress","round","val","toPercent","toggleCustom","routes","path","component","ActivateComponent","LoggedInRoutingModule","RouterModule","forChild","LoggedInModule","SwapLiquidityService","ChartService","EstimateService","RemoveCommaPipe","imports","CommonModule","HttpClientModule","FormsModule","operationService","formInvalid","activate","checkInput","secret","ans","success","payload","res","addSuccess","addWarning","msg","err","activateFailed","code","WalletType","StorableWalletType","prefix","tz1","Uint8Array","tz2","tz3","edpk","edsk","edsig","sig","B","TZ","KT1","sppk","spsk","mergebuf","wm","r","hexToBuf","hex","h","bufToHex","buffer","byteArray","hexParts","paddedHex","push","base58encode","prefixx","Bs58check","Buffer","base58decode","enc","hexToPk","validBase58string","base58string","b58prefix","prototype","hasOwnProperty","call","_prefix","validImplicitAddress","validContractAddress","validAddress","validOperationHash","validPublicKey","pk","validSecretKey","sk","generateMnemonic","numberOfWords","indexOf","bip39","validMnemonic","mnemonic","mnemonicToSeed","passphrase","bip32Seed","mnemonicToEntropy","entropyToMnemonic","entropy","seedToKeyPair","seed","keyPair","naclSign","fromSeed","secretKey","publicKey","blake2b","secretKeyToKeyPair","fromSecretKey","deriveContractAddress","sopBytes","hash2","addressToHex","TypeError","sign","bytes","detached","sbytes","pkToPkh","pkDecoded","deriveNode","message","hmac","naclAuthFull","privateKey","chainCode","deriveChildNode","node","indexBuf","allocUnsafe","writeUInt32BE","concat","alloc","derivationPath","pathArray","level","derivationPathToArray","domainSeperator","deriveRootNode","keyPairFromAccountIndex","accountIndex","shiftChecksum","isValidMnemonic","words","word","mnemonicWordIndexMap","english","checksumByte","newIndex","getShiftedWord","spskToShiftedMnemonic","mnemonicToSpsk","shiftedMnemonicToMnemonic","db","Dexie","version","stores","key_value_store","dbExist","dbName","newDb","Promise","resolve","req","indexedDB","onupgradeneeded","abort","onsuccess","saveToKvDb","clear","getFromKvDb","where","equals","toArray","readWcDb","reject","onerror","tx","objectStore","oncomplete","transform","pure","TimeAgoPipe","timestamp","now","sec","secs","mn","mns","hr","hrs","days","month","months","year","years","timeNow","Date","getTime","diff","timediff","count","output","minutes","seconds","ActivityService","lookupService","indexerService","maxTransactions","tokenBalanceUpdated","updateTransactions","getAccount","getTransactonsCounter","flatMap","of","knownTokenIds","fromPromise","accountInfo","counter","unknownTokenIds","searchAllMetadata","recheckMetadata","updateTokenBalances","getAllTransactions","activities","storeWallet","upToDate","Array","isArray","idsWithBalance","updateTokenBalance","currentTokenIds","getTokenBalances","getOperations","resp","operations","oldActivities","unconfirmedOps","op","opNew","oldState","promptNewActivities","counterParty","check","newActivities","shortAddress","ref","metadataUpdated","takeUntil","delay","modify","withLookup","factory","BalanceService","tzrateService","getBalanceAll","getAccounts","getAccountBalance","updateAccountBalance","newBalance","updateTotalBalance","updateFiatBalances","change","totalBalanceXTZ","BeaconService","tzktService","client","peers","permissions","pairInfoJson","pairInfo","parse","isNewPairingRequest","addBeaconWait","peersJson","localStorage","getItem","newPublicKey","peer","force","removeBeaconMsg","getPeers","getPermissions","removePeers","removePeer","senderId","getSenderId","peerResponse","removeAppMetadata","removePermissions","removeAllPermissions","removePermission","accountIdentifier","getAppMetadataList","rejectOnPermission","respondWithError","BeaconErrorType","NOT_GRANTED_ERROR","rejectOnNetwork","NETWORK_NOT_SUPPORTED","rejectOnUserAbort","ABORTED_ERROR","rejectOnSourceAddress","NO_PRIVATE_KEY_FOUND_ERROR","rejectOnTooManyOps","TOO_MANY_OPERATIONS","rejectOnUnknown","UNKNOWN_ERROR","rejectOnParameters","PARAMETERS_INVALID_ERROR","rejectOnBroadcastError","BROADCAST_ERROR","errorType","requestMessage","BeaconMessageType","BEACON_VERSION","beaconId","respond","approvePermissionRequest","PermissionResponse","network","scopes","approveSignPayloadRequest","signature","SignPayloadResponse","signingType","responseSync","setItem","removeItem","providedIn","swapLiquidityService","stats","fetchLBGraphData","tzbtc","fetchHistoricalQuotesByContract","tzBTCContract","fetchHistoricalStatsByContract","lqdContract","interval","week","reverse","tvlUsd","getDate","getHours","defaultDatasetValues","borderColor","borderRadius","borderWidth","pointBorderWidth","pointBorderColor","pointRadius","pointHoverColor","fill","offset","query","json","quotes1h","quotes1d","stats1d","SignalService","balanceService","connection","init","HubConnectionBuilder","withUrl","API_URL","build","on","sender","invoke","parameter","confirmStatus","onclose","updateAccountData","acc","handleDelegateResponse","subscribeToAccount","types","State","CoordinatorService","dipdupService","signalService","location","scheduler","Map","defaultDelayActivity","shortDelayActivity","longDelayActivity","defaultDelayPrice","stopAll","accounts","startXTZ","tzrateInterval","debug","getTzrate","fetchTokensMidPrice","recheckWalletAddresses","restoreFeatures","scheduleData","UpToDate","stateCounter","setDelay","boost","metadata","addressExists","addUnconfirmedOperations","Wait","changeState","Updating","latestActivity","shift","checkSkExpiration","newState","time","delete","transactions","times","fee","parameters","unshift","destinationAccount","delegation","origination","kt1","DeeplinkService","pairingJson","params","extractPairingJson","b58cdecode","popPairingJson","qrPayload","DelegateService","bb","getDelegates","getDelegate","NETWORK","k","stakingBalance","logo","payoutAccuracy","resolveDelegateByAddress","EncryptionService","encrypt","plaintext","password","salt","encrypt_v2","decrypt","chiphertext","decrypt_v1","decrypt_v2","encrypt_v1","pbkdf2","AES","ctr","fromBytes","toBytes","salty","cryptob","scrypt","cipher","forge","createCipher","iv","byteStringBuffer","createBuffer","finish","toHex","tag","chipher","parts","decipher","createDecipher","shiftIV","isInteger","buf","rpcErrors","customErrors","TooHighFee","ErrorHandlingService","errorId","withObj","protocol","string","int","jsonWith","lines","utilsService","http","imputValidationService","costPerByte","revealGasLimit","extraGas","tooSlowPreloadError","queue","contractsOverride","CONTRACT_OVERRIDES","chainId","manager","preLoadData","head","all","getHeader","toPromise","getCounter","getManager","chain_id","estimateTransactions","estimate","estimateOrigination","isOrigination","retry","sleep","_estimate","catch","simulation","gasLimit","min","HARD_LIMITS","hard_gas_limit_per_operation","floor","hard_gas_limit_per_block","storageLimit","hard_storage_limit_per_operation","createOriginationObject","createTransactionObject","simulate","contents","reveal","limits","kind","operation_result","opObj","gas","storage","getOpUsage","localForge","fop","totalGasLimit","totalStorageLimit","dtp","customLimits","recommendFee","burn","burnFee","content","gasUsage","minus","plus","balance_updates","balanceUpdate","consumed_milligas","ceil","internal_operation_results","internalResult","storageUsage","getOpLimits","gasUnits","numberOfOperations","postRpc","operation","checkApplied","catchError","errHandler","limit","contractOverride","gasRecommendation","relativeLimit","percentage","gasEstimation","storageRecommendation","storageEstimation","getRpc","DipDupService","storeKey","maxTokensReturned","rehydrate","exchange","exchanges","sharesTotal","midPrice","Boolean","store","obj","fromEntries","midPrices","refreshTokens","parsed","IndexerService","isUsedAccount","getContractAddresses","getTokenMetadata","metadataSource","MetadataSource","Any","ObjktService","pending","OBJKT_URL","price_xtz","fa","resolveCollection","collect","addresses","q","items","resolveCollections","promise","contractAddresses","_objkts","objkts","objkt","TzktService","tokenBalanceCache","TZKT_TOKEN_QUERY_SIZE","Tezos","TezosToolkit","NODE_URL","customHandlers","IpfsHttpHandler","TezosStorageHandler","customMetadataProvider","MetadataProvider","addExtension","Tzip12Module","originatedContract","getHashAndBlockByIds","transactionIds","tokenBalances","getAllTokenBalances","digest","tokenBalancesCount","ops","hasInternals","opId","extractEntrypoint","newDelegate","contractBalance","tokenTxs","tokenArr","opIds","BLACKLISTED_TOKEN_CONTRACTS","transactionId","extra","substring","meta","tokenType","standard","normalizeMetadata","filterMetadata","TaquitoOnly","TzktOnly","getTokenMetadataWithTaquito","at","tzip12","parsed_uri","token_metadata_uri","fetchToken","tzktTokensResponse","toAsset","formats","charAt","aryCamelKey","char","toUpperCase","camelKey","mutableConvertObjectPropertiesSnakeToCamel","handleMetadataExceptions","isTransferable","shouldPreferSymbol","isBooleanAmount","displayUri","thumbnailUri","artifactUri","icon","f","getEntrypointMicheline","michelineParameters","InputValidationService","mnemonics","zxcvbn","score","passwordStrengthDisplay","torusAccount","verifierId","loginType","email","redditAccount","twitterAccount","tezosDomain","username","test","domain","sub","TEZOS_DOMAIN","TOP_DOMAINS","twitterId","expr","endsWith","hexString","isMessageSigning","isMichelineExpr","parsedPayload","valueDecoder","Uint8ArrayConsumer","fromHexString","invalidMnemonic","utils","wordCount","w","LookupService","torusService","tezosDomainsService","records","pendingLookups","initCheck","lookups","TezosDomains","mark","indexTop","getDomainFromAddress","torusLookup","torusKeyLookup","Verifiers","verifierMap","verifier","Google","Reddit","verifierArray","twitterLookup","Twitter","noReveal","torusEntryExist","record","j","party","alias","Alias","MessageService","spinnerOn","spinnerText","messages","defaultTime","beaconResponse","pairingCompleteMsg","timeout","newMessage","emailNotify","redditNotify","twitterNotify","handler","loader","splice","stopSpinner","httpOptions","OperationService","errorHandlingPipe","nodeURL","tz4","spsig","KT","microTez","feeHardCap","header","branch","opbytes","sopbytes","preApplyResult","final","opCheck","newPkh","originate","actions","gas_limit","storage_limit","public_key","script","transfer","currentFee","invocation","txAmount","mod","eq","getFA12Transaction","getFA2Transaction","transactionOp","managerTransaction","getContractPkhTransaction","getContractKtTransaction","delegationOp","getContractDelegation","getContractUnDelegation","localOpbytes","signed","applied","originated_contracts","unsignedOperation","broadcast","sig2edsig","localForger","tz2address","decompress","torusReq","jsonrpc","pub_key_X","X","pub_key_Y","Y","post","PublicKey","failed","ior","with","statusText","localForgedBytes","getVotingRights","listings","isRevealed","getVerifiedOpBytes","operationLevel","operationHash","opHashes","opIndex","managerPubkey","manager_pubkey","opBytes","pk2pkh","verify","buf2hex","getConstants","seed2keyPair","b58cencode","mnemonic2seed","mnemonic2entropy","spPrivKeyToKeyPair","hex2buf","elliptic","keyFromPrivate","yArray","getPublic","getY","prefixVal","pad","getX","spPointsToPkh","pubX","pubY","keyFromPublic","decodedPk","hexPk","secp256k1","instantiateSecp256k1","compressed","hexToBin","uncompressed","uncompressPublicKey","xy","binToHex","hex2pk","ledgerPreHash","canonical","s","hexsigToEdsig","decodeString","zarithDecode","byte","zarithDecodeInt","prim","getManagerScript","pkHex","annots","getApproveAmountParameters","getRevokeAmountParameters","getXTZToTokenParameters","minimum","expirationTime","getTokenToXTZParameters","minimumToken","minimumXTZ","getAddLiquidityParameters","minimumLqt","getRemoveLiquidityParameters","lqtBurn","minXtzWithdrawn","minTokensWithdrawn","getTezToTokenPaymentParameters","getTokenToTezPaymentParameters","minimumXtz","parseTokenTransfer","opJson","amounts","fa12ref","isEqual","fa2ref","String","initialError","timer","concatMap","BuyProvider","SubjectService","origin","login","wc2","Amount","decimalPlaces","internalBigInt","internalNormalised","rpcAmount","normalisedAmount","multiplierIntValue","pow","lqdTokenContract","dipdupContracts","fetchContracts","dipdupContract","fetchStorage","total_pool","tez_pool","token_pool","settings","dex","includeSubsidy","createPoolAmounts","xtzPool","tokenPool","calculateXtzToToken","xtzToSell","maxSlippage","expected","xtzToTokenExpectedReturn","xtzToTokenMinimumReturn","rate","xtzToTokenExchangeRateDisplay","impactDouble","xtzToTokenPriceImpact","calculateXtzToTokenFromToken","tokenToSell","calculateTokenToXTZ","xtz","tokenToXtzExpectedReturn","tokenToXtzMinimumReturn","tokenToXtzExchangeRateDisplay","tokenToXtzPriceImpact","calculateTokenToXTZFromXTZ","calculateAddLiquidityXTZ","totalLiquidity","tokenRequired","addLiquidityTokenRequired","liquidityReturned","addLiquidityReturn","exchangeRate","liquidityExpected","liquidityMinimum","calculateAddLiquidityToken","xtzRequired","addLiquidityXtzRequired","calculateRemoveLiquidity","liquidityBurned","xtzOut","removeLiquidityXtzReceived","tokenOut","removeLiquidityTokenReceived","xtzExpected","xtzMinimum","tokenExpected","tokenMinimum","xPool","tPool","dexterCalculations","includeSibsidy","tokenAmount","slippage","xtzToTokenRequiredXtzFor","xtzPoolRpc","tokenPoolRpc","xtzToTokenExchangeRate","xtzAmount","tokenToXtzRequiredTokenFor","tokenToXtzExchangeRate","tokenToXtzMarketRate","xtzToDeposit","xtzIn","totalLqt","tokenToDeposit","tokenIn","lqtBurned","tLqt","estimateLiquidityBakingAPY","TezosDomainsService","unsupportedNetwork","tezosToolkit","Tzip16Module","caching","TaquitoTezosDomainsClient","tezos","getAddressFromDomain","resolver","resolveNameToAddress","getDomainFromAddresses","baseUrl","reverseRecords","TokenBalancesService","_thumbnailsToCreate","combineLatest","sampleTime","resolveAsset","mintingTool","contractAlias","thumbnailUrl","getContractName","getContractLogo","link","visitUrl","getPlaceholderToken","orderedNfts","mergeMarket","getThumbnailUrl","_nfts","aliases","pixels","decode","canvas","createElement","imageData","createImageData","putImageData","toDataURL","NFT_CONTRACT_OVERRIDES","TokenService","AUTO_DISCOVER","contracts","exploredIds","pendingSave","unlockablesKey","workers","events","evt","NavigationEnd","className","ASSETS","loadMetadata","saveMetadata","tokenIdArray","ids","idx","span","first","last","gte","lte","displayAsset","artifactAsset","isKnownTokenId","tokenIds","contractKeys","contractKey","tokenKeys","tokenKey","isCategoryType","regex","isKnownTokenContract","addAsset","currentKeys","newKeys","checkContractData","updated","_objkt","searchMetadata","tokenObject","ttl","exp","lastCheck","explore","startWorker","recentDay","firstCheck","handleMetadata","tokenCategory","TRUSTED_TOKEN_CONTRACTS","t1","searchTimeMs","isUnknownToken","_saveMetadata","metadataJson","baseUnit","GOOGLE","REDDIT","TWITTER","FACEBOOK","EMAIL","AUTH_DOMAIN","AUTH_DOMAIN_MAINNET","TorusService","web3AuthClientId","torus","nodeDetails","verifierMaps","testnet","typeOfLogin","clientId","subVerifier","caseSensitiveVerifierID","aggregated","mainnet","_loginToConnectionMap","scope","verifierIdField","isVerifierIdCaseSensitive","isVerifierCaseSensitive","proxy","TORUS_LEGACY_NETWORK","TESTNET","verifierMapKeys","isBraveOrChrome","navigator","brave","isBrave","userAgent","initTorus","redirectToOpener","torusdirectsdk","DirectWebSdk","enableLogging","skipSw","lookupPkh","selectedVerifier","fetchNodeDetails","NodeDetailManager","TorusUtils","sanitizedVerifierId","toLocaleLowerCase","torusNodeEndpoints","torusNodePub","torusIndexes","getNodeDetails","finalKeyData","getPublicAddress","referrerPolicy","loginTorus","skipTorusKey","checkIfNewKey","host","mockLogin","jwtParams","login_hint","loginDetails","triggerAggregateLogin","aggregateVerifierType","verifierIdentifier","subVerifierDetailsArray","triggerLogin","userInfo","accessToken","privKey","existingPk","preexistingPkh","isNewKey","getTorusKeyPair","TzrateService","apiUrl","usd","tot","totalBalanceUSD","UnlockableService","settingsKey","unlockables","UtilsService","ms","promiseWithTimeout","race","MessageKind","BcService","elected","_elected","initDone","_initDone","subject","wc_pairing_request","wc_delete_request","wc_propagate_request","wc_propagate_response","wc_session_update","wc_refresh_dapp_list","new_tab_initialized","channel","BroadcastChannel","onmessage","handleMessage","waitOnLeadership","elector","createLeaderElection","onduplicate","hasLeader","NewTabInitialized","_initAsLeader","awaitLeadership","initAsLeader","postMessage","WalletConnectService","bcService","changeSessionAccount","autoCloseRequest","getCurrentRequest","supportedMethods","supportedEvents","deduplicate","sessions","expanded","dapp","pairings","pairing","pairingsExpanded","sessionsExpanded","core","relayer","transportOpen","transportClose","initBcSubscriptions","enableWc2","startClient","PairingRequest","pairingString","DeleteRequest","PropagateRequest","request","UpdateRequest","updateSession","newAddress","PropagateResponse","pairingApproved","approvePairing","rejectPairing","wcResponse","RefreshDappList","currentReq","createClient","initDoneAt","subscribeToEvents","delayedPairing","opts","projectId","relayUrl","logger","icons","Client","proposalHandler","requestHandler","unhandledSignClientEvents","unhandledPairingEvents","appMetadata","proposer","wcData","requiredNamespaces","chains","methods","namespaces","optionalNamespaces","m","sessionProperties","algo","pubkey","Set","acknowledged","approve","relayProtocol","relays","transactionHash","formatJsonRpcResult","formatJsonRpcError","getSdkError","reason","allowedAccounts","allowedMethods","send_req","sourceAddress","operationDetails","sign_req","getImplicitAccount","extend","paired","_session","getAll","_pairing","getPairings","kc","sessionsList","inKeychain","crypto","keychain","has","accountAddress","expiry","_sessions","dSession","pairingsList","active","peerMetadata","_pairings","dPairing","deleteSession","deletePairing","disconnect","deletePairings","deleteSessions","stopClient","heartbeat","removeListeners","prop","eventNames","removeAllListeners","structuredClone","getPendingSessionRequests","WalletService","encryptionService","storageId","createNewWallet","createEncryptedWallet","storableWalletType","secretToBeEncrypted","walletType","hd","LegacyWallet","encrypted","encryptedSecret","iv2","encryptedEntropy","exportKeyStoreInit","getKeys","pwd","LegacyWalletV1","encryptedSeed","LegacyWalletV2","IV","LedgerWallet","EmbeddedTorusWallet","getSk","updateSkExpiration","storeSk","encryptedSk","revealMnemonicPhrase","revealSocialMnemonicPhrase","addImplicitAccount","addOriginatedAccount","kt","implicitAccount","origAcc","OriginatedAccount","originatedAccounts","incrementAccountIndex","clearWallet","instanceId","removeSk","sessionStorage","isFullWallet","FullWallet","isViewOnlyWallet","isObserverWallet","isLedgerWallet","isHdWallet","isTorusWallet","isEmbeddedTorusWallet","isWatchWallet","WatchWallet","isPwdWallet","provider","initStorage","localStorageId","getLocalStorageId","getStorage","walletData","loadStoredWallet","parsedWalletData","wd","deserializeStoredWallet","implicit","originated","Wallet","originatedAccount","encrypedSeed","TORUS_WALLET_STORE_KEY","displayName","getStoredData","skData","expiration","storedData","getExpiration","ONE_HOUR","Account","getTokenBalance","isImplicit","ktAddress","managerPkh","managerPk","NAME","CONTRACT","Objkt","discoverUrl","All","admire","None","production","_TTC","_BLTC","_M3DW","ImportService","pwdRequired","importWalletFromJson","secretValue","importWalletFromObject","findContracts","importWalletFromPk","verifierDetails","ledgerImport","torusImport","watch","embedded","torusWallet","updateTwitterName","StartComponent","importService","route","isMobile","queryParams","devtool","prompt","torusLogin","ExportService","downloadWallet","blob","Blob","filename","saveAs","downloadOperationData","$event","stopPropagation","NewWalletComponent","exportService","showTacos","pwd1","pwd2","userMnemonic","hideBlur","isSelectedMnemonic","pwdStrength","ekfDownloaded","activePanel","longClickTs","generateSeed","MNEMONIC","array","wordsToVerify","mnemonicLength","random","checkWord","wordInput","getElementById","blur","formatVerifyDescription","indexFormat","valueFormat","verifyView","pwdView","mnemonicMatch","encryptWallet","preventDefault","validPwd","offsetWidth","calcStrength","done","export","getPkh","download","mouseOut","getSelection","removeAllRanges","checkSelection","isTextSelected","selection","isCollapsed","hostVars","ctx_r10","_r6","ctx_r16","ctx_r38","ctx_r40","ctx_r41","ChooseWalletState","MnemonicImportComponent","MIN_PWD_LENGTH","importOption","Downloaded","fileName","browser","advancedForm","bip39Wordlist","storableWalletTypeEnum","chooseWalletStateEnum","chooseWalletState","UserDoesNotNeedToChooseWallet","legacyCandidate","hdCandidate","exportedSocialWalletCandidate","navigation","getCurrentNavigation","extras","allowDrop","bind","handleFileDragAndDrop","clickPassword","removeAttribute","blurPassword","setAttribute","retrieve","unshiftedMnemonic","keypair","legacyWalletAddress","used","isUsed","every","getCandidateBalances","table","legacy","getChooseWalletState","TzktErrorEncountered","UserNeedsToChooseWallet","setPwd","setPwdOrConfirmWalletType","setPwdAfterConfirmingWalletType","showPkh","importPreCheck","keyFile","typeCheckFile","walletJson","checkImportPwd","import","handleFileInput","dataTransfer","files","fileToUpload","validateFile","reader","FileReader","readAsText","onload","ext","lastIndexOf","seedWordKeydown","keyCode","selectionStart","selectionEnd","wordPos","charPos","metaKey","ctrlKey","second","firstSplit","pop","selStart","getAttribute","selEnd","LedgerService","setTransport","transport","TransportWebHID","create","TransportWebUSB","TransportU2F","transportCheck","getAddress","sanitize","signOperation","signHash","getPk","ConnectLedgerComponent","ledgerService","defaultPath","defaultText","pendingLedgerConfirmation","isHDDerivationPathCustom","checkBrowser","userAgentData","brands","some","brand","platform","importFromPk","setDefaultPath","v","P404Component","P500Component","PrivacyPolicyComponent","getHostName","hostname","TermsOfUseComponent","EmbeddedAuthService","authenticate","authReq","authMessage","createAuthMessage","nonce","signMessage","signExprSilent","hexExpr","requestId","authPayload","purpose","currentTime","_network","Parser","parseMichelineExpression","hexMessage","valueEncoder","LqdEntrypoints","ctx_r42","ctx_r43","Mode","zeroTxParams","SwapLiquidityComponent","estimateService","tezosDomainService","tezosDomains","chartService","prepareResponse","swap","xtzToToken","defaultTransactionParams","latestSimError","customFee","customGasLimit","customStorageLimit","minimumLqd","qty","qtyRaw","qtyOut","qtyRawOut","xtzBalance","lqdBalance","tzBTCBalance","simSemaphore","chartDatas","chartOptions","chartInit","setTokenBalances","initChartsMobile","arr","leftChart","miniChart","tokenToXtz","addLiquidity","removeLiquidity","initChartsDesktop","initCharts","birthExchangeRate","expectedRate","hydratePools","APY","xtzToBuy","tokenToBuy","calcSwap","calcAddLiquidity","toSell","calcRemoveLiquidity","lqtToBurn","estimateFees","preview","getFullyPreparedTxs","toggleMode","chartToggle","liquidity","toggleDirection","dir","evalAmount","getTotalFee","getTotalBurn","mul","burnAmount","customSlippage","customSlippageFocus","customSlippageBlur","getMaxAmount","accountBalance","tez","lqd","tzBTC","prevSimError","txs","getMinimalPreparedTxs","checkBalances","updateMaxAmount","assert","minimalTxs","opsWithCustomLimits","extraStorage","extraGasPerOp","extraStoragePerOp","fullyTx","maxTez","maxLQD","maxtzBTC","gt","sanitizeNumberInput","openInfoModal","ctx_r50","ctx_r72","ctx_r75","ConfirmSendComponent","tokenBalanceService","confirmRequest","operationResponse","externalReq","schema","batchParamIndex","micheline","batchParameters","parametersFormat","parametersDisplay","transformedParameters","executedSchema","extractedSchema","showAll","showFullBatch","sendResponse","ledgerError","pwdInvalid","syncSub","closeModalAction","loadParameters","num","updateParameters","parametersToMicheline","sc","Schema","Execute","generateSchema","parametersToTabular","children","setParametersFormat","beaconTokenTransfer","assertMichelsonData","emitMicheline","indent","newline","hexToUTF8","str","traverse","__michelsonType","valueMap","keyMap","keySchema","isMap","isObject","valueOf","getTotalAmount","totalSent","getTotalCost","totalFee","totalActiveStorageLimit","getTotalDefaultStorage","getTotalDefaultGas","totalGas","totalStorage","getQuantity","totalAmount","ledgerRetry","sendTransaction","inject","broadCastLedgerTransaction","torusNotification","requestLedgerSignature","signedOp","signedOperation","getUsername","getVerifier","previewAttention","recipientKind","tmp","toggleTab","elem","tagName","ctx_r3","PrepareSendDropdownComponent","torusVerifierName","torusVerifier","ctx_r18","ctx_r19","ctx_r44","ctx_r45","ctx_r47","ctx_r48","PrepareSendComponent","prepareRequest","isMultipleDestinations","hideAmount","accountDropdownIsOpen","torusLookupId","torusLookupAddress","torusTwitterId","torusPendingLookup","torusLastLookup","toMultipleDestinationsString","prevEquiClass","sendMax","toPkh","clearTorus","getTitle","getAssetName","short","amountChange","equiClass","checkBalance","updateDefaultValues","verifierChange","toPkhChange","finalCheck","getBatch","invalidTorusAccount","torusReady","checkTx","row","cols","col","torusError","google","reddit","twitter","sendEntireBalance","checkMaxAmount","toggleDestination","maxToSend","maxKt","maxTz","maxAmount","lookupInput","batchSpace","numberOfTxs","txsLimit","numberWithCommas","dynSize","pasteToPkh","clipboard","readText","clipText","handleScanResponse","ConfirmSendEmbedComponent","templateRequest","isApproved","descriptions","hideScrollbar","cancel","resetScrollbar","scrollBarWidth","overflow","SwapLiquidityConfirmComponent","semaphore","confirmTitle","parseTransactions","csr","hasTrailingZeroApproval","values","expectedXtz","expectedToken","expectedLqd","SendComponent","confirmSwapLiquidityRequest","thresholdUSD","swapLiquidityEntrypoints","externalRequest","selectedAccount","checkOpReq","operationRequest","opReq","silent","validParameters","simulateRequest","tokenTransferObj","getTokenTransferObj","partialOps","fullyPrepared","getTemplateFee","total","silentInject","confirmTransactions","isLbReq","getValue","handlePrepareResponse","preparedTransactions","handleConfirmResponse","handleTemplateApproval","ExprTemplateComponent","SignExprEmbedComponent","signResponse","isMessage","signRequest","ui","acceptSigning","rejectSigning","QueueEmbedComponent","queueTime","hours","updateTime","SigninComponent","loginResponse","loginOptions","queueTimeVisible","queueLen","statusCounter","queueEndpoint","viewportCheck","loginConfig","customPrio","LoginPrio","Low","queueLenInterval","getQueueLen","dismiss","startQueue","loginOption","screen","setHighPrio","queueInterval","timeBetweenChecks","checkQueue","stopQueue","clearInterval","animation","back","loginData","len","LowFast","High","setLowPrio","skipQueue","action","identity","groups","updateQueue","EstimatedTimeSeconds","Status","triesLeft","CardComponent","Permission","EmbeddedComponent","embeddedAuthService","permissionMatrix","brio","origins","minterpop","interpop","humanMachine","ubisoft","gap","micheline_silent","manutd","lexus","blockspace","evian","souvie","tzstaging","studioexception","cleantree","vitality","kanvas","proofof","emergents","thegoodsociety","circa","mooncakes","truename","verticalcrypto","playrecord","mclaren","hek","flosports","serpentine","sowvital","bargainer","aigam","bouncer","battletabs","trackmind","starsymphony","kanvaspoa","tesserart","pendingOps","blockCard","queueMode","currentInstanceId","handleRequest","hasPermission","RequestTypes","loginRequest","handleLoginRequest","handleOperationRequest","signExprRequest","handleSignExprRequest","trackRequest","handleTrackRequest","logoutRequest","handleLogoutRequest","authRequest","handleAuthRequest","cardRequest","handleCardRequest","dismissRequest","background","attachEvent","parent","ResponseTypes","initComplete","MICHELINE","MICHELINE_SILENT","signExprResponse","normalizeTemplate","LOGIN","config","customSpinnerDismissal","OPERATIONS","isValidOperation","logoutResponse","noWalletError","toImport","dismissResponse","idToken","long_lived_token","filteredUserInfo","generateInstanceId","userData","authParams","authResponse","strictAuth","importAccount","show","cardResponse","common","ophashSubscription","subscribeToConfirmedOps","trackResponse","permission","allowedOrigin","ReceiveComponent","showReceiveFormat","btnOutline","dropdownItem","getQR","QRCode","errorCorrectionLevel","scaleFactor","color","light","ctx_r8","NewImplicitComponent","errorMsg","openPkhSpot","addPkh","navigateByUrl","PermissionRequestDropdownComponent","PermissionRequestComponent","permissionResponse","preSelectedAccount","permissionRequest","rejectPermissions","grantPermissions","scopeToText","cachedIcon","ctx_r22","SignExprComponent","isDeku","ctx_r21","ctx_r24","OriginateComponent","beaconMode","customGas","customStorage","simError","activeTab","isValidOrigination","recommendations","clearForm","assertMichelsonContract","getOrigination","getScript","validateOrigination","sendOrigination","ledgerSign","keyPressNumbersDecimal","charCode","which","DelegateComponent","domainPendingLookup","defaultFee","pkhFee","ktFee","advanced","snapshot","paramMap","estimateDefaultFee","pwdValid","sendDelegation","getFee","revealed","revealFee","invalidInput","ctx_r5","AccountListBodyComponent","postfix","substr","selRef","viewRef","getTotalBalance","getTotalFiat","AccountListComponent","ExportMnemonicComponent","mnemonicPhrase","isSocialWallet","revealSocial","SessionSelectDropdownComponent","SessionSelectComponent","changeAddress","UriHandlerComponent","connectApp","WalletClient","connect","handleBeaconMessage","getReq","onAutoCloseRequest","changeFavicon","handleStorageEvent","isConnected","hasFocus","src","SignPayloadRequest","isBlocked","PermissionRequest","handlePermissionRequest","OperationRequest","isSupportedOperationRequest","isSupportedSignPayload","PermissionScope","OPERATION_REQUEST","SIGN","invalidAmount","invalidParameters","invalidOptionals","OperationResponse","newValue","senderIds","app","newPeer","pairingTopic","BuyComponent","sanitizer","BuyProviderType","dev","mobile","isLoading","Coinbase","generateOnRampURL","appId","destinationWallets","blockchains","opener","Transak","walletAddressesData","coins","XTZ","apiKey","bypassSecurityTrustResourceUrl","MoonPay","signUrl","encodeURIComponent","iframeLoaded","iframeError","BuyModalComponent","onrampInstance","buyTez","LoggedInComponent","loadChildren","module","redirectTo","AppRoutingModule","forRoot","InfoComponent","href","proceed","newTab","AlertComponent","removeMessage","notifyFormat","mailtoFormat","redditPmFormat","twitterPmFormat","encodeURI","encodedBody","accountType","getAlias","MessagesComponent","ctx_r14","AccountDropdownComponent","trackAccount","ctx_r6","ctx_r12","ctx_r15","MobileMenuDropdownComponent","delegateName","newAccount","receive","HeaderComponent","getDelegateName","parentNode","FooterComponent","darkText","promptTelegramDialog","SpinnerNewComponent","SpinnerComponent","AgreementComponent","displayAgreement","accepted","accept","AppComponent","previous","container","setDefaultLang","getBrowserLang","use","checkEmbedded","brk","clientWidth","setProperty","oldValue","returnLanguage","lang","bg","resize","fontSize","setLanguage","Interceptor","Sentry","dsn","maxBreadcrumbs","initialScope","tags","normalizeDepth","beforeSend","props","contexts","reportHttpError","errorResponse","skipReport","getNodeBaseUrl","throwError","setTransactionName","generalizePath","setTag","setUser","primaryPkh","setContext","fingerprints","setFingerprint","intercept","startTime","performance","handle","rtt","base","TruncatePipe","endTrail","returnString","endTrailstring","HttpLoaderFactory","TranslateHttpLoader","AppModule","bootstrap","provide","HTTP_INTERCEPTORS","useClass","multi","BrowserModule","BrowserAnimationsModule","TranslateModule","TranslateLoader","useFactory","deps","HttpClient","enableProdMode","__NgCli_bootstrap_1","bootstrapModule","webpackContext","webpackContextResolve","__webpack_require__","exports"],"sourceRoot":"webpack:///","x_google_ignoreList":[193]}