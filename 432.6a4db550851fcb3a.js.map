{"version":3,"file":"432.6a4db550851fcb3a.js","mappings":"gGAEAA,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,wBAA0BF,EAAQG,sBAAmB,EAC7DH,EAAQI,eA4ER,SAAwBC,GACtBC,EAAmBD,CACrB,EA7EA,IAAIE,EAAQC,EAAQ,OAChBC,EAAiBD,EAAQ,OACzBE,EAAWF,EAAQ,OAKnBN,EAA0B,IAAIS,IAClCX,EAAQE,wBAA0BA,EAClC,IAiEII,EAjEAM,EAAS,EACTT,EAAmB,SAA0BU,EAAMR,GA2KvD,IAAyBS,EACnBC,EA1KJC,KAAKC,GAAKL,IACVV,EAAwBgB,IAAIF,MAC5BA,KAAKH,KAAOA,EACRP,IACFD,EAAUC,GAEZU,KAAKX,SAAU,EAAIK,EAASS,yBAAyBd,GACrDW,KAAKI,QAAS,EAAIX,EAAeY,cAAcL,KAAKX,SAGpDW,KAAKM,KAAM,EAOXN,KAAKO,MAAQ,KAKbP,KAAKQ,OAAS,CACZC,QAAS,GACTC,SAAU,IAQZV,KAAKW,KAAO,IAAIhB,IAOhBK,KAAKY,MAAQ,GAKbZ,KAAKa,OAAS,KA8HVd,GADmBD,EA5HPE,MA6HWI,OAAOU,OAAOhB,EAAQD,KAAMC,EAAQT,UAC3D,EAAIE,EAAMwB,WAAWhB,IACvBD,EAAQe,OAASd,EACjBA,EAAaiB,MAAK,SAAUC,GAK1BnB,EAAQoB,OAASD,CACnB,KAEAnB,EAAQoB,OAASnB,CAvIrB,EAwGA,SAASoB,EAAMC,EAAkBC,EAAMC,GACrC,IACIC,EAAS,CACXC,KAFSJ,EAAiBhB,OAAOqB,eAGjCJ,KAAMA,EACNK,KAAMJ,GAGR,OADmBF,EAAiBP,OAASO,EAAiBP,OAAStB,EAAMoC,uBACzDX,MAAK,WACvB,IAAIY,EAAcR,EAAiBhB,OAAOyB,YAAYT,EAAiBF,OAAQK,GAO/E,OAJAH,EAAiBT,KAAKT,IAAI0B,GAC1BA,EAAmB,QAAIZ,MAAK,WAC1B,OAAOI,EAAiBT,KAAa,OAAEiB,EACzC,IACOA,CACT,GACF,CAgBA,SAASE,EAAqBhC,GAC5B,OAAIA,EAAQU,OAAOC,QAAQsB,OAAS,GAChCjC,EAAQU,OAAOE,SAASqB,OAAS,CAEvC,CACA,SAASC,EAAmBlC,EAASuB,EAAMY,GACzCnC,EAAQU,OAAOa,GAAMa,KAAKD,GAS5B,SAAyBnC,GACvB,IAAKA,EAAQQ,KAAOwB,EAAqBhC,GAAU,CAGjD,IAAIqC,EAAa,SAAoBZ,GACnCzB,EAAQU,OAAOe,EAAOF,MAAMe,SAAQ,SAAUC,GAU5C,IAAIC,EAAmB,IACnBC,EAAiBF,EAAeb,KAAOc,GACvCf,EAAOC,MAAQe,GAEgB,WAAxBzC,EAAQM,OAAOiB,OADxBgB,EAAeG,GAAGjB,EAAOG,KAK7B,GACF,EACIF,EAAO1B,EAAQM,OAAOqB,eACtB3B,EAAQe,OACVf,EAAQe,OAAOG,MAAK,WAClBlB,EAAQQ,KAAM,EACdR,EAAQM,OAAOqC,UAAU3C,EAAQoB,OAAQiB,EAAYX,EACvD,KAEA1B,EAAQQ,KAAM,EACdR,EAAQM,OAAOqC,UAAU3C,EAAQoB,OAAQiB,EAAYX,GAEzD,CACF,CA5CEkB,CAAgB5C,EAClB,CACA,SAAS6C,EAAsB7C,EAASuB,EAAMY,GAC5CnC,EAAQU,OAAOa,GAAQvB,EAAQU,OAAOa,GAAMuB,QAAO,SAAUC,GAC3D,OAAOA,IAAMZ,CACf,IAwCF,SAAwBnC,GACtB,GAAIA,EAAQQ,MAAQwB,EAAqBhC,GAAU,CAEjDA,EAAQQ,KAAM,EACd,IAAIkB,EAAO1B,EAAQM,OAAOqB,eAC1B3B,EAAQM,OAAOqC,UAAU3C,EAAQoB,OAAQ,KAAMM,EACjD,CACF,CA9CEsB,CAAehD,EACjB,CA/IAd,EAAQG,iBAAmBA,EAC3BA,EAAiB4D,SAAU,EAY3B5D,EAAiB6D,UAAY,CAC3BnB,YAAa,SAAqBP,GAChC,GAAItB,KAAKiD,OACP,MAAM,IAAIC,MAAM,gFAMhBC,KAAKC,UAAU9B,IAEjB,OAAOH,EAAMnB,KAAM,UAAWsB,EAChC,EACA+B,aAAc,SAAsB/B,GAClC,OAAOH,EAAMnB,KAAM,WAAYsB,EACjC,EACIgC,cAAUd,GACZ,IACIe,EAAY,CACd/B,KAFSxB,KAAKI,OAAOqB,eAGrBe,GAAIA,GAENG,EAAsB3C,KAAM,UAAWA,KAAKO,OACxCiC,GAAoB,mBAAPA,GACfxC,KAAKO,MAAQgD,EACbvB,EAAmBhC,KAAM,UAAWuD,IAEpCvD,KAAKO,MAAQ,IAEjB,EACAiD,iBAAkB,SAA0BnC,EAAMmB,GAMhDR,EAAmBhC,KAAMqB,EAJT,CACdG,KAFSxB,KAAKI,OAAOqB,eAGrBe,GAAIA,GAGR,EACAiB,oBAAqB,SAA6BpC,EAAMmB,GAItDG,EAAsB3C,KAAMqB,EAHlBrB,KAAKQ,OAAOa,GAAMqC,MAAK,SAAUzB,GACzC,OAAOA,EAAIO,KAAOA,CACpB,IAEF,EACAmB,MAAO,WACL,IAAIC,EAAQ5D,KACZ,IAAIA,KAAKiD,OAAT,CAGA/D,EAAgC,OAAEc,MAClCA,KAAKiD,QAAS,EACd,IAAIY,EAAe7D,KAAKa,OAASb,KAAKa,OAAStB,EAAMoC,sBAGrD,OAFA3B,KAAKO,MAAQ,KACbP,KAAKQ,OAAOC,QAAU,GACfoD,EAEN7C,MAAK,WACJ,OAAO8C,QAAQC,IAAIC,MAAMC,KAAKL,EAAMjD,MACtC,IAECK,MAAK,WACJ,OAAO8C,QAAQC,IAAIH,EAAMhD,MAAMsD,KAAI,SAAU1B,GAC3C,OAAOA,GACT,IACF,IAECxB,MAAK,WACJ,OAAO4C,EAAMxD,OAAOuD,MAAMC,EAAM1C,OAClC,GApBA,CAqBF,EACIG,WACF,OAAOrB,KAAKI,OAAOiB,IACrB,EACI8C,eACF,OAAOnE,KAAKiD,MACd,E,+BChKF,IAAImB,EAAS5E,EAAQ,OAUrB6E,EAAOrF,QAAU,CACfG,iBAAkBiF,EAAOjF,iBACzBC,eAAgBgF,EAAOhF,e,+BCZzBN,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETH,OAAOC,eAAeC,EAAS,mBAAoB,CACjDsF,YAAY,EACZC,IAAK,WACH,OAAOC,EAAkBrF,gBAC3B,IAEFL,OAAOC,eAAeC,EAAS,0BAA2B,CACxDsF,YAAY,EACZC,IAAK,WACH,OAAOC,EAAkBtF,uBAC3B,IAEFJ,OAAOC,eAAeC,EAAS,iBAAkB,CAC/CsF,YAAY,EACZC,IAAK,WACH,OAAOC,EAAkBpF,cAC3B,IAEF,IAAIoF,EAAoBhF,EAAQ,M,+BCrBhC,IAAIiF,EAAyBjF,EAAQ,OACrCV,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQqB,aAUR,SAAsBhB,GACpB,IAAIqF,EAAgB,GAAGC,OAAOtF,EAAQuF,QAASC,GAASjC,OAAOkC,SAG/D,GAAIzF,EAAQgC,KAAM,CAChB,GAAqB,aAAjBhC,EAAQgC,KAEV,OAAO0D,EAAmB,QAE5B,IAAIC,EAAMN,EAAchB,MAAK,SAAUuB,GACrC,OAAOA,EAAE5D,OAAShC,EAAQgC,IAC5B,IACA,GAAK2D,EAAwE,OAAOA,EAA1E,MAAM,IAAI9B,MAAM,eAAiB7D,EAAQgC,KAAO,aAC5D,CAMKhC,EAAQ6F,mBACXR,EAAgBA,EAAc9B,QAAO,SAAUqC,GAC7C,MAAkB,QAAXA,EAAE5D,IACX,KAEF,IAAI8D,EAAYT,EAAchB,MAAK,SAAUtD,GAC3C,OAAOA,EAAOgF,UAAU/F,EAC1B,IACA,GAAK8F,EAEK,OAAOA,EAFD,MAAM,IAAIjC,MAAM,8BAAgCC,KAAKC,UAAUyB,EAAQX,KAAI,SAAUe,GACnG,OAAOA,EAAE5D,IACX,KACF,EAvCA,IAAIgE,EAAUZ,EAAuBjF,EAAQ,QACzC8F,EAAab,EAAuBjF,EAAQ,QAC5C+F,EAAgBd,EAAuBjF,EAAQ,QAC/CgG,EAAUf,EAAuBjF,EAAQ,QACzCuF,EAAYN,EAAuBjF,EAAQ,QAE3CqF,EAAU,CAACQ,EAAiB,QAEhCC,EAAoB,QAAGC,EAAuB,QAAGC,EAAiB,Q,+BCblE1G,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQyG,0BAAuB,EAC/BzG,EAAQ0G,oBAAsBA,EAC9B1G,EAAQoG,UAAYA,EACpBpG,EAAQ2G,iBAAmBA,EAC3B3G,EAAQ2E,MAAQA,EAChB3E,EAAQ4G,2BAA6BA,EACrC5G,EAAQ8B,OAASA,EACjB9B,EAAQ6G,eAAiBA,EACzB7G,EAAiB,aAAI,EACrBA,EAAQ8G,eA+GR,SAAwBC,GACtB,IAAIC,EAAKD,EAAGE,YAAYC,EAAiB,WAAYT,GACjDU,EAAcH,EAAGG,YAAYD,GAC7BlB,EAAM,GACV,OAAO,IAAIlB,SAAQ,SAAUsC,GAC3BD,EAAYE,aAAaC,UAAY,SAAUC,GAC7C,IAAIC,EAASD,EAAGE,OAAOC,OACnBF,GACFxB,EAAI9C,KAAKsE,EAAOvH,OAEhBuH,EAAiB,aAEjBZ,EAA2BI,GAC3BI,EAAIpB,GAER,CACF,GACF,EA/HAhG,EAAQ2H,OAASA,EACjB3H,EAAQ4H,sBAAwBA,EAChC5H,EAAQ6H,eAAiBA,EACzB7H,EAAQyC,kBAAe,EACvBzC,EAAQyD,UAAYA,EACpBzD,EAAQ6C,YAAcA,EACtB7C,EAAQ8H,mBAAqBA,EAC7B9H,EAAQqC,UAAO,EACfrC,EAAQ+H,aAAeA,EACvB,IAAIxH,EAAQC,EAAQ,OAChBwH,EAAgBxH,EAAQ,OACxBE,EAAWF,EAAQ,OAUnBiC,EAAelC,EAAMkC,aACzBzC,EAAQyC,aAAeA,EACvB,IAAIwF,EAAY,8BACZf,EAAkB,WAMlBT,EAAuB,CACzByB,WAAY,WAEdlI,EAAQyG,qBAAuBA,EAG/B,SAASkB,IACP,GAAyB,oBAAdQ,UAA2B,OAAOA,UAC7C,GAAsB,oBAAXC,OAAwB,CACjC,QAAmC,IAAxBA,OAAOC,aAA8B,OAAOD,OAAOC,aAC9D,QAAsC,IAA3BD,OAAOE,gBAAiC,OAAOF,OAAOE,gBACjE,QAAkC,IAAvBF,OAAOG,YAA6B,OAAOH,OAAOG,WAC/D,CACA,OAAO,CACT,CAOA,SAAS3B,EAA2BI,GAC9BA,EAAGwB,QACLxB,EAAGwB,QAEP,CACA,SAAS3B,EAAe4B,GACtB,IAAIC,EAAYf,IAGZgB,EAASV,EAAYQ,EAOrBG,EAAcF,EAAUG,KAAKF,GAgBjC,OAfAC,EAAYE,gBAAkB,SAAUvB,GAC7BA,EAAGE,OAAOC,OAChBqB,kBAAkB7B,EAAiB,CACpC8B,QAAS,KACTC,eAAe,GAEnB,EACgB,IAAInE,SAAQ,SAAUsC,EAAK8B,GACzCN,EAAYO,QAAU,SAAU5B,GAC9B,OAAO2B,EAAI3B,EACb,EACAqB,EAAYtB,UAAY,WACtBF,EAAIwB,EAAYlB,OAClB,CACF,GAEF,CAMA,SAASK,EAAahB,EAAIqC,EAAYC,GACpC,IACIC,EAAc,CAChBC,KAAMH,EACN5G,MAHS,IAAIgH,MAAOC,UAIpB/G,KAAM2G,GAEJrC,EAAKD,EAAGE,YAAY,CAACC,GAAkB,YAAaT,GACxD,OAAO,IAAI3B,SAAQ,SAAUsC,EAAK8B,GAChClC,EAAG0C,WAAa,WACd,OAAOtC,GACT,EACAJ,EAAGmC,QAAU,SAAU5B,GACrB,OAAO2B,EAAI3B,EACb,EACkBP,EAAGG,YAAYD,GACrBhG,IAAIoI,GAChB1C,EAA2BI,EAC7B,GACF,CAmBA,SAASY,EAAsBb,EAAI4C,GACjC,IAAI3C,EAAKD,EAAGE,YAAYC,EAAiB,WAAYT,GACjDU,EAAcH,EAAGG,YAAYD,GAC7BlB,EAAM,GACN4D,EAAgBC,YAAYC,MAAMH,EAAe,EAAGI,KAOxD,GAAI5C,EAAY6C,OAAQ,CACtB,IAAIC,EAAgB9C,EAAY6C,OAAOJ,GACvC,OAAO,IAAI9E,SAAQ,SAAUsC,EAAK8B,GAChCe,EAAcd,QAAU,SAAUe,GAChC,OAAOhB,EAAIgB,EACb,EACAD,EAAc3C,UAAY,SAAU6C,GAClC/C,EAAI+C,EAAE1C,OAAOC,OACf,CACF,GACF,CAYA,OAAO,IAAI5C,SAAQ,SAAUsC,EAAK8B,GAChC,IAAIkB,EAZN,WAIE,IAEE,OADAR,EAAgBC,YAAYC,MAAMH,EAAe,EAAGI,KAC7C5C,EAAYE,WAAWuC,EAChC,CAAE,MAAOO,GACP,OAAOhD,EAAYE,YACrB,CACF,CAE0BA,GACxB+C,EAAkBjB,QAAU,SAAUe,GACpC,OAAOhB,EAAIgB,EACb,EACAE,EAAkB9C,UAAY,SAAUC,GACtC,IAAIC,EAASD,EAAGE,OAAOC,OACnBF,EACEA,EAAOvH,MAAMgB,GAAK0I,EAAe,EACnCnC,EAAiB,SAAEmC,EAAe,IAElC3D,EAAI9C,KAAKsE,EAAOvH,OAChBuH,EAAiB,aAGnBZ,EAA2BI,GAC3BI,EAAIpB,GAER,CACF,GACF,CACA,SAAS8B,EAAmBf,EAAIsD,GAC9B,IACIlD,EADKJ,EAAGE,YAAY,CAACC,GAAkB,YAAaT,GACnCU,YAAYD,GACjC,OAAOpC,QAAQC,IAAIsF,EAAInF,KAAI,SAAUjE,GACnC,IAAIqJ,EAAgBnD,EAAoB,OAAElG,GAC1C,OAAO,IAAI6D,SAAQ,SAAUsC,GAC3BkD,EAAchD,UAAY,WACxB,OAAOF,GACT,CACF,GACF,IACF,CACA,SAASS,EAAed,EAAIwD,GAC1B,IAAIC,GAAY,IAAIhB,MAAOC,UAAYc,EACnCvD,EAAKD,EAAGE,YAAYC,EAAiB,WAAYT,GACjDU,EAAcH,EAAGG,YAAYD,GAC7BlB,EAAM,GACV,OAAO,IAAIlB,SAAQ,SAAUsC,GAC3BD,EAAYE,aAAaC,UAAY,SAAUC,GAC7C,IAAIC,EAASD,EAAGE,OAAOC,OACvB,GAAIF,EAAQ,CACV,IAAIiD,EAASjD,EAAOvH,MACpB,KAAIwK,EAAOjI,KAAOgI,GAQhB,OAFA5D,EAA2BI,QAC3BI,EAAIpB,GANJA,EAAI9C,KAAKuH,GAETjD,EAAiB,UAOrB,MACEJ,EAAIpB,EAER,CACF,GACF,CACA,SAASW,EAAiBI,EAAIwD,GAC5B,OAAO1C,EAAed,EAAIwD,GAAKvI,MAAK,SAAU0I,GAC5C,OAAO5C,EAAmBf,EAAI2D,EAAOxF,KAAI,SAAU5C,GACjD,OAAOA,EAAIrB,EACb,IACF,GACF,CACA,SAASa,EAAO2G,EAAapI,GAE3B,OADAA,GAAU,EAAIK,EAASS,yBAAyBd,GACzCwG,EAAe4B,GAAazG,MAAK,SAAU+E,GAChD,IAAI4D,EAAQ,CACV1G,QAAQ,EACR0F,aAAc,EACdlB,YAAaA,EACbpI,QAASA,EACTkJ,MAAM,EAAIhJ,EAAMqK,eAMhBC,KAAM,IAAI7C,EAAc8C,aAA+B,EAAlBzK,EAAQ0K,IAAIR,KAEjDS,kBAAmBzK,EAAMoC,sBACzBsI,iBAAkB,KAClBC,kBAAmB,GACnBnE,GAAIA,GAoBN,OAXAA,EAAGoE,QAAU,WACXR,EAAM1G,QAAS,EACX5D,EAAQ0K,IAAII,SAAS9K,EAAQ0K,IAAII,SACvC,EAOAC,EAAUT,GACHA,CACT,GACF,CACA,SAASS,EAAUT,GACbA,EAAM1G,QACVoH,EAAgBV,GAAO3I,MAAK,WAC1B,OAAO,EAAIzB,EAAM+K,OAAOX,EAAMtK,QAAQ0K,IAAIQ,iBAC5C,IAAGvJ,MAAK,WACN,OAAOoJ,EAAUT,EACnB,GACF,CAWA,SAASU,EAAgBV,GAEvB,OAAIA,EAAM1G,OAAe1D,EAAMoC,sBAG1BgI,EAAMM,iBACJrD,EAAsB+C,EAAM5D,GAAI4D,EAAMhB,cAAc3H,MAAK,SAAUwJ,GACxE,IAAIC,EAAcD,EAKd5H,QAAO,SAAUrB,GACnB,QAASA,CACX,IAAG2C,KAAI,SAAU3C,GAIf,OAHIA,EAAOtB,GAAK0J,EAAMhB,eACpBgB,EAAMhB,aAAepH,EAAOtB,IAEvBsB,CACT,IAAGqB,QAAO,SAAUrB,GAClB,OA9BN,SAAwBA,EAAQoI,GAC9B,QAAIpI,EAAOgH,OAASoB,EAAMpB,MACtBoB,EAAME,KAAKa,IAAInJ,EAAOtB,KACtBsB,EAAOG,KAAKF,KAAOmI,EAAMgB,qBAE/B,CAyBaC,CAAerJ,EAAQoI,EAChC,IAAGkB,MAAK,SAAUC,EAASC,GACzB,OAAOD,EAAQtJ,KAAOuJ,EAAQvJ,IAChC,IAOA,OANAiJ,EAAYrI,SAAQ,SAAUb,GACxBoI,EAAMM,mBACRN,EAAME,KAAK3J,IAAIqB,EAAOtB,IACtB0J,EAAMM,iBAAiB1I,EAAOG,MAElC,IACOnC,EAAMoC,qBACf,IA1BoCpC,EAAMoC,qBA2B5C,CACA,SAASgC,EAAMqH,GACbA,EAAa/H,QAAS,EACtB+H,EAAajF,GAAGpC,OAClB,CACA,SAAS9B,EAAYmJ,EAAc3C,GASjC,OARA2C,EAAahB,kBAAoBgB,EAAahB,kBAAkBhJ,MAAK,WACnE,OAAO+F,EAAaiE,EAAajF,GAAIiF,EAAazC,KAAMF,EAC1D,IAAGrH,MAAK,WAC8B,KAAhC,EAAIzB,EAAM0L,WAAW,EAAG,KAE1BtF,EAAiBqF,EAAajF,GAAIiF,EAAa3L,QAAQ0K,IAAIR,IAE/D,IACOyB,EAAahB,iBACtB,CACA,SAASvH,EAAUuI,EAAcxI,EAAIhB,GACnCwJ,EAAaL,qBAAuBnJ,EACpCwJ,EAAaf,iBAAmBzH,EAChC6H,EAAgBW,EAClB,CACA,SAAS5F,EAAU/F,GACjB,QAAKA,EAAQ6L,cACHvE,GAGZ,CACA,SAASjB,EAAoBrG,GAC3B,OAAsC,EAA/BA,EAAQ0K,IAAIQ,gBACrB,CAzTAvL,EAAQqC,KADG,MA2TX,IAAI8J,EAAW,CACbrK,OAAQA,EACR6C,MAAOA,EACPlB,UAAWA,EACXZ,YAAaA,EACbuD,UAAWA,EACX/D,KAjUS,MAkUTqE,oBAAqBA,EACrBjE,aAAcA,GAEhBzC,EAAiB,QAAImM,C,+BCpXrBrM,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQoM,wBAA0BA,EAClCpM,EAAQ0G,oBAAsBA,EAC9B1G,EAAQoG,UAAYA,EACpBpG,EAAQ2E,MAAQA,EAChB3E,EAAQ8B,OAASA,EACjB9B,EAAiB,aAAI,EACrBA,EAAQqM,gBAAkBA,EAC1BrM,EAAQyC,kBAAe,EACvBzC,EAAQyD,UAAYA,EACpBzD,EAAQ6C,YAAcA,EACtB7C,EAAQsM,2BAA6BA,EACrCtM,EAAQuM,WAAaA,EACrBvM,EAAQqC,UAAO,EACf,IAAI2F,EAAgBxH,EAAQ,OACxBE,EAAWF,EAAQ,OACnBD,EAAQC,EAAQ,OAShBiC,EAAelC,EAAMkC,aACzBzC,EAAQyC,aAAeA,EACvB,IAAI+J,EAAa,2BACbnK,EAAO,eAOX,SAASgK,IACP,IAAII,EACJ,GAAsB,oBAAXrE,OAAwB,OAAO,KAC1C,IACEqE,EAAerE,OAAOqE,aACtBA,EAAerE,OAAO,8BAAgCA,OAAOqE,YAC/D,CAAE,MAAOtC,GAGP,CAEF,OAAOsC,CACT,CACA,SAASF,EAAW9D,GAClB,OAAO+D,EAAa/D,CACtB,CAMA,SAAS5F,EAAYmJ,EAAc3C,GACjC,OAAO,IAAIvE,SAAQ,SAAUsC,IAC3B,EAAI7G,EAAM+K,SAAStJ,MAAK,WACtB,IAAI0K,EAAMH,EAAWP,EAAavD,aAC9BkE,EAAW,CACbC,OAAO,EAAIrM,EAAMqK,eACjBpI,MAAM,IAAIgH,MAAOC,UACjB/G,KAAM2G,EACNE,KAAMyC,EAAazC,MAEjBtJ,EAAQkE,KAAKC,UAAUuI,GAC3BN,IAAkBQ,QAAQH,EAAKzM,GAO/B,IAAIsH,EAAKuF,SAASC,YAAY,SAC9BxF,EAAGyF,UAAU,WAAW,GAAM,GAC9BzF,EAAGmF,IAAMA,EACTnF,EAAG0F,SAAWhN,EACdmI,OAAO8E,cAAc3F,GACrBH,GACF,GACF,GACF,CACA,SAASgF,EAAwB3D,EAAajF,GAC5C,IAAIkJ,EAAMH,EAAW9D,GACjB0E,EAAW,SAAkB5F,GAC3BA,EAAGmF,MAAQA,GACblJ,EAAGW,KAAKiJ,MAAM7F,EAAG0F,UAErB,EAEA,OADA7E,OAAO5D,iBAAiB,UAAW2I,GAC5BA,CACT,CACA,SAASb,EAA2Ba,GAClC/E,OAAO3D,oBAAoB,UAAW0I,EACxC,CACA,SAASrL,EAAO2G,EAAapI,GAE3B,IAAK+F,EADL/F,GAAU,EAAIK,EAASS,yBAAyBd,IAE9C,MAAM,IAAI6D,MAAM,iDAElB,IAAIqF,GAAO,EAAIhJ,EAAMqK,eAOjBC,EAAO,IAAI7C,EAAc8C,aAAazK,EAAQgN,aAAaC,eAC3D3C,EAAQ,CACVlC,YAAaA,EACbc,KAAMA,EACNsB,KAAMA,GAYR,OATAF,EAAMwC,SAAWf,EAAwB3D,GAAa,SAAUlG,GACzDoI,EAAMM,kBACP1I,EAAOgH,OAASA,GACfhH,EAAOqK,QAAS/B,EAAKa,IAAInJ,EAAOqK,SACjCrK,EAAOG,KAAKF,MAAQD,EAAOG,KAAKF,KAAOmI,EAAMgB,uBAEjDd,EAAK3J,IAAIqB,EAAOqK,OAChBjC,EAAMM,iBAAiB1I,EAAOG,OAChC,IACOiI,CACT,CACA,SAAShG,EAAMqH,GACbM,EAA2BN,EAAamB,SAC1C,CACA,SAAS1J,EAAUuI,EAAcxI,EAAIhB,GACnCwJ,EAAaL,qBAAuBnJ,EACpCwJ,EAAaf,iBAAmBzH,CAClC,CACA,SAAS4C,EAAU/F,GACjB,IAAKA,EAAQ6L,WAAY,OAAO,EAChC,IAAIqB,EAAKlB,IACT,IAAKkB,EAAI,OAAO,EAChB,IACE,IAAIb,EAAM,2BACVa,EAAGV,QAAQH,EAAK,SAChBa,EAAGC,WAAWd,EAChB,CAAE,MAAOvC,GAIP,OAAO,CACT,CACA,OAAO,CACT,CACA,SAASzD,IACP,IACI+G,EAAYC,UAAUD,UAAUE,cACpC,OAAIF,EAAUG,SAAS,YAAcH,EAAUG,SAAS,UAE/CC,IAJS,GAOpB,CA3HA7N,EAAQqC,KAAOA,EA4Hf,IAAI8J,EAAW,CACbrK,OAAQA,EACR6C,MAAOA,EACPlB,UAAWA,EACXZ,YAAaA,EACbuD,UAAWA,EACX/D,KAAMA,EACNqE,oBAAqBA,EACrBjE,aAAcA,GAEhBzC,EAAiB,QAAImM,C,+BC1KrBrM,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ0G,oBAAsBA,EAC9B1G,EAAQoG,UAAYA,EACpBpG,EAAQ2E,MAAQA,EAChB3E,EAAQ8B,OAASA,EACjB9B,EAAQyC,aAAezC,EAAiB,aAAI,EAC5CA,EAAQyD,UAAYA,EACpBzD,EAAQ6C,YAAcA,EACtB7C,EAAQqC,UAAO,EACf,IAAI9B,EAAQC,EAAQ,OAChBiC,EAAelC,EAAMkC,aACzBzC,EAAQyC,aAAeA,EACvB,IAAIJ,EAAO,SAEX,SAASP,EAAO2G,GACd,IAAIkC,EAAQ,CACVM,iBAAkB,KAClB6C,GAAI,IAAI3N,iBAAiBsI,GACzBsF,OAAQ,IAQV,OALApD,EAAMmD,GAAGxJ,UAAY,SAAUhC,GACzBqI,EAAMM,kBACRN,EAAMM,iBAAiB3I,EAAII,KAE/B,EACOiI,CACT,CACA,SAAShG,EAAMqH,GACbA,EAAa8B,GAAGnJ,QAChBqH,EAAa+B,OAAS,EACxB,CACA,SAASlL,EAAYmJ,EAAc3C,GACjC,IAEE,OADA2C,EAAa8B,GAAGjL,YAAYwG,GAAa,GAClC9I,EAAMoC,qBACf,CAAE,MAAOuH,GACP,OAAOpF,QAAQkJ,OAAO9D,EACxB,CACF,CACA,SAASzG,EAAUuI,EAAcxI,GAC/BwI,EAAaf,iBAAmBzH,CAClC,CACA,SAAS4C,EAAU/F,GAKjB,GAAsB,oBAAX+H,OAAwB,OAAO,EAC1C,IAAK/H,EAAQ6L,WAAY,OAAO,EAChC,GAAgC,mBAArB/L,iBAAiC,CAC1C,GAAIA,iBAAiB4D,QACnB,MAAM,IAAIG,MAAM,uGAElB,OAAO,CACT,CAAO,OAAO,CAChB,CACA,SAASwC,IACP,OAAO,GACT,CA9CA1G,EAAQqC,KAAOA,EA+Cf,IAAI8J,EAAW,CACbrK,OAAQA,EACR6C,MAAOA,EACPlB,UAAWA,EACXZ,YAAaA,EACbuD,UAAWA,EACX/D,KAAMA,EACNqE,oBAAqBA,EACrBjE,aAAcA,GAEhBzC,EAAiB,QAAImM,C,qDCxEjB1G,EAAyBjF,EAAQ,OACrCV,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ0G,oBAAsBA,EAC9B1G,EAAQoG,UAAYA,EACpBpG,EAAQ2E,MAAQA,EAChB3E,EAAQ8B,OAASA,EACjB9B,EAAiB,aAAI,EACrBA,EAAQiO,kBAAoBA,EAC5BjO,EAAQyC,kBAAe,EACvBzC,EAAQyD,UAAYA,EACpBzD,EAAQ6C,YAAcA,EACtB7C,EAAQsM,2BAwNR,WACM4B,GACFA,EAAqBC,YAEzB,EA3NAnO,EAAQoO,sBAAwBA,EAChCpO,EAAQuM,WAAaA,EACrBvM,EAAQqC,UAAO,EACf,IAAIgM,EAAe5I,EAAuBjF,EAAQ,QAC9C8N,EAAqB7I,EAAuBjF,EAAQ,QACpDwH,EAAgBxH,EAAQ,OACxB+N,EAAU/N,EAAQ,OAClBgO,EAAYhO,EAAQ,OACpBiO,EAAmBjO,EAAQ,OAC3BD,EAAQC,EAAQ,OAChBE,EAAWF,EAAQ,OASnBiC,EAAelC,EAAMkC,aACzBzC,EAAQyC,aAAeA,EACvB,IAAI+J,EAAa,2BACbnK,EAAO,SACXrC,EAAQqC,KAAOA,EACf,IAAI6L,EAAuB,KAEvBQ,EAAkB,IAAI/N,IAC1B,SAAS4L,EAAW9D,GAClB,OAAO+D,EAAa/D,CACtB,CAMA,SAAS5F,EAAYmJ,EAAc3C,GACjC,OAAO,IAAIvE,SAAQ,SAAUsC,EAAK8B,IAChC,EAAI3I,EAAM+K,SAAStJ,MAAmB,EAAIsM,EAA4B,SAAiBD,EAAsB,QAAEM,MAAK,SAASC,IAC3H,IAAIlC,EAAKmC,EAAmBC,EAASC,EACrC,OAAOV,EAAsB,QAAEW,MAAK,SAAkBC,GACpD,cAAkBA,EAASC,KAAOD,EAASE,MACzC,KAAK,EAIH,OAHAzC,EAAMH,EAAWP,EAAavD,aAC9BoG,GAAoB,EAAIJ,EAAiBW,WAAWC,EAAOpK,KAAKyH,EAAK,SACrEuC,EAASE,KAAO,GACT,EAAIV,EAAiBa,aAAaT,EAAkBU,SAAS,OAAQ,CAC1E3C,OAAO,EAAIrM,EAAMqK,eACjBpI,MAAM,IAAIgH,MAAOC,UACjB/G,KAAM2G,EACNE,KAAMyC,EAAazC,OAEvB,KAAK,EAKH,OAJAuF,EAAUG,EAASO,KACnBP,EAASQ,IAAK,EAAIjB,EAAUkB,WAAWb,GAAmBU,SAAS,OACnEN,EAASU,GAAKb,EACdG,EAASE,KAAO,GACT,EAAIX,EAAUoB,MAAMf,GAAmB,EAAIJ,EAAiBW,WAAWC,EAAOpK,KAAK6J,EAAS,UACrG,KAAK,EAUH,OATAG,EAASY,GAAKZ,EAASO,KAAKD,SAAS,OACrCR,EAAO,CACLe,iBAAiB,EACjBC,aAAa,EACbrD,IAAKuC,EAASQ,GACd/M,KAAMuM,EAASU,GACfK,UAAWf,EAASY,IAElB7D,EAAaiE,UAASlB,EAAKkB,QAAUjE,EAAaiE,SAC/ChB,EAASiB,OAAO,SAAUC,MAAMnE,EAAaoE,UAAY,eAAgB,CAC9EhP,OAAQ,OACR2N,KAAM5K,KAAKC,UAAU2K,GACrBsB,QAAS,CACP,eAAgB,qCAEjBrO,KAAKoF,GAAY,MAAE8B,IACxB,KAAK,GACL,IAAK,MACH,OAAO+F,EAASqB,OAEtB,GAAG1B,EACL,KACF,GACF,CACA,SAASX,EAAkBmC,GACzB,GAAIlC,EACF,OAAOA,EAET,IAAIqC,GAAc,EAAIhC,EAAQiC,IAAIJ,EAAW,CAC3CK,WAAY,CAAC,YAAa,WAE1BC,iBAAiB,EACjBC,qBAAsB,IACtBC,qBAAsB,KAkCxB,OAhCAL,EAAYM,GAAG,iBAAiB,SAAU3G,GAExCqG,EAAYC,GAAGM,KAAKL,WAAa,CAAC,UAAW,aAC7ClQ,EAAMwQ,IAAIC,MAAM,gBAAiB9G,EACnC,IACAqG,EAAYM,GAAG,WAAwB,EAAIvC,EAA4B,SAAiBD,EAAsB,QAAEM,MAAK,SAASsC,IAC5H,IAAIC,EACJ,OAAO7C,EAAsB,QAAEW,MAAK,SAAmBmC,GACrD,cAAkBA,EAAUjC,KAAOiC,EAAUhC,MAC3C,KAAK,EACH+B,EAASX,EAAYC,GAAGU,OACxB3Q,EAAMwQ,IAAIK,MAAM,yBAA0BF,EAAOG,UAAUxQ,MAC3DqQ,EAAOI,KAAK,WAAW,WAErB/Q,EAAMwQ,IAAIK,MAAM,WAAYF,EAAOG,UAAUxQ,KAC/C,IAEAqQ,EAAOI,KAAK,SAAS,SAAUC,GAE7BhR,EAAMwQ,IAAIK,MAAM,oBAAqBG,EACvC,IACF,KAAK,EACL,IAAK,MACH,OAAOJ,EAAUb,OAEvB,GAAGW,EACL,MACAV,EAAYM,GAAG,SAAS,SAAU3G,GAChC3J,EAAMwQ,IAAIC,MAAM,iBAAkB9G,GAClCqG,EAAYpC,YACd,IACAD,EAAuBqC,EAChBA,CACT,CACA,SAASnC,EAAsBgC,EAAWpE,EAAcxI,GACtD,IAAIgO,EAAavD,EAAkBmC,GAC/B1D,EAAMH,EAAWP,EAAavD,aAC9BoG,GAAoB,EAAIJ,EAAiBW,WAAWC,EAAOpK,KAAKyH,EAAK,SACrE+E,GAAgB,EAAIjD,EAAUkB,WAAWb,GAAmBU,SAAS,OACrEiC,EAAWE,UACbF,EAAWG,KAAK,oBAAqBF,EAAe,CAClD3B,iBAAiB,EACjBC,aAAa,IAGfyB,EAAWF,KAAK,WAAW,WACzB/Q,EAAMwQ,IAAIK,MAAM,yBAChBI,EAAWG,KAAK,oBAAqBF,EAAe,CAClD3B,iBAAiB,EACjBC,aAAa,GAEjB,IAEF,IAAI6B,EAAY,WACdJ,EAAWF,KAAK,WAAwB,EAAIhD,EAA4B,SAAiBD,EAAsB,QAAEM,MAAK,SAASkD,IAC7H,OAAOxD,EAAsB,QAAEW,MAAK,SAAmB8C,GACrD,cAAkBA,EAAU5C,KAAO4C,EAAU3C,MAC3C,KAAK,EACCT,EAAgBhD,IAAIM,EAAavD,cACnC+I,EAAWG,KAAK,oBAAqBF,EAAe,CAClD3B,iBAAiB,EACjBC,aAAa,IAGnB,KAAK,EACL,IAAK,MACH,OAAO+B,EAAUxB,OAEvB,GAAGuB,EACL,KACF,EAYI1E,EAAwB,WAC1B,IAAI4E,GAAQ,EAAIzD,EAA4B,SAAiBD,EAAsB,QAAEM,MAAK,SAASqD,EAASzK,GAC1G,IAAI0K,EACJ,OAAO5D,EAAsB,QAAEW,MAAK,SAAmBkD,GACrD,cAAkBA,EAAUhD,KAAOgD,EAAU/C,MAC3C,KAAK,EAGH,OAFA+C,EAAUhD,KAAO,EACjBgD,EAAU/C,KAAO,GACV,EAAIV,EAAiB0D,aAAatD,EAAkBU,SAAS,OAAQhI,GAC9E,KAAK,EACH0K,EAAUC,EAAU1C,KACpBjP,EAAMwQ,IAAIqB,KAAKH,GACfzO,EAAGyO,GACHC,EAAU/C,KAAO,GACjB,MACF,KAAK,EACH+C,EAAUhD,KAAO,EACjBgD,EAAUzC,GAAKyC,EAAiB,MAAE,GAClC3R,EAAMwQ,IAAIC,MAAMkB,EAAUzC,IAC5B,KAAK,GACL,IAAK,MACH,OAAOyC,EAAU5B,OAEvB,GAAG0B,EAAU,KAAM,CAAC,CAAC,EAAG,IAC1B,KACA,OAAO,SAAkBK,GACvB,OAAON,EAAMO,MAAMtR,KAAMuR,UAC3B,CACF,CA5B4B,GAsC5B,OATAf,EAAWX,GAAG,cAAc,WAC1BtQ,EAAMwQ,IAAIK,MAAM,uBACZ1C,EAAgBhD,IAAIM,EAAavD,eACnClI,EAAMwQ,IAAIC,MAAM,yDAChBY,IAEJ,IACAJ,EAAWX,GAAGY,EAAgB,WAAYtE,GAClB,oBAAbL,UAA0BA,SAAStI,iBAAiB,oBAhDtC,SAASgO,IAE3BhB,GAAe9C,EAAgBhD,IAAIM,EAAavD,aAKhD+I,EAAWE,WAA0C,YAA7B5E,SAAS2F,iBACpCb,IALA9E,SAASrI,oBAAoB,mBAAoB+N,EAOrD,IAuCOhB,CACT,CAMA,SAAS1P,EAAO2G,EAAapI,GAC3BA,GAAU,EAAIK,EAASS,yBAAyBd,GAIhD,IAQIsK,EAAQ,CACVlC,YAAaA,EACbc,MAVS,EAAIhJ,EAAMqK,eAWnBC,KAJS,IAAI7C,EAAc8C,aAAazK,EAAQqS,OAAOpF,eAMvD8C,UAAW/P,EAAQqS,OAAOC,KAa5B,OAXItS,EAAQqS,OAAOzC,UAAStF,EAAMsF,QAAU5P,EAAQqS,OAAOzC,SAC3D7B,EAAsB/N,EAAQqS,OAAOC,IAAKhI,GAAO,SAAUpI,GACpDoI,EAAMM,kBACP1I,EAAOgH,OAASoB,EAAMpB,MACrBhH,EAAOqK,QAASjC,EAAME,KAAKa,IAAInJ,EAAOqK,SAG3CjC,EAAME,KAAK3J,IAAIqB,EAAOqK,OACtBjC,EAAMM,iBAAiB1I,EAAOG,MAChC,IACAgM,EAAgBxN,IAAIuH,GACbkC,CACT,CACA,SAAShG,EAAMqH,GACb0C,EAAwB,OAAE1C,EAAavD,YAOzC,CAEA,SAAShF,EAAUuI,EAAcxI,EAAIhB,GACnCwJ,EAAaL,qBAAuBnJ,EACpCwJ,EAAaf,iBAAmBzH,CAClC,CACA,SAAS4C,IACP,OAAO,CACT,CACA,SAASM,IAGP,OAFkB,GAGpB,CACA,IAAIyF,EAAW,CACbrK,OAAQA,EACR6C,MAAOA,EACPlB,UAAWA,EACXZ,YAAaA,EACbuD,UAAWA,EACX/D,KAAMA,EACNqE,oBAAqBA,EACrBjE,aAAcA,GAEhBzC,EAAiB,QAAImM,C,+BC3SrBrM,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ0G,oBAAsBA,EAC9B1G,EAAQoG,UAAYA,EACpBpG,EAAQ2E,MAAQA,EAChB3E,EAAQ8B,OAASA,EACjB9B,EAAQyC,aAAezC,EAAiB,aAAI,EAC5CA,EAAQyD,UAAYA,EACpBzD,EAAQ6C,YAAcA,EACtB7C,EAAQqC,UAAO,EACf,IACII,EADQjC,EAAQ,OACKiC,aACzBzC,EAAQyC,aAAeA,EACvB,IAAIJ,EAAO,WACXrC,EAAQqC,KAAOA,EACf,IAAIuQ,EAAoB,IAAIjS,IAC5B,SAASmB,EAAO2G,GACd,IAAIkC,EAAQ,CACV9J,KAAM4H,EACNwC,iBAAkB,MAGpB,OADA2H,EAAkB1R,IAAIyJ,GACfA,CACT,CACA,SAAShG,EAAMqH,GACb4G,EAA0B,OAAE5G,EAC9B,CACA,SAASnJ,EAAYmJ,EAAc3C,GACjC,OAAO,IAAIvE,SAAQ,SAAUsC,GAC3B,OAAOyL,YAAW,WACG7N,MAAMC,KAAK2N,GACjBhP,QAAO,SAAU9C,GAC5B,OAAOA,EAAQD,OAASmL,EAAanL,IACvC,IAAG+C,QAAO,SAAU9C,GAClB,OAAOA,IAAYkL,CACrB,IAAGpI,QAAO,SAAU9C,GAClB,QAASA,EAAQmK,gBACnB,IAAG7H,SAAQ,SAAUtC,GACnB,OAAOA,EAAQmK,iBAAiB5B,EAClC,IACAjC,GACF,GAAG,EACL,GACF,CACA,SAAS3D,EAAUuI,EAAcxI,GAC/BwI,EAAaf,iBAAmBzH,CAClC,CACA,SAAS4C,IACP,OAAO,CACT,CACA,SAASM,IACP,OAAO,CACT,CACA,IAAIyF,EAAW,CACbrK,OAAQA,EACR6C,MAAOA,EACPlB,UAAWA,EACXZ,YAAaA,EACbuD,UAAWA,EACX/D,KAAMA,EACNqE,oBAAqBA,EACrBjE,aAAcA,GAEhBzC,EAAiB,QAAImM,C,+BChErBrM,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQmB,wBAER,WACE,IAAI2R,EAAkBP,UAAUxP,OAAS,QAAsBgQ,IAAjBR,UAAU,GAAmBA,UAAU,GAAK,CAAC,EACvFlS,EAAU8D,KAAKiJ,MAAMjJ,KAAKC,UAAU0O,SACN,IAAvBzS,EAAQ6L,aAA4B7L,EAAQ6L,YAAa,EAAI3L,EAAMyS,yBAGtC,IAA7B3S,EAAQ6F,mBAAkC7F,EAAQ6F,kBAAmB,GAG3E7F,EAAQ0K,MAAK1K,EAAQ0K,IAAM,CAAC,GAE5B1K,EAAQ0K,IAAIR,MAAKlK,EAAQ0K,IAAIR,IAAM,MACnClK,EAAQ0K,IAAIQ,mBAAkBlL,EAAQ0K,IAAIQ,iBAAmB,KAE9DuH,EAAgB/H,KAA8C,mBAAhC+H,EAAgB/H,IAAII,UAAwB9K,EAAQ0K,IAAII,QAAU2H,EAAgB/H,IAAII,SAGnH9K,EAAQgN,eAAchN,EAAQgN,aAAe,CAAC,GAC9ChN,EAAQgN,aAAaC,gBAAejN,EAAQgN,aAAaC,cAAgB,KAGzEjN,EAAQqS,SAAQrS,EAAQqS,OAAS,CAAC,GAClCrS,EAAQqS,OAAOC,MAAKtS,EAAQqS,OAAOC,IAAM,mCACzCtS,EAAQqS,OAAOpF,gBAAejN,EAAQqS,OAAOpF,cAAgB,KAG9DwF,EAAgBlN,UAASvF,EAAQuF,QAAUkN,EAAgBlN,SAC/D,OAAOvF,CACT,EA7BA,IAAIE,EAAQC,EAAQ,M,+BCJpB,IAAIiF,EAAyBjF,EAAQ,OACrCV,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ2C,sBAAwB3C,EAAQiT,sBAAwBjT,EAAQkT,4BAAyB,EACjGlT,EAAQgT,gBAiER,WACE,GAAyB,oBAAdtF,UAA2B,OAAO,EAC7C,IAAIyF,EAAcC,EAAiB,QAAEhG,MAAMM,UAAUD,WACrDsD,EAAIqB,KAAKjO,KAAKC,UAAU+O,GAAc,wBACtC,IAAIE,GAA0B,EAE1B3F,UAAU4F,QACZD,GAA0B,GAIxBF,EAAYjC,OAAOrQ,OAASuS,EAAiB,QAAEG,WAAWC,QAAUL,EAAYjC,OAAOrQ,OAASuS,EAAiB,QAAEG,WAAWE,QAChIJ,GAA0B,GAE5B,OAAOA,CACT,EA/EArT,EAAQ+B,UAYR,SAAmBkB,GACjB,SAAIA,GAA2B,mBAAbA,EAAIjB,KAKxB,EAjBAhC,EAAQ+Q,SAAM,EACd/Q,EAAQyC,aAmDR,WACE,IAAIiR,GAAK,IAAIlK,MAAOC,UACpB,OAAIiK,IAAOC,EAEG,IAALD,KADPE,GAGAD,EAASD,EACTE,EAAa,EACD,IAALF,EAEX,EA5DA1T,EAAQiM,UA8BR,SAAmB4H,EAAKC,GACtB,OAAOC,KAAKC,MAAMD,KAAKE,UAAYH,EAAMD,EAAM,GAAKA,EACtD,EA/BA7T,EAAQ4K,YAoCR,WACE,OAAOmJ,KAAKE,SAAS1E,SAAS,IAAI2E,UAAU,EAC9C,EArCAlU,EAAQmU,iBAAc,EACtBnU,EAAQsL,MAmBR,SAAe9I,EAAM4R,GACd5R,IAAMA,EAAO,GAClB,OAAO,IAAIsC,SAAQ,SAAUsC,GAC3B,OAAOyL,YAAW,WAChB,OAAOzL,EAAIgN,EACb,GAAG5R,EACL,GACF,EAzBA,IAAI4Q,EAAU3N,EAAuBjF,EAAQ,QACzC6T,EAAY5O,EAAuBjF,EAAQ,QAW/C,IAAI0S,EAAyBpO,QAAQwP,SAAQ,GAC7CtU,EAAQkT,uBAAyBA,EACjC,IAAID,EAAwBnO,QAAQwP,SAAQ,GAC5CtU,EAAQiT,sBAAwBA,EAChC,IAAItQ,EAAwBmC,QAAQwP,UACpCtU,EAAQ2C,sBAAwBA,EAmBhC,IAAIgR,EAAS,EACTC,EAAa,EAoCjB,IAAI7C,EAAMsD,EAAmB,QAAEE,UAAU,qBACzCvU,EAAQ+Q,IAAMA,EACdA,EAAIyD,SAAS,SAIbxU,EAAQmU,YAHU,SAAqBM,GACrC1D,EAAIyD,SAASC,EACf,C,8QC1FA,MAAMC,EAAK,IAAIC,EAAAA,GAAK,aAEdC,EAAgBC,OAAOC,QAAUD,OAAOE,UAAY,CAAC,EAErDC,EAASJ,EAAcI,QAAUJ,EAAcK,aAC/CC,EAAiB7F,EAAOpK,KAAK,mEAAoE,OACjGkQ,EAAS9F,EAAO+F,MAAM,GAAI,GAChC,SAASC,EAAOC,EAAW7T,GACzB,IAAK6T,EACH,MAAM,IAAIpR,MAAMzC,GAAW,mBAE/B,CAIA,SAAS8T,EAAkBC,GACzB,OAJgBC,EAIFD,KAHPnG,EAAOqG,SAASD,IAAmB,KAAbA,EAAE1S,UAMxByS,EAAWG,QAAQR,GAAU,GAEpCK,EAAWG,QAAQT,GAAkB,GATvC,IAAkBO,CAUlB,CAkBA,SAASG,EAAYC,GACnB,MAAMC,EAAM,IAAIC,WAAWF,GAC3B,YAA6C,IAAlCjB,EAAcoB,gBAChB3G,EAAOpK,KAAKgR,EAAAA,YAAuBJ,KAE5CjB,EAAcoB,gBAAgBF,GACvBzG,EAAOpK,KAAK6Q,GACrB,CAAC,SACcI,EAAO,GAAD,4CASpB,OAToB,WAArB,UAAsB5T,GACpB,GAAI0S,EAAQ,CACV,MAAMmB,QAAanB,EAAOoB,OAAO,UAAW9T,GAE5C,OADe,IAAIyT,WAAWI,EAEhC,CACA,MACMzO,EADOuO,EAAAA,WAAsB,UACfI,OAAO/T,GAAK8T,SAChC,OAAO,IAAIL,WAAWrO,EACxB,KAAC,sBACD,SAAS4O,EAAOC,GACd,iCAAO,UAAgBC,EAAI9J,EAAKhK,GAC9B,GAAIsS,EAAQ,CACV,MAAMyB,EAAkB,CACtB5V,KAAM,WAEF6V,QAAkB1B,EAAO2B,UAAU,MAAOjK,EAAK+J,GAAiB,EAAO,CAACF,IACxEK,EAAe,CACnB/V,KAAM,UACN2V,MAEI9O,QAAesN,EAAOuB,GAAIK,EAAcF,EAAWhU,GACzD,OAAO2M,EAAOpK,KAAK,IAAI8Q,WAAWrO,GACpC,CAAO,GAAW,YAAP6O,EAAkB,CAC3B,MAAMM,EAASZ,EAAAA,eAA0B,cAAevJ,EAAK8J,GACvDM,EAAaD,EAAOR,OAAO3T,GAC3BqU,EAAcF,EAAOG,QAC3B,OAAO3H,EAAO1J,OAAO,CAACmR,EAAYC,GACpC,CAAO,GAAW,YAAPR,EAAkB,CAC3B,MAAMU,EAAWhB,EAAAA,iBAA4B,cAAevJ,EAAK8J,GAC3DM,EAAaG,EAASZ,OAAO3T,GAC7BqU,EAAcE,EAASD,QAC7B,OAAO3H,EAAO1J,OAAO,CAACmR,EAAYC,GACpC,CACA,MAAM,IAAI7S,MAAO,0BAAyBqS,IAC5C,IAAC,uDAxBD,EAyBF,CACA,MAAMW,EAAgBZ,EAAO,WACvBa,EAAgBb,EAAO,WAAW,SACzBc,EAAe,EAAD,+CAiB5B,OAjB4B,WAA7B,UAA8B1K,EAAKpK,GACjC,GAAI0S,EAAQ,CACV,MAAMyB,EAAkB,CACtB5V,KAAM,OACNsV,KAAM,CACJtV,KAAM,YAGJ6V,QAAkB1B,EAAO2B,UAAU,MAAO,IAAIZ,WAAWrJ,GAAM+J,GAAiB,EAAO,CAAC,OAAQ,WAChGY,QAAYrC,EAAOpF,KAAK,OAAQ8G,EAAWpU,GAEjD,OADe+M,EAAOpK,KAAK,IAAI8Q,WAAWsB,GAE5C,CACA,MAAMC,EAAOrB,EAAAA,WAAsB,SAAU5G,EAAOpK,KAAKyH,IACzD4K,EAAKjB,OAAO/T,GAEZ,OADegV,EAAKlB,QAEtB,KAAC,sBAMD,aAFC,OAED,WALA,UAAgC1J,EAAKpK,EAAK+U,GAExC,OAlFF,SAAwBE,EAAIC,GAC1B,GAAID,EAAGxU,SAAWyU,EAAGzU,OACnB,OAAO,EAET,IAAIqE,EAAM,EACV,IAAK,IAAIqQ,EAAI,EAAGA,EAAIF,EAAGxU,OAAQ0U,IAC7BrQ,GAAOmQ,EAAGE,GAAKD,EAAGC,GAGpB,OAAe,IAARrQ,CACT,CAwESsQ,OADmBN,EAAe1K,EAAKpK,GACX+U,EACrC,KAAC,sBAMD,MAAMM,EAAkB,WACtB,IAAInC,EAAaI,EAAY,IAC7B,MAAQL,EAAkBC,IACxBA,EAAaI,EAAY,IAE3B,OAAOJ,CACT,EACM9F,EAAY,SAAU8F,GAM1B,OAJAH,EAA6B,KAAtBG,EAAWzS,OAAe,mBACjCsS,EAAOE,EAAkBC,GAAa,mBAG/BnG,EAAOpK,KAAKyP,EAAGkD,eAAepC,GAAY9F,UAAU,SAC7D,EAKMmI,EAAsB,SAAUrC,GAEpCH,EAA6B,KAAtBG,EAAWzS,OAAe,mBACjCsS,EAAOE,EAAkBC,GAAa,mBAGtC,OAAOnG,EAAOpK,KAAKyP,EAAGkD,eAAepC,GAAY9F,WAD9B,EACoD,SACzE,EAOME,EAAI,0BAAG,UAAgB4F,EAAYlT,GAKvC,OAJA+S,EAA6B,KAAtBG,EAAWzS,OAAe,mBACjCsS,EAAOE,EAAkBC,GAAa,mBACtCH,EAAO/S,EAAIS,OAAS,EAAG,+BACvBsS,EAAO/S,EAAIS,QAAU,GAAI,uBAClBsM,EAAOpK,KAAKyP,EAAG9E,KAAKtN,EAAKkT,EAAY,CAC1CsC,WAAW,IACVC,QACL,IAAC,gBARS,wCASJC,EAAM,0BAAG,UAAgBC,EAAW3V,EAAK+U,GAU7C,GATAhC,EAA4B,KAArB4C,EAAUlV,QAAsC,KAArBkV,EAAUlV,OAAe,kBAClC,KAArBkV,EAAUlV,QACZsS,EAAwB,IAAjB4C,EAAU,GAAU,kBAEJ,KAArBA,EAAUlV,QACZsS,EAAwB,IAAjB4C,EAAU,IAA6B,IAAjBA,EAAU,GAAU,kBAEnD5C,EAAO/S,EAAIS,OAAS,EAAG,+BACvBsS,EAAO/S,EAAIS,QAAU,GAAI,uBACrB2R,EAAGsD,OAAO1V,EAAK+U,EAAKY,GACtB,OAAO,KAET,MAAM,IAAI/T,MAAM,gBAClB,IAAC,gBAdW,0CAeNgU,EAAM,0BAAG,UAAgBC,EAAaC,GAC1C/C,EAAOhG,EAAOqG,SAASyC,GAAc,mBACrC9C,EAAOhG,EAAOqG,SAAS0C,GAAa,kBACpC/C,EAA8B,KAAvB8C,EAAYpV,OAAe,mBAClCsS,EAAOE,EAAkB4C,GAAc,mBACvC9C,EAA6B,KAAtB+C,EAAWrV,QAAuC,KAAtBqV,EAAWrV,OAAe,kBACnC,KAAtBqV,EAAWrV,QACbsS,EAAyB,IAAlB+C,EAAW,GAAU,kBAEJ,KAAtBA,EAAWrV,QACbsS,EAAyB,IAAlB+C,EAAW,IAA8B,IAAlBA,EAAW,GAAU,kBAErD,MAAMC,EAAO3D,EAAGkD,eAAeO,GACzBG,EAAO5D,EAAG6D,cAAcH,GACxBI,EAAKH,EAAKH,OAAOI,EAAK5I,aAC5B,OAAOL,EAAOpK,KAAKuT,EAAGC,UACxB,IAAC,gBAhBW,wCAiBNC,EAAiBR,EACjBS,EAAY,0BAAG,UAAgBR,EAAaC,GAChD/C,EAAOhG,EAAOqG,SAASyC,GAAc,mBACrC9C,EAAOhG,EAAOqG,SAAS0C,GAAa,kBACpC/C,EAA8B,KAAvB8C,EAAYpV,OAAe,mBAClCsS,EAAOE,EAAkB4C,GAAc,mBACvC9C,EAA6B,KAAtB+C,EAAWrV,QAAuC,KAAtBqV,EAAWrV,OAAe,kBACnC,KAAtBqV,EAAWrV,QACbsS,EAAyB,IAAlB+C,EAAW,GAAU,kBAEJ,KAAtBA,EAAWrV,QACbsS,EAAyB,IAAlB+C,EAAW,IAA8B,IAAlBA,EAAW,GAAU,kBAErD,MAAMC,EAAO3D,EAAGkD,eAAeO,GACzBG,EAAO5D,EAAG6D,cAAcH,GACxBI,EAAKH,EAAKH,OAAOI,EAAK5I,aAC5B,OAAOL,EAAOpK,KAAKuT,EAAGjJ,SAAS,GAAI,IAAK,MAC1C,IAAC,gBAhBiB,wCAiBZqJ,EAAO,0BAAG,UAAgBC,EAAavW,EAAKwO,GAEhD,IAAIgI,GADJhI,EAAOA,GAAQ,CAAC,GACWgI,iBAAmBlD,EAAY,IAE1D,MAAQL,EAAkBuD,IACxBA,EAAkBhI,EAAKgI,iBAAmBlD,EAAY,IAExD,MAAMmD,EAAiBrJ,EAAUoJ,GAC3BN,QAAWE,EAAeI,EAAiBD,GAC3C1C,QAAaD,EAAOsC,GACpBhC,EAAK1F,EAAK0F,IAAMZ,EAAY,IAC5BoD,EAAgB7C,EAAK8C,MAAM,EAAG,IAC9BC,EAAS/C,EAAK8C,MAAM,IAEpBE,QADajC,EAAcV,EAAInH,EAAOpK,KAAK+T,GAAgB1W,GAE3D8W,EAAY/J,EAAO1J,OAAO,CAAC6Q,EAAIuC,EAAgBI,IAErD,MAAO,CACL3C,KACAuC,iBACAI,aACAE,UALgBjC,EAAe/H,EAAOpK,KAAKiU,GAASE,GAOxD,IAAC,gBAvBY,0CAwBPE,EAAO,0BAAG,UAAgB9D,EAAY1E,EAAMyI,GAChD,MAAMC,EAAUD,SAA2CA,EACrDE,EAAcD,EAAUb,EAAeD,EACvCF,QAAWiB,EAAYjE,EAAY1E,EAAKiI,gBACxC5C,QAAaD,EAAOsC,GACpBQ,EAAgB7C,EAAK8C,MAAM,EAAG,IAC9BC,EAAS/C,EAAK8C,MAAM,IACpBG,EAAY/J,EAAO1J,OAAO,CAACmL,EAAK0F,GAAI1F,EAAKiI,eAAgBjI,EAAKqI,aAC9DO,QAtIP,SAC+B,EAAD,oCAqIPC,CAAiBtK,EAAOpK,KAAKiU,GAASE,EAAWtI,EAAKuI,KAC5E,IAAKK,IAAuB,IAAZF,EACd,OAAOF,EAAQ9D,EAAY1E,GAAM,GAC5B,IAAK4I,IAAuB,IAAZF,EACrB,MAAM,IAAItV,MAAM,+BAElB,MAAM5B,QAAY6U,EAAcrG,EAAK0F,GAAInH,EAAOpK,KAAK+T,GAAgBlI,EAAKqI,YAC1E,OAAO9J,EAAOpK,KAAK,IAAI8Q,WAAWzT,GACpC,IAAC,gBAhBY,yC,iCCnObtC,EAAQ4Z,WA2IR,SAAoBC,GAQnB,GAPAA,EAAK,IAAM7Y,KAAK8Y,UAAY,KAAO,IAClC9Y,KAAK+Y,WACJ/Y,KAAK8Y,UAAY,MAAQ,KAC1BD,EAAK,IACJ7Y,KAAK8Y,UAAY,MAAQ,KAC1B,IAAMzU,EAAOrF,QAAQga,SAAShZ,KAAKiZ,OAE/BjZ,KAAK8Y,UACT,OAGD,MAAMI,EAAI,UAAYlZ,KAAKmZ,MAC3BN,EAAKO,OAAO,EAAG,EAAGF,EAAG,kBAKrB,IAAIG,EAAQ,EACRC,EAAQ,EACZT,EAAK,GAAGU,QAAQ,eAAeC,IAChB,OAAVA,IAGJH,IACc,OAAVG,IAGHF,EAAQD,GACT,IAGDR,EAAKO,OAAOE,EAAO,EAAGJ,EACvB,EA3KAla,EAAQya,KA6LR,SAAcC,GACb,IACKA,EACH1a,EAAQ2a,QAAQ9N,QAAQ,QAAS6N,GAEjC1a,EAAQ2a,QAAQnN,WAAW,QAE7B,CAAE,MAAOwD,GAER,CAEF,EAvMAhR,EAAQ4a,KA+MR,WACC,IAAIC,EACJ,IACCA,EAAI7a,EAAQ2a,QAAQG,QAAQ,QAC7B,CAAE,MAAO9J,GAER,EAII6J,QAAwB,IAAZE,GAA2B,QAASA,IACpDF,EAAIE,EAAQC,IAAIC,OAGjB,OAAOJ,CACR,EA7NA7a,EAAQ8Z,UAyGR,WAIC,GAAsB,oBAAX1R,QAA0BA,OAAO2S,UAAoC,aAAxB3S,OAAO2S,QAAQ1Y,MAAuB+F,OAAO2S,QAAQG,QAC5G,OAAO,EAIR,GAAyB,oBAAdxN,WAA6BA,UAAUD,WAAaC,UAAUD,UAAUE,cAAc6M,MAAM,yBACtG,OAAO,EAKR,MAA4B,oBAAb1N,UAA4BA,SAASqO,iBAAmBrO,SAASqO,gBAAgBC,OAAStO,SAASqO,gBAAgBC,MAAMC,kBAEpH,oBAAXjT,QAA0BA,OAAOkT,UAAYlT,OAAOkT,QAAQC,SAAYnT,OAAOkT,QAAQE,WAAapT,OAAOkT,QAAQG,QAGrG,oBAAd/N,WAA6BA,UAAUD,WAAaC,UAAUD,UAAUE,cAAc6M,MAAM,mBAAqBkB,SAASC,OAAOC,GAAI,KAAO,IAE9H,oBAAdlO,WAA6BA,UAAUD,WAAaC,UAAUD,UAAUE,cAAc6M,MAAM,qBACtG,EA/HAxa,EAAQ2a,QAyOR,WACC,IAGC,OAAOlO,YACR,CAAE,MAAOuE,GAER,CAEF,CAlPkB3D,GAClBrN,EAAQ6b,QAAU,MACjB,IAAIC,GAAS,EAEb,MAAO,KACDA,IACJA,GAAS,EACTR,QAAQS,KAAK,yIACd,CAED,EATiB,GAelB/b,EAAQgc,OAAS,CAChB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAsFDhc,EAAQ+Q,IAAMuK,QAAQlK,OAASkK,QAAQvK,KAAO,MAAS,GAkEvD1L,EAAOrF,QAAUQ,EAAQ,MAARA,CAAoBR,GAErC,MAAM,WAACic,GAAc5W,EAAOrF,QAM5Bic,EAAWC,EAAI,SAAUC,GACxB,IACC,OAAOhY,KAAKC,UAAU+X,EACvB,CAAE,MAAOnL,GACR,MAAO,+BAAiCA,EAAMvP,OAC/C,CACD,C,kBCKA4D,EAAOrF,QA3QP,SAAegb,GAqDd,SAASoB,EAAYrC,GACpB,IAAIsC,EAEAC,EACAC,EAFAC,EAAiB,KAIrB,SAASpL,KAASyI,GAEjB,IAAKzI,EAAMqL,QACV,OAGD,MAAMC,EAAOtL,EAGPuL,EAAOC,OAAO,IAAIpT,MAClBkK,EAAKiJ,GAAQN,GAAYM,GAC/BD,EAAKzC,KAAOvG,EACZgJ,EAAKxN,KAAOmN,EACZK,EAAKC,KAAOA,EACZN,EAAWM,EAEX9C,EAAK,GAAKuC,EAAYS,OAAOhD,EAAK,IAEX,iBAAZA,EAAK,IAEfA,EAAKiD,QAAQ,MAId,IAAIzC,EAAQ,EACZR,EAAK,GAAKA,EAAK,GAAGU,QAAQ,iBAAiB,CAACC,EAAOuC,KAElD,GAAc,OAAVvC,EACH,MAAO,IAERH,IACA,MAAM2C,EAAYZ,EAAYH,WAAWc,GACzC,GAAyB,mBAAdC,EAA0B,CACpC,MAAMC,EAAMpD,EAAKQ,GACjBG,EAAQwC,EAAUE,KAAKR,EAAMO,GAG7BpD,EAAKO,OAAOC,EAAO,GACnBA,GACD,CACA,OAAOG,CAAK,IAIb4B,EAAYxC,WAAWsD,KAAKR,EAAM7C,IAEpB6C,EAAK3L,KAAOqL,EAAYrL,KAChCuB,MAAMoK,EAAM7C,EACnB,CAgCA,OA9BAzI,EAAM2I,UAAYA,EAClB3I,EAAM0I,UAAYsC,EAAYtC,YAC9B1I,EAAM+I,MAAQiC,EAAYe,YAAYpD,GACtC3I,EAAMgM,OAASA,EACfhM,EAAMyK,QAAUO,EAAYP,QAE5B/b,OAAOC,eAAeqR,EAAO,UAAW,CACvC9L,YAAY,EACZ+X,cAAc,EACd9X,IAAK,IACmB,OAAnBiX,EACIA,GAEJF,IAAoBF,EAAY1B,aACnC4B,EAAkBF,EAAY1B,WAC9B6B,EAAeH,EAAYK,QAAQ1C,IAG7BwC,GAERe,IAAKnB,IACJK,EAAiBL,CAAC,IAKY,mBAArBC,EAAYmB,MACtBnB,EAAYmB,KAAKnM,GAGXA,CACR,CAEA,SAASgM,EAAOrD,EAAWyD,GAC1B,MAAMC,EAAWrB,EAAYpb,KAAK+Y,gBAAkC,IAAdyD,EAA4B,IAAMA,GAAazD,GAErG,OADA0D,EAAS1M,IAAM/P,KAAK+P,IACb0M,CACR,CAwFA,SAASC,EAAYC,GACpB,OAAOA,EAAOpO,WACZ2E,UAAU,EAAGyJ,EAAOpO,WAAWxM,OAAS,GACxCwX,QAAQ,UAAW,IACtB,CA0BA,OAvQA6B,EAAYhL,MAAQgL,EACpBA,EAAYwB,QAAUxB,EACtBA,EAAYS,OAoPZ,SAAgBI,GACf,GAAIA,aAAe/Y,MAClB,OAAO+Y,EAAIY,OAASZ,EAAIxb,QAEzB,OAAOwb,CACR,EAxPAb,EAAY0B,QAwLZ,WACC,MAAMpD,EAAa,IACf0B,EAAY2B,MAAM7Y,IAAIwY,MACtBtB,EAAY4B,MAAM9Y,IAAIwY,GAAaxY,KAAI6U,GAAa,IAAMA,KAC5DkE,KAAK,KAEP,OADA7B,EAAY8B,OAAO,IACZxD,CACR,EA9LA0B,EAAY8B,OAsJZ,SAAgBxD,GAOf,IAAIjD,EANJ2E,EAAY3B,KAAKC,GACjB0B,EAAY1B,WAAaA,EAEzB0B,EAAY2B,MAAQ,GACpB3B,EAAY4B,MAAQ,GAGpB,MAAMG,GAA+B,iBAAfzD,EAA0BA,EAAa,IAAIyD,MAAM,UACjEC,EAAMD,EAAMpb,OAElB,IAAK0U,EAAI,EAAGA,EAAI2G,EAAK3G,IACf0G,EAAM1G,KAOW,OAFtBiD,EAAayD,EAAM1G,GAAG8C,QAAQ,MAAO,QAEtB,GACd6B,EAAY4B,MAAM9a,KAAK,IAAIyY,OAAO,IAAMjB,EAAWzB,MAAM,GAAK,MAE9DmD,EAAY2B,MAAM7a,KAAK,IAAIyY,OAAO,IAAMjB,EAAa,MAGxD,EA9KA0B,EAAYK,QAsMZ,SAAiB5b,GAChB,GAA8B,MAA1BA,EAAKA,EAAKkC,OAAS,GACtB,OAAO,EAGR,IAAI0U,EACA2G,EAEJ,IAAK3G,EAAI,EAAG2G,EAAMhC,EAAY4B,MAAMjb,OAAQ0U,EAAI2G,EAAK3G,IACpD,GAAI2E,EAAY4B,MAAMvG,GAAG4G,KAAKxd,GAC7B,OAAO,EAIT,IAAK4W,EAAI,EAAG2G,EAAMhC,EAAY2B,MAAMhb,OAAQ0U,EAAI2G,EAAK3G,IACpD,GAAI2E,EAAY2B,MAAMtG,GAAG4G,KAAKxd,GAC7B,OAAO,EAIT,OAAO,CACR,EA1NAub,EAAYpC,SAAWxZ,EAAQ,OAC/B4b,EAAYP,QA0PZ,WACCP,QAAQS,KAAK,wIACd,EA1PAjc,OAAOwe,KAAKtD,GAAK5X,SAAQsJ,IACxB0P,EAAY1P,GAAOsO,EAAItO,EAAI,IAO5B0P,EAAY2B,MAAQ,GACpB3B,EAAY4B,MAAQ,GAOpB5B,EAAYH,WAAa,CAAC,EAkB1BG,EAAYe,YAVZ,SAAqBpD,GACpB,IAAI5D,EAAO,EAEX,IAAK,IAAIsB,EAAI,EAAGA,EAAIsC,EAAUhX,OAAQ0U,IACrCtB,GAASA,GAAQ,GAAKA,EAAQ4D,EAAUwE,WAAW9G,GACnDtB,GAAQ,EAGT,OAAOiG,EAAYJ,OAAOjI,KAAKyK,IAAIrI,GAAQiG,EAAYJ,OAAOjZ,OAC/D,EA2NAqZ,EAAY8B,OAAO9B,EAAYxB,QAExBwB,CACR,C,YC3QA,IAAIna,EAAI,IACJgE,EAAQ,GAAJhE,EACJwc,EAAQ,GAAJxY,EACJyY,EAAQ,GAAJD,EACJE,EAAQ,EAAJD,EACJE,EAAQ,OAAJF,EAqJR,SAASG,EAAOnL,EAAIoL,EAAOC,EAAGle,GAC5B,IAAIme,EAAWF,GAAa,IAAJC,EACxB,OAAOhL,KAAKkL,MAAMvL,EAAKqL,GAAK,IAAMle,GAAQme,EAAW,IAAM,GAC7D,CAxIA3Z,EAAOrF,QAAU,SAASid,EAAK5c,GAC7BA,EAAUA,GAAW,CAAC,EACtB,IAAIgC,SAAc4a,EAClB,GAAa,WAAT5a,GAAqB4a,EAAIla,OAAS,EACpC,OAkBJ,SAAemc,GAEb,IADAA,EAAMC,OAAOD,IACLnc,OAAS,IACf,OAEF,IAAIyX,EAAQ,mIAAmI4E,KAC7IF,GAEF,IAAK1E,EACH,OAEF,IAAIuE,EAAIM,WAAW7E,EAAM,IAEzB,QADYA,EAAM,IAAM,MAAM7M,eAE5B,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,KACL,IAAK,IACH,OAAOoR,EAAIH,EACb,IAAK,QACL,IAAK,OACL,IAAK,IACH,OAAOG,EAAIJ,EACb,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAOI,EAAIL,EACb,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,KACL,IAAK,IACH,OAAOK,EAAIN,EACb,IAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAOM,EAAI9Y,EACb,IAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAO8Y,EAAI9c,EACb,IAAK,eACL,IAAK,cACL,IAAK,QACL,IAAK,OACL,IAAK,KACH,OAAO8c,EACT,QACE,OAEN,CAzEW3R,CAAM6P,GACR,GAAa,WAAT5a,GAAqBid,SAASrC,GACvC,OAAO5c,EAAQkf,KA0GnB,SAAiB7L,GACf,IAAIoL,EAAQ/K,KAAKyK,IAAI9K,GACrB,GAAIoL,GAASJ,EACX,OAAOG,EAAOnL,EAAIoL,EAAOJ,EAAG,OAE9B,GAAII,GAASL,EACX,OAAOI,EAAOnL,EAAIoL,EAAOL,EAAG,QAE9B,GAAIK,GAAS7Y,EACX,OAAO4Y,EAAOnL,EAAIoL,EAAO7Y,EAAG,UAE9B,GAAI6Y,GAAS7c,EACX,OAAO4c,EAAOnL,EAAIoL,EAAO7c,EAAG,UAE9B,OAAOyR,EAAK,KACd,CAzH0B8L,CAAQvC,GAiFlC,SAAkBvJ,GAChB,IAAIoL,EAAQ/K,KAAKyK,IAAI9K,GACrB,GAAIoL,GAASJ,EACX,OAAO3K,KAAKkL,MAAMvL,EAAKgL,GAAK,IAE9B,GAAII,GAASL,EACX,OAAO1K,KAAKkL,MAAMvL,EAAK+K,GAAK,IAE9B,GAAIK,GAAS7Y,EACX,OAAO8N,KAAKkL,MAAMvL,EAAKzN,GAAK,IAE9B,GAAI6Y,GAAS7c,EACX,OAAO8R,KAAKkL,MAAMvL,EAAKzR,GAAK,IAE9B,OAAOyR,EAAK,IACd,CAhGyC+L,CAASxC,GAEhD,MAAM,IAAI/Y,MACR,wDACEC,KAAKC,UAAU6Y,GAErB,C,6BCpCAnd,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ0f,aAAU,EAElB,IAAIzf,GAAQ,EACZ,IACIA,EAAkC,oBAAnB0f,gBACX,oBAAqB,IAAIA,cACjC,CACA,MAAOzV,GAEH,CAEJlK,EAAQ0f,QAAUzf,C,6BCJlBH,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ4f,OAAS5f,EAAQ6f,YAAS,EAYlC7f,EAAQ6f,OAXR,SAAgB5c,GACZ,IAAIic,EAAM,GACV,IAAK,IAAIzH,KAAKxU,EACNA,EAAI6c,eAAerI,KACfyH,EAAInc,SACJmc,GAAO,KACXA,GAAOa,mBAAmBtI,GAAK,IAAMsI,mBAAmB9c,EAAIwU,KAGpE,OAAOyH,CACX,EAiBAlf,EAAQ4f,OATR,SAAgBI,GACZ,IAAIC,EAAM,CAAC,EACPC,EAAQF,EAAG7B,MAAM,KACrB,IAAK,IAAI1G,EAAI,EAAG0I,EAAID,EAAMnd,OAAQ0U,EAAI0I,EAAG1I,IAAK,CAC1C,IAAI2I,EAAOF,EAAMzI,GAAG0G,MAAM,KAC1B8B,EAAII,mBAAmBD,EAAK,KAAOC,mBAAmBD,EAAK,GAC/D,CACA,OAAOH,CACX,C,6BCpCAngB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQoN,WAAQ,EAoBhB,MAAMkT,EAAK,sPACLC,EAAQ,CACV,SAAU,WAAY,YAAa,WAAY,OAAQ,WAAY,OAAQ,OAAQ,WAAY,OAAQ,YAAa,OAAQ,QAAS,UAwBzIvgB,EAAQoN,MAtBR,SAAe8R,GACX,GAAIA,EAAInc,OAAS,IACb,KAAM,eAEV,MAAMyd,EAAMtB,EAAKuB,EAAIvB,EAAIwB,QAAQ,KAAMvW,EAAI+U,EAAIwB,QAAQ,MAC7C,GAAND,IAAiB,GAANtW,IACX+U,EAAMA,EAAIhL,UAAU,EAAGuM,GAAKvB,EAAIhL,UAAUuM,EAAGtW,GAAGoQ,QAAQ,KAAM,KAAO2E,EAAIhL,UAAU/J,EAAG+U,EAAInc,SAE9F,IAAIkD,EAAIqa,EAAGlB,KAAKF,GAAO,IAAKyB,EAAM,CAAC,EAAGlJ,EAAI,GAC1C,KAAOA,KACHkJ,EAAIJ,EAAM9I,IAAMxR,EAAEwR,IAAM,GAU5B,OARU,GAANgJ,IAAiB,GAANtW,IACXwW,EAAIC,OAASJ,EACbG,EAAIE,KAAOF,EAAIE,KAAK3M,UAAU,EAAGyM,EAAIE,KAAK9d,OAAS,GAAGwX,QAAQ,KAAM,KACpEoG,EAAIG,UAAYH,EAAIG,UAAUvG,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,KAAM,KAC9EoG,EAAII,SAAU,GAElBJ,EAAIK,UAKR,SAAmB/d,EAAKge,GACpB,MAAMC,EAAO,WAAYnD,EAAQkD,EAAK1G,QAAQ2G,EAAM,KAAK/C,MAAM,KACvC,KAApB8C,EAAKhI,MAAM,EAAG,IAA6B,IAAhBgI,EAAKle,QAChCgb,EAAM3D,OAAO,EAAG,GAEE,KAAlB6G,EAAKhI,OAAO,IACZ8E,EAAM3D,OAAO2D,EAAMhb,OAAS,EAAG,GAEnC,OAAOgb,CACX,CAdoBiD,CAAUL,EAAKA,EAAU,MACzCA,EAAIQ,SAcR,SAAkBR,EAAKS,GACnB,MAAM1e,EAAO,CAAC,EAMd,OALA0e,EAAM7G,QAAQ,6BAA6B,SAAU8G,EAAIzF,EAAI0F,GACrD1F,IACAlZ,EAAKkZ,GAAM0F,EAEnB,IACO5e,CACX,CAtBmBye,CAASR,EAAKA,EAAW,OACjCA,CACX,C,6BC7CA7gB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQuhB,MAAQvhB,EAAQ4f,OAAS5f,EAAQ6f,YAAS,EAClD,MAAM2B,EAAW,mEAAmErD,MAAM,IAAKpb,EAAS,GAAImC,EAAM,CAAC,EACnH,IAAqBgK,EAAjBuS,EAAO,EAAGhK,EAAI,EAQlB,SAASoI,EAAO6B,GACZ,IAAIC,EAAU,GACd,GACIA,EAAUH,EAASE,EAAM3e,GAAU4e,EACnCD,EAAM3N,KAAKC,MAAM0N,EAAM3e,SAClB2e,EAAM,GACf,OAAOC,CACX,CAiCA,IAhCA3hB,EAAQ6f,OAASA,EAejB7f,EAAQ4f,OAPR,SAAgBV,GACZ,IAAI0C,EAAU,EACd,IAAKnK,EAAI,EAAGA,EAAIyH,EAAInc,OAAQ0U,IACxBmK,EAAUA,EAAU7e,EAASmC,EAAIga,EAAI2C,OAAOpK,IAEhD,OAAOmK,CACX,EAcA5hB,EAAQuhB,MANR,WACI,MAAMO,EAAMjC,GAAQ,IAAIrW,MACxB,OAAIsY,IAAQ5S,GACDuS,EAAO,EAAGvS,EAAO4S,GACrBA,EAAM,IAAMjC,EAAO4B,IAC9B,EAKOhK,EAAI1U,EAAQ0U,IACfvS,EAAIsc,EAAS/J,IAAMA,C,4BCrDvB3X,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ+hB,oBAAiB,EACzB/hB,EAAQ+hB,eACgB,oBAATrF,KACAA,KAEgB,oBAAXtU,OACLA,OAGA4Z,SAAS,cAATA,E,+BCVfliB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQiiB,SAAWjiB,EAAQoN,MAAQpN,EAAQkiB,sBAAwBliB,EAAQyQ,WAAazQ,EAAQmiB,eAAiBniB,EAAQoiB,UAAYpiB,EAAQqiB,SAAWriB,EAAQsiB,YAAS,EACzK,MAAMC,EAAc/hB,EAAQ,MAC5BV,OAAOC,eAAeC,EAAS,SAAU,CAAEsF,YAAY,EAAMC,IAAK,WAAc,OAAOgd,EAAYD,MAAQ,IAC3GtiB,EAAQqiB,SAAWE,EAAYD,OAAOD,SACtC,IAAIG,EAAiBhiB,EAAQ,OAC7BV,OAAOC,eAAeC,EAAS,YAAa,CAAEsF,YAAY,EAAMC,IAAK,WAAc,OAAOid,EAAeJ,SAAW,IACpHtiB,OAAOC,eAAeC,EAAS,iBAAkB,CAAEsF,YAAY,EAAMC,IAAK,WAAc,OAAOid,EAAeL,cAAgB,IAC9H,IAAIM,EAAajiB,EAAQ,OACzBV,OAAOC,eAAeC,EAAS,aAAc,CAAEsF,YAAY,EAAMC,IAAK,WAAc,OAAOkd,EAAWhS,UAAY,IAClH,IAAIiS,EAAYliB,EAAQ,OACxBV,OAAOC,eAAeC,EAAS,wBAAyB,CAAEsF,YAAY,EAAMC,IAAK,WAAc,OAAOmd,EAAUR,qBAAuB,IACvI,IAAIS,EAAgBniB,EAAQ,OAC5BV,OAAOC,eAAeC,EAAS,QAAS,CAAEsF,YAAY,EAAMC,IAAK,WAAc,OAAOod,EAAcvV,KAAO,IAC3G,IAAIwV,EAA6BpiB,EAAQ,MACzCV,OAAOC,eAAeC,EAAS,WAAY,CAAEsF,YAAY,EAAMC,IAAK,WAAc,OAAOqd,EAA2BX,QAAU,G,oCCf9H,IAAIY,EAAmB7hB,MAAQA,KAAK6hB,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACAhjB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQsiB,YAAS,EACjB,MAAMG,EAAajiB,EAAQ,OACrBkiB,EAAYliB,EAAQ,OACpBwiB,EAAexiB,EAAQ,OACvBmiB,EAAgBniB,EAAQ,OACxByiB,EAAUJ,EAAgBriB,EAAQ,QAClC0iB,EAAsB1iB,EAAQ,OAC9B2iB,EAAqB3iB,EAAQ,OAC7BoiB,EAA6BpiB,EAAQ,MACrC4Q,GAAQ,EAAI6R,EAAQrF,SAAS,2BACnC,MAAM0E,UAAeY,EAAoBE,QAOrCC,YAAY1C,EAAK7P,EAAO,CAAC,GACrBwS,QACAtiB,KAAKuiB,WAAaX,EAA2BY,kBAC7CxiB,KAAKyiB,YAAc,GACf9C,GAAO,iBAAoBA,IAC3B7P,EAAO6P,EACPA,EAAM,MAENA,GACAA,GAAM,EAAIgC,EAAcvV,OAAOuT,GAC/B7P,EAAK4S,SAAW/C,EAAIE,KACpB/P,EAAK6S,OAA0B,UAAjBhD,EAAI0B,UAAyC,QAAjB1B,EAAI0B,SAC9CvR,EAAK8S,KAAOjD,EAAIiD,KACZjD,EAAIS,QACJtQ,EAAKsQ,MAAQT,EAAIS,QAEhBtQ,EAAK+P,OACV/P,EAAK4S,UAAW,EAAIf,EAAcvV,OAAO0D,EAAK+P,MAAMA,OAExD,EAAI6B,EAAUR,uBAAuBlhB,KAAM8P,GAC3C9P,KAAK2iB,OACD,MAAQ7S,EAAK6S,OACP7S,EAAK6S,OACe,oBAAbE,UAA4B,WAAaA,SAASxB,SAC/DvR,EAAK4S,WAAa5S,EAAK8S,OAEvB9S,EAAK8S,KAAO5iB,KAAK2iB,OAAS,MAAQ,MAEtC3iB,KAAK0iB,SACD5S,EAAK4S,WACoB,oBAAbG,SAA2BA,SAASH,SAAW,aAC/D1iB,KAAK4iB,KACD9S,EAAK8S,OACoB,oBAAbC,UAA4BA,SAASD,KACvCC,SAASD,KACT5iB,KAAK2iB,OACD,MACA,MAClB3iB,KAAKyP,WAAaK,EAAKL,YAAc,CACjC,UACA,YACA,gBAEJzP,KAAKyiB,YAAc,GACnBziB,KAAK8iB,cAAgB,EACrB9iB,KAAK8P,KAAOhR,OAAOikB,OAAO,CACtB9C,KAAM,aACN+C,OAAO,EACPtT,iBAAiB,EACjBuT,SAAS,EACTC,eAAgB,IAChBC,iBAAiB,EACjBC,kBAAkB,EAClBC,oBAAoB,EACpBC,kBAAmB,CACfC,UAAW,MAEfC,iBAAkB,CAAC,EACnBC,qBAAqB,GACtB3T,GACH9P,KAAK8P,KAAKmQ,KACNjgB,KAAK8P,KAAKmQ,KAAK1G,QAAQ,MAAO,KACzBvZ,KAAK8P,KAAKsT,iBAAmB,IAAM,IACb,iBAApBpjB,KAAK8P,KAAKsQ,QACjBpgB,KAAK8P,KAAKsQ,OAAQ,EAAI4B,EAAapD,QAAQ5e,KAAK8P,KAAKsQ,QAGzDpgB,KAAKC,GAAK,KACVD,KAAK0jB,SAAW,KAChB1jB,KAAK2jB,aAAe,KACpB3jB,KAAK4jB,YAAc,KAEnB5jB,KAAK6jB,iBAAmB,KACQ,mBAArBrgB,mBACHxD,KAAK8P,KAAK2T,sBAIVzjB,KAAK8jB,0BAA4B,KACzB9jB,KAAKqQ,YAELrQ,KAAKqQ,UAAU0T,qBACf/jB,KAAKqQ,UAAU1M,QACnB,EAEJH,iBAAiB,eAAgBxD,KAAK8jB,2BAA2B,IAE/C,cAAlB9jB,KAAK0iB,WACL1iB,KAAKgkB,qBAAuB,KACxBhkB,KAAKikB,QAAQ,kBAAmB,CAC5BC,YAAa,2BACf,EAEN1gB,iBAAiB,UAAWxD,KAAKgkB,sBAAsB,KAG/DhkB,KAAK6H,MACT,CAQAsc,gBAAgBtkB,GACZuQ,EAAM,0BAA2BvQ,GACjC,MAAMugB,EAAQthB,OAAOikB,OAAO,CAAC,EAAG/iB,KAAK8P,KAAKsQ,OAE1CA,EAAMgE,IAAMjC,EAAmBd,SAE/BjB,EAAM/P,UAAYxQ,EAEdG,KAAKC,KACLmgB,EAAMiE,IAAMrkB,KAAKC,IACrB,MAAM6P,EAAOhR,OAAOikB,OAAO,CAAC,EAAG/iB,KAAK8P,KAAM,CACtCsQ,QACAkE,OAAQtkB,KACR0iB,SAAU1iB,KAAK0iB,SACfC,OAAQ3iB,KAAK2iB,OACbC,KAAM5iB,KAAK4iB,MACZ5iB,KAAK8P,KAAK0T,iBAAiB3jB,IAE9B,OADAuQ,EAAM,cAAeN,GACd,IAAI2R,EAAWhS,WAAW5P,GAAMiQ,EAC3C,CAMAjI,OACI,IAAIwI,EACJ,GAAIrQ,KAAK8P,KAAKqT,iBACV7B,EAAOiD,wBACmC,IAA1CvkB,KAAKyP,WAAWiQ,QAAQ,aACxBrP,EAAY,gBAEX,IAAI,IAAMrQ,KAAKyP,WAAW1N,OAK3B,YAHA/B,KAAKwkB,cAAa,KACdxkB,KAAKykB,aAAa,QAAS,0BAA0B,GACtD,GAIHpU,EAAYrQ,KAAKyP,WAAW,EAChC,CACAzP,KAAK0kB,WAAa,UAElB,IACIrU,EAAYrQ,KAAKmkB,gBAAgB9T,EACrC,CACA,MAAOlH,GAIH,OAHAiH,EAAM,qCAAsCjH,GAC5CnJ,KAAKyP,WAAWkV,aAChB3kB,KAAK6H,MAET,CACAwI,EAAUxI,OACV7H,KAAK4kB,aAAavU,EACtB,CAMAuU,aAAavU,GACTD,EAAM,uBAAwBC,EAAUxQ,MACpCG,KAAKqQ,YACLD,EAAM,iCAAkCpQ,KAAKqQ,UAAUxQ,MACvDG,KAAKqQ,UAAU0T,sBAGnB/jB,KAAKqQ,UAAYA,EAEjBA,EACKR,GAAG,QAAS7P,KAAK6kB,QAAQC,KAAK9kB,OAC9B6P,GAAG,SAAU7P,KAAK+kB,SAASD,KAAK9kB,OAChC6P,GAAG,QAAS7P,KAAKglB,QAAQF,KAAK9kB,OAC9B6P,GAAG,SAAUU,GAAWvQ,KAAKikB,QAAQ,kBAAmB1T,IACjE,CAOA0U,MAAMplB,GACFuQ,EAAM,yBAA0BvQ,GAChC,IAAIwQ,EAAYrQ,KAAKmkB,gBAAgBtkB,GACjCqlB,GAAS,EACb5D,EAAOiD,uBAAwB,EAC/B,MAAMY,EAAkB,KAChBD,IAEJ9U,EAAM,8BAA+BvQ,GACrCwQ,EAAU+U,KAAK,CAAC,CAAE/jB,KAAM,OAAQK,KAAM,WACtC2O,EAAUC,KAAK,UAAWhP,IACtB,IAAI4jB,EAEJ,GAAI,SAAW5jB,EAAID,MAAQ,UAAYC,EAAII,KAAM,CAI7C,GAHA0O,EAAM,4BAA6BvQ,GACnCG,KAAKqlB,WAAY,EACjBrlB,KAAKykB,aAAa,YAAapU,IAC1BA,EACD,OACJiR,EAAOiD,sBAAwB,cAAgBlU,EAAUxQ,KACzDuQ,EAAM,iCAAkCpQ,KAAKqQ,UAAUxQ,MACvDG,KAAKqQ,UAAUiV,OAAM,KACbJ,GAEA,WAAallB,KAAK0kB,aAEtBtU,EAAM,iDACNmV,IACAvlB,KAAK4kB,aAAavU,GAClBA,EAAU+U,KAAK,CAAC,CAAE/jB,KAAM,aACxBrB,KAAKykB,aAAa,UAAWpU,GAC7BA,EAAY,KACZrQ,KAAKqlB,WAAY,EACjBrlB,KAAKwlB,QAAO,GAEpB,KACK,CACDpV,EAAM,8BAA+BvQ,GACrC,MAAMqJ,EAAM,IAAIhG,MAAM,eAEtBgG,EAAImH,UAAYA,EAAUxQ,KAC1BG,KAAKykB,aAAa,eAAgBvb,EACtC,KACF,EAEN,SAASuc,IACDP,IAGJA,GAAS,EACTK,IACAlV,EAAU1M,QACV0M,EAAY,KAChB,CAEA,MAAMlI,EAAWe,IACb,MAAM8G,EAAQ,IAAI9M,MAAM,gBAAkBgG,GAE1C8G,EAAMK,UAAYA,EAAUxQ,KAC5B4lB,IACArV,EAAM,mDAAoDvQ,EAAMqJ,GAChElJ,KAAKykB,aAAa,eAAgBzU,EAAM,EAE5C,SAAS0V,IACLvd,EAAQ,mBACZ,CAEA,SAASgC,IACLhC,EAAQ,gBACZ,CAEA,SAASwd,EAAUC,GACXvV,GAAauV,EAAG/lB,OAASwQ,EAAUxQ,OACnCuQ,EAAM,6BAA8BwV,EAAG/lB,KAAMwQ,EAAUxQ,MACvD4lB,IAER,CAEA,MAAMF,EAAU,KACZlV,EAAUwV,eAAe,OAAQV,GACjC9U,EAAUwV,eAAe,QAAS1d,GAClCkI,EAAUwV,eAAe,QAASH,GAClC1lB,KAAK8lB,IAAI,QAAS3b,GAClBnK,KAAK8lB,IAAI,YAAaH,EAAU,EAEpCtV,EAAUC,KAAK,OAAQ6U,GACvB9U,EAAUC,KAAK,QAASnI,GACxBkI,EAAUC,KAAK,QAASoV,GACxB1lB,KAAKsQ,KAAK,QAASnG,GACnBnK,KAAKsQ,KAAK,YAAaqV,IACwB,IAA3C3lB,KAAK0jB,SAAShE,QAAQ,iBACb,iBAAT7f,EAEAG,KAAKwkB,cAAa,KACTU,GACD7U,EAAUxI,MACd,GACD,KAGHwI,EAAUxI,MAElB,CAMAke,SAQI,GAPA3V,EAAM,eACNpQ,KAAK0kB,WAAa,OAClBpD,EAAOiD,sBAAwB,cAAgBvkB,KAAKqQ,UAAUxQ,KAC9DG,KAAKykB,aAAa,QAClBzkB,KAAKwlB,QAGD,SAAWxlB,KAAK0kB,YAAc1kB,KAAK8P,KAAKmT,QAAS,CACjD7S,EAAM,2BACN,IAAIqG,EAAI,EACR,MAAM0I,EAAInf,KAAK0jB,SAAS3hB,OACxB,KAAO0U,EAAI0I,EAAG1I,IACVzW,KAAKilB,MAAMjlB,KAAK0jB,SAASjN,GAEjC,CACJ,CAMAsO,SAASiB,GACL,GAAI,YAAchmB,KAAK0kB,YACnB,SAAW1kB,KAAK0kB,YAChB,YAAc1kB,KAAK0kB,WAMnB,OALAtU,EAAM,uCAAwC4V,EAAO3kB,KAAM2kB,EAAOtkB,MAClE1B,KAAKykB,aAAa,SAAUuB,GAE5BhmB,KAAKykB,aAAa,aAClBzkB,KAAKimB,mBACGD,EAAO3kB,MACX,IAAK,OACDrB,KAAKkmB,YAAY/iB,KAAKiJ,MAAM4Z,EAAOtkB,OACnC,MACJ,IAAK,OACD1B,KAAKmmB,WAAW,QAChBnmB,KAAKykB,aAAa,QAClBzkB,KAAKykB,aAAa,QAClB,MACJ,IAAK,QACD,MAAMvb,EAAM,IAAIhG,MAAM,gBAEtBgG,EAAIkd,KAAOJ,EAAOtkB,KAClB1B,KAAKglB,QAAQ9b,GACb,MACJ,IAAK,UACDlJ,KAAKykB,aAAa,OAAQuB,EAAOtkB,MACjC1B,KAAKykB,aAAa,UAAWuB,EAAOtkB,WAK5C0O,EAAM,8CAA+CpQ,KAAK0kB,WAElE,CAOAwB,YAAYxkB,GACR1B,KAAKykB,aAAa,YAAa/iB,GAC/B1B,KAAKC,GAAKyB,EAAK2iB,IACfrkB,KAAKqQ,UAAU+P,MAAMiE,IAAM3iB,EAAK2iB,IAChCrkB,KAAK0jB,SAAW1jB,KAAKqmB,eAAe3kB,EAAKgiB,UACzC1jB,KAAK2jB,aAAejiB,EAAKiiB,aACzB3jB,KAAK4jB,YAAcliB,EAAKkiB,YACxB5jB,KAAKsmB,WAAa5kB,EAAK4kB,WACvBtmB,KAAK+lB,SAED,WAAa/lB,KAAK0kB,YAEtB1kB,KAAKimB,kBACT,CAMAA,mBACIjmB,KAAKumB,eAAevmB,KAAK6jB,kBACzB7jB,KAAK6jB,iBAAmB7jB,KAAKwkB,cAAa,KACtCxkB,KAAKikB,QAAQ,eAAe,GAC7BjkB,KAAK2jB,aAAe3jB,KAAK4jB,aACxB5jB,KAAK8P,KAAK0W,WACVxmB,KAAK6jB,iBAAiB4C,OAE9B,CAMA5B,UACI7kB,KAAKyiB,YAAYrJ,OAAO,EAAGpZ,KAAK8iB,eAIhC9iB,KAAK8iB,cAAgB,EACjB,IAAM9iB,KAAKyiB,YAAY1gB,OACvB/B,KAAKykB,aAAa,SAGlBzkB,KAAKwlB,OAEb,CAMAA,QACI,GAAI,WAAaxlB,KAAK0kB,YAClB1kB,KAAKqQ,UAAUqW,WACd1mB,KAAKqlB,WACNrlB,KAAKyiB,YAAY1gB,OAAQ,CACzB,MAAM4kB,EAAU3mB,KAAK4mB,qBACrBxW,EAAM,gCAAiCuW,EAAQ5kB,QAC/C/B,KAAKqQ,UAAU+U,KAAKuB,GAGpB3mB,KAAK8iB,cAAgB6D,EAAQ5kB,OAC7B/B,KAAKykB,aAAa,QACtB,CACJ,CAOAmC,qBAII,KAH+B5mB,KAAKsmB,YACR,YAAxBtmB,KAAKqQ,UAAUxQ,MACfG,KAAKyiB,YAAY1gB,OAAS,GAE1B,OAAO/B,KAAKyiB,YAEhB,IAAIoE,EAAc,EAClB,IAAK,IAAIpQ,EAAI,EAAGA,EAAIzW,KAAKyiB,YAAY1gB,OAAQ0U,IAAK,CAC9C,MAAM/U,EAAO1B,KAAKyiB,YAAYhM,GAAG/U,KAIjC,GAHIA,IACAmlB,IAAe,EAAInF,EAAUoF,YAAYplB,IAEzC+U,EAAI,GAAKoQ,EAAc7mB,KAAKsmB,WAE5B,OADAlW,EAAM,iCAAkCqG,EAAGzW,KAAKyiB,YAAY1gB,QACrD/B,KAAKyiB,YAAYxK,MAAM,EAAGxB,GAErCoQ,GAAe,CACnB,CAEA,OADAzW,EAAM,+BAAgCyW,EAAa7mB,KAAKsmB,YACjDtmB,KAAKyiB,WAChB,CASAsE,MAAMzlB,EAAKjC,EAASmD,GAEhB,OADAxC,KAAKmmB,WAAW,UAAW7kB,EAAKjC,EAASmD,GAClCxC,IACX,CACAolB,KAAK9jB,EAAKjC,EAASmD,GAEf,OADAxC,KAAKmmB,WAAW,UAAW7kB,EAAKjC,EAASmD,GAClCxC,IACX,CAUAmmB,WAAW9kB,EAAMK,EAAMrC,EAASmD,GAS5B,GARI,mBAAsBd,IACtBc,EAAKd,EACLA,OAAOqQ,GAEP,mBAAsB1S,IACtBmD,EAAKnD,EACLA,EAAU,MAEV,YAAcW,KAAK0kB,YAAc,WAAa1kB,KAAK0kB,WACnD,QAEJrlB,EAAUA,GAAW,CAAC,GACd2nB,UAAW,IAAU3nB,EAAQ2nB,SACrC,MAAMhB,EAAS,CACX3kB,KAAMA,EACNK,KAAMA,EACNrC,QAASA,GAEbW,KAAKykB,aAAa,eAAgBuB,GAClChmB,KAAKyiB,YAAYvgB,KAAK8jB,GAClBxjB,GACAxC,KAAKsQ,KAAK,QAAS9N,GACvBxC,KAAKwlB,OACT,CAIA7hB,QACI,MAAMA,EAAQ,KACV3D,KAAKikB,QAAQ,gBACb7T,EAAM,+CACNpQ,KAAKqQ,UAAU1M,OAAO,EAEpBsjB,EAAkB,KACpBjnB,KAAK8lB,IAAI,UAAWmB,GACpBjnB,KAAK8lB,IAAI,eAAgBmB,GACzBtjB,GAAO,EAELujB,EAAiB,KAEnBlnB,KAAKsQ,KAAK,UAAW2W,GACrBjnB,KAAKsQ,KAAK,eAAgB2W,EAAgB,EAqB9C,MAnBI,YAAcjnB,KAAK0kB,YAAc,SAAW1kB,KAAK0kB,aACjD1kB,KAAK0kB,WAAa,UACd1kB,KAAKyiB,YAAY1gB,OACjB/B,KAAKsQ,KAAK,SAAS,KACXtQ,KAAKqlB,UACL6B,IAGAvjB,GACJ,IAGC3D,KAAKqlB,UACV6B,IAGAvjB,KAGD3D,IACX,CAMAglB,QAAQ9b,GACJkH,EAAM,kBAAmBlH,GACzBoY,EAAOiD,uBAAwB,EAC/BvkB,KAAKykB,aAAa,QAASvb,GAC3BlJ,KAAKikB,QAAQ,kBAAmB/a,EACpC,CAMA+a,QAAQ1T,EAAQ2T,GACR,YAAclkB,KAAK0kB,YACnB,SAAW1kB,KAAK0kB,YAChB,YAAc1kB,KAAK0kB,aACnBtU,EAAM,iCAAkCG,GAExCvQ,KAAKumB,eAAevmB,KAAK6jB,kBAEzB7jB,KAAKqQ,UAAU0T,mBAAmB,SAElC/jB,KAAKqQ,UAAU1M,QAEf3D,KAAKqQ,UAAU0T,qBACoB,mBAAxBtgB,sBACPA,oBAAoB,eAAgBzD,KAAK8jB,2BAA2B,GACpErgB,oBAAoB,UAAWzD,KAAKgkB,sBAAsB,IAG9DhkB,KAAK0kB,WAAa,SAElB1kB,KAAKC,GAAK,KAEVD,KAAKykB,aAAa,QAASlU,EAAQ2T,GAGnClkB,KAAKyiB,YAAc,GACnBziB,KAAK8iB,cAAgB,EAE7B,CAOAuD,eAAe3C,GACX,MAAMyD,EAAmB,GACzB,IAAI1Q,EAAI,EACR,MAAMyE,EAAIwI,EAAS3hB,OACnB,KAAO0U,EAAIyE,EAAGzE,KACLzW,KAAKyP,WAAWiQ,QAAQgE,EAASjN,KAClC0Q,EAAiBjlB,KAAKwhB,EAASjN,IAEvC,OAAO0Q,CACX,EAEJnoB,EAAQsiB,OAASA,EACjBA,EAAOD,SAAWc,EAAmBd,Q,qCChnBrC,IAAIQ,EAAmB7hB,MAAQA,KAAK6hB,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACAhjB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQoiB,UAAYpiB,EAAQmiB,oBAAiB,EAC7C,MAAMgB,EAAqB3iB,EAAQ,OAC7B0iB,EAAsB1iB,EAAQ,OAC9BkiB,EAAYliB,EAAQ,OACpByiB,EAAUJ,EAAgBriB,EAAQ,QAClCwiB,EAAexiB,EAAQ,OACvB4Q,GAAQ,EAAI6R,EAAQrF,SAAS,8BACnC,MAAMuE,UAAuBje,MACzBmf,YAAY9R,EAAQ2T,EAAakD,GAC7B9E,MAAM/R,GACNvQ,KAAKkkB,YAAcA,EACnBlkB,KAAKonB,QAAUA,EACfpnB,KAAKqB,KAAO,gBAChB,EAEJrC,EAAQmiB,eAAiBA,EACzB,MAAMC,UAAkBc,EAAoBE,QAOxCC,YAAYvS,GACRwS,QACAtiB,KAAK0mB,UAAW,GAChB,EAAIhF,EAAUR,uBAAuBlhB,KAAM8P,GAC3C9P,KAAK8P,KAAOA,EACZ9P,KAAKogB,MAAQtQ,EAAKsQ,MAClBpgB,KAAKskB,OAASxU,EAAKwU,MACvB,CAUAU,QAAQzU,EAAQ2T,EAAakD,GAEzB,OADA9E,MAAMmC,aAAa,QAAS,IAAItD,EAAe5Q,EAAQ2T,EAAakD,IAC7DpnB,IACX,CAIA6H,OAGI,OAFA7H,KAAK0kB,WAAa,UAClB1kB,KAAKqnB,SACErnB,IACX,CAIA2D,QAKI,MAJwB,YAApB3D,KAAK0kB,YAAgD,SAApB1kB,KAAK0kB,aACtC1kB,KAAKsnB,UACLtnB,KAAKikB,WAEFjkB,IACX,CAMAolB,KAAKuB,GACuB,SAApB3mB,KAAK0kB,WACL1kB,KAAK+mB,MAAMJ,GAIXvW,EAAM,4CAEd,CAMA2V,SACI/lB,KAAK0kB,WAAa,OAClB1kB,KAAK0mB,UAAW,EAChBpE,MAAMmC,aAAa,OACvB,CAOA8C,OAAO7lB,GACH,MAAMskB,GAAS,EAAI7D,EAAmBqF,cAAc9lB,EAAM1B,KAAKskB,OAAO/B,YACtEviB,KAAK+kB,SAASiB,EAClB,CAMAjB,SAASiB,GACL1D,MAAMmC,aAAa,SAAUuB,EACjC,CAMA/B,QAAQwD,GACJznB,KAAK0kB,WAAa,SAClBpC,MAAMmC,aAAa,QAASgD,EAChC,CAMAnC,MAAMoC,GAAW,CACjBC,UAAUC,EAAQxH,EAAQ,CAAC,GACvB,OAAQwH,EACJ,MACA5nB,KAAK6nB,YACL7nB,KAAK8nB,QACL9nB,KAAK8P,KAAKmQ,KACVjgB,KAAK+nB,OAAO3H,EACpB,CACAyH,YACI,MAAMnF,EAAW1iB,KAAK8P,KAAK4S,SAC3B,OAAkC,IAA3BA,EAAShD,QAAQ,KAAcgD,EAAW,IAAMA,EAAW,GACtE,CACAoF,QACI,OAAI9nB,KAAK8P,KAAK8S,OACR5iB,KAAK8P,KAAK6S,QAAU/G,OAA0B,MAAnB5b,KAAK8P,KAAK8S,QACjC5iB,KAAK8P,KAAK6S,QAAqC,KAA3B/G,OAAO5b,KAAK8P,KAAK8S,OACpC,IAAM5iB,KAAK8P,KAAK8S,KAGhB,EAEf,CACAmF,OAAO3H,GACH,MAAM4H,GAAe,EAAIhG,EAAanD,QAAQuB,GAC9C,OAAO4H,EAAajmB,OAAS,IAAMimB,EAAe,EACtD,EAEJhpB,EAAQoiB,UAAYA,C,+BCtJpBtiB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQyQ,gBAAa,EACrB,MAAMwY,EAAezoB,EAAQ,MACvB0oB,EAAiB1oB,EAAQ,OACzB2oB,EAAoB3oB,EAAQ,OAClCR,EAAQyQ,WAAa,CACjB2Y,UAAWF,EAAeG,GAC1BC,aAAcH,EAAkBI,GAChCC,QAASP,EAAaQ,Q,oCCR1B,IAAI5G,EAAmB7hB,MAAQA,KAAK6hB,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACAhjB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ0pB,QAAU1pB,EAAQypB,aAAU,EACpC,MAAMjH,EAAiBhiB,EAAQ,OACzByiB,EAAUJ,EAAgBriB,EAAQ,QAClCmpB,EAAanpB,EAAQ,OACrB2iB,EAAqB3iB,EAAQ,OAC7BopB,EAAsBppB,EAAQ,OAC9B0iB,EAAsB1iB,EAAQ,OAC9BkiB,EAAYliB,EAAQ,OACpBqpB,EAAkBrpB,EAAQ,MAC1B4Q,GAAQ,EAAI6R,EAAQrF,SAAS,4BACnC,SAASkM,IAAU,CACnB,MAAMC,EAIK,MAHK,IAAIH,EAAoBI,IAAI,CACpCC,SAAS,IAEMC,aAEvB,MAAMT,UAAgBjH,EAAeJ,UAOjCiB,YAAYvS,GAGR,GAFAwS,MAAMxS,GACN9P,KAAKwoB,SAAU,EACS,oBAAb3F,SAA0B,CACjC,MAAMsG,EAAQ,WAAatG,SAASxB,SACpC,IAAIuB,EAAOC,SAASD,KAEfA,IACDA,EAAOuG,EAAQ,MAAQ,MAE3BnpB,KAAKopB,GACoB,oBAAbvG,UACJ/S,EAAK4S,WAAaG,SAASH,UAC3BE,IAAS9S,EAAK8S,IAC1B,CAIA,MAAMyG,EAAcvZ,GAAQA,EAAKuZ,YACjCrpB,KAAKspB,eAAiBP,IAAYM,EAC9BrpB,KAAK8P,KAAKJ,kBACV1P,KAAKupB,WAAY,EAAIX,EAAoBY,mBAEjD,CACI3pB,WACA,MAAO,SACX,CAOAwnB,SACIrnB,KAAKypB,MACT,CAOAnE,MAAMoC,GACF1nB,KAAK0kB,WAAa,UAClB,MAAMY,EAAQ,KACVlV,EAAM,UACNpQ,KAAK0kB,WAAa,SAClBgD,GAAS,EAEb,GAAI1nB,KAAKwoB,UAAYxoB,KAAK0mB,SAAU,CAChC,IAAIgD,EAAQ,EACR1pB,KAAKwoB,UACLpY,EAAM,+CACNsZ,IACA1pB,KAAKsQ,KAAK,gBAAgB,WACtBF,EAAM,gCACJsZ,GAASpE,GACf,KAECtlB,KAAK0mB,WACNtW,EAAM,+CACNsZ,IACA1pB,KAAKsQ,KAAK,SAAS,WACfF,EAAM,gCACJsZ,GAASpE,GACf,IAER,MAEIA,GAER,CAMAmE,OACIrZ,EAAM,WACNpQ,KAAKwoB,SAAU,EACfxoB,KAAK2pB,SACL3pB,KAAKykB,aAAa,OACtB,CAMA8C,OAAO7lB,GACH0O,EAAM,sBAAuB1O,IAe7B,EAAIygB,EAAmByH,eAAeloB,EAAM1B,KAAKskB,OAAO/B,YAAYngB,SAdlD4jB,IAMd,GAJI,YAAchmB,KAAK0kB,YAA8B,SAAhBsB,EAAO3kB,MACxCrB,KAAK+lB,SAGL,UAAYC,EAAO3kB,KAEnB,OADArB,KAAKikB,QAAQ,CAAEC,YAAa,oCACrB,EAGXlkB,KAAK+kB,SAASiB,EAAO,IAKrB,WAAahmB,KAAK0kB,aAElB1kB,KAAKwoB,SAAU,EACfxoB,KAAKykB,aAAa,gBACd,SAAWzkB,KAAK0kB,WAChB1kB,KAAKypB,OAGLrZ,EAAM,uCAAwCpQ,KAAK0kB,YAG/D,CAMA4C,UACI,MAAM3jB,EAAQ,KACVyM,EAAM,wBACNpQ,KAAK+mB,MAAM,CAAC,CAAE1lB,KAAM,UAAW,EAE/B,SAAWrB,KAAK0kB,YAChBtU,EAAM,4BACNzM,MAKAyM,EAAM,wCACNpQ,KAAKsQ,KAAK,OAAQ3M,GAE1B,CAOAojB,MAAMJ,GACF3mB,KAAK0mB,UAAW,GAChB,EAAIvE,EAAmB0H,eAAelD,GAAUjlB,IAC5C1B,KAAK8pB,QAAQpoB,GAAM,KACf1B,KAAK0mB,UAAW,EAChB1mB,KAAKykB,aAAa,QAAQ,GAC5B,GAEV,CAMA9E,MACI,MAAMiI,EAAS5nB,KAAK8P,KAAK6S,OAAS,QAAU,OACtCvC,EAAQpgB,KAAKogB,OAAS,CAAC,EAQ7B,OANI,IAAUpgB,KAAK8P,KAAKia,oBACpB3J,EAAMpgB,KAAK8P,KAAKoT,iBAAkB,EAAIyF,EAAWpI,UAEhDvgB,KAAKspB,gBAAmBlJ,EAAMiE,MAC/BjE,EAAM4J,IAAM,GAEThqB,KAAK2nB,UAAUC,EAAQxH,EAClC,CAOA6J,QAAQna,EAAO,CAAC,GAEZ,OADAhR,OAAOikB,OAAOjT,EAAM,CAAEsZ,GAAIppB,KAAKopB,GAAIG,UAAWvpB,KAAKupB,WAAavpB,KAAK8P,MAC9D,IAAI4Y,EAAQ1oB,KAAK2f,MAAO7P,EACnC,CAQAga,QAAQpoB,EAAMc,GACV,MAAM0nB,EAAMlqB,KAAKiqB,QAAQ,CACrB7pB,OAAQ,OACRsB,KAAMA,IAEVwoB,EAAIra,GAAG,UAAWrN,GAClB0nB,EAAIra,GAAG,SAAS,CAACsa,EAAW/C,KACxBpnB,KAAKglB,QAAQ,iBAAkBmF,EAAW/C,EAAQ,GAE1D,CAMAuC,SACIvZ,EAAM,YACN,MAAM8Z,EAAMlqB,KAAKiqB,UACjBC,EAAIra,GAAG,OAAQ7P,KAAKunB,OAAOzC,KAAK9kB,OAChCkqB,EAAIra,GAAG,SAAS,CAACsa,EAAW/C,KACxBpnB,KAAKglB,QAAQ,iBAAkBmF,EAAW/C,EAAQ,IAEtDpnB,KAAKoqB,QAAUF,CACnB,EAEJlrB,EAAQypB,QAAUA,EAClB,MAAMC,UAAgBxG,EAAoBE,QAOtCC,YAAY1C,EAAK7P,GACbwS,SACA,EAAIZ,EAAUR,uBAAuBlhB,KAAM8P,GAC3C9P,KAAK8P,KAAOA,EACZ9P,KAAKI,OAAS0P,EAAK1P,QAAU,MAC7BJ,KAAK2f,IAAMA,EACX3f,KAAK0B,UAAOqQ,IAAcjC,EAAKpO,KAAOoO,EAAKpO,KAAO,KAClD1B,KAAKc,QACT,CAMAA,SACI,IAAIupB,EACJ,MAAMva,GAAO,EAAI4R,EAAU4I,MAAMtqB,KAAK8P,KAAM,QAAS,MAAO,MAAO,aAAc,OAAQ,KAAM,UAAW,qBAAsB,aAChIA,EAAKmZ,UAAYjpB,KAAK8P,KAAKsZ,GAC3B,MAAMmB,EAAOvqB,KAAKuqB,IAAM,IAAI3B,EAAoBI,IAAIlZ,GACpD,IACIM,EAAM,kBAAmBpQ,KAAKI,OAAQJ,KAAK2f,KAC3C4K,EAAI1iB,KAAK7H,KAAKI,OAAQJ,KAAK2f,KAAK,GAChC,IACI,GAAI3f,KAAK8P,KAAK0a,aAAc,CACxBD,EAAIE,uBAAyBF,EAAIE,uBAAsB,GACvD,IAAK,IAAIhU,KAAKzW,KAAK8P,KAAK0a,aAChBxqB,KAAK8P,KAAK0a,aAAa1L,eAAerI,IACtC8T,EAAIG,iBAAiBjU,EAAGzW,KAAK8P,KAAK0a,aAAa/T,GAG3D,CACJ,CACA,MAAOtN,GAAK,CACZ,GAAI,SAAWnJ,KAAKI,OAChB,IACImqB,EAAIG,iBAAiB,eAAgB,2BACzC,CACA,MAAOvhB,GAAK,CAEhB,IACIohB,EAAIG,iBAAiB,SAAU,MACnC,CACA,MAAOvhB,GAAK,CACmB,QAA9BkhB,EAAKrqB,KAAK8P,KAAKyZ,iBAA8B,IAAPc,GAAyBA,EAAGM,WAAWJ,GAE1E,oBAAqBA,IACrBA,EAAI7a,gBAAkB1P,KAAK8P,KAAKJ,iBAEhC1P,KAAK8P,KAAK8a,iBACVL,EAAItb,QAAUjP,KAAK8P,KAAK8a,gBAE5BL,EAAIM,mBAAqB,KACrB,IAAIR,EACmB,IAAnBE,EAAI7F,aAC2B,QAA9B2F,EAAKrqB,KAAK8P,KAAKyZ,iBAA8B,IAAPc,GAAyBA,EAAGS,aAAaP,IAEhF,IAAMA,EAAI7F,aAEV,MAAQ6F,EAAIQ,QAAU,OAASR,EAAIQ,OACnC/qB,KAAKgrB,SAKLhrB,KAAKwkB,cAAa,KACdxkB,KAAKglB,QAA8B,iBAAfuF,EAAIQ,OAAsBR,EAAIQ,OAAS,EAAE,GAC9D,GACP,EAEJ3a,EAAM,cAAepQ,KAAK0B,MAC1B6oB,EAAInF,KAAKplB,KAAK0B,KAClB,CACA,MAAOyH,GAOH,YAHAnJ,KAAKwkB,cAAa,KACdxkB,KAAKglB,QAAQ7b,EAAE,GAChB,EAEP,CACwB,oBAAb2C,WACP9L,KAAKqZ,MAAQqP,EAAQuC,gBACrBvC,EAAQwC,SAASlrB,KAAKqZ,OAASrZ,KAEvC,CAMAglB,QAAQ9b,GACJlJ,KAAKykB,aAAa,QAASvb,EAAKlJ,KAAKuqB,KACrCvqB,KAAKulB,SAAQ,EACjB,CAMAA,QAAQ4F,GACJ,QAAI,IAAuBnrB,KAAKuqB,KAAO,OAASvqB,KAAKuqB,IAArD,CAIA,GADAvqB,KAAKuqB,IAAIM,mBAAqB/B,EAC1BqC,EACA,IACInrB,KAAKuqB,IAAIa,OACb,CACA,MAAOjiB,GAAK,CAEQ,oBAAb2C,iBACA4c,EAAQwC,SAASlrB,KAAKqZ,OAEjCrZ,KAAKuqB,IAAM,IAXX,CAYJ,CAMAS,SACI,MAAMtpB,EAAO1B,KAAKuqB,IAAIc,aACT,OAAT3pB,IACA1B,KAAKykB,aAAa,OAAQ/iB,GAC1B1B,KAAKykB,aAAa,WAClBzkB,KAAKulB,UAEb,CAMA6F,QACIprB,KAAKulB,SACT,EAUJ,GARAvmB,EAAQ0pB,QAAUA,EAClBA,EAAQuC,cAAgB,EACxBvC,EAAQwC,SAAW,CAAC,EAMI,oBAAbpf,SAEP,GAA2B,mBAAhBwf,YAEPA,YAAY,WAAYC,QAEvB,GAAgC,mBAArB/nB,iBAAiC,CAC7C,MAAMgoB,EAAmB,eAAgB3C,EAAgB9H,eAAiB,WAAa,SACvFvd,iBAAiBgoB,EAAkBD,GAAe,EACtD,CAEJ,SAASA,IACL,IAAK,IAAI9U,KAAKiS,EAAQwC,SACdxC,EAAQwC,SAASpM,eAAerI,IAChCiS,EAAQwC,SAASzU,GAAG2U,OAGhC,C,8BC5ZAtsB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQwjB,kBAAoBxjB,EAAQysB,sBAAwBzsB,EAAQ0sB,UAAY1sB,EAAQiiB,cAAW,EACnG,MAAM4H,EAAkBrpB,EAAQ,MAChCR,EAAQiiB,SAC0C,mBAAZnd,SAAqD,mBAApBA,QAAQwP,QAE/DqY,GAAO7nB,QAAQwP,UAAUtS,KAAK2qB,GAG/B,CAACA,EAAInH,IAAiBA,EAAamH,EAAI,GAGtD3sB,EAAQ0sB,UAAY7C,EAAgB9H,eAAe2K,WAAa7C,EAAgB9H,eAAe6K,aAC/F5sB,EAAQysB,uBAAwB,EAChCzsB,EAAQwjB,kBAAoB,a,2DCdxBX,EAAmB7hB,MAAQA,KAAK6hB,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACAhjB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQqpB,QAAK,EACb,MAAM7G,EAAiBhiB,EAAQ,OACzBmpB,EAAanpB,EAAQ,OACrBkiB,EAAYliB,EAAQ,OACpBoiB,EAA6BpiB,EAAQ,MACrCyiB,EAAUJ,EAAgBriB,EAAQ,QAClC2iB,EAAqB3iB,EAAQ,OAC7B4Q,GAAQ,EAAI6R,EAAQrF,SAAS,8BAE7BiP,EAAqC,oBAAdnf,WACI,iBAAtBA,UAAUof,SACmB,gBAApCpf,UAAUof,QAAQnf,cACtB,MAAM0b,UAAW7G,EAAeJ,UAO5BiB,YAAYvS,GACRwS,MAAMxS,GACN9P,KAAKspB,gBAAkBxZ,EAAKuZ,WAChC,CACIxpB,WACA,MAAO,WACX,CACAwnB,SACI,IAAKrnB,KAAK+rB,QAEN,OAEJ,MAAMpM,EAAM3f,KAAK2f,MACXqM,EAAYhsB,KAAK8P,KAAKkc,UAEtBlc,EAAO+b,EACP,CAAC,GACD,EAAInK,EAAU4I,MAAMtqB,KAAK8P,KAAM,QAAS,oBAAqB,MAAO,MAAO,aAAc,OAAQ,KAAM,UAAW,qBAAsB,eAAgB,kBAAmB,SAAU,aAAc,SAAU,uBAC/M9P,KAAK8P,KAAK0a,eACV1a,EAAKT,QAAUrP,KAAK8P,KAAK0a,cAE7B,IACIxqB,KAAKisB,GACDrK,EAA2B6J,wBAA0BI,EAC/CG,EACI,IAAIpK,EAA2B8J,UAAU/L,EAAKqM,GAC9C,IAAIpK,EAA2B8J,UAAU/L,GAC7C,IAAIiC,EAA2B8J,UAAU/L,EAAKqM,EAAWlc,EACvE,CACA,MAAO5G,GACH,OAAOlJ,KAAKykB,aAAa,QAASvb,EACtC,CACAlJ,KAAKisB,GAAG1J,WAAaviB,KAAKskB,OAAO/B,WACjCviB,KAAKksB,mBACT,CAMAA,oBACIlsB,KAAKisB,GAAGE,OAAS,KACTnsB,KAAK8P,KAAK0W,WACVxmB,KAAKisB,GAAG1e,QAAQkZ,QAEpBzmB,KAAK+lB,QAAQ,EAEjB/lB,KAAKisB,GAAG9hB,QAAWiiB,GAAepsB,KAAKikB,QAAQ,CAC3CC,YAAa,8BACbkD,QAASgF,IAEbpsB,KAAKisB,GAAG3oB,UAAaiD,GAAOvG,KAAKunB,OAAOhhB,EAAG7E,MAC3C1B,KAAKisB,GAAG9jB,QAAWgB,GAAMnJ,KAAKglB,QAAQ,kBAAmB7b,EAC7D,CACA4d,MAAMJ,GACF3mB,KAAK0mB,UAAW,EAGhB,IAAK,IAAIjQ,EAAI,EAAGA,EAAIkQ,EAAQ5kB,OAAQ0U,IAAK,CACrC,MAAMuP,EAASW,EAAQlQ,GACjB4V,EAAa5V,IAAMkQ,EAAQ5kB,OAAS,GAC1C,EAAIogB,EAAmBmK,cAActG,EAAQhmB,KAAKspB,gBAAiB5nB,IAE/D,MAAMoO,EAAO,CAAC,EACd,IAAK8R,EAA2B6J,wBACxBzF,EAAO3mB,UACPyQ,EAAKkX,SAAWhB,EAAO3mB,QAAQ2nB,UAE/BhnB,KAAK8P,KAAKwT,mBAAmB,EAG7B,iBAAoB5hB,EAAO2M,EAAOyY,WAAWplB,GAAQA,EAAKK,QAChD/B,KAAK8P,KAAKwT,kBAAkBC,YAClCzT,EAAKkX,UAAW,EAExB,CAKJ,IACQpF,EAA2B6J,sBAE3BzrB,KAAKisB,GAAG7G,KAAK1jB,GAGb1B,KAAKisB,GAAG7G,KAAK1jB,EAAMoO,EAE3B,CACA,MAAO3G,GACHiH,EAAM,wCACV,CACIic,IAGA,EAAIzK,EAA2BX,WAAU,KACrCjhB,KAAK0mB,UAAW,EAChB1mB,KAAKykB,aAAa,QAAQ,GAC3BzkB,KAAKwkB,aACZ,GAER,CACJ,CACA8C,eAC2B,IAAZtnB,KAAKisB,KACZjsB,KAAKisB,GAAGtoB,QACR3D,KAAKisB,GAAK,KAElB,CAMAtM,MACI,MAAMiI,EAAS5nB,KAAK8P,KAAK6S,OAAS,MAAQ,KACpCvC,EAAQpgB,KAAKogB,OAAS,CAAC,EAS7B,OAPIpgB,KAAK8P,KAAKia,oBACV3J,EAAMpgB,KAAK8P,KAAKoT,iBAAkB,EAAIyF,EAAWpI,UAGhDvgB,KAAKspB,iBACNlJ,EAAM4J,IAAM,GAEThqB,KAAK2nB,UAAUC,EAAQxH,EAClC,CAOA2L,QACI,QAASnK,EAA2B8J,SACxC,EAEJ1sB,EAAQqpB,GAAKA,C,qCChKb,IAAIxG,EAAmB7hB,MAAQA,KAAK6hB,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACAhjB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQupB,QAAK,EACb,MAAM/G,EAAiBhiB,EAAQ,OACzBoiB,EAA6BpiB,EAAQ,MACrC2iB,EAAqB3iB,EAAQ,OAE7B4Q,GAAQ,EADEyR,EAAgBriB,EAAQ,QACdod,SAAS,iCACnC,MAAM2L,UAAW/G,EAAeJ,UACxBvhB,WACA,MAAO,cACX,CACAwnB,SAEgC,mBAAjBkF,eAIXvsB,KAAKqQ,UAAY,IAAIkc,aAAavsB,KAAK2nB,UAAU,SAAU3nB,KAAK8P,KAAK0T,iBAAiBxjB,KAAKH,OAC3FG,KAAKqQ,UAAUpN,OACVjC,MAAK,KACNoP,EAAM,+BACNpQ,KAAKikB,SAAS,IAEbuI,OAAOtjB,IACRkH,EAAM,6BAA8BlH,GACpClJ,KAAKglB,QAAQ,qBAAsB9b,EAAI,IAG3ClJ,KAAKqQ,UAAUoc,MAAMzrB,MAAK,KACtBhB,KAAKqQ,UAAUqc,4BAA4B1rB,MAAM2rB,IAC7C,MAAMC,GAAgB,EAAIzK,EAAmB0K,2BAA2BjR,OAAOkR,iBAAkB9sB,KAAKskB,OAAO/B,YACvGwK,EAASJ,EAAOK,SAASC,YAAYL,GAAeM,YACpDC,GAAgB,EAAIhL,EAAmBiL,6BAC7CD,EAAcH,SAASK,OAAOV,EAAOjG,UACrC1mB,KAAKstB,OAASH,EAAczG,SAAS6G,YACrC,MAAMC,EAAO,KACTT,EACKS,OACAxsB,MAAK,EAAGysB,OAAMxuB,YACXwuB,EACArd,EAAM,sBAGVA,EAAM,qBAAsBnR,GAC5Be,KAAK+kB,SAAS9lB,GACduuB,IAAM,IAELhB,OAAOtjB,IACRkH,EAAM,sCAAuClH,EAAI,GACnD,EAENskB,IACA,MAAMxH,EAAS,CAAE3kB,KAAM,QACnBrB,KAAKogB,MAAMiE,MACX2B,EAAOtkB,KAAQ,WAAU1B,KAAKogB,MAAMiE,SAExCrkB,KAAKstB,OAAOvG,MAAMf,GAAQhlB,MAAK,IAAMhB,KAAK+lB,UAAS,GACrD,IAEV,CACAgB,MAAMJ,GACF3mB,KAAK0mB,UAAW,EAChB,IAAK,IAAIjQ,EAAI,EAAGA,EAAIkQ,EAAQ5kB,OAAQ0U,IAAK,CACrC,MAAMuP,EAASW,EAAQlQ,GACjB4V,EAAa5V,IAAMkQ,EAAQ5kB,OAAS,EAC1C/B,KAAKstB,OAAOvG,MAAMf,GAAQhlB,MAAK,KACvBqrB,IACA,EAAIzK,EAA2BX,WAAU,KACrCjhB,KAAK0mB,UAAW,EAChB1mB,KAAKykB,aAAa,QAAQ,GAC3BzkB,KAAKwkB,aACZ,GAER,CACJ,CACA8C,UACI,IAAI+C,EACsB,QAAzBA,EAAKrqB,KAAKqQ,iBAA8B,IAAPga,GAAyBA,EAAG1mB,OAClE,EAEJ3E,EAAQupB,GAAKA,C,+BClFbzpB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQwqB,gBAAkBxqB,EAAQgqB,SAAM,EACxC,MAAM0E,EAAgBluB,EAAQ,OACxBqpB,EAAkBrpB,EAAQ,MAiBhCR,EAAQgqB,IAhBR,SAAalZ,GACT,MAAMmZ,EAAUnZ,EAAKmZ,QAErB,IACI,GAAI,oBAAuBtK,kBAAoBsK,GAAWyE,EAAchP,SACpE,OAAO,IAAIC,cAEnB,CACA,MAAOxV,GAAK,CACZ,IAAK8f,EACD,IACI,OAAO,IAAIJ,EAAgB9H,eAAe,CAAC,UAAUpc,OAAO,UAAUsY,KAAK,OAAM,oBACrF,CACA,MAAO9T,GAAK,CAEpB,EAGAnK,EAAQwqB,gBADR,WAA6B,C,+BCtB7B1qB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ8nB,WAAa9nB,EAAQkiB,sBAAwBliB,EAAQsrB,UAAO,EACpE,MAAMzB,EAAkBrpB,EAAQ,MAShCR,EAAQsrB,KARR,SAAcroB,KAAQ0rB,GAClB,OAAOA,EAAKC,QAAO,CAACC,EAAKC,KACjB7rB,EAAI6c,eAAegP,KACnBD,EAAIC,GAAK7rB,EAAI6rB,IAEVD,IACR,CAAC,EACR,EAGA,MAAME,EAAqBlF,EAAgB9H,eAAelP,WACpDmc,EAAuBnF,EAAgB9H,eAAekN,aAW5DjvB,EAAQkiB,sBAVR,SAA+Bjf,EAAK6N,GAC5BA,EAAKoe,iBACLjsB,EAAIuiB,aAAeuJ,EAAmBjJ,KAAK+D,EAAgB9H,gBAC3D9e,EAAIskB,eAAiByH,EAAqBlJ,KAAK+D,EAAgB9H,kBAG/D9e,EAAIuiB,aAAeqE,EAAgB9H,eAAelP,WAAWiT,KAAK+D,EAAgB9H,gBAClF9e,EAAIskB,eAAiBsC,EAAgB9H,eAAekN,aAAanJ,KAAK+D,EAAgB9H,gBAE9F,EAYA/hB,EAAQ8nB,WAPR,SAAoB7kB,GAChB,MAAmB,iBAARA,EAOf,SAAoBic,GAChB,IAAIhF,EAAI,EAAGnX,EAAS,EACpB,IAAK,IAAI0U,EAAI,EAAG0I,EAAIjB,EAAInc,OAAQ0U,EAAI0I,EAAG1I,IACnCyC,EAAIgF,EAAIX,WAAW9G,GACfyC,EAAI,IACJnX,GAAU,EAELmX,EAAI,KACTnX,GAAU,EAELmX,EAAI,OAAUA,GAAK,MACxBnX,GAAU,GAGV0U,IACA1U,GAAU,GAGlB,OAAOA,CACX,CAzBeosB,CAAWlsB,GAGf8Q,KAAKqb,KAPQ,MAOFnsB,EAAI6kB,YAAc7kB,EAAI4S,MAC5C,C,4BCnCA/V,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQqvB,aAAervB,EAAQsvB,qBAAuBtvB,EAAQuvB,kBAAe,EAC7E,MAAMA,EAAezvB,OAAOgC,OAAO,MACnC9B,EAAQuvB,aAAeA,EACvBA,EAAmB,KAAI,IACvBA,EAAoB,MAAI,IACxBA,EAAmB,KAAI,IACvBA,EAAmB,KAAI,IACvBA,EAAsB,QAAI,IAC1BA,EAAsB,QAAI,IAC1BA,EAAmB,KAAI,IACvB,MAAMD,EAAuBxvB,OAAOgC,OAAO,MAC3C9B,EAAQsvB,qBAAuBA,EAC/BxvB,OAAOwe,KAAKiR,GAAcnsB,SAAQsJ,IAC9B4iB,EAAqBC,EAAa7iB,IAAQA,CAAG,IAGjD1M,EAAQqvB,aADa,CAAEhtB,KAAM,QAASK,KAAM,e,6BChB5C5C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ4f,OAAS5f,EAAQ6f,YAAS,EAElC,MAAM2P,EAAQ,mEAERC,EAA+B,oBAAf1Z,WAA6B,GAAK,IAAIA,WAAW,KACvE,IAAK,IAAI0B,EAAI,EAAGA,EAAI+X,GAAc/X,IAC9BgY,EAAOD,EAAMjR,WAAW9G,IAAMA,EAkBlCzX,EAAQ6f,OAhBQ6P,IACZ,IAAyCjY,EAArCkY,EAAQ,IAAI5Z,WAAW2Z,GAAiBtR,EAAMuR,EAAM5sB,OAAQ6sB,EAAS,GACzE,IAAKnY,EAAI,EAAGA,EAAI2G,EAAK3G,GAAK,EACtBmY,GAAUJ,EAAMG,EAAMlY,IAAM,GAC5BmY,GAAUJ,GAAmB,EAAXG,EAAMlY,KAAW,EAAMkY,EAAMlY,EAAI,IAAM,GACzDmY,GAAUJ,GAAuB,GAAfG,EAAMlY,EAAI,KAAY,EAAMkY,EAAMlY,EAAI,IAAM,GAC9DmY,GAAUJ,EAAqB,GAAfG,EAAMlY,EAAI,IAQ9B,OANI2G,EAAM,GAAM,EACZwR,EAASA,EAAO1b,UAAU,EAAG0b,EAAO7sB,OAAS,GAAK,IAE7Cqb,EAAM,GAAM,IACjBwR,EAASA,EAAO1b,UAAU,EAAG0b,EAAO7sB,OAAS,GAAK,MAE/C6sB,CAAM,EAuBjB5vB,EAAQ4f,OApBQgQ,IACZ,IAA8DnY,EAAUoY,EAAUC,EAAUC,EAAUC,EAAlGC,EAA+B,IAAhBL,EAAO7sB,OAAeqb,EAAMwR,EAAO7sB,OAAWmtB,EAAI,EACnC,MAA9BN,EAAOA,EAAO7sB,OAAS,KACvBktB,IACkC,MAA9BL,EAAOA,EAAO7sB,OAAS,IACvBktB,KAGR,MAAMP,EAAc,IAAIS,YAAYF,GAAeN,EAAQ,IAAI5Z,WAAW2Z,GAC1E,IAAKjY,EAAI,EAAGA,EAAI2G,EAAK3G,GAAK,EACtBoY,EAAWJ,EAAOG,EAAOrR,WAAW9G,IACpCqY,EAAWL,EAAOG,EAAOrR,WAAW9G,EAAI,IACxCsY,EAAWN,EAAOG,EAAOrR,WAAW9G,EAAI,IACxCuY,EAAWP,EAAOG,EAAOrR,WAAW9G,EAAI,IACxCkY,EAAMO,KAAQL,GAAY,EAAMC,GAAY,EAC5CH,EAAMO,MAAoB,GAAXJ,IAAkB,EAAMC,GAAY,EACnDJ,EAAMO,MAAoB,EAAXH,IAAiB,EAAiB,GAAXC,EAE1C,OAAON,CAAW,C,+BC5CtB5vB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQwoB,kBAAe,EACvB,MAAM4H,EAAe5vB,EAAQ,MACvB6vB,EAA0B7vB,EAAQ,OAClC8vB,EAA+C,mBAAhBH,YA4BrCnwB,EAAQwoB,aA3Ba,CAAC+H,EAAehN,KACjC,GAA6B,iBAAlBgN,EACP,MAAO,CACHluB,KAAM,UACNK,KAAM8tB,EAAUD,EAAehN,IAGvC,MAAMlhB,EAAOkuB,EAAc1O,OAAO,GAClC,GAAa,MAATxf,EACA,MAAO,CACHA,KAAM,UACNK,KAAM+tB,EAAmBF,EAAcrc,UAAU,GAAIqP,IAI7D,OADmB6M,EAAad,qBAAqBjtB,GAI9CkuB,EAAcxtB,OAAS,EACxB,CACEV,KAAM+tB,EAAad,qBAAqBjtB,GACxCK,KAAM6tB,EAAcrc,UAAU,IAEhC,CACE7R,KAAM+tB,EAAad,qBAAqBjtB,IARrC+tB,EAAaf,YASnB,EAGT,MAAMoB,EAAqB,CAAC/tB,EAAM6gB,KAC9B,GAAI+M,EAAuB,CACvB,MAAM1O,GAAU,EAAIyO,EAAwBzQ,QAAQld,GACpD,OAAO8tB,EAAU5O,EAAS2B,EAC9B,CAEI,MAAO,CAAEqM,QAAQ,EAAMltB,OAC3B,EAEE8tB,EAAY,CAAC9tB,EAAM6gB,IAEZ,SADDA,EAEI7gB,aAAgBguB,KAEThuB,EAIA,IAAIguB,KAAK,CAAChuB,IAIjBA,aAAgBytB,YAETztB,EAIAA,EAAKiuB,M,+BC7D5B7wB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQstB,aAAettB,EAAQ4wB,0BAAuB,EACtD,MAAMR,EAAe5vB,EAAQ,MACvBqwB,EAAiC,mBAATH,MACT,oBAATA,MACqC,6BAAzC5wB,OAAOkE,UAAUuL,SAAS2N,KAAKwT,MACjCJ,EAA+C,mBAAhBH,YAE/BW,EAAS7tB,GAC0B,mBAAvBktB,YAAYW,OACpBX,YAAYW,OAAO7tB,GACnBA,GAAOA,EAAI0tB,kBAAkBR,YAEjC7C,EAAe,EAAGjrB,OAAMK,QAAQ4nB,EAAgByG,IAC9CF,GAAkBnuB,aAAgBguB,KAC9BpG,EACOyG,EAASruB,GAGTsuB,EAAmBtuB,EAAMquB,GAG/BT,IACJ5tB,aAAgBytB,aAAeW,EAAOpuB,IACnC4nB,EACOyG,EAASruB,GAGTsuB,EAAmB,IAAIN,KAAK,CAAChuB,IAAQquB,GAI7CA,EAASX,EAAab,aAAaltB,IAASK,GAAQ,KAE/D1C,EAAQstB,aAAeA,EACvB,MAAM0D,EAAqB,CAACtuB,EAAMquB,KAC9B,MAAME,EAAa,IAAIC,WAKvB,OAJAD,EAAWE,OAAS,WAChB,MAAMC,EAAUH,EAAWvpB,OAAOyW,MAAM,KAAK,GAC7C4S,EAAS,KAAOK,GAAW,IAC/B,EACOH,EAAWI,cAAc3uB,EAAK,EAEzC,SAAS+V,EAAQ/V,GACb,OAAIA,aAAgBqT,WACTrT,EAEFA,aAAgBytB,YACd,IAAIpa,WAAWrT,GAGf,IAAIqT,WAAWrT,EAAKiuB,OAAQjuB,EAAK4uB,WAAY5uB,EAAKolB,WAEjE,CACA,IAAIyJ,EAmBJvxB,EAAQ4wB,qBAlBR,SAA8B5J,EAAQ+J,GAClC,OAAIF,GAAkB7J,EAAOtkB,gBAAgBguB,KAClC1J,EAAOtkB,KACT8uB,cACAxvB,KAAKyW,GACLzW,KAAK+uB,GAELT,IACJtJ,EAAOtkB,gBAAgBytB,aAAeW,EAAO9J,EAAOtkB,OAC9CquB,EAAStY,EAAQuO,EAAOtkB,YAEnC4qB,EAAatG,GAAQ,GAAOrF,IACnB4P,IACDA,EAAe,IAAIE,aAEvBV,EAASQ,EAAa1R,OAAO8B,GAAS,GAE9C,C,+BCxEA7hB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ4qB,cAAgB5qB,EAAQwoB,aAAexoB,EAAQ6qB,cAAgB7qB,EAAQstB,aAAettB,EAAQqiB,SAAWriB,EAAQ6tB,0BAA4B7tB,EAAQouB,+BAA4B,EACzL,MAAMsD,EAAoBlxB,EAAQ,OAClCV,OAAOC,eAAeC,EAAS,eAAgB,CAAEsF,YAAY,EAAMC,IAAK,WAAc,OAAOmsB,EAAkBpE,YAAc,IAC7H,MAAMqE,EAAoBnxB,EAAQ,OAClCV,OAAOC,eAAeC,EAAS,eAAgB,CAAEsF,YAAY,EAAMC,IAAK,WAAc,OAAOosB,EAAkBnJ,YAAc,IAC7H,MAAM4H,EAAe5vB,EAAQ,MACvBoxB,EAAYzS,OAAO0S,aAAa,IAgBtC7xB,EAAQ6qB,cAfc,CAAClD,EAASoJ,KAE5B,MAAMhuB,EAAS4kB,EAAQ5kB,OACjB+uB,EAAiB,IAAI9sB,MAAMjC,GACjC,IAAIgvB,EAAQ,EACZpK,EAAQvkB,SAAQ,CAAC4jB,EAAQvP,MAErB,EAAIia,EAAkBpE,cAActG,GAAQ,GAAOuJ,IAC/CuB,EAAera,GAAK8Y,IACdwB,IAAUhvB,GACZguB,EAASe,EAAe7T,KAAK2T,GACjC,GACF,GACJ,EAkDN,IAAII,EACJ,SAASC,EAAYC,GACjB,OAAOA,EAAOtD,QAAO,CAACC,EAAKsD,IAAUtD,EAAMsD,EAAMpvB,QAAQ,EAC7D,CACA,SAASqvB,EAAaF,EAAQrc,GAC1B,GAAIqc,EAAO,GAAGnvB,SAAW8S,EACrB,OAAOqc,EAAOvM,QAElB,MAAMgL,EAAS,IAAI5a,WAAWF,GAC9B,IAAIqG,EAAI,EACR,IAAK,IAAIzE,EAAI,EAAGA,EAAI5B,EAAM4B,IACtBkZ,EAAOlZ,GAAKya,EAAO,GAAGhW,KAClBA,IAAMgW,EAAO,GAAGnvB,SAChBmvB,EAAOvM,QACPzJ,EAAI,GAMZ,OAHIgW,EAAOnvB,QAAUmZ,EAAIgW,EAAO,GAAGnvB,SAC/BmvB,EAAO,GAAKA,EAAO,GAAGjZ,MAAMiD,IAEzByU,CACX,CAxDA3wB,EAAQ4qB,cAZc,CAACyH,EAAgB9O,KACnC,MAAMuO,EAAiBO,EAAelU,MAAMyT,GACtCjK,EAAU,GAChB,IAAK,IAAIlQ,EAAI,EAAGA,EAAIqa,EAAe/uB,OAAQ0U,IAAK,CAC5C,MAAM6a,GAAgB,EAAIX,EAAkBnJ,cAAcsJ,EAAera,GAAI8L,GAE7E,GADAoE,EAAQzkB,KAAKovB,GACc,UAAvBA,EAAcjwB,KACd,KAER,CACA,OAAOslB,CAAO,EAoClB3nB,EAAQouB,0BAjCR,WACI,OAAO,IAAImE,gBAAgB,CACvBC,UAAUxL,EAAQyL,IACd,EAAIf,EAAkBd,sBAAsB5J,GAAQuJ,IAChD,MAAMmC,EAAgBnC,EAAcxtB,OACpC,IAAI4vB,EAEJ,GAAID,EAAgB,IAChBC,EAAS,IAAI5c,WAAW,GACxB,IAAI6c,SAASD,EAAOhC,QAAQkC,SAAS,EAAGH,QAEvC,GAAIA,EAAgB,MAAO,CAC5BC,EAAS,IAAI5c,WAAW,GACxB,MAAM+c,EAAO,IAAIF,SAASD,EAAOhC,QACjCmC,EAAKD,SAAS,EAAG,KACjBC,EAAKC,UAAU,EAAGL,EACtB,KACK,CACDC,EAAS,IAAI5c,WAAW,GACxB,MAAM+c,EAAO,IAAIF,SAASD,EAAOhC,QACjCmC,EAAKD,SAAS,EAAG,KACjBC,EAAKE,aAAa,EAAGC,OAAOP,GAChC,CAEI1L,EAAOtkB,MAA+B,iBAAhBskB,EAAOtkB,OAC7BiwB,EAAO,IAAM,KAEjBF,EAAWS,QAAQP,GACnBF,EAAWS,QAAQ3C,EAAc,GAEzC,GAER,EA4FAvwB,EAAQ6tB,0BApER,SAAmCvG,EAAY/D,GACtCyO,IACDA,EAAe,IAAImB,aAEvB,MAAMjB,EAAS,GACf,IAAIvnB,EAAQ,EACRyoB,GAAkB,EAClBC,GAAW,EACf,OAAO,IAAId,gBAAgB,CACvBC,UAAUL,EAAOM,GAEb,IADAP,EAAOhvB,KAAKivB,KACC,CACT,GAAc,IAAVxnB,EAA+B,CAC/B,GAAIsnB,EAAYC,GAAU,EACtB,MAEJ,MAAMS,EAASP,EAAaF,EAAQ,GACpCmB,EAAkC,MAAV,IAAZV,EAAO,IACnBS,EAA6B,IAAZT,EAAO,GAEpBhoB,EADAyoB,EAAiB,IACT,EAEgB,MAAnBA,EACG,EAGA,CAEhB,MACK,GAAc,IAAVzoB,EAA2C,CAChD,GAAIsnB,EAAYC,GAAU,EACtB,MAEJ,MAAMoB,EAAclB,EAAaF,EAAQ,GACzCkB,EAAiB,IAAIR,SAASU,EAAY3C,OAAQ2C,EAAYhC,WAAYgC,EAAYvwB,QAAQwwB,UAAU,GACxG5oB,EAAQ,CACZ,MACK,GAAc,IAAVA,EAA2C,CAChD,GAAIsnB,EAAYC,GAAU,EACtB,MAEJ,MAAMoB,EAAclB,EAAaF,EAAQ,GACnCY,EAAO,IAAIF,SAASU,EAAY3C,OAAQ2C,EAAYhC,WAAYgC,EAAYvwB,QAC5Egc,EAAI+T,EAAKU,UAAU,GACzB,GAAIzU,EAAIhL,KAAK0f,IAAI,EAAG,IAAW,EAAG,CAE9BhB,EAAWS,QAAQ9C,EAAaf,cAChC,KACJ,CACA+D,EAAiBrU,EAAIhL,KAAK0f,IAAI,EAAG,IAAMX,EAAKU,UAAU,GACtD7oB,EAAQ,CACZ,KACK,CACD,GAAIsnB,EAAYC,GAAUkB,EACtB,MAEJ,MAAM1wB,EAAO0vB,EAAaF,EAAQkB,GAClCX,EAAWS,SAAQ,EAAIvB,EAAkBnJ,cAAc6K,EAAW3wB,EAAOsvB,EAAapS,OAAOld,GAAO6gB,IACpG5Y,EAAQ,CACZ,CACA,GAAuB,IAAnByoB,GAAwBA,EAAiB9L,EAAY,CACrDmL,EAAWS,QAAQ9C,EAAaf,cAChC,KACJ,CACJ,CACJ,GAER,EAEArvB,EAAQqiB,SAAW,C,4BCrJnB,SAASqR,EAAQ5iB,GACbA,EAAOA,GAAQ,CAAC,EAChB9P,KAAK0S,GAAK5C,EAAK+C,KAAO,IACtB7S,KAAK8S,IAAMhD,EAAKgD,KAAO,IACvB9S,KAAK2yB,OAAS7iB,EAAK6iB,QAAU,EAC7B3yB,KAAK4yB,OAAS9iB,EAAK8iB,OAAS,GAAK9iB,EAAK8iB,QAAU,EAAI9iB,EAAK8iB,OAAS,EAClE5yB,KAAK6yB,SAAW,CACpB,CATA/zB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ0zB,aAAU,EASlB1zB,EAAQ0zB,QAAUA,EAOlBA,EAAQ1vB,UAAU8vB,SAAW,WACzB,IAAIpgB,EAAK1S,KAAK0S,GAAKK,KAAK0f,IAAIzyB,KAAK2yB,OAAQ3yB,KAAK6yB,YAC9C,GAAI7yB,KAAK4yB,OAAQ,CACb,IAAIG,EAAOhgB,KAAKE,SACZ+f,EAAYjgB,KAAKC,MAAM+f,EAAO/yB,KAAK4yB,OAASlgB,GAChDA,EAAoC,IAAN,EAAxBK,KAAKC,MAAa,GAAP+f,IAAuBrgB,EAAKsgB,EAAYtgB,EAAKsgB,CAClE,CACA,OAAgC,EAAzBjgB,KAAKF,IAAIH,EAAI1S,KAAK8S,IAC7B,EAMA4f,EAAQ1vB,UAAUiwB,MAAQ,WACtBjzB,KAAK6yB,SAAW,CACpB,EAMAH,EAAQ1vB,UAAUkwB,OAAS,SAAUrgB,GACjC7S,KAAK0S,GAAKG,CACd,EAMA6f,EAAQ1vB,UAAUmwB,OAAS,SAAUrgB,GACjC9S,KAAK8S,IAAMA,CACf,EAMA4f,EAAQ1vB,UAAUowB,UAAY,SAAUR,GACpC5yB,KAAK4yB,OAASA,CAClB,C,qCCpEA,IAAI/Q,EAAmB7hB,MAAQA,KAAK6hB,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACAhjB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAAA,QAAkBA,EAAQq0B,QAAUr0B,EAAQwQ,GAAKxQ,EAAQsiB,OAAStiB,EAAQs0B,QAAUt0B,EAAQqiB,cAAW,EACvG,MAAMkS,EAAW/zB,EAAQ,OACnBg0B,EAAeh0B,EAAQ,OAC7BV,OAAOC,eAAeC,EAAS,UAAW,CAAEsF,YAAY,EAAMC,IAAK,WAAc,OAAOivB,EAAaF,OAAS,IAC9G,MAAM/R,EAAc/hB,EAAQ,OAC5BV,OAAOC,eAAeC,EAAS,SAAU,CAAEsF,YAAY,EAAMC,IAAK,WAAc,OAAOgd,EAAYD,MAAQ,IAC3G,MACMlR,EADUyR,EAAgBriB,EAAQ,QAClBod,QAAQ,oBAIxB6W,EAAQ,CAAC,EACf,SAAShF,EAAO9O,EAAK7P,GACE,iBAAR6P,IACP7P,EAAO6P,EACPA,OAAM5N,GAEVjC,EAAOA,GAAQ,CAAC,EAChB,MAAM4jB,EAASH,EAAS5hB,IAAIgO,EAAK7P,EAAKmQ,MAAQ,cACxCL,EAAS8T,EAAO9T,OAChB3f,EAAKyzB,EAAOzzB,GACZggB,EAAOyT,EAAOzT,KACd0T,EAAgBF,EAAMxzB,IAAOggB,KAAQwT,EAAMxzB,GAAU,KAK3D,IAAIuP,EAeJ,OAnBsBM,EAAK8jB,UACvB9jB,EAAK,0BACL,IAAUA,EAAK+jB,WACfF,GAGAvjB,EAAM,+BAAgCwP,GACtCpQ,EAAK,IAAIgkB,EAAaF,QAAQ1T,EAAQ9P,KAGjC2jB,EAAMxzB,KACPmQ,EAAM,yBAA0BwP,GAChC6T,EAAMxzB,GAAM,IAAIuzB,EAAaF,QAAQ1T,EAAQ9P,IAEjDN,EAAKikB,EAAMxzB,IAEXyzB,EAAOtT,QAAUtQ,EAAKsQ,QACtBtQ,EAAKsQ,MAAQsT,EAAOvT,UAEjB3Q,EAAG8U,OAAOoP,EAAOzT,KAAMnQ,EAClC,CACA9Q,EAAQwQ,GAAKif,EACbzvB,EAAQq0B,QAAU5E,EAClBzvB,EAAAA,QAAkByvB,EAGlB3vB,OAAOikB,OAAO0L,EAAQ,CAClB6E,QAASE,EAAaF,QACtBhS,OAAQC,EAAYD,OACpB9R,GAAIif,EACJ4E,QAAS5E,IAOb,IAAIqF,EAAqBt0B,EAAQ,OACjCV,OAAOC,eAAeC,EAAS,WAAY,CAAEsF,YAAY,EAAMC,IAAK,WAAc,OAAOuvB,EAAmBzS,QAAU,IAEtHhd,EAAOrF,QAAUyvB,C,qCCnEjB,IAAIsF,EAAmB/zB,MAAQA,KAAK+zB,kBAAqBj1B,OAAOgC,OAAU,SAAS+B,EAAGoC,EAAG6oB,EAAGkG,QAC7EjiB,IAAPiiB,IAAkBA,EAAKlG,GAC3BhvB,OAAOC,eAAe8D,EAAGmxB,EAAI,CAAE1vB,YAAY,EAAMC,IAAK,WAAa,OAAOU,EAAE6oB,EAAI,GACpF,EAAM,SAASjrB,EAAGoC,EAAG6oB,EAAGkG,QACTjiB,IAAPiiB,IAAkBA,EAAKlG,GAC3BjrB,EAAEmxB,GAAM/uB,EAAE6oB,EACd,GACImG,EAAsBj0B,MAAQA,KAAKi0B,qBAAwBn1B,OAAOgC,OAAU,SAAS+B,EAAGsY,GACxFrc,OAAOC,eAAe8D,EAAG,UAAW,CAAEyB,YAAY,EAAMrF,MAAOkc,GACnE,EAAK,SAAStY,EAAGsY,GACbtY,EAAW,QAAIsY,CACnB,GACI+Y,EAAgBl0B,MAAQA,KAAKk0B,cAAiB,SAAUpS,GACxD,GAAIA,GAAOA,EAAIC,WAAY,OAAOD,EAClC,IAAIpb,EAAS,CAAC,EACd,GAAW,MAAPob,EAAa,IAAK,IAAIgM,KAAKhM,EAAe,YAANgM,GAAmBhvB,OAAOkE,UAAU8b,eAAe5C,KAAK4F,EAAKgM,IAAIiG,EAAgBrtB,EAAQob,EAAKgM,GAEtI,OADAmG,EAAmBvtB,EAAQob,GACpBpb,CACX,EACImb,EAAmB7hB,MAAQA,KAAK6hB,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACAhjB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQs0B,aAAU,EAClB,MAAMa,EAAqB30B,EAAQ,OAC7B+hB,EAAc/hB,EAAQ,OACtB40B,EAASF,EAAa10B,EAAQ,QAC9B60B,EAAU70B,EAAQ,OAClB80B,EAAc90B,EAAQ,MACtB0iB,EAAsB1iB,EAAQ,OAE9B4Q,EADUyR,EAAgBriB,EAAQ,QAClBod,QAAQ,4BAC9B,MAAM0W,UAAgBpR,EAAoBE,QACtCC,YAAY1C,EAAK7P,GACb,IAAIua,EACJ/H,QACAtiB,KAAKu0B,KAAO,CAAC,EACbv0B,KAAKw0B,KAAO,GACR7U,GAAO,iBAAoBA,IAC3B7P,EAAO6P,EACPA,OAAM5N,IAEVjC,EAAOA,GAAQ,CAAC,GACXmQ,KAAOnQ,EAAKmQ,MAAQ,aACzBjgB,KAAK8P,KAAOA,EACZqkB,EAAmBjT,sBAAsBlhB,KAAM8P,GAC/C9P,KAAKy0B,cAAmC,IAAtB3kB,EAAK2kB,cACvBz0B,KAAK4P,qBAAqBE,EAAKF,sBAAwB7G,KACvD/I,KAAK00B,kBAAkB5kB,EAAK4kB,mBAAqB,KACjD10B,KAAK2P,qBAAqBG,EAAKH,sBAAwB,KACvD3P,KAAK20B,oBAAwD,QAAnCtK,EAAKva,EAAK6kB,2BAAwC,IAAPtK,EAAgBA,EAAK,IAC1FrqB,KAAK40B,QAAU,IAAIN,EAAY5B,QAAQ,CACnC7f,IAAK7S,KAAK00B,oBACV5hB,IAAK9S,KAAK2P,uBACVijB,OAAQ5yB,KAAK20B,wBAEjB30B,KAAKiP,QAAQ,MAAQa,EAAKb,QAAU,IAAQa,EAAKb,SACjDjP,KAAK60B,YAAc,SACnB70B,KAAK2f,IAAMA,EACX,MAAMmV,EAAUhlB,EAAKskB,QAAUA,EAC/Bp0B,KAAK+0B,QAAU,IAAID,EAAQE,QAC3Bh1B,KAAKi1B,QAAU,IAAIH,EAAQI,QAC3Bl1B,KAAKm1B,cAAoC,IAArBrlB,EAAKslB,YACrBp1B,KAAKm1B,cACLn1B,KAAK6H,MACb,CACA4sB,aAAatZ,GACT,OAAK5J,UAAUxP,QAEf/B,KAAKq1B,gBAAkBla,EAChBnb,MAFIA,KAAKq1B,aAGpB,CACAzlB,qBAAqBuL,GACjB,YAAUpJ,IAANoJ,EACOnb,KAAKs1B,uBAChBt1B,KAAKs1B,sBAAwBna,EACtBnb,KACX,CACA00B,kBAAkBvZ,GACd,IAAIkP,EACJ,YAAUtY,IAANoJ,EACOnb,KAAKu1B,oBAChBv1B,KAAKu1B,mBAAqBpa,EACF,QAAvBkP,EAAKrqB,KAAK40B,eAA4B,IAAPvK,GAAyBA,EAAG6I,OAAO/X,GAC5Dnb,KACX,CACA20B,oBAAoBxZ,GAChB,IAAIkP,EACJ,YAAUtY,IAANoJ,EACOnb,KAAKw1B,sBAChBx1B,KAAKw1B,qBAAuBra,EACJ,QAAvBkP,EAAKrqB,KAAK40B,eAA4B,IAAPvK,GAAyBA,EAAG+I,UAAUjY,GAC/Dnb,KACX,CACA2P,qBAAqBwL,GACjB,IAAIkP,EACJ,YAAUtY,IAANoJ,EACOnb,KAAKy1B,uBAChBz1B,KAAKy1B,sBAAwBta,EACL,QAAvBkP,EAAKrqB,KAAK40B,eAA4B,IAAPvK,GAAyBA,EAAG8I,OAAOhY,GAC5Dnb,KACX,CACAiP,QAAQkM,GACJ,OAAK5J,UAAUxP,QAEf/B,KAAK01B,SAAWva,EACTnb,MAFIA,KAAK01B,QAGpB,CAOAC,wBAES31B,KAAK41B,eACN51B,KAAKq1B,eACqB,IAA1Br1B,KAAK40B,QAAQ/B,UAEb7yB,KAAK4Q,WAEb,CAQA/I,KAAKrF,GAED,GADA4N,EAAM,gBAAiBpQ,KAAK60B,cACvB70B,KAAK60B,YAAYnV,QAAQ,QAC1B,OAAO1f,KACXoQ,EAAM,aAAcpQ,KAAK2f,KACzB3f,KAAKkQ,OAAS,IAAIikB,EAAmB7S,OAAOthB,KAAK2f,IAAK3f,KAAK8P,MAC3D,MAAMwU,EAAStkB,KAAKkQ,OACdwL,EAAO1b,KACbA,KAAK60B,YAAc,UACnB70B,KAAK61B,eAAgB,EAErB,MAAMC,EAAiBzB,EAAQxkB,GAAGyU,EAAQ,QAAQ,WAC9C5I,EAAKyQ,SACL3pB,GAAMA,GACV,IACMwiB,EAAW9b,IACbkH,EAAM,SACNpQ,KAAKulB,UACLvlB,KAAK60B,YAAc,SACnB70B,KAAKykB,aAAa,QAASvb,GACvB1G,EACAA,EAAG0G,GAIHlJ,KAAK21B,sBACT,EAGEI,EAAW1B,EAAQxkB,GAAGyU,EAAQ,QAASU,GAC7C,IAAI,IAAUhlB,KAAK01B,SAAU,CACzB,MAAMzmB,EAAUjP,KAAK01B,SACrBtlB,EAAM,wCAAyCnB,GAE/C,MAAM+mB,EAAQh2B,KAAKwkB,cAAa,KAC5BpU,EAAM,qCAAsCnB,GAC5C6mB,IACA9Q,EAAQ,IAAI9hB,MAAM,YAClBohB,EAAO3gB,OAAO,GACfsL,GACCjP,KAAK8P,KAAK0W,WACVwP,EAAMvP,QAEVzmB,KAAKw0B,KAAKtyB,MAAK,KACXlC,KAAKumB,eAAeyP,EAAM,GAElC,CAGA,OAFAh2B,KAAKw0B,KAAKtyB,KAAK4zB,GACf91B,KAAKw0B,KAAKtyB,KAAK6zB,GACR/1B,IACX,CAOAqzB,QAAQ7wB,GACJ,OAAOxC,KAAK6H,KAAKrF,EACrB,CAMA2pB,SACI/b,EAAM,QAENpQ,KAAKulB,UAELvlB,KAAK60B,YAAc,OACnB70B,KAAKykB,aAAa,QAElB,MAAMH,EAAStkB,KAAKkQ,OACpBlQ,KAAKw0B,KAAKtyB,KAAKmyB,EAAQxkB,GAAGyU,EAAQ,OAAQtkB,KAAKi2B,OAAOnR,KAAK9kB,OAAQq0B,EAAQxkB,GAAGyU,EAAQ,OAAQtkB,KAAKk2B,OAAOpR,KAAK9kB,OAAQq0B,EAAQxkB,GAAGyU,EAAQ,QAAStkB,KAAKmI,QAAQ2c,KAAK9kB,OAAQq0B,EAAQxkB,GAAGyU,EAAQ,QAAStkB,KAAKmK,QAAQ2a,KAAK9kB,OAAQq0B,EAAQxkB,GAAG7P,KAAKi1B,QAAS,UAAWj1B,KAAKm2B,UAAUrR,KAAK9kB,OAC/R,CAMAi2B,SACIj2B,KAAKykB,aAAa,OACtB,CAMAyR,OAAOx0B,GACH,IACI1B,KAAKi1B,QAAQ/0B,IAAIwB,EACrB,CACA,MAAOyH,GACHnJ,KAAKmK,QAAQ,cAAehB,EAChC,CACJ,CAMAgtB,UAAUnQ,GAENmO,EAAmBlT,UAAS,KACxBjhB,KAAKykB,aAAa,SAAUuB,EAAO,GACpChmB,KAAKwkB,aACZ,CAMArc,QAAQe,GACJkH,EAAM,QAASlH,GACflJ,KAAKykB,aAAa,QAASvb,EAC/B,CAOAob,OAAO8R,EAAKtmB,GACR,IAAIwU,EAAStkB,KAAKu0B,KAAK6B,GAQvB,OAPK9R,EAIItkB,KAAKm1B,eAAiB7Q,EAAO+R,QAClC/R,EAAO+O,WAJP/O,EAAS,IAAI/C,EAAYD,OAAOthB,KAAMo2B,EAAKtmB,GAC3C9P,KAAKu0B,KAAK6B,GAAO9R,GAKdA,CACX,CAOAgS,SAAShS,GACL,MAAMiQ,EAAOz1B,OAAOwe,KAAKtd,KAAKu0B,MAC9B,IAAK,MAAM6B,KAAO7B,EAAM,CAEpB,GADev0B,KAAKu0B,KAAK6B,GACdC,OAEP,YADAjmB,EAAM,4CAA6CgmB,EAG3D,CACAp2B,KAAKu2B,QACT,CAOAC,QAAQxQ,GACJ5V,EAAM,oBAAqB4V,GAC3B,MAAM8K,EAAiB9wB,KAAK+0B,QAAQlW,OAAOmH,GAC3C,IAAK,IAAIvP,EAAI,EAAGA,EAAIqa,EAAe/uB,OAAQ0U,IACvCzW,KAAKkQ,OAAO6W,MAAM+J,EAAera,GAAIuP,EAAO3mB,QAEpD,CAMAkmB,UACInV,EAAM,WACNpQ,KAAKw0B,KAAKpyB,SAASq0B,GAAeA,MAClCz2B,KAAKw0B,KAAKzyB,OAAS,EACnB/B,KAAKi1B,QAAQpa,SACjB,CAMA0b,SACInmB,EAAM,cACNpQ,KAAK61B,eAAgB,EACrB71B,KAAK41B,eAAgB,EACrB51B,KAAKmK,QAAQ,gBACTnK,KAAKkQ,QACLlQ,KAAKkQ,OAAOvM,OACpB,CAMAwJ,aACI,OAAOnN,KAAKu2B,QAChB,CAMApsB,QAAQoG,EAAQ2T,GACZ9T,EAAM,mBAAoBG,GAC1BvQ,KAAKulB,UACLvlB,KAAK40B,QAAQ3B,QACbjzB,KAAK60B,YAAc,SACnB70B,KAAKykB,aAAa,QAASlU,EAAQ2T,GAC/BlkB,KAAKq1B,gBAAkBr1B,KAAK61B,eAC5B71B,KAAK4Q,WAEb,CAMAA,YACI,GAAI5Q,KAAK41B,eAAiB51B,KAAK61B,cAC3B,OAAO71B,KACX,MAAM0b,EAAO1b,KACb,GAAIA,KAAK40B,QAAQ/B,UAAY7yB,KAAKs1B,sBAC9BllB,EAAM,oBACNpQ,KAAK40B,QAAQ3B,QACbjzB,KAAKykB,aAAa,oBAClBzkB,KAAK41B,eAAgB,MAEpB,CACD,MAAMc,EAAQ12B,KAAK40B,QAAQ9B,WAC3B1iB,EAAM,0CAA2CsmB,GACjD12B,KAAK41B,eAAgB,EACrB,MAAMI,EAAQh2B,KAAKwkB,cAAa,KACxB9I,EAAKma,gBAETzlB,EAAM,wBACNpQ,KAAKykB,aAAa,oBAAqB/I,EAAKkZ,QAAQ/B,UAEhDnX,EAAKma,eAETna,EAAK7T,MAAMqB,IACHA,GACAkH,EAAM,2BACNsL,EAAKka,eAAgB,EACrBla,EAAK9K,YACL5Q,KAAKykB,aAAa,kBAAmBvb,KAGrCkH,EAAM,qBACNsL,EAAKib,cACT,IACF,GACHD,GACC12B,KAAK8P,KAAK0W,WACVwP,EAAMvP,QAEVzmB,KAAKw0B,KAAKtyB,MAAK,KACXlC,KAAKumB,eAAeyP,EAAM,GAElC,CACJ,CAMAW,cACI,MAAMC,EAAU52B,KAAK40B,QAAQ/B,SAC7B7yB,KAAK41B,eAAgB,EACrB51B,KAAK40B,QAAQ3B,QACbjzB,KAAKykB,aAAa,YAAamS,EACnC,EAEJ53B,EAAQs0B,QAAUA,C,6BCjZlBx0B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6Q,QAAK,EAOb7Q,EAAQ6Q,GANR,SAAY5N,EAAKsE,EAAI/D,GAEjB,OADAP,EAAI4N,GAAGtJ,EAAI/D,GACJ,WACHP,EAAI6jB,IAAIvf,EAAI/D,EAChB,CACJ,C,qCCPA,IAAIqf,EAAmB7hB,MAAQA,KAAK6hB,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACAhjB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQsiB,YAAS,EACjB,MAAMwS,EAAqBt0B,EAAQ,OAC7B60B,EAAU70B,EAAQ,OAClB0iB,EAAsB1iB,EAAQ,OAE9B4Q,EADUyR,EAAgBriB,EAAQ,QAClBod,QAAQ,2BAKxBia,EAAkB/3B,OAAOg4B,OAAO,CAClCzD,QAAS,EACT0D,cAAe,EACf5pB,WAAY,EACZ6pB,cAAe,EAEfC,YAAa,EACbpR,eAAgB,IA0BpB,MAAMvE,UAAeY,EAAoBE,QAIrCC,YAAY7S,EAAI4mB,EAAKtmB,GACjBwS,QAeAtiB,KAAK0Q,WAAY,EAKjB1Q,KAAKk3B,WAAY,EAIjBl3B,KAAKm3B,cAAgB,GAIrBn3B,KAAKo3B,WAAa,GAOlBp3B,KAAKq3B,OAAS,GAKdr3B,KAAKs3B,UAAY,EACjBt3B,KAAKqJ,IAAM,EACXrJ,KAAKu3B,KAAO,CAAC,EACbv3B,KAAKw3B,MAAQ,CAAC,EACdx3B,KAAKwP,GAAKA,EACVxP,KAAKo2B,IAAMA,EACPtmB,GAAQA,EAAK2nB,OACbz3B,KAAKy3B,KAAO3nB,EAAK2nB,MAErBz3B,KAAK03B,MAAQ54B,OAAOikB,OAAO,CAAC,EAAGjT,GAC3B9P,KAAKwP,GAAG2lB,cACRn1B,KAAK6H,MACb,CAeI8vB,mBACA,OAAQ33B,KAAK0Q,SACjB,CAMAknB,YACI,GAAI53B,KAAKw0B,KACL,OACJ,MAAMhlB,EAAKxP,KAAKwP,GAChBxP,KAAKw0B,KAAO,CACRH,EAAQxkB,GAAGL,EAAI,OAAQxP,KAAKmsB,OAAOrH,KAAK9kB,OACxCq0B,EAAQxkB,GAAGL,EAAI,SAAUxP,KAAK63B,SAAS/S,KAAK9kB,OAC5Cq0B,EAAQxkB,GAAGL,EAAI,QAASxP,KAAKmI,QAAQ2c,KAAK9kB,OAC1Cq0B,EAAQxkB,GAAGL,EAAI,QAASxP,KAAKmK,QAAQ2a,KAAK9kB,OAElD,CAkBIq2B,aACA,QAASr2B,KAAKw0B,IAClB,CAWAnB,UACI,OAAIrzB,KAAK0Q,YAET1Q,KAAK43B,YACA53B,KAAKwP,GAAkB,eACxBxP,KAAKwP,GAAG3H,OACR,SAAW7H,KAAKwP,GAAGqlB,aACnB70B,KAAKmsB,UALEnsB,IAOf,CAIA6H,OACI,OAAO7H,KAAKqzB,SAChB,CAgBAjO,QAAQvM,GAGJ,OAFAA,EAAKiD,QAAQ,WACb9b,KAAK2Q,KAAKW,MAAMtR,KAAM6Y,GACf7Y,IACX,CAkBA2Q,KAAKpK,KAAOsS,GACR,GAAIge,EAAgB/X,eAAevY,GAC/B,MAAM,IAAIrD,MAAM,IAAMqD,EAAGgI,WAAa,8BAG1C,GADAsK,EAAKiD,QAAQvV,GACTvG,KAAK03B,MAAMI,UAAY93B,KAAKw3B,MAAMO,YAAc/3B,KAAKw3B,MAAMQ,SAE3D,OADAh4B,KAAKi4B,YAAYpf,GACV7Y,KAEX,MAAMgmB,EAAS,CACX3kB,KAAMyyB,EAAmBoE,WAAWC,MACpCz2B,KAAMmX,EAEVmN,QAAiB,CAAC,GAGlB,GAFAA,EAAO3mB,QAAQ2nB,UAAmC,IAAxBhnB,KAAKw3B,MAAMxQ,SAEjC,mBAAsBnO,EAAKA,EAAK9W,OAAS,GAAI,CAC7C,MAAM9B,EAAKD,KAAKqJ,MAChB+G,EAAM,iCAAkCnQ,GACxC,MAAMm4B,EAAMvf,EAAKwf,MACjBr4B,KAAKs4B,qBAAqBr4B,EAAIm4B,GAC9BpS,EAAO/lB,GAAKA,CAChB,CACA,MAAMs4B,EAAsBv4B,KAAKwP,GAAGU,QAChClQ,KAAKwP,GAAGU,OAAOG,WACfrQ,KAAKwP,GAAGU,OAAOG,UAAUqW,SAa7B,OAZsB1mB,KAAKw3B,MAAMQ,YAAcO,IAAwBv4B,KAAK0Q,WAExEN,EAAM,6DAEDpQ,KAAK0Q,WACV1Q,KAAKw4B,wBAAwBxS,GAC7BhmB,KAAKgmB,OAAOA,IAGZhmB,KAAKo3B,WAAWl1B,KAAK8jB,GAEzBhmB,KAAKw3B,MAAQ,CAAC,EACPx3B,IACX,CAIAs4B,qBAAqBr4B,EAAIm4B,GACrB,IAAI/N,EACJ,MAAMpb,EAAwC,QAA7Bob,EAAKrqB,KAAKw3B,MAAMvoB,eAA4B,IAAPob,EAAgBA,EAAKrqB,KAAK03B,MAAMe,WACtF,QAAgB1mB,IAAZ9C,EAEA,YADAjP,KAAKu3B,KAAKt3B,GAAMm4B,GAIpB,MAAMpC,EAAQh2B,KAAKwP,GAAGgV,cAAa,YACxBxkB,KAAKu3B,KAAKt3B,GACjB,IAAK,IAAIwW,EAAI,EAAGA,EAAIzW,KAAKo3B,WAAWr1B,OAAQ0U,IACpCzW,KAAKo3B,WAAW3gB,GAAGxW,KAAOA,IAC1BmQ,EAAM,iDAAkDnQ,GACxDD,KAAKo3B,WAAWhe,OAAO3C,EAAG,IAGlCrG,EAAM,iDAAkDnQ,EAAIgP,GAC5DmpB,EAAIlc,KAAKlc,KAAM,IAAIkD,MAAM,2BAA2B,GACrD+L,GACHjP,KAAKu3B,KAAKt3B,GAAM,IAAI4Y,KAEhB7Y,KAAKwP,GAAG+W,eAAeyP,GACvBoC,EAAI9mB,MAAMtR,KAAM,CAAC,QAAS6Y,GAAM,CAExC,CAiBA6f,YAAYnyB,KAAOsS,GAEf,MAAM8f,OAAiC5mB,IAAvB/R,KAAKw3B,MAAMvoB,cAAmD8C,IAA1B/R,KAAK03B,MAAMe,WAC/D,OAAO,IAAI30B,SAAQ,CAACwP,EAAStG,KACzB6L,EAAK3W,MAAK,CAAC02B,EAAMC,IACTF,EACOC,EAAO5rB,EAAO4rB,GAAQtlB,EAAQulB,GAG9BvlB,EAAQslB,KAGvB54B,KAAK2Q,KAAKpK,KAAOsS,EAAK,GAE9B,CAMAof,YAAYpf,GACR,IAAIuf,EACiC,mBAA1Bvf,EAAKA,EAAK9W,OAAS,KAC1Bq2B,EAAMvf,EAAKwf,OAEf,MAAMrS,EAAS,CACX/lB,GAAID,KAAKs3B,YACTwB,SAAU,EACVC,SAAS,EACTlgB,OACA2e,MAAO14B,OAAOikB,OAAO,CAAEgV,WAAW,GAAQ/3B,KAAKw3B,QAEnD3e,EAAK3W,MAAK,CAACgH,KAAQ8vB,KACf,GAAIhT,IAAWhmB,KAAKq3B,OAAO,GAEvB,OAoBJ,OAlByB,OAARnuB,EAET8c,EAAO8S,SAAW94B,KAAK03B,MAAMI,UAC7B1nB,EAAM,0CAA2C4V,EAAO/lB,GAAI+lB,EAAO8S,UACnE94B,KAAKq3B,OAAO1S,QACRyT,GACAA,EAAIlvB,KAKZkH,EAAM,oCAAqC4V,EAAO/lB,IAClDD,KAAKq3B,OAAO1S,QACRyT,GACAA,EAAI,QAASY,IAGrBhT,EAAO+S,SAAU,EACV/4B,KAAKi5B,aAAa,IAE7Bj5B,KAAKq3B,OAAOn1B,KAAK8jB,GACjBhmB,KAAKi5B,aACT,CAOAA,YAAYC,GAAQ,GAEhB,GADA9oB,EAAM,mBACDpQ,KAAK0Q,WAAoC,IAAvB1Q,KAAKq3B,OAAOt1B,OAC/B,OAEJ,MAAMikB,EAAShmB,KAAKq3B,OAAO,IACvBrR,EAAO+S,SAAYG,GAIvBlT,EAAO+S,SAAU,EACjB/S,EAAO8S,WACP1oB,EAAM,iCAAkC4V,EAAO/lB,GAAI+lB,EAAO8S,UAC1D94B,KAAKw3B,MAAQxR,EAAOwR,MACpBx3B,KAAK2Q,KAAKW,MAAMtR,KAAMgmB,EAAOnN,OAPzBzI,EAAM,8DAA+D4V,EAAO/lB,GAQpF,CAOA+lB,OAAOA,GACHA,EAAOoQ,IAAMp2B,KAAKo2B,IAClBp2B,KAAKwP,GAAGgnB,QAAQxQ,EACpB,CAMAmG,SACI/b,EAAM,kCACkB,mBAAbpQ,KAAKy3B,KACZz3B,KAAKy3B,MAAM/1B,IACP1B,KAAKm5B,mBAAmBz3B,EAAK,IAIjC1B,KAAKm5B,mBAAmBn5B,KAAKy3B,KAErC,CAOA0B,mBAAmBz3B,GACf1B,KAAKgmB,OAAO,CACR3kB,KAAMyyB,EAAmBoE,WAAWkB,QACpC13B,KAAM1B,KAAKq5B,KACLv6B,OAAOikB,OAAO,CAAEuW,IAAKt5B,KAAKq5B,KAAME,OAAQv5B,KAAKw5B,aAAe93B,GAC5DA,GAEd,CAOAyG,QAAQe,GACClJ,KAAK0Q,WACN1Q,KAAKykB,aAAa,gBAAiBvb,EAE3C,CAQAiB,QAAQoG,EAAQ2T,GACZ9T,EAAM,aAAcG,GACpBvQ,KAAK0Q,WAAY,SACV1Q,KAAKC,GACZD,KAAKykB,aAAa,aAAclU,EAAQ2T,EAC5C,CAOA2T,SAAS7R,GAEL,GADsBA,EAAOoQ,MAAQp2B,KAAKo2B,IAG1C,OAAQpQ,EAAO3kB,MACX,KAAKyyB,EAAmBoE,WAAWkB,QAC3BpT,EAAOtkB,MAAQskB,EAAOtkB,KAAK2iB,IAC3BrkB,KAAKy5B,UAAUzT,EAAOtkB,KAAK2iB,IAAK2B,EAAOtkB,KAAK43B,KAG5Ct5B,KAAKykB,aAAa,gBAAiB,IAAIvhB,MAAM,8LAEjD,MACJ,KAAK4wB,EAAmBoE,WAAWC,MACnC,KAAKrE,EAAmBoE,WAAWwB,aAC/B15B,KAAK25B,QAAQ3T,GACb,MACJ,KAAK8N,EAAmBoE,WAAW0B,IACnC,KAAK9F,EAAmBoE,WAAW2B,WAC/B75B,KAAK85B,MAAM9T,GACX,MACJ,KAAK8N,EAAmBoE,WAAW6B,WAC/B/5B,KAAKg6B,eACL,MACJ,KAAKlG,EAAmBoE,WAAW+B,cAC/Bj6B,KAAK6a,UACL,MAAM3R,EAAM,IAAIhG,MAAM8iB,EAAOtkB,KAAKjB,SAElCyI,EAAIxH,KAAOskB,EAAOtkB,KAAKA,KACvB1B,KAAKykB,aAAa,gBAAiBvb,GAG/C,CAOAywB,QAAQ3T,GACJ,MAAMnN,EAAOmN,EAAOtkB,MAAQ,GAC5B0O,EAAM,oBAAqByI,GACvB,MAAQmN,EAAO/lB,KACfmQ,EAAM,mCACNyI,EAAK3W,KAAKlC,KAAKo4B,IAAIpS,EAAO/lB,MAE1BD,KAAK0Q,UACL1Q,KAAKk6B,UAAUrhB,GAGf7Y,KAAKm3B,cAAcj1B,KAAKpD,OAAOg4B,OAAOje,GAE9C,CACAqhB,UAAUrhB,GACN,GAAI7Y,KAAKm6B,eAAiBn6B,KAAKm6B,cAAcp4B,OAAQ,CACjD,MAAMq4B,EAAYp6B,KAAKm6B,cAAcliB,QACrC,IAAK,MAAM9L,KAAYiuB,EACnBjuB,EAASmF,MAAMtR,KAAM6Y,EAE7B,CACAyJ,MAAM3R,KAAKW,MAAMtR,KAAM6Y,GACnB7Y,KAAKq5B,MAAQxgB,EAAK9W,QAA2C,iBAA1B8W,EAAKA,EAAK9W,OAAS,KACtD/B,KAAKw5B,YAAc3gB,EAAKA,EAAK9W,OAAS,GAE9C,CAMAq2B,IAAIn4B,GACA,MAAMyb,EAAO1b,KACb,IAAIwO,GAAO,EACX,OAAO,YAAaqK,GAEZrK,IAEJA,GAAO,EACP4B,EAAM,iBAAkByI,GACxB6C,EAAKsK,OAAO,CACR3kB,KAAMyyB,EAAmBoE,WAAW0B,IACpC35B,GAAIA,EACJyB,KAAMmX,IAEd,CACJ,CAOAihB,MAAM9T,GACF,MAAMoS,EAAMp4B,KAAKu3B,KAAKvR,EAAO/lB,IACzB,mBAAsBm4B,GACtBhoB,EAAM,yBAA0B4V,EAAO/lB,GAAI+lB,EAAOtkB,MAClD02B,EAAI9mB,MAAMtR,KAAMgmB,EAAOtkB,aAChB1B,KAAKu3B,KAAKvR,EAAO/lB,KAGxBmQ,EAAM,aAAc4V,EAAO/lB,GAEnC,CAMAw5B,UAAUx5B,EAAIq5B,GACVlpB,EAAM,8BAA+BnQ,GACrCD,KAAKC,GAAKA,EACVD,KAAKk3B,UAAYoC,GAAOt5B,KAAKq5B,OAASC,EACtCt5B,KAAKq5B,KAAOC,EACZt5B,KAAK0Q,WAAY,EACjB1Q,KAAKq6B,eACLr6B,KAAKykB,aAAa,WAClBzkB,KAAKi5B,aAAY,EACrB,CAMAoB,eACIr6B,KAAKm3B,cAAc/0B,SAASyW,GAAS7Y,KAAKk6B,UAAUrhB,KACpD7Y,KAAKm3B,cAAgB,GACrBn3B,KAAKo3B,WAAWh1B,SAAS4jB,IACrBhmB,KAAKw4B,wBAAwBxS,GAC7BhmB,KAAKgmB,OAAOA,EAAO,IAEvBhmB,KAAKo3B,WAAa,EACtB,CAMA4C,eACI5pB,EAAM,yBAA0BpQ,KAAKo2B,KACrCp2B,KAAK6a,UACL7a,KAAKmK,QAAQ,uBACjB,CAQA0Q,UACQ7a,KAAKw0B,OAELx0B,KAAKw0B,KAAKpyB,SAASq0B,GAAeA,MAClCz2B,KAAKw0B,UAAOziB,GAEhB/R,KAAKwP,GAAa,SAAExP,KACxB,CAiBAmN,aAWI,OAVInN,KAAK0Q,YACLN,EAAM,6BAA8BpQ,KAAKo2B,KACzCp2B,KAAKgmB,OAAO,CAAE3kB,KAAMyyB,EAAmBoE,WAAW6B,cAGtD/5B,KAAK6a,UACD7a,KAAK0Q,WAEL1Q,KAAKmK,QAAQ,wBAEVnK,IACX,CAMA2D,QACI,OAAO3D,KAAKmN,YAChB,CAUA6Z,SAASA,GAEL,OADAhnB,KAAKw3B,MAAMxQ,SAAWA,EACfhnB,IACX,CAUIg4B,eAEA,OADAh4B,KAAKw3B,MAAMQ,UAAW,EACfh4B,IACX,CAcAiP,QAAQA,GAEJ,OADAjP,KAAKw3B,MAAMvoB,QAAUA,EACdjP,IACX,CAYAs6B,MAAMnuB,GAGF,OAFAnM,KAAKm6B,cAAgBn6B,KAAKm6B,eAAiB,GAC3Cn6B,KAAKm6B,cAAcj4B,KAAKiK,GACjBnM,IACX,CAYAu6B,WAAWpuB,GAGP,OAFAnM,KAAKm6B,cAAgBn6B,KAAKm6B,eAAiB,GAC3Cn6B,KAAKm6B,cAAcre,QAAQ3P,GACpBnM,IACX,CAmBAw6B,OAAOruB,GACH,IAAKnM,KAAKm6B,cACN,OAAOn6B,KAEX,GAAImM,EAAU,CACV,MAAMiuB,EAAYp6B,KAAKm6B,cACvB,IAAK,IAAI1jB,EAAI,EAAGA,EAAI2jB,EAAUr4B,OAAQ0U,IAClC,GAAItK,IAAaiuB,EAAU3jB,GAEvB,OADA2jB,EAAUhhB,OAAO3C,EAAG,GACbzW,IAGnB,MAEIA,KAAKm6B,cAAgB,GAEzB,OAAOn6B,IACX,CAKAy6B,eACI,OAAOz6B,KAAKm6B,eAAiB,EACjC,CAcAO,cAAcvuB,GAGV,OAFAnM,KAAK26B,sBAAwB36B,KAAK26B,uBAAyB,GAC3D36B,KAAK26B,sBAAsBz4B,KAAKiK,GACzBnM,IACX,CAcA46B,mBAAmBzuB,GAGf,OAFAnM,KAAK26B,sBAAwB36B,KAAK26B,uBAAyB,GAC3D36B,KAAK26B,sBAAsB7e,QAAQ3P,GAC5BnM,IACX,CAmBA66B,eAAe1uB,GACX,IAAKnM,KAAK26B,sBACN,OAAO36B,KAEX,GAAImM,EAAU,CACV,MAAMiuB,EAAYp6B,KAAK26B,sBACvB,IAAK,IAAIlkB,EAAI,EAAGA,EAAI2jB,EAAUr4B,OAAQ0U,IAClC,GAAItK,IAAaiuB,EAAU3jB,GAEvB,OADA2jB,EAAUhhB,OAAO3C,EAAG,GACbzW,IAGnB,MAEIA,KAAK26B,sBAAwB,GAEjC,OAAO36B,IACX,CAKA86B,uBACI,OAAO96B,KAAK26B,uBAAyB,EACzC,CAQAnC,wBAAwBxS,GACpB,GAAIhmB,KAAK26B,uBAAyB36B,KAAK26B,sBAAsB54B,OAAQ,CACjE,MAAMq4B,EAAYp6B,KAAK26B,sBAAsB1iB,QAC7C,IAAK,MAAM9L,KAAYiuB,EACnBjuB,EAASmF,MAAMtR,KAAMgmB,EAAOtkB,KAEpC,CACJ,EAEJ1C,EAAQsiB,OAASA,C,qCCh2BjB,IAAIO,EAAmB7hB,MAAQA,KAAK6hB,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACAhjB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ2S,SAAM,EACd,MAAMwiB,EAAqB30B,EAAQ,OAE7B4Q,EADUyR,EAAgBriB,EAAQ,QAClBod,QAAQ,wBA6D9B5d,EAAQ2S,IAnDR,SAAagO,EAAKM,EAAO,GAAI8a,GACzB,IAAI94B,EAAM0d,EAEVob,EAAMA,GAA4B,oBAAblY,UAA4BA,SAC7C,MAAQlD,IACRA,EAAMob,EAAI1Z,SAAW,KAAO0Z,EAAIlb,MAEjB,iBAARF,IACH,MAAQA,EAAIkB,OAAO,KAEflB,EADA,MAAQA,EAAIkB,OAAO,GACbka,EAAI1Z,SAAW1B,EAGfob,EAAIlb,KAAOF,GAGpB,sBAAsBtC,KAAKsC,KAC5BvP,EAAM,uBAAwBuP,GAE1BA,OADA,IAAuBob,EACjBA,EAAI1Z,SAAW,KAAO1B,EAGtB,WAAaA,GAI3BvP,EAAM,WAAYuP,GAClB1d,EAAMkyB,EAAmB/nB,MAAMuT,IAG9B1d,EAAI2gB,OACD,cAAcvF,KAAKpb,EAAIof,UACvBpf,EAAI2gB,KAAO,KAEN,eAAevF,KAAKpb,EAAIof,YAC7Bpf,EAAI2gB,KAAO,QAGnB3gB,EAAIge,KAAOhe,EAAIge,MAAQ,IACvB,MACMJ,GADkC,IAA3B5d,EAAI4d,KAAKH,QAAQ,KACV,IAAMzd,EAAI4d,KAAO,IAAM5d,EAAI4d,KAS/C,OAPA5d,EAAIhC,GAAKgC,EAAIof,SAAW,MAAQxB,EAAO,IAAM5d,EAAI2gB,KAAO3C,EAExDhe,EAAI+4B,KACA/4B,EAAIof,SACA,MACAxB,GACCkb,GAAOA,EAAInY,OAAS3gB,EAAI2gB,KAAO,GAAK,IAAM3gB,EAAI2gB,MAChD3gB,CACX,C,+BCnEAnD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQi8B,kBAAoBj8B,EAAQk8B,uBAAoB,EACxD,MAAMC,EAAiB37B,EAAQ,OAiB/B,SAAS47B,EAAmB15B,EAAM25B,GAC9B,IAAK35B,EACD,OAAOA,EACX,IAAI,EAAIy5B,EAAe9I,UAAU3wB,GAAO,CACpC,MAAM45B,EAAc,CAAEC,cAAc,EAAM7a,IAAK2a,EAAQt5B,QAEvD,OADAs5B,EAAQn5B,KAAKR,GACN45B,CACX,CACK,GAAIt3B,MAAMw3B,QAAQ95B,GAAO,CAC1B,MAAM+5B,EAAU,IAAIz3B,MAAMtC,EAAKK,QAC/B,IAAK,IAAI0U,EAAI,EAAGA,EAAI/U,EAAKK,OAAQ0U,IAC7BglB,EAAQhlB,GAAK2kB,EAAmB15B,EAAK+U,GAAI4kB,GAE7C,OAAOI,CACX,CACK,GAAoB,iBAAT/5B,KAAuBA,aAAgB8G,MAAO,CAC1D,MAAMizB,EAAU,CAAC,EACjB,IAAK,MAAM/vB,KAAOhK,EACV5C,OAAOkE,UAAU8b,eAAe5C,KAAKxa,EAAMgK,KAC3C+vB,EAAQ/vB,GAAO0vB,EAAmB15B,EAAKgK,GAAM2vB,IAGrD,OAAOI,CACX,CACA,OAAO/5B,CACX,CAeA,SAASg6B,EAAmBh6B,EAAM25B,GAC9B,IAAK35B,EACD,OAAOA,EACX,GAAIA,IAA8B,IAAtBA,EAAK65B,aAAuB,CAIpC,GAHyC,iBAAb75B,EAAKgf,KAC7Bhf,EAAKgf,KAAO,GACZhf,EAAKgf,IAAM2a,EAAQt5B,OAEnB,OAAOs5B,EAAQ35B,EAAKgf,KAGpB,MAAM,IAAIxd,MAAM,sBAExB,CACK,GAAIc,MAAMw3B,QAAQ95B,GACnB,IAAK,IAAI+U,EAAI,EAAGA,EAAI/U,EAAKK,OAAQ0U,IAC7B/U,EAAK+U,GAAKilB,EAAmBh6B,EAAK+U,GAAI4kB,QAGzC,GAAoB,iBAAT35B,EACZ,IAAK,MAAMgK,KAAOhK,EACV5C,OAAOkE,UAAU8b,eAAe5C,KAAKxa,EAAMgK,KAC3ChK,EAAKgK,GAAOgwB,EAAmBh6B,EAAKgK,GAAM2vB,IAItD,OAAO35B,CACX,CApEA1C,EAAQk8B,kBARR,SAA2BlV,GACvB,MAAMqV,EAAU,GACVM,EAAa3V,EAAOtkB,KACpBk6B,EAAO5V,EAGb,OAFA4V,EAAKl6B,KAAO05B,EAAmBO,EAAYN,GAC3CO,EAAKC,YAAcR,EAAQt5B,OACpB,CAAEikB,OAAQ4V,EAAMP,QAASA,EACpC,EAyCAr8B,EAAQi8B,kBALR,SAA2BjV,EAAQqV,GAG/B,OAFArV,EAAOtkB,KAAOg6B,EAAmB1V,EAAOtkB,KAAM25B,UACvCrV,EAAO6V,YACP7V,CACX,C,+BCzDAlnB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQk2B,QAAUl2B,EAAQg2B,QAAUh2B,EAAQk5B,WAAal5B,EAAQqiB,cAAW,EAC5E,MAAMa,EAAsB1iB,EAAQ,OAC9Bs8B,EAAct8B,EAAQ,OACtB27B,EAAiB37B,EAAQ,OAEzB4Q,GAAQ,EADE5Q,EAAQ,OACEod,SAAS,oBAI7Bia,EAAkB,CACpB,UACA,gBACA,aACA,gBACA,cACA,kBAQJ,IAAIqB,EADJl5B,EAAQqiB,SAAW,EAEnB,SAAW6W,GACPA,EAAWA,EAAoB,QAAI,GAAK,UACxCA,EAAWA,EAAuB,WAAI,GAAK,aAC3CA,EAAWA,EAAkB,MAAI,GAAK,QACtCA,EAAWA,EAAgB,IAAI,GAAK,MACpCA,EAAWA,EAA0B,cAAI,GAAK,gBAC9CA,EAAWA,EAAyB,aAAI,GAAK,eAC7CA,EAAWA,EAAuB,WAAI,GAAK,YAC9C,CARD,CAQGA,EAAal5B,EAAQk5B,aAAel5B,EAAQk5B,WAAa,CAAC,IA6E7D,SAAS6D,EAAS98B,GACd,MAAiD,oBAA1CH,OAAOkE,UAAUuL,SAAS2N,KAAKjd,EAC1C,CAJAD,EAAQg2B,QAvER,MAMI3S,YAAY2Z,GACRh8B,KAAKg8B,SAAWA,CACpB,CAOAnd,OAAO5c,GAEH,OADAmO,EAAM,qBAAsBnO,GACxBA,EAAIZ,OAAS62B,EAAWC,OAASl2B,EAAIZ,OAAS62B,EAAW0B,OACrD,EAAIuB,EAAec,WAAWh6B,GAW/B,CAACjC,KAAKk8B,eAAej6B,IAVbjC,KAAKm8B,eAAe,CACvB96B,KAAMY,EAAIZ,OAAS62B,EAAWC,MACxBD,EAAWwB,aACXxB,EAAW2B,WACjBzD,IAAKn0B,EAAIm0B,IACT10B,KAAMO,EAAIP,KACVzB,GAAIgC,EAAIhC,IAKxB,CAIAi8B,eAAej6B,GAEX,IAAIic,EAAM,GAAKjc,EAAIZ,KAoBnB,OAlBIY,EAAIZ,OAAS62B,EAAWwB,cACxBz3B,EAAIZ,OAAS62B,EAAW2B,aACxB3b,GAAOjc,EAAI45B,YAAc,KAIzB55B,EAAIm0B,KAAO,MAAQn0B,EAAIm0B,MACvBlY,GAAOjc,EAAIm0B,IAAM,KAGjB,MAAQn0B,EAAIhC,KACZie,GAAOjc,EAAIhC,IAGX,MAAQgC,EAAIP,OACZwc,GAAO/a,KAAKC,UAAUnB,EAAIP,KAAM1B,KAAKg8B,WAEzC5rB,EAAM,mBAAoBnO,EAAKic,GACxBA,CACX,CAMAie,eAAel6B,GACX,MAAMm6B,GAAiB,EAAIN,EAAYZ,mBAAmBj5B,GACpD25B,EAAO57B,KAAKk8B,eAAeE,EAAepW,QAC1CqV,EAAUe,EAAef,QAE/B,OADAA,EAAQvf,QAAQ8f,GACTP,CACX,GAYJ,MAAMnG,UAAgBhT,EAAoBE,QAMtCC,YAAYga,GACR/Z,QACAtiB,KAAKq8B,QAAUA,CACnB,CAMAn8B,IAAI+B,GACA,IAAI+jB,EACJ,GAAmB,iBAAR/jB,EAAkB,CACzB,GAAIjC,KAAKs8B,cACL,MAAM,IAAIp5B,MAAM,mDAEpB8iB,EAAShmB,KAAKu8B,aAAat6B,GAC3B,MAAMu6B,EAAgBxW,EAAO3kB,OAAS62B,EAAWwB,aAC7C8C,GAAiBxW,EAAO3kB,OAAS62B,EAAW2B,YAC5C7T,EAAO3kB,KAAOm7B,EAAgBtE,EAAWC,MAAQD,EAAW0B,IAE5D55B,KAAKs8B,cAAgB,IAAIG,EAAoBzW,GAElB,IAAvBA,EAAO6V,aACPvZ,MAAMmC,aAAa,UAAWuB,IAKlC1D,MAAMmC,aAAa,UAAWuB,EAEtC,KACK,MAAI,EAAImV,EAAe9I,UAAUpwB,KAAQA,EAAI2sB,OAe9C,MAAM,IAAI1rB,MAAM,iBAAmBjB,GAbnC,IAAKjC,KAAKs8B,cACN,MAAM,IAAIp5B,MAAM,oDAGhB8iB,EAAShmB,KAAKs8B,cAAcI,eAAez6B,GACvC+jB,IAEAhmB,KAAKs8B,cAAgB,KACrBha,MAAMmC,aAAa,UAAWuB,GAM1C,CACJ,CAOAuW,aAAare,GACT,IAAIzH,EAAI,EAER,MAAMyY,EAAI,CACN7tB,KAAMua,OAAOsC,EAAI2C,OAAO,KAE5B,QAA2B9O,IAAvBmmB,EAAWhJ,EAAE7tB,MACb,MAAM,IAAI6B,MAAM,uBAAyBgsB,EAAE7tB,MAG/C,GAAI6tB,EAAE7tB,OAAS62B,EAAWwB,cACtBxK,EAAE7tB,OAAS62B,EAAW2B,WAAY,CAClC,MAAM8C,EAAQlmB,EAAI,EAClB,KAA2B,MAApByH,EAAI2C,SAASpK,IAAcA,GAAKyH,EAAInc,SAC3C,MAAM66B,EAAM1e,EAAIhL,UAAUypB,EAAOlmB,GACjC,GAAImmB,GAAOhhB,OAAOghB,IAA0B,MAAlB1e,EAAI2C,OAAOpK,GACjC,MAAM,IAAIvT,MAAM,uBAEpBgsB,EAAE2M,YAAcjgB,OAAOghB,EAC3B,CAEA,GAAI,MAAQ1e,EAAI2C,OAAOpK,EAAI,GAAI,CAC3B,MAAMkmB,EAAQlmB,EAAI,EAClB,OAASA,GAAG,CAER,GAAI,MADMyH,EAAI2C,OAAOpK,GAEjB,MACJ,GAAIA,IAAMyH,EAAInc,OACV,KACR,CACAmtB,EAAEkH,IAAMlY,EAAIhL,UAAUypB,EAAOlmB,EACjC,MAEIyY,EAAEkH,IAAM,IAGZ,MAAMjoB,EAAO+P,EAAI2C,OAAOpK,EAAI,GAC5B,GAAI,KAAOtI,GAAQyN,OAAOzN,IAASA,EAAM,CACrC,MAAMwuB,EAAQlmB,EAAI,EAClB,OAASA,GAAG,CACR,MAAMyC,EAAIgF,EAAI2C,OAAOpK,GACrB,GAAI,MAAQyC,GAAK0C,OAAO1C,IAAMA,EAAG,GAC3BzC,EACF,KACJ,CACA,GAAIA,IAAMyH,EAAInc,OACV,KACR,CACAmtB,EAAEjvB,GAAK2b,OAAOsC,EAAIhL,UAAUypB,EAAOlmB,EAAI,GAC3C,CAEA,GAAIyH,EAAI2C,SAASpK,GAAI,CACjB,MAAMomB,EAAU78B,KAAK88B,SAAS5e,EAAI6e,OAAOtmB,IACzC,IAAIye,EAAQ8H,eAAe9N,EAAE7tB,KAAMw7B,GAI/B,MAAM,IAAI35B,MAAM,mBAHhBgsB,EAAExtB,KAAOm7B,CAKjB,CAEA,OADAzsB,EAAM,mBAAoB8N,EAAKgR,GACxBA,CACX,CACA4N,SAAS5e,GACL,IACI,OAAO/a,KAAKiJ,MAAM8R,EAAKle,KAAKq8B,QAChC,CACA,MAAOlzB,GACH,OAAO,CACX,CACJ,CACA8zB,sBAAsB57B,EAAMw7B,GACxB,OAAQx7B,GACJ,KAAK62B,EAAWkB,QACZ,OAAO2C,EAASc,GACpB,KAAK3E,EAAW6B,WACZ,YAAmBhoB,IAAZ8qB,EACX,KAAK3E,EAAW+B,cACZ,MAA0B,iBAAZ4C,GAAwBd,EAASc,GACnD,KAAK3E,EAAWC,MAChB,KAAKD,EAAWwB,aACZ,OAAQ11B,MAAMw3B,QAAQqB,KACK,iBAAfA,EAAQ,IACW,iBAAfA,EAAQ,KAC6B,IAAzChG,EAAgBnX,QAAQmd,EAAQ,KAChD,KAAK3E,EAAW0B,IAChB,KAAK1B,EAAW2B,WACZ,OAAO71B,MAAMw3B,QAAQqB,GAEjC,CAIAhiB,UACQ7a,KAAKs8B,gBACLt8B,KAAKs8B,cAAcY,yBACnBl9B,KAAKs8B,cAAgB,KAE7B,EAEJt9B,EAAQk2B,QAAUA,EASlB,MAAMuH,EACFpa,YAAY2D,GACRhmB,KAAKgmB,OAASA,EACdhmB,KAAKq7B,QAAU,GACfr7B,KAAKm9B,UAAYnX,CACrB,CASA0W,eAAeU,GAEX,GADAp9B,KAAKq7B,QAAQn5B,KAAKk7B,GACdp9B,KAAKq7B,QAAQt5B,SAAW/B,KAAKm9B,UAAUtB,YAAa,CAEpD,MAAM7V,GAAS,EAAI8V,EAAYb,mBAAmBj7B,KAAKm9B,UAAWn9B,KAAKq7B,SAEvE,OADAr7B,KAAKk9B,yBACElX,CACX,CACA,OAAO,IACX,CAIAkX,yBACIl9B,KAAKm9B,UAAY,KACjBn9B,KAAKq7B,QAAU,EACnB,E,6BC9TJv8B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQi9B,UAAYj9B,EAAQqzB,cAAW,EACvC,MAAM/C,EAA+C,mBAAhBH,YAC/BW,EAAU7tB,GACyB,mBAAvBktB,YAAYW,OACpBX,YAAYW,OAAO7tB,GACnBA,EAAI0tB,kBAAkBR,YAE1B5gB,EAAWzP,OAAOkE,UAAUuL,SAC5BshB,EAAiC,mBAATH,MACT,oBAATA,MACoB,6BAAxBnhB,EAAS2N,KAAKwT,MAChB2N,EAAiC,mBAATC,MACT,oBAATA,MACoB,6BAAxB/uB,EAAS2N,KAAKohB,MAMtB,SAASjL,EAASpwB,GACd,OAASqtB,IAA0BrtB,aAAektB,aAAeW,EAAO7tB,KACnE4tB,GAAkB5tB,aAAeytB,MACjC2N,GAAkBp7B,aAAeq7B,IAC1C,CACAt+B,EAAQqzB,SAAWA,EA4BnBrzB,EAAQi9B,UA3BR,SAASA,EAAUh6B,EAAKs7B,GACpB,IAAKt7B,GAAsB,iBAARA,EACf,OAAO,EAEX,GAAI+B,MAAMw3B,QAAQv5B,GAAM,CACpB,IAAK,IAAIwU,EAAI,EAAG0I,EAAIld,EAAIF,OAAQ0U,EAAI0I,EAAG1I,IACnC,GAAIwlB,EAAUh6B,EAAIwU,IACd,OAAO,EAGf,OAAO,CACX,CACA,GAAI4b,EAASpwB,GACT,OAAO,EAEX,GAAIA,EAAIs7B,QACkB,mBAAft7B,EAAIs7B,QACU,IAArBhsB,UAAUxP,OACV,OAAOk6B,EAAUh6B,EAAIs7B,UAAU,GAEnC,IAAK,MAAM7xB,KAAOzJ,EACd,GAAInD,OAAOkE,UAAU8b,eAAe5C,KAAKja,EAAKyJ,IAAQuwB,EAAUh6B,EAAIyJ,IAChE,OAAO,EAGf,OAAO,CACX,C,YCrDA,SAAS8xB,EAAmBC,EAAKnqB,EAAStG,EAAQ0wB,EAAOC,EAAQjyB,EAAKkyB,GACpE,IACE,IAAIxsB,EAAOqsB,EAAI/xB,GAAKkyB,GAChB3+B,EAAQmS,EAAKnS,KACnB,CAAE,MAAO+Q,GAEP,YADAhD,EAAOgD,EAET,CACIoB,EAAKqc,KACPna,EAAQrU,GAER6E,QAAQwP,QAAQrU,GAAO+B,KAAK08B,EAAOC,EAEvC,CAiBAt5B,EAAOrF,QAhBP,SAA2BwD,GACzB,OAAO,WACL,IAAIkZ,EAAO1b,KACT6Y,EAAOtH,UACT,OAAO,IAAIzN,SAAQ,SAAUwP,EAAStG,GACpC,IAAIywB,EAAMj7B,EAAG8O,MAAMoK,EAAM7C,GACzB,SAAS6kB,EAAMz+B,GACbu+B,EAAmBC,EAAKnqB,EAAStG,EAAQ0wB,EAAOC,EAAQ,OAAQ1+B,EAClE,CACA,SAAS0+B,EAAOz0B,GACds0B,EAAmBC,EAAKnqB,EAAStG,EAAQ0wB,EAAOC,EAAQ,QAASz0B,EACnE,CACAw0B,OAAM3rB,EACR,GACF,CACF,EACoC1N,EAAOrF,QAAQ+iB,YAAa,EAAM1d,EAAOrF,QAAiB,QAAIqF,EAAOrF,O,YCzBzGqF,EAAOrF,QALP,SAAgCiD,GAC9B,OAAOA,GAAOA,EAAI8f,WAAa9f,EAAM,CACnC,QAAWA,EAEf,EACyCoC,EAAOrF,QAAQ+iB,YAAa,EAAM1d,EAAOrF,QAAiB,QAAIqF,EAAOrF,O,kBCL9G,IAAI6+B,EAAU,iBACd,SAASC,IACP,aACAz5B,EAAOrF,QAAU8+B,EAAsB,WACrC,OAAO9+B,CACT,EAAGqF,EAAOrF,QAAQ+iB,YAAa,EAAM1d,EAAOrF,QAAiB,QAAIqF,EAAOrF,QACxE,IAAIA,EAAU,CAAC,EACb++B,EAAKj/B,OAAOkE,UACZg7B,EAASD,EAAGjf,eACZ/f,EAAiBD,OAAOC,gBAAkB,SAAUkD,EAAKyJ,EAAKuyB,GAC5Dh8B,EAAIyJ,GAAOuyB,EAAKh/B,KAClB,EACAi/B,EAAU,mBAAqBC,OAASA,OAAS,CAAC,EAClDC,EAAiBF,EAAQG,UAAY,aACrCC,EAAsBJ,EAAQK,eAAiB,kBAC/CC,EAAoBN,EAAQO,aAAe,gBAC7C,SAASC,EAAOz8B,EAAKyJ,EAAKzM,GACxB,OAAOH,OAAOC,eAAekD,EAAKyJ,EAAK,CACrCzM,MAAOA,EACPqF,YAAY,EACZ+X,cAAc,EACdqK,UAAU,IACRzkB,EAAIyJ,EACV,CACA,IACEgzB,EAAO,CAAC,EAAG,GACb,CAAE,MAAOx1B,GACPw1B,EAAS,SAAgBz8B,EAAKyJ,EAAKzM,GACjC,OAAOgD,EAAIyJ,GAAOzM,CACpB,CACF,CACA,SAAS+O,EAAK2wB,EAASC,EAASljB,EAAMmjB,GACpC,IAAIC,EAAiBF,GAAWA,EAAQ57B,qBAAqB+7B,EAAYH,EAAUG,EACjFC,EAAYlgC,OAAOgC,OAAOg+B,EAAe97B,WACzCokB,EAAU,IAAI6X,EAAQJ,GAAe,IACvC,OAAO9/B,EAAeigC,EAAW,UAAW,CAC1C//B,MAAOigC,EAAiBP,EAASjjB,EAAM0L,KACrC4X,CACN,CACA,SAASG,EAAS38B,EAAIP,EAAK27B,GACzB,IACE,MAAO,CACLv8B,KAAM,SACNu8B,IAAKp7B,EAAG0Z,KAAKja,EAAK27B,GAEtB,CAAE,MAAO10B,GACP,MAAO,CACL7H,KAAM,QACNu8B,IAAK10B,EAET,CACF,CACAlK,EAAQgP,KAAOA,EACf,IAAIoxB,EAAmB,CAAC,EACxB,SAASL,IAAa,CACtB,SAASM,IAAqB,CAC9B,SAASC,IAA8B,CACvC,IAAIC,EAAoB,CAAC,EACzBb,EAAOa,EAAmBnB,GAAgB,WACxC,OAAOp+B,IACT,IACA,IAAIw/B,EAAW1gC,OAAO2gC,eACpBC,EAA0BF,GAAYA,EAASA,EAASG,EAAO,MACjED,GAA2BA,IAA4B3B,GAAMC,EAAO9hB,KAAKwjB,EAAyBtB,KAAoBmB,EAAoBG,GAC1I,IAAIE,EAAKN,EAA2Bt8B,UAAY+7B,EAAU/7B,UAAYlE,OAAOgC,OAAOy+B,GACpF,SAASM,EAAsB78B,GAC7B,CAAC,OAAQ,QAAS,UAAUZ,SAAQ,SAAUhC,GAC5Cs+B,EAAO17B,EAAW5C,GAAQ,SAAUw9B,GAClC,OAAO59B,KAAK8/B,QAAQ1/B,EAAQw9B,EAC9B,GACF,GACF,CACA,SAASmC,EAAcf,EAAWgB,GAChC,SAASC,EAAO7/B,EAAQw9B,EAAKtqB,EAAStG,GACpC,IAAIkzB,EAASf,EAASH,EAAU5+B,GAAS4+B,EAAWpB,GACpD,GAAI,UAAYsC,EAAO7+B,KAAM,CAC3B,IAAIqF,EAASw5B,EAAOtC,IAClB3+B,EAAQyH,EAAOzH,MACjB,OAAOA,GAAS,UAAY4+B,EAAQ5+B,IAAU++B,EAAO9hB,KAAKjd,EAAO,WAAa+gC,EAAY1sB,QAAQrU,EAAMkhC,SAASn/B,MAAK,SAAU/B,GAC9HghC,EAAO,OAAQhhC,EAAOqU,EAAStG,EACjC,IAAG,SAAU9D,GACX+2B,EAAO,QAAS/2B,EAAKoK,EAAStG,EAChC,IAAKgzB,EAAY1sB,QAAQrU,GAAO+B,MAAK,SAAUo/B,GAC7C15B,EAAOzH,MAAQmhC,EAAW9sB,EAAQ5M,EACpC,IAAG,SAAUsJ,GACX,OAAOiwB,EAAO,QAASjwB,EAAOsD,EAAStG,EACzC,GACF,CACAA,EAAOkzB,EAAOtC,IAChB,CACA,IAAIyC,EACJthC,EAAeiB,KAAM,UAAW,CAC9Bf,MAAO,SAAemB,EAAQw9B,GAC5B,SAAS0C,IACP,OAAO,IAAIN,GAAY,SAAU1sB,EAAStG,GACxCizB,EAAO7/B,EAAQw9B,EAAKtqB,EAAStG,EAC/B,GACF,CACA,OAAOqzB,EAAkBA,EAAkBA,EAAgBr/B,KAAKs/B,EAA4BA,GAA8BA,GAC5H,GAEJ,CACA,SAASpB,EAAiBP,EAASjjB,EAAM0L,GACvC,IAAIzd,EAAQ,iBACZ,OAAO,SAAUvJ,EAAQw9B,GACvB,GAAI,cAAgBj0B,EAAO,MAAM,IAAIzG,MAAM,gCAC3C,GAAI,cAAgByG,EAAO,CACzB,GAAI,UAAYvJ,EAAQ,MAAMw9B,EAC9B,MAAO,CACL3+B,WAAO,EACPwuB,MAAM,EAEV,CACA,IAAKrG,EAAQhnB,OAASA,EAAQgnB,EAAQwW,IAAMA,IAAO,CACjD,IAAI2C,EAAWnZ,EAAQmZ,SACvB,GAAIA,EAAU,CACZ,IAAIC,EAAiBC,EAAoBF,EAAUnZ,GACnD,GAAIoZ,EAAgB,CAClB,GAAIA,IAAmBpB,EAAkB,SACzC,OAAOoB,CACT,CACF,CACA,GAAI,SAAWpZ,EAAQhnB,OAAQgnB,EAAQ5Y,KAAO4Y,EAAQsZ,MAAQtZ,EAAQwW,SAAS,GAAI,UAAYxW,EAAQhnB,OAAQ,CAC7G,GAAI,mBAAqBuJ,EAAO,MAAMA,EAAQ,YAAayd,EAAQwW,IACnExW,EAAQuZ,kBAAkBvZ,EAAQwW,IACpC,KAAO,WAAaxW,EAAQhnB,QAAUgnB,EAAQlY,OAAO,SAAUkY,EAAQwW,KACvEj0B,EAAQ,YACR,IAAIu2B,EAASf,EAASR,EAASjjB,EAAM0L,GACrC,GAAI,WAAa8Y,EAAO7+B,KAAM,CAC5B,GAAIsI,EAAQyd,EAAQqG,KAAO,YAAc,iBAAkByS,EAAOtC,MAAQwB,EAAkB,SAC5F,MAAO,CACLngC,MAAOihC,EAAOtC,IACdnQ,KAAMrG,EAAQqG,KAElB,CACA,UAAYyS,EAAO7+B,OAASsI,EAAQ,YAAayd,EAAQhnB,OAAS,QAASgnB,EAAQwW,IAAMsC,EAAOtC,IAClG,CACF,CACF,CACA,SAAS6C,EAAoBF,EAAUnZ,GACrC,IAAIwZ,EAAaxZ,EAAQhnB,OACvBA,EAASmgC,EAASlC,SAASuC,GAC7B,QAAI7uB,IAAc3R,EAAQ,OAAOgnB,EAAQmZ,SAAW,KAAM,UAAYK,GAAcL,EAASlC,SAAiB,SAAMjX,EAAQhnB,OAAS,SAAUgnB,EAAQwW,SAAM7rB,EAAW0uB,EAAoBF,EAAUnZ,GAAU,UAAYA,EAAQhnB,SAAW,WAAawgC,IAAexZ,EAAQhnB,OAAS,QAASgnB,EAAQwW,IAAM,IAAIiD,UAAU,oCAAsCD,EAAa,aAAcxB,EAClY,IAAIc,EAASf,EAAS/+B,EAAQmgC,EAASlC,SAAUjX,EAAQwW,KACzD,GAAI,UAAYsC,EAAO7+B,KAAM,OAAO+lB,EAAQhnB,OAAS,QAASgnB,EAAQwW,IAAMsC,EAAOtC,IAAKxW,EAAQmZ,SAAW,KAAMnB,EACjH,IAAIhuB,EAAO8uB,EAAOtC,IAClB,OAAOxsB,EAAOA,EAAKqc,MAAQrG,EAAQmZ,EAASO,YAAc1vB,EAAKnS,MAAOmoB,EAAQjZ,KAAOoyB,EAASQ,QAAS,WAAa3Z,EAAQhnB,SAAWgnB,EAAQhnB,OAAS,OAAQgnB,EAAQwW,SAAM7rB,GAAYqV,EAAQmZ,SAAW,KAAMnB,GAAoBhuB,GAAQgW,EAAQhnB,OAAS,QAASgnB,EAAQwW,IAAM,IAAIiD,UAAU,oCAAqCzZ,EAAQmZ,SAAW,KAAMnB,EACrW,CACA,SAAS4B,EAAaC,GACpB,IAAIC,EAAQ,CACVC,OAAQF,EAAK,IAEf,KAAKA,IAASC,EAAME,SAAWH,EAAK,IAAK,KAAKA,IAASC,EAAMG,WAAaJ,EAAK,GAAIC,EAAMI,SAAWL,EAAK,IAAKjhC,KAAKuhC,WAAWr/B,KAAKg/B,EACrI,CACA,SAASM,EAAcN,GACrB,IAAIhB,EAASgB,EAAMO,YAAc,CAAC,EAClCvB,EAAO7+B,KAAO,gBAAiB6+B,EAAOtC,IAAKsD,EAAMO,WAAavB,CAChE,CACA,SAASjB,EAAQJ,GACf7+B,KAAKuhC,WAAa,CAAC,CACjBJ,OAAQ,SACNtC,EAAYz8B,QAAQ4+B,EAAchhC,MAAOA,KAAKizB,OAAM,EAC1D,CACA,SAAS0M,EAAO+B,GACd,GAAIA,GAAY,KAAOA,EAAU,CAC/B,IAAIC,EAAiBD,EAAStD,GAC9B,GAAIuD,EAAgB,OAAOA,EAAezlB,KAAKwlB,GAC/C,GAAI,mBAAqBA,EAASvzB,KAAM,OAAOuzB,EAC/C,IAAKE,MAAMF,EAAS3/B,QAAS,CAC3B,IAAI0U,GAAK,EACPtI,EAAO,SAASA,IACd,OAASsI,EAAIirB,EAAS3/B,QAAS,GAAIi8B,EAAO9hB,KAAKwlB,EAAUjrB,GAAI,OAAOtI,EAAKlP,MAAQyiC,EAASjrB,GAAItI,EAAKsf,MAAO,EAAItf,EAC9G,OAAOA,EAAKlP,WAAQ8S,EAAW5D,EAAKsf,MAAO,EAAItf,CACjD,EACF,OAAOA,EAAKA,KAAOA,CACrB,CACF,CACA,MAAM,IAAI0yB,UAAUhD,EAAQ6D,GAAY,mBAC1C,CACA,OAAOrC,EAAkBr8B,UAAYs8B,EAA4BvgC,EAAe6gC,EAAI,cAAe,CACjG3gC,MAAOqgC,EACPjjB,cAAc,IACZtd,EAAeugC,EAA4B,cAAe,CAC5DrgC,MAAOogC,EACPhjB,cAAc,IACZgjB,EAAkBwC,YAAcnD,EAAOY,EAA4Bd,EAAmB,qBAAsBx/B,EAAQ8iC,oBAAsB,SAAUC,GACtJ,IAAIC,EAAO,mBAAqBD,GAAUA,EAAO1f,YACjD,QAAS2f,IAASA,IAAS3C,GAAqB,uBAAyB2C,EAAKH,aAAeG,EAAKniC,MACpG,EAAGb,EAAQ2O,KAAO,SAAUo0B,GAC1B,OAAOjjC,OAAOmjC,eAAiBnjC,OAAOmjC,eAAeF,EAAQzC,IAA+ByC,EAAOG,UAAY5C,EAA4BZ,EAAOqD,EAAQvD,EAAmB,sBAAuBuD,EAAO/+B,UAAYlE,OAAOgC,OAAO8+B,GAAKmC,CAC5O,EAAG/iC,EAAQmjC,MAAQ,SAAUvE,GAC3B,MAAO,CACLuC,QAASvC,EAEb,EAAGiC,EAAsBE,EAAc/8B,WAAY07B,EAAOqB,EAAc/8B,UAAWs7B,GAAqB,WACtG,OAAOt+B,IACT,IAAIhB,EAAQ+gC,cAAgBA,EAAe/gC,EAAQojC,MAAQ,SAAUzD,EAASC,EAASljB,EAAMmjB,EAAamB,QACxG,IAAWA,IAAgBA,EAAcl8B,SACzC,IAAIu+B,EAAO,IAAItC,EAAc/xB,EAAK2wB,EAASC,EAASljB,EAAMmjB,GAAcmB,GACxE,OAAOhhC,EAAQ8iC,oBAAoBlD,GAAWyD,EAAOA,EAAKl0B,OAAOnN,MAAK,SAAU0F,GAC9E,OAAOA,EAAO+mB,KAAO/mB,EAAOzH,MAAQojC,EAAKl0B,MAC3C,GACF,EAAG0xB,EAAsBD,GAAKlB,EAAOkB,EAAIpB,EAAmB,aAAcE,EAAOkB,EAAIxB,GAAgB,WACnG,OAAOp+B,IACT,IAAI0+B,EAAOkB,EAAI,YAAY,WACzB,MAAO,oBACT,IAAI5gC,EAAQse,KAAO,SAAUrB,GAC3B,IAAIqmB,EAASxjC,OAAOmd,GAClBqB,EAAO,GACT,IAAK,IAAI5R,KAAO42B,EAAQhlB,EAAKpb,KAAKwJ,GAClC,OAAO4R,EAAKilB,UAAW,SAASp0B,IAC9B,KAAOmP,EAAKvb,QAAS,CACnB,IAAI2J,EAAM4R,EAAK+a,MACf,GAAI3sB,KAAO42B,EAAQ,OAAOn0B,EAAKlP,MAAQyM,EAAKyC,EAAKsf,MAAO,EAAItf,CAC9D,CACA,OAAOA,EAAKsf,MAAO,EAAItf,CACzB,CACF,EAAGnP,EAAQ2gC,OAASA,EAAQV,EAAQj8B,UAAY,CAC9Cqf,YAAa4c,EACbhM,MAAO,SAAeuP,GACpB,GAAIxiC,KAAKkO,KAAO,EAAGlO,KAAKmO,KAAO,EAAGnO,KAAKwO,KAAOxO,KAAK0gC,WAAQ3uB,EAAW/R,KAAKytB,MAAO,EAAIztB,KAAKugC,SAAW,KAAMvgC,KAAKI,OAAS,OAAQJ,KAAK49B,SAAM7rB,EAAW/R,KAAKuhC,WAAWn/B,QAAQo/B,IAAiBgB,EAAe,IAAK,IAAI3iC,KAAQG,KAAM,MAAQH,EAAKghB,OAAO,IAAMmd,EAAO9hB,KAAKlc,KAAMH,KAAU+hC,OAAO/hC,EAAKoY,MAAM,MAAQjY,KAAKH,QAAQkS,EACtU,EACAzC,KAAM,WACJtP,KAAKytB,MAAO,EACZ,IAAIgV,EAAaziC,KAAKuhC,WAAW,GAAGE,WACpC,GAAI,UAAYgB,EAAWphC,KAAM,MAAMohC,EAAW7E,IAClD,OAAO59B,KAAK0iC,IACd,EACA/B,kBAAmB,SAA2BnmB,GAC5C,GAAIxa,KAAKytB,KAAM,MAAMjT,EACrB,IAAI4M,EAAUpnB,KACd,SAAS2iC,EAAO5H,EAAK6H,GACnB,OAAO1C,EAAO7+B,KAAO,QAAS6+B,EAAOtC,IAAMpjB,EAAW4M,EAAQjZ,KAAO4sB,EAAK6H,IAAWxb,EAAQhnB,OAAS,OAAQgnB,EAAQwW,SAAM7rB,KAAc6wB,CAC5I,CACA,IAAK,IAAInsB,EAAIzW,KAAKuhC,WAAWx/B,OAAS,EAAG0U,GAAK,IAAKA,EAAG,CACpD,IAAIyqB,EAAQlhC,KAAKuhC,WAAW9qB,GAC1BypB,EAASgB,EAAMO,WACjB,GAAI,SAAWP,EAAMC,OAAQ,OAAOwB,EAAO,OAC3C,GAAIzB,EAAMC,QAAUnhC,KAAKkO,KAAM,CAC7B,IAAI20B,EAAW7E,EAAO9hB,KAAKglB,EAAO,YAChC4B,EAAa9E,EAAO9hB,KAAKglB,EAAO,cAClC,GAAI2B,GAAYC,EAAY,CAC1B,GAAI9iC,KAAKkO,KAAOgzB,EAAME,SAAU,OAAOuB,EAAOzB,EAAME,UAAU,GAC9D,GAAIphC,KAAKkO,KAAOgzB,EAAMG,WAAY,OAAOsB,EAAOzB,EAAMG,WACxD,MAAO,GAAIwB,GACT,GAAI7iC,KAAKkO,KAAOgzB,EAAME,SAAU,OAAOuB,EAAOzB,EAAME,UAAU,OACzD,CACL,IAAK0B,EAAY,MAAM,IAAI5/B,MAAM,0CACjC,GAAIlD,KAAKkO,KAAOgzB,EAAMG,WAAY,OAAOsB,EAAOzB,EAAMG,WACxD,CACF,CACF,CACF,EACAnyB,OAAQ,SAAgB7N,EAAMu8B,GAC5B,IAAK,IAAInnB,EAAIzW,KAAKuhC,WAAWx/B,OAAS,EAAG0U,GAAK,IAAKA,EAAG,CACpD,IAAIyqB,EAAQlhC,KAAKuhC,WAAW9qB,GAC5B,GAAIyqB,EAAMC,QAAUnhC,KAAKkO,MAAQ8vB,EAAO9hB,KAAKglB,EAAO,eAAiBlhC,KAAKkO,KAAOgzB,EAAMG,WAAY,CACjG,IAAI0B,EAAe7B,EACnB,KACF,CACF,CACA6B,IAAiB,UAAY1hC,GAAQ,aAAeA,IAAS0hC,EAAa5B,QAAUvD,GAAOA,GAAOmF,EAAa1B,aAAe0B,EAAe,MAC7I,IAAI7C,EAAS6C,EAAeA,EAAatB,WAAa,CAAC,EACvD,OAAOvB,EAAO7+B,KAAOA,EAAM6+B,EAAOtC,IAAMA,EAAKmF,GAAgB/iC,KAAKI,OAAS,OAAQJ,KAAKmO,KAAO40B,EAAa1B,WAAYjC,GAAoBp/B,KAAKgjC,SAAS9C,EAC5J,EACA8C,SAAU,SAAkB9C,EAAQoB,GAClC,GAAI,UAAYpB,EAAO7+B,KAAM,MAAM6+B,EAAOtC,IAC1C,MAAO,UAAYsC,EAAO7+B,MAAQ,aAAe6+B,EAAO7+B,KAAOrB,KAAKmO,KAAO+xB,EAAOtC,IAAM,WAAasC,EAAO7+B,MAAQrB,KAAK0iC,KAAO1iC,KAAK49B,IAAMsC,EAAOtC,IAAK59B,KAAKI,OAAS,SAAUJ,KAAKmO,KAAO,OAAS,WAAa+xB,EAAO7+B,MAAQigC,IAAathC,KAAKmO,KAAOmzB,GAAWlC,CACtQ,EACA6D,OAAQ,SAAgB5B,GACtB,IAAK,IAAI5qB,EAAIzW,KAAKuhC,WAAWx/B,OAAS,EAAG0U,GAAK,IAAKA,EAAG,CACpD,IAAIyqB,EAAQlhC,KAAKuhC,WAAW9qB,GAC5B,GAAIyqB,EAAMG,aAAeA,EAAY,OAAOrhC,KAAKgjC,SAAS9B,EAAMO,WAAYP,EAAMI,UAAWE,EAAcN,GAAQ9B,CACrH,CACF,EACA,MAAS,SAAgB+B,GACvB,IAAK,IAAI1qB,EAAIzW,KAAKuhC,WAAWx/B,OAAS,EAAG0U,GAAK,IAAKA,EAAG,CACpD,IAAIyqB,EAAQlhC,KAAKuhC,WAAW9qB,GAC5B,GAAIyqB,EAAMC,SAAWA,EAAQ,CAC3B,IAAIjB,EAASgB,EAAMO,WACnB,GAAI,UAAYvB,EAAO7+B,KAAM,CAC3B,IAAI6hC,EAAShD,EAAOtC,IACpB4D,EAAcN,EAChB,CACA,OAAOgC,CACT,CACF,CACA,MAAM,IAAIhgC,MAAM,wBAClB,EACAigC,cAAe,SAAuBzB,EAAUZ,EAAYC,GAC1D,OAAO/gC,KAAKugC,SAAW,CACrBlC,SAAUsB,EAAO+B,GACjBZ,WAAYA,EACZC,QAASA,GACR,SAAW/gC,KAAKI,SAAWJ,KAAK49B,SAAM7rB,GAAYqtB,CACvD,GACCpgC,CACL,CACAqF,EAAOrF,QAAU8+B,EAAqBz5B,EAAOrF,QAAQ+iB,YAAa,EAAM1d,EAAOrF,QAAiB,QAAIqF,EAAOrF,O,YC1S3G,SAAS6+B,EAAQ57B,GAGf,OAAQoC,EAAOrF,QAAU6+B,EAAU,mBAAqBM,QAAU,iBAAmBA,OAAOE,SAAW,SAAUp8B,GAC/G,cAAcA,CAChB,EAAI,SAAUA,GACZ,OAAOA,GAAO,mBAAqBk8B,QAAUl8B,EAAIogB,cAAgB8b,QAAUl8B,IAAQk8B,OAAOn7B,UAAY,gBAAkBf,CAC1H,EAAGoC,EAAOrF,QAAQ+iB,YAAa,EAAM1d,EAAOrF,QAAiB,QAAIqF,EAAOrF,QAAU6+B,EAAQ57B,EAC5F,CACAoC,EAAOrF,QAAU6+B,EAASx5B,EAAOrF,QAAQ+iB,YAAa,EAAM1d,EAAOrF,QAAiB,QAAIqF,EAAOrF,O,kBCP/F,IAAIokC,EAAU,EAAQ,MAAR,GACd/+B,EAAOrF,QAAUokC,EAGjB,IACEC,mBAAqBD,CACvB,CAAE,MAAOE,GACmB,iBAAfC,WACTA,WAAWF,mBAAqBD,EAEhCpiB,SAAS,IAAK,yBAAdA,CAAwCoiB,EAE5C,C,+BCRO,SAAShhB,EAAQngB,GACtB,GAAIA,EAAK,OAWX,SAAeA,GACb,IAAK,IAAIyJ,KAAO0W,EAAQpf,UACtBf,EAAIyJ,GAAO0W,EAAQpf,UAAU0I,GAE/B,OAAOzJ,CACT,CAhBkBuhC,CAAMvhC,EACxB,C,8BA0BAmgB,EAAQpf,UAAU6M,GAClBuS,EAAQpf,UAAUQ,iBAAmB,SAASigC,EAAOjhC,GAInD,OAHAxC,KAAK0jC,WAAa1jC,KAAK0jC,YAAc,CAAC,GACrC1jC,KAAK0jC,WAAW,IAAMD,GAASzjC,KAAK0jC,WAAW,IAAMD,IAAU,IAC7DvhC,KAAKM,GACDxC,IACT,EAYAoiB,EAAQpf,UAAUsN,KAAO,SAASmzB,EAAOjhC,GACvC,SAASqN,IACP7P,KAAK8lB,IAAI2d,EAAO5zB,GAChBrN,EAAG8O,MAAMtR,KAAMuR,UACjB,CAIA,OAFA1B,EAAGrN,GAAKA,EACRxC,KAAK6P,GAAG4zB,EAAO5zB,GACR7P,IACT,EAYAoiB,EAAQpf,UAAU8iB,IAClB1D,EAAQpf,UAAU6iB,eAClBzD,EAAQpf,UAAU+gB,mBAClB3B,EAAQpf,UAAUS,oBAAsB,SAASggC,EAAOjhC,GAItD,GAHAxC,KAAK0jC,WAAa1jC,KAAK0jC,YAAc,CAAC,EAGlC,GAAKnyB,UAAUxP,OAEjB,OADA/B,KAAK0jC,WAAa,CAAC,EACZ1jC,KAIT,IAUI2rB,EAVAgY,EAAY3jC,KAAK0jC,WAAW,IAAMD,GACtC,IAAKE,EAAW,OAAO3jC,KAGvB,GAAI,GAAKuR,UAAUxP,OAEjB,cADO/B,KAAK0jC,WAAW,IAAMD,GACtBzjC,KAKT,IAAK,IAAIyW,EAAI,EAAGA,EAAIktB,EAAU5hC,OAAQ0U,IAEpC,IADAkV,EAAKgY,EAAUltB,MACJjU,GAAMmpB,EAAGnpB,KAAOA,EAAI,CAC7BmhC,EAAUvqB,OAAO3C,EAAG,GACpB,KACF,CASF,OAJyB,IAArBktB,EAAU5hC,eACL/B,KAAK0jC,WAAW,IAAMD,GAGxBzjC,IACT,EAUAoiB,EAAQpf,UAAU2N,KAAO,SAAS8yB,GAChCzjC,KAAK0jC,WAAa1jC,KAAK0jC,YAAc,CAAC,EAKtC,IAHA,IAAI7qB,EAAO,IAAI7U,MAAMuN,UAAUxP,OAAS,GACpC4hC,EAAY3jC,KAAK0jC,WAAW,IAAMD,GAE7BhtB,EAAI,EAAGA,EAAIlF,UAAUxP,OAAQ0U,IACpCoC,EAAKpC,EAAI,GAAKlF,UAAUkF,GAG1B,GAAIktB,EAEG,CAAIltB,EAAI,EAAb,IAAK,IAAW2G,GADhBumB,EAAYA,EAAU1rB,MAAM,IACIlW,OAAQ0U,EAAI2G,IAAO3G,EACjDktB,EAAUltB,GAAGnF,MAAMtR,KAAM6Y,EADK9W,CAKlC,OAAO/B,IACT,EAGAoiB,EAAQpf,UAAUyhB,aAAerC,EAAQpf,UAAU2N,KAUnDyR,EAAQpf,UAAUo3B,UAAY,SAASqJ,GAErC,OADAzjC,KAAK0jC,WAAa1jC,KAAK0jC,YAAc,CAAC,EAC/B1jC,KAAK0jC,WAAW,IAAMD,IAAU,EACzC,EAUArhB,EAAQpf,UAAU4gC,aAAe,SAASH,GACxC,QAAUzjC,KAAKo6B,UAAUqJ,GAAO1hC,MAClC,C","sources":["./node_modules/@toruslabs/broadcast-channel/dist/lib/broadcast-channel.js","./node_modules/@toruslabs/broadcast-channel/dist/lib/index.es5.js","./node_modules/@toruslabs/broadcast-channel/dist/lib/index.js","./node_modules/@toruslabs/broadcast-channel/dist/lib/method-chooser.js","./node_modules/@toruslabs/broadcast-channel/dist/lib/methods/indexed-db.js","./node_modules/@toruslabs/broadcast-channel/dist/lib/methods/localstorage.js","./node_modules/@toruslabs/broadcast-channel/dist/lib/methods/native.js","./node_modules/@toruslabs/broadcast-channel/dist/lib/methods/server.js","./node_modules/@toruslabs/broadcast-channel/dist/lib/methods/simulate.js","./node_modules/@toruslabs/broadcast-channel/dist/lib/options.js","./node_modules/@toruslabs/broadcast-channel/dist/lib/util.js","./node_modules/customauth/node_modules/@toruslabs/eccrypto/dist/eccrypto.esm.js","./node_modules/debug/src/browser.js","./node_modules/debug/src/common.js","./node_modules/ms/index.js","./node_modules/engine.io-client/build/cjs/contrib/has-cors.js","./node_modules/engine.io-client/build/cjs/contrib/parseqs.js","./node_modules/engine.io-client/build/cjs/contrib/parseuri.js","./node_modules/engine.io-client/build/cjs/contrib/yeast.js","./node_modules/engine.io-client/build/cjs/globalThis.browser.js","./node_modules/engine.io-client/build/cjs/index.js","./node_modules/engine.io-client/build/cjs/socket.js","./node_modules/engine.io-client/build/cjs/transport.js","./node_modules/engine.io-client/build/cjs/transports/index.js","./node_modules/engine.io-client/build/cjs/transports/polling.js","./node_modules/engine.io-client/build/cjs/transports/websocket-constructor.browser.js","./node_modules/engine.io-client/build/cjs/transports/websocket.js","./node_modules/engine.io-client/build/cjs/transports/webtransport.js","./node_modules/engine.io-client/build/cjs/transports/xmlhttprequest.browser.js","./node_modules/engine.io-client/build/cjs/util.js","./node_modules/engine.io-client/node_modules/engine.io-parser/build/cjs/commons.js","./node_modules/engine.io-client/node_modules/engine.io-parser/build/cjs/contrib/base64-arraybuffer.js","./node_modules/engine.io-client/node_modules/engine.io-parser/build/cjs/decodePacket.browser.js","./node_modules/engine.io-client/node_modules/engine.io-parser/build/cjs/encodePacket.browser.js","./node_modules/engine.io-client/node_modules/engine.io-parser/build/cjs/index.js","./node_modules/socket.io-client/build/cjs/contrib/backo2.js","./node_modules/socket.io-client/build/cjs/index.js","./node_modules/socket.io-client/build/cjs/manager.js","./node_modules/socket.io-client/build/cjs/on.js","./node_modules/socket.io-client/build/cjs/socket.js","./node_modules/socket.io-client/build/cjs/url.js","./node_modules/socket.io-parser/build/cjs/binary.js","./node_modules/socket.io-parser/build/cjs/index.js","./node_modules/socket.io-parser/build/cjs/is-binary.js","./node_modules/@babel/runtime/helpers/asyncToGenerator.js","./node_modules/@babel/runtime/helpers/interopRequireDefault.js","./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","./node_modules/@babel/runtime/helpers/typeof.js","./node_modules/@babel/runtime/regenerator/index.js","./node_modules/@socket.io/component-emitter/index.mjs"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OPEN_BROADCAST_CHANNELS = exports.BroadcastChannel = void 0;\nexports.enforceOptions = enforceOptions;\nvar _util = require(\"./util.js\");\nvar _methodChooser = require(\"./method-chooser.js\");\nvar _options = require(\"./options.js\");\n/**\n * Contains all open channels,\n * used in tests to ensure everything is closed.\n */\nvar OPEN_BROADCAST_CHANNELS = new Set();\nexports.OPEN_BROADCAST_CHANNELS = OPEN_BROADCAST_CHANNELS;\nvar lastId = 0;\nvar BroadcastChannel = function BroadcastChannel(name, options) {\n  // identifier of the channel to debug stuff\n  this.id = lastId++;\n  OPEN_BROADCAST_CHANNELS.add(this);\n  this.name = name;\n  if (ENFORCED_OPTIONS) {\n    options = ENFORCED_OPTIONS;\n  }\n  this.options = (0, _options.fillOptionsWithDefaults)(options);\n  this.method = (0, _methodChooser.chooseMethod)(this.options);\n\n  // isListening\n  this._iL = false;\n\n  /**\n   * _onMessageListener\n   * setting onmessage twice,\n   * will overwrite the first listener\n   */\n  this._onML = null;\n\n  /**\n   * _addEventListeners\n   */\n  this._addEL = {\n    message: [],\n    internal: []\n  };\n\n  /**\n   * Unsend message promises\n   * where the sending is still in progress\n   * @type {Set<Promise>}\n   */\n  this._uMP = new Set();\n\n  /**\n   * _beforeClose\n   * array of promises that will be awaited\n   * before the channel is closed\n   */\n  this._befC = [];\n\n  /**\n   * _preparePromise\n   */\n  this._prepP = null;\n  _prepareChannel(this);\n};\n\n// STATICS\n\n/**\n * used to identify if someone overwrites\n * window.BroadcastChannel with this\n * See methods/native.js\n */\nexports.BroadcastChannel = BroadcastChannel;\nBroadcastChannel._pubkey = true;\n\n/**\n * if set, this method is enforced,\n * no mather what the options are\n */\nvar ENFORCED_OPTIONS;\nfunction enforceOptions(options) {\n  ENFORCED_OPTIONS = options;\n}\n\n// PROTOTYPE\nBroadcastChannel.prototype = {\n  postMessage: function postMessage(msg) {\n    if (this.closed) {\n      throw new Error('BroadcastChannel.postMessage(): ' + 'Cannot post message after channel has closed ' +\n      /**\n       * In the past when this error appeared, it was realy hard to debug.\n       * So now we log the msg together with the error so it at least\n       * gives some clue about where in your application this happens.\n       */\n      JSON.stringify(msg));\n    }\n    return _post(this, 'message', msg);\n  },\n  postInternal: function postInternal(msg) {\n    return _post(this, 'internal', msg);\n  },\n  set onmessage(fn) {\n    var time = this.method.microSeconds();\n    var listenObj = {\n      time: time,\n      fn: fn\n    };\n    _removeListenerObject(this, 'message', this._onML);\n    if (fn && typeof fn === 'function') {\n      this._onML = listenObj;\n      _addListenerObject(this, 'message', listenObj);\n    } else {\n      this._onML = null;\n    }\n  },\n  addEventListener: function addEventListener(type, fn) {\n    var time = this.method.microSeconds();\n    var listenObj = {\n      time: time,\n      fn: fn\n    };\n    _addListenerObject(this, type, listenObj);\n  },\n  removeEventListener: function removeEventListener(type, fn) {\n    var obj = this._addEL[type].find(function (obj) {\n      return obj.fn === fn;\n    });\n    _removeListenerObject(this, type, obj);\n  },\n  close: function close() {\n    var _this = this;\n    if (this.closed) {\n      return;\n    }\n    OPEN_BROADCAST_CHANNELS[\"delete\"](this);\n    this.closed = true;\n    var awaitPrepare = this._prepP ? this._prepP : _util.PROMISE_RESOLVED_VOID;\n    this._onML = null;\n    this._addEL.message = [];\n    return awaitPrepare\n    // wait until all current sending are processed\n    .then(function () {\n      return Promise.all(Array.from(_this._uMP));\n    })\n    // run before-close hooks\n    .then(function () {\n      return Promise.all(_this._befC.map(function (fn) {\n        return fn();\n      }));\n    })\n    // close the channel\n    .then(function () {\n      return _this.method.close(_this._state);\n    });\n  },\n  get type() {\n    return this.method.type;\n  },\n  get isClosed() {\n    return this.closed;\n  }\n};\n\n/**\n * Post a message over the channel\n * @returns {Promise} that resolved when the message sending is done\n */\nfunction _post(broadcastChannel, type, msg) {\n  var time = broadcastChannel.method.microSeconds();\n  var msgObj = {\n    time: time,\n    type: type,\n    data: msg\n  };\n  var awaitPrepare = broadcastChannel._prepP ? broadcastChannel._prepP : _util.PROMISE_RESOLVED_VOID;\n  return awaitPrepare.then(function () {\n    var sendPromise = broadcastChannel.method.postMessage(broadcastChannel._state, msgObj);\n\n    // add/remove to unsend messages list\n    broadcastChannel._uMP.add(sendPromise);\n    sendPromise[\"catch\"]().then(function () {\n      return broadcastChannel._uMP[\"delete\"](sendPromise);\n    });\n    return sendPromise;\n  });\n}\nfunction _prepareChannel(channel) {\n  var maybePromise = channel.method.create(channel.name, channel.options);\n  if ((0, _util.isPromise)(maybePromise)) {\n    channel._prepP = maybePromise;\n    maybePromise.then(function (s) {\n      // used in tests to simulate slow runtime\n      /*if (channel.options.prepareDelay) {\n           await new Promise(res => setTimeout(res, this.options.prepareDelay));\n      }*/\n      channel._state = s;\n    });\n  } else {\n    channel._state = maybePromise;\n  }\n}\nfunction _hasMessageListeners(channel) {\n  if (channel._addEL.message.length > 0) return true;\n  if (channel._addEL.internal.length > 0) return true;\n  return false;\n}\nfunction _addListenerObject(channel, type, obj) {\n  channel._addEL[type].push(obj);\n  _startListening(channel);\n}\nfunction _removeListenerObject(channel, type, obj) {\n  channel._addEL[type] = channel._addEL[type].filter(function (o) {\n    return o !== obj;\n  });\n  _stopListening(channel);\n}\nfunction _startListening(channel) {\n  if (!channel._iL && _hasMessageListeners(channel)) {\n    // someone is listening, start subscribing\n\n    var listenerFn = function listenerFn(msgObj) {\n      channel._addEL[msgObj.type].forEach(function (listenerObject) {\n        /**\n         * Getting the current time in JavaScript has no good precision.\n         * So instead of only listening to events that happend 'after' the listener\n         * was added, we also listen to events that happended 100ms before it.\n         * This ensures that when another process, like a WebWorker, sends events\n         * we do not miss them out because their timestamp is a bit off compared to the main process.\n         * Not doing this would make messages missing when we send data directly after subscribing and awaiting a response.\n         * @link https://johnresig.com/blog/accuracy-of-javascript-time/\n         */\n        var hundredMsInMicro = 100 * 1000;\n        var minMessageTime = listenerObject.time - hundredMsInMicro;\n        if (msgObj.time >= minMessageTime) {\n          listenerObject.fn(msgObj.data);\n        } else if (channel.method.type === 'server') {\n          // server msg might lag based on connection.\n          listenerObject.fn(msgObj.data);\n        }\n      });\n    };\n    var time = channel.method.microSeconds();\n    if (channel._prepP) {\n      channel._prepP.then(function () {\n        channel._iL = true;\n        channel.method.onMessage(channel._state, listenerFn, time);\n      });\n    } else {\n      channel._iL = true;\n      channel.method.onMessage(channel._state, listenerFn, time);\n    }\n  }\n}\nfunction _stopListening(channel) {\n  if (channel._iL && !_hasMessageListeners(channel)) {\n    // noone is listening, stop subscribing\n    channel._iL = false;\n    var time = channel.method.microSeconds();\n    channel.method.onMessage(channel._state, null, time);\n  }\n}","\"use strict\";\n\nvar _index = require(\"./index.js\");\n/**\n * because babel can only export on default-attribute,\n * we use this for the non-module-build\n * this ensures that users do not have to use\n * var BroadcastChannel = require('broadcast-channel').default;\n * but\n * var BroadcastChannel = require('broadcast-channel');\n */\n\nmodule.exports = {\n  BroadcastChannel: _index.BroadcastChannel,\n  enforceOptions: _index.enforceOptions\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"BroadcastChannel\", {\n  enumerable: true,\n  get: function get() {\n    return _broadcastChannel.BroadcastChannel;\n  }\n});\nObject.defineProperty(exports, \"OPEN_BROADCAST_CHANNELS\", {\n  enumerable: true,\n  get: function get() {\n    return _broadcastChannel.OPEN_BROADCAST_CHANNELS;\n  }\n});\nObject.defineProperty(exports, \"enforceOptions\", {\n  enumerable: true,\n  get: function get() {\n    return _broadcastChannel.enforceOptions;\n  }\n});\nvar _broadcastChannel = require(\"./broadcast-channel\");","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.chooseMethod = chooseMethod;\nvar _native = _interopRequireDefault(require(\"./methods/native.js\"));\nvar _indexedDb = _interopRequireDefault(require(\"./methods/indexed-db.js\"));\nvar _localstorage = _interopRequireDefault(require(\"./methods/localstorage.js\"));\nvar _server = _interopRequireDefault(require(\"./methods/server.js\"));\nvar _simulate = _interopRequireDefault(require(\"./methods/simulate.js\"));\n// order is important\nvar METHODS = [_native[\"default\"],\n// fastest\n_indexedDb[\"default\"], _localstorage[\"default\"], _server[\"default\"]];\nfunction chooseMethod(options) {\n  var chooseMethods = [].concat(options.methods, METHODS).filter(Boolean);\n\n  // directly chosen\n  if (options.type) {\n    if (options.type === 'simulate') {\n      // only use simulate-method if directly chosen\n      return _simulate[\"default\"];\n    }\n    var ret = chooseMethods.find(function (m) {\n      return m.type === options.type;\n    });\n    if (!ret) throw new Error('method-type ' + options.type + ' not found');else return ret;\n  }\n\n  /**\n   * if no webworker support is needed,\n   * remove idb from the list so that localstorage is been chosen\n   */\n  if (!options.webWorkerSupport) {\n    chooseMethods = chooseMethods.filter(function (m) {\n      return m.type !== 'idb';\n    });\n  }\n  var useMethod = chooseMethods.find(function (method) {\n    return method.canBeUsed(options);\n  });\n  if (!useMethod) throw new Error(\"No useable method found in \" + JSON.stringify(METHODS.map(function (m) {\n    return m.type;\n  })));else return useMethod;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TRANSACTION_SETTINGS = void 0;\nexports.averageResponseTime = averageResponseTime;\nexports.canBeUsed = canBeUsed;\nexports.cleanOldMessages = cleanOldMessages;\nexports.close = close;\nexports.commitIndexedDBTransaction = commitIndexedDBTransaction;\nexports.create = create;\nexports.createDatabase = createDatabase;\nexports[\"default\"] = void 0;\nexports.getAllMessages = getAllMessages;\nexports.getIdb = getIdb;\nexports.getMessagesHigherThan = getMessagesHigherThan;\nexports.getOldMessages = getOldMessages;\nexports.microSeconds = void 0;\nexports.onMessage = onMessage;\nexports.postMessage = postMessage;\nexports.removeMessagesById = removeMessagesById;\nexports.type = void 0;\nexports.writeMessage = writeMessage;\nvar _util = require(\"../util.js\");\nvar _obliviousSet = require(\"oblivious-set\");\nvar _options = require(\"../options\");\n/**\n * this method uses indexeddb to store the messages\n * There is currently no observerAPI for idb\n * @link https://github.com/w3c/IndexedDB/issues/51\n *\n * When working on this, ensure to use these performance optimizations:\n * @link https://rxdb.info/slow-indexeddb.html\n */\n\nvar microSeconds = _util.microSeconds;\nexports.microSeconds = microSeconds;\nvar DB_PREFIX = 'pubkey.broadcast-channel-0-';\nvar OBJECT_STORE_ID = 'messages';\n\n/**\n * Use relaxed durability for faster performance on all transactions.\n * @link https://nolanlawson.com/2021/08/22/speeding-up-indexeddb-reads-and-writes/\n */\nvar TRANSACTION_SETTINGS = {\n  durability: 'relaxed'\n};\nexports.TRANSACTION_SETTINGS = TRANSACTION_SETTINGS;\nvar type = 'idb';\nexports.type = type;\nfunction getIdb() {\n  if (typeof indexedDB !== 'undefined') return indexedDB;\n  if (typeof window !== 'undefined') {\n    if (typeof window.mozIndexedDB !== 'undefined') return window.mozIndexedDB;\n    if (typeof window.webkitIndexedDB !== 'undefined') return window.webkitIndexedDB;\n    if (typeof window.msIndexedDB !== 'undefined') return window.msIndexedDB;\n  }\n  return false;\n}\n\n/**\n * If possible, we should explicitly commit IndexedDB transactions\n * for better performance.\n * @link https://nolanlawson.com/2021/08/22/speeding-up-indexeddb-reads-and-writes/\n */\nfunction commitIndexedDBTransaction(tx) {\n  if (tx.commit) {\n    tx.commit();\n  }\n}\nfunction createDatabase(channelName) {\n  var IndexedDB = getIdb();\n\n  // create table\n  var dbName = DB_PREFIX + channelName;\n\n  /**\n   * All IndexedDB databases are opened without version\n   * because it is a bit faster, especially on firefox\n   * @link http://nparashuram.com/IndexedDB/perf/#Open%20Database%20with%20version\n   */\n  var openRequest = IndexedDB.open(dbName);\n  openRequest.onupgradeneeded = function (ev) {\n    var db = ev.target.result;\n    db.createObjectStore(OBJECT_STORE_ID, {\n      keyPath: 'id',\n      autoIncrement: true\n    });\n  };\n  var dbPromise = new Promise(function (res, rej) {\n    openRequest.onerror = function (ev) {\n      return rej(ev);\n    };\n    openRequest.onsuccess = function () {\n      res(openRequest.result);\n    };\n  });\n  return dbPromise;\n}\n\n/**\n * writes the new message to the database\n * so other readers can find it\n */\nfunction writeMessage(db, readerUuid, messageJson) {\n  var time = new Date().getTime();\n  var writeObject = {\n    uuid: readerUuid,\n    time: time,\n    data: messageJson\n  };\n  var tx = db.transaction([OBJECT_STORE_ID], 'readwrite', TRANSACTION_SETTINGS);\n  return new Promise(function (res, rej) {\n    tx.oncomplete = function () {\n      return res();\n    };\n    tx.onerror = function (ev) {\n      return rej(ev);\n    };\n    var objectStore = tx.objectStore(OBJECT_STORE_ID);\n    objectStore.add(writeObject);\n    commitIndexedDBTransaction(tx);\n  });\n}\nfunction getAllMessages(db) {\n  var tx = db.transaction(OBJECT_STORE_ID, 'readonly', TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  return new Promise(function (res) {\n    objectStore.openCursor().onsuccess = function (ev) {\n      var cursor = ev.target.result;\n      if (cursor) {\n        ret.push(cursor.value);\n        //alert(\"Name for SSN \" + cursor.key + \" is \" + cursor.value.name);\n        cursor[\"continue\"]();\n      } else {\n        commitIndexedDBTransaction(tx);\n        res(ret);\n      }\n    };\n  });\n}\nfunction getMessagesHigherThan(db, lastCursorId) {\n  var tx = db.transaction(OBJECT_STORE_ID, 'readonly', TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  var keyRangeValue = IDBKeyRange.bound(lastCursorId + 1, Infinity);\n\n  /**\n   * Optimization shortcut,\n   * if getAll() can be used, do not use a cursor.\n   * @link https://rxdb.info/slow-indexeddb.html\n   */\n  if (objectStore.getAll) {\n    var getAllRequest = objectStore.getAll(keyRangeValue);\n    return new Promise(function (res, rej) {\n      getAllRequest.onerror = function (err) {\n        return rej(err);\n      };\n      getAllRequest.onsuccess = function (e) {\n        res(e.target.result);\n      };\n    });\n  }\n  function openCursor() {\n    // Occasionally Safari will fail on IDBKeyRange.bound, this\n    // catches that error, having it open the cursor to the first\n    // item. When it gets data it will advance to the desired key.\n    try {\n      keyRangeValue = IDBKeyRange.bound(lastCursorId + 1, Infinity);\n      return objectStore.openCursor(keyRangeValue);\n    } catch (e) {\n      return objectStore.openCursor();\n    }\n  }\n  return new Promise(function (res, rej) {\n    var openCursorRequest = openCursor();\n    openCursorRequest.onerror = function (err) {\n      return rej(err);\n    };\n    openCursorRequest.onsuccess = function (ev) {\n      var cursor = ev.target.result;\n      if (cursor) {\n        if (cursor.value.id < lastCursorId + 1) {\n          cursor[\"continue\"](lastCursorId + 1);\n        } else {\n          ret.push(cursor.value);\n          cursor[\"continue\"]();\n        }\n      } else {\n        commitIndexedDBTransaction(tx);\n        res(ret);\n      }\n    };\n  });\n}\nfunction removeMessagesById(db, ids) {\n  var tx = db.transaction([OBJECT_STORE_ID], 'readwrite', TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  return Promise.all(ids.map(function (id) {\n    var deleteRequest = objectStore[\"delete\"](id);\n    return new Promise(function (res) {\n      deleteRequest.onsuccess = function () {\n        return res();\n      };\n    });\n  }));\n}\nfunction getOldMessages(db, ttl) {\n  var olderThen = new Date().getTime() - ttl;\n  var tx = db.transaction(OBJECT_STORE_ID, 'readonly', TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  return new Promise(function (res) {\n    objectStore.openCursor().onsuccess = function (ev) {\n      var cursor = ev.target.result;\n      if (cursor) {\n        var msgObk = cursor.value;\n        if (msgObk.time < olderThen) {\n          ret.push(msgObk);\n          //alert(\"Name for SSN \" + cursor.key + \" is \" + cursor.value.name);\n          cursor[\"continue\"]();\n        } else {\n          // no more old messages,\n          commitIndexedDBTransaction(tx);\n          res(ret);\n          return;\n        }\n      } else {\n        res(ret);\n      }\n    };\n  });\n}\nfunction cleanOldMessages(db, ttl) {\n  return getOldMessages(db, ttl).then(function (tooOld) {\n    return removeMessagesById(db, tooOld.map(function (msg) {\n      return msg.id;\n    }));\n  });\n}\nfunction create(channelName, options) {\n  options = (0, _options.fillOptionsWithDefaults)(options);\n  return createDatabase(channelName).then(function (db) {\n    var state = {\n      closed: false,\n      lastCursorId: 0,\n      channelName: channelName,\n      options: options,\n      uuid: (0, _util.randomToken)(),\n      /**\n       * emittedMessagesIds\n       * contains all messages that have been emitted before\n       * @type {ObliviousSet}\n       */\n      eMIs: new _obliviousSet.ObliviousSet(options.idb.ttl * 2),\n      // ensures we do not read messages in parrallel\n      writeBlockPromise: _util.PROMISE_RESOLVED_VOID,\n      messagesCallback: null,\n      readQueuePromises: [],\n      db: db\n    };\n\n    /**\n     * Handle abrupt closes that do not originate from db.close().\n     * This could happen, for example, if the underlying storage is\n     * removed or if the user clears the database in the browser's\n     * history preferences.\n     */\n    db.onclose = function () {\n      state.closed = true;\n      if (options.idb.onclose) options.idb.onclose();\n    };\n\n    /**\n     * if service-workers are used,\n     * we have no 'storage'-event if they post a message,\n     * therefore we also have to set an interval\n     */\n    _readLoop(state);\n    return state;\n  });\n}\nfunction _readLoop(state) {\n  if (state.closed) return;\n  readNewMessages(state).then(function () {\n    return (0, _util.sleep)(state.options.idb.fallbackInterval);\n  }).then(function () {\n    return _readLoop(state);\n  });\n}\nfunction _filterMessage(msgObj, state) {\n  if (msgObj.uuid === state.uuid) return false; // send by own\n  if (state.eMIs.has(msgObj.id)) return false; // already emitted\n  if (msgObj.data.time < state.messagesCallbackTime) return false; // older then onMessageCallback\n  return true;\n}\n\n/**\n * reads all new messages from the database and emits them\n */\nfunction readNewMessages(state) {\n  // channel already closed\n  if (state.closed) return _util.PROMISE_RESOLVED_VOID;\n\n  // if no one is listening, we do not need to scan for new messages\n  if (!state.messagesCallback) return _util.PROMISE_RESOLVED_VOID;\n  return getMessagesHigherThan(state.db, state.lastCursorId).then(function (newerMessages) {\n    var useMessages = newerMessages\n    /**\n     * there is a bug in iOS where the msgObj can be undefined some times\n     * so we filter them out\n     * @link https://github.com/pubkey/broadcast-channel/issues/19\n     */.filter(function (msgObj) {\n      return !!msgObj;\n    }).map(function (msgObj) {\n      if (msgObj.id > state.lastCursorId) {\n        state.lastCursorId = msgObj.id;\n      }\n      return msgObj;\n    }).filter(function (msgObj) {\n      return _filterMessage(msgObj, state);\n    }).sort(function (msgObjA, msgObjB) {\n      return msgObjA.time - msgObjB.time;\n    }); // sort by time\n    useMessages.forEach(function (msgObj) {\n      if (state.messagesCallback) {\n        state.eMIs.add(msgObj.id);\n        state.messagesCallback(msgObj.data);\n      }\n    });\n    return _util.PROMISE_RESOLVED_VOID;\n  });\n}\nfunction close(channelState) {\n  channelState.closed = true;\n  channelState.db.close();\n}\nfunction postMessage(channelState, messageJson) {\n  channelState.writeBlockPromise = channelState.writeBlockPromise.then(function () {\n    return writeMessage(channelState.db, channelState.uuid, messageJson);\n  }).then(function () {\n    if ((0, _util.randomInt)(0, 10) === 0) {\n      /* await (do not await) */\n      cleanOldMessages(channelState.db, channelState.options.idb.ttl);\n    }\n  });\n  return channelState.writeBlockPromise;\n}\nfunction onMessage(channelState, fn, time) {\n  channelState.messagesCallbackTime = time;\n  channelState.messagesCallback = fn;\n  readNewMessages(channelState);\n}\nfunction canBeUsed(options) {\n  if (!options.support3PC) return false;\n  var idb = getIdb();\n  if (!idb) return false;\n  return true;\n}\nfunction averageResponseTime(options) {\n  return options.idb.fallbackInterval * 2;\n}\nvar _default = {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addStorageEventListener = addStorageEventListener;\nexports.averageResponseTime = averageResponseTime;\nexports.canBeUsed = canBeUsed;\nexports.close = close;\nexports.create = create;\nexports[\"default\"] = void 0;\nexports.getLocalStorage = getLocalStorage;\nexports.microSeconds = void 0;\nexports.onMessage = onMessage;\nexports.postMessage = postMessage;\nexports.removeStorageEventListener = removeStorageEventListener;\nexports.storageKey = storageKey;\nexports.type = void 0;\nvar _obliviousSet = require(\"oblivious-set\");\nvar _options = require(\"../options\");\nvar _util = require(\"../util\");\n/**\n * A localStorage-only method which uses localstorage and its 'storage'-event\n * This does not work inside of webworkers because they have no access to locastorage\n * This is basically implemented to support IE9 or your grandmothers toaster.\n * @link https://caniuse.com/#feat=namevalue-storage\n * @link https://caniuse.com/#feat=indexeddb\n */\n\nvar microSeconds = _util.microSeconds;\nexports.microSeconds = microSeconds;\nvar KEY_PREFIX = 'pubkey.broadcastChannel-';\nvar type = 'localstorage';\n\n/**\n * copied from crosstab\n * @link https://github.com/tejacques/crosstab/blob/master/src/crosstab.js#L32\n */\nexports.type = type;\nfunction getLocalStorage() {\n  var localStorage;\n  if (typeof window === 'undefined') return null;\n  try {\n    localStorage = window.localStorage;\n    localStorage = window['ie8-eventlistener/storage'] || window.localStorage;\n  } catch (e) {\n    // New versions of Firefox throw a Security exception\n    // if cookies are disabled. See\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1028153\n  }\n  return localStorage;\n}\nfunction storageKey(channelName) {\n  return KEY_PREFIX + channelName;\n}\n\n/**\n * writes the new message to the storage\n * and fires the storage-event so other readers can find it\n */\nfunction postMessage(channelState, messageJson) {\n  return new Promise(function (res) {\n    (0, _util.sleep)().then(function () {\n      var key = storageKey(channelState.channelName);\n      var writeObj = {\n        token: (0, _util.randomToken)(),\n        time: new Date().getTime(),\n        data: messageJson,\n        uuid: channelState.uuid\n      };\n      var value = JSON.stringify(writeObj);\n      getLocalStorage().setItem(key, value);\n\n      /**\n       * StorageEvent does not fire the 'storage' event\n       * in the window that changes the state of the local storage.\n       * So we fire it manually\n       */\n      var ev = document.createEvent('Event');\n      ev.initEvent('storage', true, true);\n      ev.key = key;\n      ev.newValue = value;\n      window.dispatchEvent(ev);\n      res();\n    });\n  });\n}\nfunction addStorageEventListener(channelName, fn) {\n  var key = storageKey(channelName);\n  var listener = function listener(ev) {\n    if (ev.key === key) {\n      fn(JSON.parse(ev.newValue));\n    }\n  };\n  window.addEventListener('storage', listener);\n  return listener;\n}\nfunction removeStorageEventListener(listener) {\n  window.removeEventListener('storage', listener);\n}\nfunction create(channelName, options) {\n  options = (0, _options.fillOptionsWithDefaults)(options);\n  if (!canBeUsed(options)) {\n    throw new Error('BroadcastChannel: localstorage cannot be used');\n  }\n  var uuid = (0, _util.randomToken)();\n\n  /**\n   * eMIs\n   * contains all messages that have been emitted before\n   * @type {ObliviousSet}\n   */\n  var eMIs = new _obliviousSet.ObliviousSet(options.localstorage.removeTimeout);\n  var state = {\n    channelName: channelName,\n    uuid: uuid,\n    eMIs: eMIs // emittedMessagesIds\n  };\n\n  state.listener = addStorageEventListener(channelName, function (msgObj) {\n    if (!state.messagesCallback) return; // no listener\n    if (msgObj.uuid === uuid) return; // own message\n    if (!msgObj.token || eMIs.has(msgObj.token)) return; // already emitted\n    if (msgObj.data.time && msgObj.data.time < state.messagesCallbackTime) return; // too old\n\n    eMIs.add(msgObj.token);\n    state.messagesCallback(msgObj.data);\n  });\n  return state;\n}\nfunction close(channelState) {\n  removeStorageEventListener(channelState.listener);\n}\nfunction onMessage(channelState, fn, time) {\n  channelState.messagesCallbackTime = time;\n  channelState.messagesCallback = fn;\n}\nfunction canBeUsed(options) {\n  if (!options.support3PC) return false;\n  var ls = getLocalStorage();\n  if (!ls) return false;\n  try {\n    var key = '__broadcastchannel_check';\n    ls.setItem(key, 'works');\n    ls.removeItem(key);\n  } catch (e) {\n    // Safari 10 in private mode will not allow write access to local\n    // storage and fail with a QuotaExceededError. See\n    // https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API#Private_Browsing_Incognito_modes\n    return false;\n  }\n  return true;\n}\nfunction averageResponseTime() {\n  var defaultTime = 120;\n  var userAgent = navigator.userAgent.toLowerCase();\n  if (userAgent.includes('safari') && !userAgent.includes('chrome')) {\n    // safari is much slower so this time is higher\n    return defaultTime * 2;\n  }\n  return defaultTime;\n}\nvar _default = {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.averageResponseTime = averageResponseTime;\nexports.canBeUsed = canBeUsed;\nexports.close = close;\nexports.create = create;\nexports.microSeconds = exports[\"default\"] = void 0;\nexports.onMessage = onMessage;\nexports.postMessage = postMessage;\nexports.type = void 0;\nvar _util = require(\"../util\");\nvar microSeconds = _util.microSeconds;\nexports.microSeconds = microSeconds;\nvar type = 'native';\nexports.type = type;\nfunction create(channelName) {\n  var state = {\n    messagesCallback: null,\n    bc: new BroadcastChannel(channelName),\n    subFns: [] // subscriberFunctions\n  };\n\n  state.bc.onmessage = function (msg) {\n    if (state.messagesCallback) {\n      state.messagesCallback(msg.data);\n    }\n  };\n  return state;\n}\nfunction close(channelState) {\n  channelState.bc.close();\n  channelState.subFns = [];\n}\nfunction postMessage(channelState, messageJson) {\n  try {\n    channelState.bc.postMessage(messageJson, false);\n    return _util.PROMISE_RESOLVED_VOID;\n  } catch (err) {\n    return Promise.reject(err);\n  }\n}\nfunction onMessage(channelState, fn) {\n  channelState.messagesCallback = fn;\n}\nfunction canBeUsed(options) {\n  /**\n   * in the electron-renderer, isNode will be true even if we are in browser-context\n   * so we also check if window is undefined\n   */\n  if (typeof window === 'undefined') return false;\n  if (!options.support3PC) return false;\n  if (typeof BroadcastChannel === 'function') {\n    if (BroadcastChannel._pubkey) {\n      throw new Error('BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill');\n    }\n    return true;\n  } else return false;\n}\nfunction averageResponseTime() {\n  return 150;\n}\nvar _default = {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.averageResponseTime = averageResponseTime;\nexports.canBeUsed = canBeUsed;\nexports.close = close;\nexports.create = create;\nexports[\"default\"] = void 0;\nexports.getSocketInstance = getSocketInstance;\nexports.microSeconds = void 0;\nexports.onMessage = onMessage;\nexports.postMessage = postMessage;\nexports.removeStorageEventListener = removeStorageEventListener;\nexports.setupSocketConnection = setupSocketConnection;\nexports.storageKey = storageKey;\nexports.type = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _obliviousSet = require(\"oblivious-set\");\nvar _socket = require(\"socket.io-client\");\nvar _eccrypto = require(\"@toruslabs/eccrypto\");\nvar _metadataHelpers = require(\"@toruslabs/metadata-helpers\");\nvar _util = require(\"../util\");\nvar _options = require(\"../options\");\n/**\n * A localStorage-only method which uses localstorage and its 'storage'-event\n * This does not work inside of webworkers because they have no access to locastorage\n * This is basically implemented to support IE9 or your grandmothers toaster.\n * @link https://caniuse.com/#feat=namevalue-storage\n * @link https://caniuse.com/#feat=indexeddb\n */\n\nvar microSeconds = _util.microSeconds;\nexports.microSeconds = microSeconds;\nvar KEY_PREFIX = 'pubkey.broadcastChannel-';\nvar type = 'server';\nexports.type = type;\nvar SOCKET_CONN_INSTANCE = null;\n// used to decide to reconnect socket e.g. when socket connection is disconnected unexpectedly\nvar runningChannels = new Set();\nfunction storageKey(channelName) {\n  return KEY_PREFIX + channelName;\n}\n\n/**\n * writes the new message to the storage\n * and fires the storage-event so other readers can find it\n */\nfunction postMessage(channelState, messageJson) {\n  return new Promise(function (res, rej) {\n    (0, _util.sleep)().then( /*#__PURE__*/(0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n      var key, channelEncPrivKey, encData, body;\n      return _regenerator[\"default\"].wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            key = storageKey(channelState.channelName);\n            channelEncPrivKey = (0, _metadataHelpers.keccak256)(Buffer.from(key, 'utf8'));\n            _context.next = 4;\n            return (0, _metadataHelpers.encryptData)(channelEncPrivKey.toString('hex'), {\n              token: (0, _util.randomToken)(),\n              time: new Date().getTime(),\n              data: messageJson,\n              uuid: channelState.uuid\n            });\n          case 4:\n            encData = _context.sent;\n            _context.t0 = (0, _eccrypto.getPublic)(channelEncPrivKey).toString('hex');\n            _context.t1 = encData;\n            _context.next = 9;\n            return (0, _eccrypto.sign)(channelEncPrivKey, (0, _metadataHelpers.keccak256)(Buffer.from(encData, 'utf8')));\n          case 9:\n            _context.t2 = _context.sent.toString('hex');\n            body = {\n              sameOriginCheck: true,\n              sameIpCheck: true,\n              key: _context.t0,\n              data: _context.t1,\n              signature: _context.t2\n            };\n            if (channelState.timeout) body.timeout = channelState.timeout;\n            return _context.abrupt(\"return\", fetch(channelState.serverUrl + '/channel/set', {\n              method: 'POST',\n              body: JSON.stringify(body),\n              headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n              }\n            }).then(res)[\"catch\"](rej));\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    })));\n  });\n}\nfunction getSocketInstance(serverUrl) {\n  if (SOCKET_CONN_INSTANCE) {\n    return SOCKET_CONN_INSTANCE;\n  }\n  var SOCKET_CONN = (0, _socket.io)(serverUrl, {\n    transports: ['websocket', 'polling'],\n    // use WebSocket first, if available\n    withCredentials: true,\n    reconnectionDelayMax: 10000,\n    reconnectionAttempts: 10\n  });\n  SOCKET_CONN.on('connect_error', function (err) {\n    // revert to classic upgrade\n    SOCKET_CONN.io.opts.transports = ['polling', 'websocket'];\n    _util.log.error('connect error', err);\n  });\n  SOCKET_CONN.on('connect', /*#__PURE__*/(0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2() {\n    var engine;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          engine = SOCKET_CONN.io.engine;\n          _util.log.debug('initially connected to', engine.transport.name); // in most cases, prints \"polling\"\n          engine.once('upgrade', function () {\n            // called when the transport is upgraded (i.e. from HTTP long-polling to WebSocket)\n            _util.log.debug('upgraded', engine.transport.name); // in most cases, prints \"websocket\"\n          });\n\n          engine.once('close', function (reason) {\n            // called when the underlying connection is closed\n            _util.log.debug('connection closed', reason);\n          });\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  })));\n  SOCKET_CONN.on('error', function (err) {\n    _util.log.error('socket errored', err);\n    SOCKET_CONN.disconnect();\n  });\n  SOCKET_CONN_INSTANCE = SOCKET_CONN;\n  return SOCKET_CONN;\n}\nfunction setupSocketConnection(serverUrl, channelState, fn) {\n  var socketConn = getSocketInstance(serverUrl);\n  var key = storageKey(channelState.channelName);\n  var channelEncPrivKey = (0, _metadataHelpers.keccak256)(Buffer.from(key, 'utf8'));\n  var channelPubKey = (0, _eccrypto.getPublic)(channelEncPrivKey).toString('hex');\n  if (socketConn.connected) {\n    socketConn.emit('check_auth_status', channelPubKey, {\n      sameOriginCheck: true,\n      sameIpCheck: true\n    });\n  } else {\n    socketConn.once('connect', function () {\n      _util.log.debug('connected with socket');\n      socketConn.emit('check_auth_status', channelPubKey, {\n        sameOriginCheck: true,\n        sameIpCheck: true\n      });\n    });\n  }\n  var reconnect = function reconnect() {\n    socketConn.once('connect', /*#__PURE__*/(0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3() {\n      return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            if (runningChannels.has(channelState.channelName)) {\n              socketConn.emit('check_auth_status', channelPubKey, {\n                sameOriginCheck: true,\n                sameIpCheck: true\n              });\n            }\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    })));\n  };\n  var visibilityListener = function visibilityListener() {\n    // if channel is closed, then remove the listener.\n    if (!socketConn || !runningChannels.has(channelState.channelName)) {\n      document.removeEventListener('visibilitychange', visibilityListener);\n      return;\n    }\n    // if not connected, then wait for connection and ping server for latest msg.\n    if (!socketConn.connected && document.visibilityState === 'visible') {\n      reconnect();\n    }\n  };\n  var listener = /*#__PURE__*/function () {\n    var _ref4 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(ev) {\n      var decData;\n      return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return (0, _metadataHelpers.decryptData)(channelEncPrivKey.toString('hex'), ev);\n          case 3:\n            decData = _context4.sent;\n            _util.log.info(decData);\n            fn(decData);\n            _context4.next = 11;\n            break;\n          case 8:\n            _context4.prev = 8;\n            _context4.t0 = _context4[\"catch\"](0);\n            _util.log.error(_context4.t0);\n          case 11:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4, null, [[0, 8]]);\n    }));\n    return function listener(_x) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  socketConn.on('disconnect', function () {\n    _util.log.debug('socket disconnected');\n    if (runningChannels.has(channelState.channelName)) {\n      _util.log.error('socket disconnected unexpectedly, reconnecting socket');\n      reconnect();\n    }\n  });\n  socketConn.on(channelPubKey + \"_success\", listener);\n  if (typeof document !== 'undefined') document.addEventListener('visibilitychange', visibilityListener);\n  return socketConn;\n}\nfunction removeStorageEventListener() {\n  if (SOCKET_CONN_INSTANCE) {\n    SOCKET_CONN_INSTANCE.disconnect();\n  }\n}\nfunction create(channelName, options) {\n  options = (0, _options.fillOptionsWithDefaults)(options);\n  if (!canBeUsed(options)) {\n    throw new Error('BroadcastChannel: server cannot be used');\n  }\n  var uuid = (0, _util.randomToken)();\n\n  /**\n   * eMIs\n   * contains all messages that have been emitted before\n   * @type {ObliviousSet}\n   */\n  var eMIs = new _obliviousSet.ObliviousSet(options.server.removeTimeout);\n  var state = {\n    channelName: channelName,\n    uuid: uuid,\n    eMIs: eMIs,\n    // emittedMessagesIds\n    serverUrl: options.server.url\n  };\n  if (options.server.timeout) state.timeout = options.server.timeout;\n  setupSocketConnection(options.server.url, state, function (msgObj) {\n    if (!state.messagesCallback) return; // no listener\n    if (msgObj.uuid === state.uuid) return; // own message\n    if (!msgObj.token || state.eMIs.has(msgObj.token)) return; // already emitted\n    // if (msgObj.data.time && msgObj.data.time < state.messagesCallbackTime) return; // too old\n\n    state.eMIs.add(msgObj.token);\n    state.messagesCallback(msgObj.data);\n  });\n  runningChannels.add(channelName);\n  return state;\n}\nfunction close(channelState) {\n  runningChannels[\"delete\"](channelState.channelName);\n  // give 2 sec for all msgs which are in transit to be consumed\n  // by receiver.\n  // window.setTimeout(() => {\n  //     removeStorageEventListener(channelState);\n  //     SOCKET_CONN_INSTANCE = null;\n  // }, 1000);\n}\n\nfunction onMessage(channelState, fn, time) {\n  channelState.messagesCallbackTime = time;\n  channelState.messagesCallback = fn;\n}\nfunction canBeUsed() {\n  return true;\n}\nfunction averageResponseTime() {\n  var defaultTime = 500;\n  // TODO: Maybe increase it based on operation\n  return defaultTime;\n}\nvar _default = {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.averageResponseTime = averageResponseTime;\nexports.canBeUsed = canBeUsed;\nexports.close = close;\nexports.create = create;\nexports.microSeconds = exports[\"default\"] = void 0;\nexports.onMessage = onMessage;\nexports.postMessage = postMessage;\nexports.type = void 0;\nvar _util = require(\"../util\");\nvar microSeconds = _util.microSeconds;\nexports.microSeconds = microSeconds;\nvar type = 'simulate';\nexports.type = type;\nvar SIMULATE_CHANNELS = new Set();\nfunction create(channelName) {\n  var state = {\n    name: channelName,\n    messagesCallback: null\n  };\n  SIMULATE_CHANNELS.add(state);\n  return state;\n}\nfunction close(channelState) {\n  SIMULATE_CHANNELS[\"delete\"](channelState);\n}\nfunction postMessage(channelState, messageJson) {\n  return new Promise(function (res) {\n    return setTimeout(function () {\n      var channelArray = Array.from(SIMULATE_CHANNELS);\n      channelArray.filter(function (channel) {\n        return channel.name === channelState.name;\n      }).filter(function (channel) {\n        return channel !== channelState;\n      }).filter(function (channel) {\n        return !!channel.messagesCallback;\n      }).forEach(function (channel) {\n        return channel.messagesCallback(messageJson);\n      });\n      res();\n    }, 5);\n  });\n}\nfunction onMessage(channelState, fn) {\n  channelState.messagesCallback = fn;\n}\nfunction canBeUsed() {\n  return true;\n}\nfunction averageResponseTime() {\n  return 5;\n}\nvar _default = {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fillOptionsWithDefaults = fillOptionsWithDefaults;\nvar _util = require(\"./util\");\nfunction fillOptionsWithDefaults() {\n  var originalOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = JSON.parse(JSON.stringify(originalOptions));\n  if (typeof options.support3PC === 'undefined') options.support3PC = (0, _util.are3PCSupported)();\n\n  // main\n  if (typeof options.webWorkerSupport === 'undefined') options.webWorkerSupport = true;\n\n  // indexed-db\n  if (!options.idb) options.idb = {};\n  //  after this time the messages get deleted\n  if (!options.idb.ttl) options.idb.ttl = 1000 * 45;\n  if (!options.idb.fallbackInterval) options.idb.fallbackInterval = 150;\n  //  handles abrupt db onclose events.\n  if (originalOptions.idb && typeof originalOptions.idb.onclose === 'function') options.idb.onclose = originalOptions.idb.onclose;\n\n  // localstorage\n  if (!options.localstorage) options.localstorage = {};\n  if (!options.localstorage.removeTimeout) options.localstorage.removeTimeout = 1000 * 60;\n\n  // server\n  if (!options.server) options.server = {};\n  if (!options.server.url) options.server.url = 'https://broadcast-server.tor.us';\n  if (!options.server.removeTimeout) options.server.removeTimeout = 1000 * 60 * 5; // 5 minutes\n\n  // custom methods\n  if (originalOptions.methods) options.methods = originalOptions.methods;\n  return options;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PROMISE_RESOLVED_VOID = exports.PROMISE_RESOLVED_TRUE = exports.PROMISE_RESOLVED_FALSE = void 0;\nexports.are3PCSupported = are3PCSupported;\nexports.isPromise = isPromise;\nexports.log = void 0;\nexports.microSeconds = microSeconds;\nexports.randomInt = randomInt;\nexports.randomToken = randomToken;\nexports.setLogLevel = void 0;\nexports.sleep = sleep;\nvar _bowser = _interopRequireDefault(require(\"bowser\"));\nvar _loglevel = _interopRequireDefault(require(\"loglevel\"));\n/**\n * returns true if the given object is a promise\n */\nfunction isPromise(obj) {\n  if (obj && typeof obj.then === 'function') {\n    return true;\n  } else {\n    return false;\n  }\n}\nvar PROMISE_RESOLVED_FALSE = Promise.resolve(false);\nexports.PROMISE_RESOLVED_FALSE = PROMISE_RESOLVED_FALSE;\nvar PROMISE_RESOLVED_TRUE = Promise.resolve(true);\nexports.PROMISE_RESOLVED_TRUE = PROMISE_RESOLVED_TRUE;\nvar PROMISE_RESOLVED_VOID = Promise.resolve();\nexports.PROMISE_RESOLVED_VOID = PROMISE_RESOLVED_VOID;\nfunction sleep(time, resolveWith) {\n  if (!time) time = 0;\n  return new Promise(function (res) {\n    return setTimeout(function () {\n      return res(resolveWith);\n    }, time);\n  });\n}\nfunction randomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\n/**\n * https://stackoverflow.com/a/8084248\n */\nfunction randomToken() {\n  return Math.random().toString(36).substring(2);\n}\nvar lastMs = 0;\nvar additional = 0;\n\n/**\n * returns the current time in micro-seconds,\n * WARNING: This is a pseudo-function\n * Performance.now is not reliable in webworkers, so we just make sure to never return the same time.\n * This is enough in browsers, and this function will not be used in nodejs.\n * The main reason for this hack is to ensure that BroadcastChannel behaves equal to production when it is used in fast-running unit tests.\n */\nfunction microSeconds() {\n  var ms = new Date().getTime();\n  if (ms === lastMs) {\n    additional++;\n    return ms * 1000 + additional;\n  } else {\n    lastMs = ms;\n    additional = 0;\n    return ms * 1000;\n  }\n}\nfunction are3PCSupported() {\n  if (typeof navigator === 'undefined') return false;\n  var browserInfo = _bowser[\"default\"].parse(navigator.userAgent);\n  log.info(JSON.stringify(browserInfo), 'current browser info');\n  var thirdPartyCookieSupport = true;\n  // brave\n  if (navigator.brave) {\n    thirdPartyCookieSupport = false;\n  }\n  // All webkit & gecko engine instances use itp (intelligent tracking prevention -\n  // https://webkit.org/tracking-prevention/#intelligent-tracking-prevention-itp)\n  if (browserInfo.engine.name === _bowser[\"default\"].ENGINE_MAP.WebKit || browserInfo.engine.name === _bowser[\"default\"].ENGINE_MAP.Gecko) {\n    thirdPartyCookieSupport = false;\n  }\n  return thirdPartyCookieSupport;\n}\nvar log = _loglevel[\"default\"].getLogger('broadcast-channel');\nexports.log = log;\nlog.setLevel('error');\nvar setLogLevel = function setLogLevel(level) {\n  log.setLevel(level);\n};\nexports.setLogLevel = setLogLevel;","import nodeCrypto from 'crypto';\nimport { ec as ec$1 } from 'elliptic';\n\nconst ec = new ec$1(\"secp256k1\");\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst browserCrypto = global.crypto || global.msCrypto || {};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst subtle = browserCrypto.subtle || browserCrypto.webkitSubtle;\nconst EC_GROUP_ORDER = Buffer.from(\"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141\", \"hex\");\nconst ZERO32 = Buffer.alloc(32, 0);\nfunction assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || \"Assertion failed\");\n  }\n}\nfunction isScalar(x) {\n  return Buffer.isBuffer(x) && x.length === 32;\n}\nfunction isValidPrivateKey(privateKey) {\n  if (!isScalar(privateKey)) {\n    return false;\n  }\n  return privateKey.compare(ZERO32) > 0 &&\n  // > 0\n  privateKey.compare(EC_GROUP_ORDER) < 0; // < G\n}\n\n// Compare two buffers in constant time to prevent timing attacks.\nfunction equalConstTime(b1, b2) {\n  if (b1.length !== b2.length) {\n    return false;\n  }\n  let res = 0;\n  for (let i = 0; i < b1.length; i++) {\n    res |= b1[i] ^ b2[i]; // jshint ignore:line\n  }\n\n  return res === 0;\n}\n\n/* This must check if we're in the browser or\nnot, since the functions are different and does\nnot convert using browserify */\nfunction randomBytes(size) {\n  const arr = new Uint8Array(size);\n  if (typeof browserCrypto.getRandomValues === \"undefined\") {\n    return Buffer.from(nodeCrypto.randomBytes(size));\n  }\n  browserCrypto.getRandomValues(arr);\n  return Buffer.from(arr);\n}\nasync function sha512(msg) {\n  if (subtle) {\n    const hash = await subtle.digest(\"SHA-512\", msg);\n    const result = new Uint8Array(hash);\n    return result;\n  }\n  const hash = nodeCrypto.createHash(\"sha512\");\n  const result = hash.update(msg).digest();\n  return new Uint8Array(result);\n}\nfunction getAes(op) {\n  return async function (iv, key, data) {\n    if (subtle) {\n      const importAlgorithm = {\n        name: \"AES-CBC\"\n      };\n      const cryptoKey = await subtle.importKey(\"raw\", key, importAlgorithm, false, [op]);\n      const encAlgorithm = {\n        name: \"AES-CBC\",\n        iv\n      };\n      const result = await subtle[op](encAlgorithm, cryptoKey, data);\n      return Buffer.from(new Uint8Array(result));\n    } else if (op === \"encrypt\") {\n      const cipher = nodeCrypto.createCipheriv(\"aes-256-cbc\", key, iv);\n      const firstChunk = cipher.update(data);\n      const secondChunk = cipher.final();\n      return Buffer.concat([firstChunk, secondChunk]);\n    } else if (op === \"decrypt\") {\n      const decipher = nodeCrypto.createDecipheriv(\"aes-256-cbc\", key, iv);\n      const firstChunk = decipher.update(data);\n      const secondChunk = decipher.final();\n      return Buffer.concat([firstChunk, secondChunk]);\n    }\n    throw new Error(`Unsupported operation: ${op}`);\n  };\n}\nconst aesCbcEncrypt = getAes(\"encrypt\");\nconst aesCbcDecrypt = getAes(\"decrypt\");\nasync function hmacSha256Sign(key, msg) {\n  if (subtle) {\n    const importAlgorithm = {\n      name: \"HMAC\",\n      hash: {\n        name: \"SHA-256\"\n      }\n    };\n    const cryptoKey = await subtle.importKey(\"raw\", new Uint8Array(key), importAlgorithm, false, [\"sign\", \"verify\"]);\n    const sig = await subtle.sign(\"HMAC\", cryptoKey, msg);\n    const result = Buffer.from(new Uint8Array(sig));\n    return result;\n  }\n  const hmac = nodeCrypto.createHmac(\"sha256\", Buffer.from(key));\n  hmac.update(msg);\n  const result = hmac.digest();\n  return result;\n}\nasync function hmacSha256Verify(key, msg, sig) {\n  const expectedSig = await hmacSha256Sign(key, msg);\n  return equalConstTime(expectedSig, sig);\n}\n\n/**\n * Generate a new valid private key. Will use the window.crypto or window.msCrypto as source\n * depending on your browser.\n */\nconst generatePrivate = function () {\n  let privateKey = randomBytes(32);\n  while (!isValidPrivateKey(privateKey)) {\n    privateKey = randomBytes(32);\n  }\n  return privateKey;\n};\nconst getPublic = function (privateKey) {\n  // This function has sync API so we throw an error immediately.\n  assert(privateKey.length === 32, \"Bad private key\");\n  assert(isValidPrivateKey(privateKey), \"Bad private key\");\n  // XXX(Kagami): `elliptic.utils.encode` returns array for every\n  // encoding except `hex`.\n  return Buffer.from(ec.keyFromPrivate(privateKey).getPublic(\"array\"));\n};\n\n/**\n * Get compressed version of public key.\n */\nconst getPublicCompressed = function (privateKey) {\n  // jshint ignore:line\n  assert(privateKey.length === 32, \"Bad private key\");\n  assert(isValidPrivateKey(privateKey), \"Bad private key\");\n  // See https://github.com/wanderer/secp256k1-node/issues/46\n  const compressed = true;\n  return Buffer.from(ec.keyFromPrivate(privateKey).getPublic(compressed, \"array\"));\n};\n\n// NOTE(Kagami): We don't use promise shim in Browser implementation\n// because it's supported natively in new browsers (see\n// <http://caniuse.com/#feat=promises>) and we can use only new browsers\n// because of the WebCryptoAPI (see\n// <http://caniuse.com/#feat=cryptography>).\nconst sign = async function (privateKey, msg) {\n  assert(privateKey.length === 32, \"Bad private key\");\n  assert(isValidPrivateKey(privateKey), \"Bad private key\");\n  assert(msg.length > 0, \"Message should not be empty\");\n  assert(msg.length <= 32, \"Message is too long\");\n  return Buffer.from(ec.sign(msg, privateKey, {\n    canonical: true\n  }).toDER());\n};\nconst verify = async function (publicKey, msg, sig) {\n  assert(publicKey.length === 65 || publicKey.length === 33, \"Bad public key\");\n  if (publicKey.length === 65) {\n    assert(publicKey[0] === 4, \"Bad public key\");\n  }\n  if (publicKey.length === 33) {\n    assert(publicKey[0] === 2 || publicKey[0] === 3, \"Bad public key\");\n  }\n  assert(msg.length > 0, \"Message should not be empty\");\n  assert(msg.length <= 32, \"Message is too long\");\n  if (ec.verify(msg, sig, publicKey)) {\n    return null;\n  }\n  throw new Error(\"Bad signature\");\n};\nconst derive = async function (privateKeyA, publicKeyB) {\n  assert(Buffer.isBuffer(privateKeyA), \"Bad private key\");\n  assert(Buffer.isBuffer(publicKeyB), \"Bad public key\");\n  assert(privateKeyA.length === 32, \"Bad private key\");\n  assert(isValidPrivateKey(privateKeyA), \"Bad private key\");\n  assert(publicKeyB.length === 65 || publicKeyB.length === 33, \"Bad public key\");\n  if (publicKeyB.length === 65) {\n    assert(publicKeyB[0] === 4, \"Bad public key\");\n  }\n  if (publicKeyB.length === 33) {\n    assert(publicKeyB[0] === 2 || publicKeyB[0] === 3, \"Bad public key\");\n  }\n  const keyA = ec.keyFromPrivate(privateKeyA);\n  const keyB = ec.keyFromPublic(publicKeyB);\n  const Px = keyA.derive(keyB.getPublic()); // BN instance\n  return Buffer.from(Px.toArray());\n};\nconst deriveUnpadded = derive;\nconst derivePadded = async function (privateKeyA, publicKeyB) {\n  assert(Buffer.isBuffer(privateKeyA), \"Bad private key\");\n  assert(Buffer.isBuffer(publicKeyB), \"Bad public key\");\n  assert(privateKeyA.length === 32, \"Bad private key\");\n  assert(isValidPrivateKey(privateKeyA), \"Bad private key\");\n  assert(publicKeyB.length === 65 || publicKeyB.length === 33, \"Bad public key\");\n  if (publicKeyB.length === 65) {\n    assert(publicKeyB[0] === 4, \"Bad public key\");\n  }\n  if (publicKeyB.length === 33) {\n    assert(publicKeyB[0] === 2 || publicKeyB[0] === 3, \"Bad public key\");\n  }\n  const keyA = ec.keyFromPrivate(privateKeyA);\n  const keyB = ec.keyFromPublic(publicKeyB);\n  const Px = keyA.derive(keyB.getPublic()); // BN instance\n  return Buffer.from(Px.toString(16, 64), \"hex\");\n};\nconst encrypt = async function (publicKeyTo, msg, opts) {\n  opts = opts || {};\n  let ephemPrivateKey = opts.ephemPrivateKey || randomBytes(32);\n  // There is a very unlikely possibility that it is not a valid key\n  while (!isValidPrivateKey(ephemPrivateKey)) {\n    ephemPrivateKey = opts.ephemPrivateKey || randomBytes(32);\n  }\n  const ephemPublicKey = getPublic(ephemPrivateKey);\n  const Px = await deriveUnpadded(ephemPrivateKey, publicKeyTo);\n  const hash = await sha512(Px);\n  const iv = opts.iv || randomBytes(16);\n  const encryptionKey = hash.slice(0, 32);\n  const macKey = hash.slice(32);\n  const data = await aesCbcEncrypt(iv, Buffer.from(encryptionKey), msg);\n  const ciphertext = data;\n  const dataToMac = Buffer.concat([iv, ephemPublicKey, ciphertext]);\n  const mac = await hmacSha256Sign(Buffer.from(macKey), dataToMac);\n  return {\n    iv,\n    ephemPublicKey,\n    ciphertext,\n    mac\n  };\n};\nconst decrypt = async function (privateKey, opts, _padding) {\n  const padding = _padding !== null && _padding !== void 0 ? _padding : false;\n  const deriveLocal = padding ? derivePadded : deriveUnpadded;\n  const Px = await deriveLocal(privateKey, opts.ephemPublicKey);\n  const hash = await sha512(Px);\n  const encryptionKey = hash.slice(0, 32);\n  const macKey = hash.slice(32);\n  const dataToMac = Buffer.concat([opts.iv, opts.ephemPublicKey, opts.ciphertext]);\n  const macGood = await hmacSha256Verify(Buffer.from(macKey), dataToMac, opts.mac);\n  if (!macGood && padding === false) {\n    return decrypt(privateKey, opts, true);\n  } else if (!macGood && padding === true) {\n    throw new Error(\"bad MAC after trying padded\");\n  }\n  const msg = await aesCbcDecrypt(opts.iv, Buffer.from(encryptionKey), opts.ciphertext);\n  return Buffer.from(new Uint8Array(msg));\n};\n\nexport { decrypt, derive, derivePadded, deriveUnpadded, encrypt, generatePrivate, getPublic, getPublicCompressed, sign, verify };\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasCORS = void 0;\n// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nexports.hasCORS = value;\n","\"use strict\";\n// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decode = exports.encode = void 0;\nfunction encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\nexports.encode = encode;\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nfunction decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\nexports.decode = decode;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parse = void 0;\n// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nfunction parse(str) {\n    if (str.length > 2000) {\n        throw \"URI too long\";\n    }\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nexports.parse = parse;\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","// imported from https://github.com/unshiftio/yeast\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.yeast = exports.decode = exports.encode = void 0;\nconst alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''), length = 64, map = {};\nlet seed = 0, i = 0, prev;\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n    let encoded = '';\n    do {\n        encoded = alphabet[num % length] + encoded;\n        num = Math.floor(num / length);\n    } while (num > 0);\n    return encoded;\n}\nexports.encode = encode;\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n    let decoded = 0;\n    for (i = 0; i < str.length; i++) {\n        decoded = decoded * length + map[str.charAt(i)];\n    }\n    return decoded;\n}\nexports.decode = decode;\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n    const now = encode(+new Date());\n    if (now !== prev)\n        return seed = 0, prev = now;\n    return now + '.' + encode(seed++);\n}\nexports.yeast = yeast;\n//\n// Map each character to its index.\n//\nfor (; i < length; i++)\n    map[alphabet[i]] = i;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.globalThisShim = void 0;\nexports.globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.nextTick = exports.parse = exports.installTimerFunctions = exports.transports = exports.TransportError = exports.Transport = exports.protocol = exports.Socket = void 0;\nconst socket_js_1 = require(\"./socket.js\");\nObject.defineProperty(exports, \"Socket\", { enumerable: true, get: function () { return socket_js_1.Socket; } });\nexports.protocol = socket_js_1.Socket.protocol;\nvar transport_js_1 = require(\"./transport.js\");\nObject.defineProperty(exports, \"Transport\", { enumerable: true, get: function () { return transport_js_1.Transport; } });\nObject.defineProperty(exports, \"TransportError\", { enumerable: true, get: function () { return transport_js_1.TransportError; } });\nvar index_js_1 = require(\"./transports/index.js\");\nObject.defineProperty(exports, \"transports\", { enumerable: true, get: function () { return index_js_1.transports; } });\nvar util_js_1 = require(\"./util.js\");\nObject.defineProperty(exports, \"installTimerFunctions\", { enumerable: true, get: function () { return util_js_1.installTimerFunctions; } });\nvar parseuri_js_1 = require(\"./contrib/parseuri.js\");\nObject.defineProperty(exports, \"parse\", { enumerable: true, get: function () { return parseuri_js_1.parse; } });\nvar websocket_constructor_js_1 = require(\"./transports/websocket-constructor.js\");\nObject.defineProperty(exports, \"nextTick\", { enumerable: true, get: function () { return websocket_constructor_js_1.nextTick; } });\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Socket = void 0;\nconst index_js_1 = require(\"./transports/index.js\");\nconst util_js_1 = require(\"./util.js\");\nconst parseqs_js_1 = require(\"./contrib/parseqs.js\");\nconst parseuri_js_1 = require(\"./contrib/parseuri.js\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst component_emitter_1 = require(\"@socket.io/component-emitter\");\nconst engine_io_parser_1 = require(\"engine.io-parser\");\nconst websocket_constructor_js_1 = require(\"./transports/websocket-constructor.js\");\nconst debug = (0, debug_1.default)(\"engine.io-client:socket\"); // debug()\nclass Socket extends component_emitter_1.Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts = {}) {\n        super();\n        this.binaryType = websocket_constructor_js_1.defaultBinaryType;\n        this.writeBuffer = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            uri = (0, parseuri_js_1.parse)(uri);\n            opts.hostname = uri.host;\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n            opts.port = uri.port;\n            if (uri.query)\n                opts.query = uri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = (0, parseuri_js_1.parse)(opts.host).host;\n        }\n        (0, util_js_1.installTimerFunctions)(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = opts.transports || [\n            \"polling\",\n            \"websocket\",\n            \"webtransport\",\n        ];\n        this.writeBuffer = [];\n        this.prevBufferLen = 0;\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: false,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = (0, parseqs_js_1.decode)(this.opts.query);\n        }\n        // set on handshake\n        this.id = null;\n        this.upgrades = null;\n        this.pingInterval = null;\n        this.pingTimeout = null;\n        // set on heartbeat\n        this.pingTimeoutTimer = null;\n        if (typeof addEventListener === \"function\") {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this.beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this.offlineEventListener = () => {\n                    this.onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                addEventListener(\"offline\", this.offlineEventListener, false);\n            }\n        }\n        this.open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        debug('creating transport \"%s\"', name);\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = engine_io_parser_1.protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        }, this.opts.transportOptions[name]);\n        debug(\"options: %j\", opts);\n        return new index_js_1.transports[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    open() {\n        let transport;\n        if (this.opts.rememberUpgrade &&\n            Socket.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1) {\n            transport = \"websocket\";\n        }\n        else if (0 === this.transports.length) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        else {\n            transport = this.transports[0];\n        }\n        this.readyState = \"opening\";\n        // Retry with the next transport if the transport is disabled (jsonp: false)\n        try {\n            transport = this.createTransport(transport);\n        }\n        catch (e) {\n            debug(\"error while creating transport: %s\", e);\n            this.transports.shift();\n            this.open();\n            return;\n        }\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        debug(\"setting transport %s\", transport.name);\n        if (this.transport) {\n            debug(\"clearing existing transport %s\", this.transport.name);\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this.onDrain.bind(this))\n            .on(\"packet\", this.onPacket.bind(this))\n            .on(\"error\", this.onError.bind(this))\n            .on(\"close\", (reason) => this.onClose(\"transport close\", reason));\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    probe(name) {\n        debug('probing transport \"%s\"', name);\n        let transport = this.createTransport(name);\n        let failed = false;\n        Socket.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            debug('probe transport \"%s\" opened', name);\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    debug('probe transport \"%s\" pong', name);\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n                    debug('pausing current transport \"%s\"', this.transport.name);\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        debug(\"changing transport and sending upgrade packet\");\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    debug('probe transport \"%s\" failed', name);\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            debug('probe transport \"%s\" failed because of error: %s', name, err);\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        if (this.upgrades.indexOf(\"webtransport\") !== -1 &&\n            name !== \"webtransport\") {\n            // favor WebTransport\n            this.setTimeoutFn(() => {\n                if (!failed) {\n                    transport.open();\n                }\n            }, 200);\n        }\n        else {\n            transport.open();\n        }\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        debug(\"socket open\");\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n        // we check for `readyState` in case an `open`\n        // listener already closed the socket\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            debug(\"starting upgrade probes\");\n            let i = 0;\n            const l = this.upgrades.length;\n            for (; i < l; i++) {\n                this.probe(this.upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            this.resetPingTimeout();\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this.sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this.onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n            debug('packet received with socket readyState \"%s\"', this.readyState);\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this.resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    resetPingTimeout() {\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\n            this.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n        if (this.opts.autoUnref) {\n            this.pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this.prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this.getWritablePackets();\n            debug(\"flushing %d packets in socket\", packets.length);\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this.prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    getWritablePackets() {\n        const shouldCheckPayloadSize = this.maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += (0, util_js_1.byteLength)(data);\n            }\n            if (i > 0 && payloadSize > this.maxPayload) {\n                debug(\"only send %d out of %d packets\", i, this.writeBuffer.length);\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        debug(\"payload size is %d (max: %d)\", payloadSize, this.maxPayload);\n        return this.writeBuffer;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this.onClose(\"forced close\");\n            debug(\"socket closing - telling transport to close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    onError(err) {\n        debug(\"socket error %j\", err);\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            debug('socket close with reason: \"%s\"', reason);\n            // clear timers\n            this.clearTimeoutFn(this.pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (typeof removeEventListener === \"function\") {\n                removeEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n                removeEventListener(\"offline\", this.offlineEventListener, false);\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this.prevBufferLen = 0;\n        }\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        let i = 0;\n        const j = upgrades.length;\n        for (; i < j; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\nexports.Socket = Socket;\nSocket.protocol = engine_io_parser_1.protocol;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Transport = exports.TransportError = void 0;\nconst engine_io_parser_1 = require(\"engine.io-parser\");\nconst component_emitter_1 = require(\"@socket.io/component-emitter\");\nconst util_js_1 = require(\"./util.js\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst parseqs_js_1 = require(\"./contrib/parseqs.js\");\nconst debug = (0, debug_1.default)(\"engine.io-client:transport\"); // debug()\nclass TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexports.TransportError = TransportError;\nclass Transport extends component_emitter_1.Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        (0, util_js_1.installTimerFunctions)(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n            debug(\"transport is not open, discarding packets\");\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = (0, engine_io_parser_1.decodePacket)(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n    createUri(schema, query = {}) {\n        return (schema +\n            \"://\" +\n            this._hostname() +\n            this._port() +\n            this.opts.path +\n            this._query(query));\n    }\n    _hostname() {\n        const hostname = this.opts.hostname;\n        return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n        if (this.opts.port &&\n            ((this.opts.secure && Number(this.opts.port !== 443)) ||\n                (!this.opts.secure && Number(this.opts.port) !== 80))) {\n            return \":\" + this.opts.port;\n        }\n        else {\n            return \"\";\n        }\n    }\n    _query(query) {\n        const encodedQuery = (0, parseqs_js_1.encode)(query);\n        return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n}\nexports.Transport = Transport;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transports = void 0;\nconst polling_js_1 = require(\"./polling.js\");\nconst websocket_js_1 = require(\"./websocket.js\");\nconst webtransport_js_1 = require(\"./webtransport.js\");\nexports.transports = {\n    websocket: websocket_js_1.WS,\n    webtransport: webtransport_js_1.WT,\n    polling: polling_js_1.Polling,\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Request = exports.Polling = void 0;\nconst transport_js_1 = require(\"../transport.js\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst yeast_js_1 = require(\"../contrib/yeast.js\");\nconst engine_io_parser_1 = require(\"engine.io-parser\");\nconst xmlhttprequest_js_1 = require(\"./xmlhttprequest.js\");\nconst component_emitter_1 = require(\"@socket.io/component-emitter\");\nconst util_js_1 = require(\"../util.js\");\nconst globalThis_js_1 = require(\"../globalThis.js\");\nconst debug = (0, debug_1.default)(\"engine.io-client:polling\"); // debug()\nfunction empty() { }\nconst hasXHR2 = (function () {\n    const xhr = new xmlhttprequest_js_1.XHR({\n        xdomain: false,\n    });\n    return null != xhr.responseType;\n})();\nclass Polling extends transport_js_1.Transport {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        this.polling = false;\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n        }\n        /**\n         * XHR supports binary\n         */\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n        if (this.opts.withCredentials) {\n            this.cookieJar = (0, xmlhttprequest_js_1.createCookieJar)();\n        }\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this.poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            debug(\"paused\");\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this.polling || !this.writable) {\n            let total = 0;\n            if (this.polling) {\n                debug(\"we are currently polling - waiting to pause\");\n                total++;\n                this.once(\"pollComplete\", function () {\n                    debug(\"pre-pause polling complete\");\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                debug(\"we are currently writing - waiting to pause\");\n                total++;\n                this.once(\"drain\", function () {\n                    debug(\"pre-pause writing complete\");\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    poll() {\n        debug(\"polling\");\n        this.polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        debug(\"polling got data %s\", data);\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        (0, engine_io_parser_1.decodePayload)(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this.polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this.poll();\n            }\n            else {\n                debug('ignoring poll - transport state \"%s\"', this.readyState);\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            debug(\"writing close packet\");\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            debug(\"transport open - closing\");\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            debug(\"transport not open - deferring close\");\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        (0, engine_io_parser_1.encodePayload)(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        const query = this.query || {};\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = (0, yeast_js_1.yeast)();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @private\n     */\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd, cookieJar: this.cookieJar }, this.opts);\n        return new Request(this.uri(), opts);\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        debug(\"xhr poll\");\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexports.Polling = Polling;\nclass Request extends component_emitter_1.Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(uri, opts) {\n        super();\n        (0, util_js_1.installTimerFunctions)(this, opts);\n        this.opts = opts;\n        this.method = opts.method || \"GET\";\n        this.uri = uri;\n        this.data = undefined !== opts.data ? opts.data : null;\n        this.create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    create() {\n        var _a;\n        const opts = (0, util_js_1.pick)(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        const xhr = (this.xhr = new xmlhttprequest_js_1.XHR(opts));\n        try {\n            debug(\"xhr open %s: %s\", this.method, this.uri);\n            xhr.open(this.method, this.uri, true);\n            try {\n                if (this.opts.extraHeaders) {\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this.opts.extraHeaders) {\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this.method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            (_a = this.opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this.opts.withCredentials;\n            }\n            if (this.opts.requestTimeout) {\n                xhr.timeout = this.opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                var _a;\n                if (xhr.readyState === 3) {\n                    (_a = this.opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(xhr);\n                }\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this.onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            debug(\"xhr data %s\", this.data);\n            xhr.send(this.data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this.onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this.index = Request.requestsCount++;\n            Request.requests[this.index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    onError(err) {\n        this.emitReserved(\"error\", err, this.xhr);\n        this.cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n            return;\n        }\n        this.xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this.xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this.index];\n        }\n        this.xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    onLoad() {\n        const data = this.xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this.cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this.cleanup();\n    }\n}\nexports.Request = Request;\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis_js_1.globalThisShim ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultBinaryType = exports.usingBrowserWebSocket = exports.WebSocket = exports.nextTick = void 0;\nconst globalThis_js_1 = require(\"../globalThis.js\");\nexports.nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return (cb) => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexports.WebSocket = globalThis_js_1.globalThisShim.WebSocket || globalThis_js_1.globalThisShim.MozWebSocket;\nexports.usingBrowserWebSocket = true;\nexports.defaultBinaryType = \"arraybuffer\";\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WS = void 0;\nconst transport_js_1 = require(\"../transport.js\");\nconst yeast_js_1 = require(\"../contrib/yeast.js\");\nconst util_js_1 = require(\"../util.js\");\nconst websocket_constructor_js_1 = require(\"./websocket-constructor.js\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst engine_io_parser_1 = require(\"engine.io-parser\");\nconst debug = (0, debug_1.default)(\"engine.io-client:websocket\"); // debug()\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nclass WS extends transport_js_1.Transport {\n    /**\n     * WebSocket transport constructor.\n     *\n     * @param {Object} opts - connection options\n     * @protected\n     */\n    constructor(opts) {\n        super(opts);\n        this.supportsBinary = !opts.forceBase64;\n    }\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        if (!this.check()) {\n            // let probe timeout\n            return;\n        }\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : (0, util_js_1.pick)(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws =\n                websocket_constructor_js_1.usingBrowserWebSocket && !isReactNative\n                    ? protocols\n                        ? new websocket_constructor_js_1.WebSocket(uri, protocols)\n                        : new websocket_constructor_js_1.WebSocket(uri)\n                    : new websocket_constructor_js_1.WebSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            (0, engine_io_parser_1.encodePacket)(packet, this.supportsBinary, (data) => {\n                // always create a new object (GH-437)\n                const opts = {};\n                if (!websocket_constructor_js_1.usingBrowserWebSocket) {\n                    if (packet.options) {\n                        opts.compress = packet.options.compress;\n                    }\n                    if (this.opts.perMessageDeflate) {\n                        const len = \n                        // @ts-ignore\n                        \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n                        if (len < this.opts.perMessageDeflate.threshold) {\n                            opts.compress = false;\n                        }\n                    }\n                }\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    if (websocket_constructor_js_1.usingBrowserWebSocket) {\n                        // TypeError is thrown when passing the second argument on Safari\n                        this.ws.send(data);\n                    }\n                    else {\n                        this.ws.send(data, opts);\n                    }\n                }\n                catch (e) {\n                    debug(\"websocket closed before onclose event\");\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    (0, websocket_constructor_js_1.nextTick)(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        const query = this.query || {};\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = (0, yeast_js_1.yeast)();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n    /**\n     * Feature detection for WebSocket.\n     *\n     * @return {Boolean} whether this transport is available.\n     * @private\n     */\n    check() {\n        return !!websocket_constructor_js_1.WebSocket;\n    }\n}\nexports.WS = WS;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WT = void 0;\nconst transport_js_1 = require(\"../transport.js\");\nconst websocket_constructor_js_1 = require(\"./websocket-constructor.js\");\nconst engine_io_parser_1 = require(\"engine.io-parser\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst debug = (0, debug_1.default)(\"engine.io-client:webtransport\"); // debug()\nclass WT extends transport_js_1.Transport {\n    get name() {\n        return \"webtransport\";\n    }\n    doOpen() {\n        // @ts-ignore\n        if (typeof WebTransport !== \"function\") {\n            return;\n        }\n        // @ts-ignore\n        this.transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n        this.transport.closed\n            .then(() => {\n            debug(\"transport closed gracefully\");\n            this.onClose();\n        })\n            .catch((err) => {\n            debug(\"transport closed due to %s\", err);\n            this.onError(\"webtransport error\", err);\n        });\n        // note: we could have used async/await, but that would require some additional polyfills\n        this.transport.ready.then(() => {\n            this.transport.createBidirectionalStream().then((stream) => {\n                const decoderStream = (0, engine_io_parser_1.createPacketDecoderStream)(Number.MAX_SAFE_INTEGER, this.socket.binaryType);\n                const reader = stream.readable.pipeThrough(decoderStream).getReader();\n                const encoderStream = (0, engine_io_parser_1.createPacketEncoderStream)();\n                encoderStream.readable.pipeTo(stream.writable);\n                this.writer = encoderStream.writable.getWriter();\n                const read = () => {\n                    reader\n                        .read()\n                        .then(({ done, value }) => {\n                        if (done) {\n                            debug(\"session is closed\");\n                            return;\n                        }\n                        debug(\"received chunk: %o\", value);\n                        this.onPacket(value);\n                        read();\n                    })\n                        .catch((err) => {\n                        debug(\"an error occurred while reading: %s\", err);\n                    });\n                };\n                read();\n                const packet = { type: \"open\" };\n                if (this.query.sid) {\n                    packet.data = `{\"sid\":\"${this.query.sid}\"}`;\n                }\n                this.writer.write(packet).then(() => this.onOpen());\n            });\n        });\n    }\n    write(packets) {\n        this.writable = false;\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            this.writer.write(packet).then(() => {\n                if (lastPacket) {\n                    (0, websocket_constructor_js_1.nextTick)(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        var _a;\n        (_a = this.transport) === null || _a === void 0 ? void 0 : _a.close();\n    }\n}\nexports.WT = WT;\n","\"use strict\";\n// browser shim for xmlhttprequest module\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createCookieJar = exports.XHR = void 0;\nconst has_cors_js_1 = require(\"../contrib/has-cors.js\");\nconst globalThis_js_1 = require(\"../globalThis.js\");\nfunction XHR(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || has_cors_js_1.hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis_js_1.globalThisShim[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\nexports.XHR = XHR;\nfunction createCookieJar() { }\nexports.createCookieJar = createCookieJar;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.byteLength = exports.installTimerFunctions = exports.pick = void 0;\nconst globalThis_js_1 = require(\"./globalThis.js\");\nfunction pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\nexports.pick = pick;\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis_js_1.globalThisShim.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis_js_1.globalThisShim.clearTimeout;\nfunction installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis_js_1.globalThisShim);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis_js_1.globalThisShim);\n    }\n    else {\n        obj.setTimeoutFn = globalThis_js_1.globalThisShim.setTimeout.bind(globalThis_js_1.globalThisShim);\n        obj.clearTimeoutFn = globalThis_js_1.globalThisShim.clearTimeout.bind(globalThis_js_1.globalThisShim);\n    }\n}\nexports.installTimerFunctions = installTimerFunctions;\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nfunction byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nexports.byteLength = byteLength;\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ERROR_PACKET = exports.PACKET_TYPES_REVERSE = exports.PACKET_TYPES = void 0;\nconst PACKET_TYPES = Object.create(null); // no Map = no polyfill\nexports.PACKET_TYPES = PACKET_TYPES;\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nexports.PACKET_TYPES_REVERSE = PACKET_TYPES_REVERSE;\nObject.keys(PACKET_TYPES).forEach(key => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexports.ERROR_PACKET = ERROR_PACKET;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decode = exports.encode = void 0;\n// imported from https://github.com/socketio/base64-arraybuffer\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nconst encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nexports.encode = encode;\nconst decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\nexports.decode = decode;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodePacket = void 0;\nconst commons_js_1 = require(\"./commons.js\");\nconst base64_arraybuffer_js_1 = require(\"./contrib/base64-arraybuffer.js\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType)\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\n        };\n    }\n    const packetType = commons_js_1.PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return commons_js_1.ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: commons_js_1.PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1)\n        }\n        : {\n            type: commons_js_1.PACKET_TYPES_REVERSE[type]\n        };\n};\nexports.decodePacket = decodePacket;\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = (0, base64_arraybuffer_js_1.decode)(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            if (data instanceof Blob) {\n                // from WebSocket + binaryType \"blob\"\n                return data;\n            }\n            else {\n                // from HTTP long-polling or WebTransport\n                return new Blob([data]);\n            }\n        case \"arraybuffer\":\n        default:\n            if (data instanceof ArrayBuffer) {\n                // from HTTP long-polling (base64) or WebSocket + binaryType \"arraybuffer\"\n                return data;\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return data.buffer;\n            }\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.encodePacket = exports.encodePacketToBinary = void 0;\nconst commons_js_1 = require(\"./commons.js\");\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = obj => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(commons_js_1.PACKET_TYPES[type] + (data || \"\"));\n};\nexports.encodePacket = encodePacket;\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + (content || \"\"));\n    };\n    return fileReader.readAsDataURL(data);\n};\nfunction toArray(data) {\n    if (data instanceof Uint8Array) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return new Uint8Array(data);\n    }\n    else {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);\n    }\n}\nlet TEXT_ENCODER;\nfunction encodePacketToBinary(packet, callback) {\n    if (withNativeBlob && packet.data instanceof Blob) {\n        return packet.data\n            .arrayBuffer()\n            .then(toArray)\n            .then(callback);\n    }\n    else if (withNativeArrayBuffer &&\n        (packet.data instanceof ArrayBuffer || isView(packet.data))) {\n        return callback(toArray(packet.data));\n    }\n    encodePacket(packet, false, encoded => {\n        if (!TEXT_ENCODER) {\n            TEXT_ENCODER = new TextEncoder();\n        }\n        callback(TEXT_ENCODER.encode(encoded));\n    });\n}\nexports.encodePacketToBinary = encodePacketToBinary;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodePayload = exports.decodePacket = exports.encodePayload = exports.encodePacket = exports.protocol = exports.createPacketDecoderStream = exports.createPacketEncoderStream = void 0;\nconst encodePacket_js_1 = require(\"./encodePacket.js\");\nObject.defineProperty(exports, \"encodePacket\", { enumerable: true, get: function () { return encodePacket_js_1.encodePacket; } });\nconst decodePacket_js_1 = require(\"./decodePacket.js\");\nObject.defineProperty(exports, \"decodePacket\", { enumerable: true, get: function () { return decodePacket_js_1.decodePacket; } });\nconst commons_js_1 = require(\"./commons.js\");\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        (0, encodePacket_js_1.encodePacket)(packet, false, encodedPacket => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nexports.encodePayload = encodePayload;\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = (0, decodePacket_js_1.decodePacket)(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexports.decodePayload = decodePayload;\nfunction createPacketEncoderStream() {\n    return new TransformStream({\n        transform(packet, controller) {\n            (0, encodePacket_js_1.encodePacketToBinary)(packet, encodedPacket => {\n                const payloadLength = encodedPacket.length;\n                let header;\n                // inspired by the WebSocket format: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#decoding_payload_length\n                if (payloadLength < 126) {\n                    header = new Uint8Array(1);\n                    new DataView(header.buffer).setUint8(0, payloadLength);\n                }\n                else if (payloadLength < 65536) {\n                    header = new Uint8Array(3);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 126);\n                    view.setUint16(1, payloadLength);\n                }\n                else {\n                    header = new Uint8Array(9);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 127);\n                    view.setBigUint64(1, BigInt(payloadLength));\n                }\n                // first bit indicates whether the payload is plain text (0) or binary (1)\n                if (packet.data && typeof packet.data !== \"string\") {\n                    header[0] |= 0x80;\n                }\n                controller.enqueue(header);\n                controller.enqueue(encodedPacket);\n            });\n        }\n    });\n}\nexports.createPacketEncoderStream = createPacketEncoderStream;\nlet TEXT_DECODER;\nfunction totalLength(chunks) {\n    return chunks.reduce((acc, chunk) => acc + chunk.length, 0);\n}\nfunction concatChunks(chunks, size) {\n    if (chunks[0].length === size) {\n        return chunks.shift();\n    }\n    const buffer = new Uint8Array(size);\n    let j = 0;\n    for (let i = 0; i < size; i++) {\n        buffer[i] = chunks[0][j++];\n        if (j === chunks[0].length) {\n            chunks.shift();\n            j = 0;\n        }\n    }\n    if (chunks.length && j < chunks[0].length) {\n        chunks[0] = chunks[0].slice(j);\n    }\n    return buffer;\n}\nfunction createPacketDecoderStream(maxPayload, binaryType) {\n    if (!TEXT_DECODER) {\n        TEXT_DECODER = new TextDecoder();\n    }\n    const chunks = [];\n    let state = 0 /* READ_HEADER */;\n    let expectedLength = -1;\n    let isBinary = false;\n    return new TransformStream({\n        transform(chunk, controller) {\n            chunks.push(chunk);\n            while (true) {\n                if (state === 0 /* READ_HEADER */) {\n                    if (totalLength(chunks) < 1) {\n                        break;\n                    }\n                    const header = concatChunks(chunks, 1);\n                    isBinary = (header[0] & 0x80) === 0x80;\n                    expectedLength = header[0] & 0x7f;\n                    if (expectedLength < 126) {\n                        state = 3 /* READ_PAYLOAD */;\n                    }\n                    else if (expectedLength === 126) {\n                        state = 1 /* READ_EXTENDED_LENGTH_16 */;\n                    }\n                    else {\n                        state = 2 /* READ_EXTENDED_LENGTH_64 */;\n                    }\n                }\n                else if (state === 1 /* READ_EXTENDED_LENGTH_16 */) {\n                    if (totalLength(chunks) < 2) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 2);\n                    expectedLength = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length).getUint16(0);\n                    state = 3 /* READ_PAYLOAD */;\n                }\n                else if (state === 2 /* READ_EXTENDED_LENGTH_64 */) {\n                    if (totalLength(chunks) < 8) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 8);\n                    const view = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length);\n                    const n = view.getUint32(0);\n                    if (n > Math.pow(2, 53 - 32) - 1) {\n                        // the maximum safe integer in JavaScript is 2^53 - 1\n                        controller.enqueue(commons_js_1.ERROR_PACKET);\n                        break;\n                    }\n                    expectedLength = n * Math.pow(2, 32) + view.getUint32(4);\n                    state = 3 /* READ_PAYLOAD */;\n                }\n                else {\n                    if (totalLength(chunks) < expectedLength) {\n                        break;\n                    }\n                    const data = concatChunks(chunks, expectedLength);\n                    controller.enqueue((0, decodePacket_js_1.decodePacket)(isBinary ? data : TEXT_DECODER.decode(data), binaryType));\n                    state = 0 /* READ_HEADER */;\n                }\n                if (expectedLength === 0 || expectedLength > maxPayload) {\n                    controller.enqueue(commons_js_1.ERROR_PACKET);\n                    break;\n                }\n            }\n        }\n    });\n}\nexports.createPacketDecoderStream = createPacketDecoderStream;\nexports.protocol = 4;\n","\"use strict\";\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Backoff = void 0;\nfunction Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\nexports.Backoff = Backoff;\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports.connect = exports.io = exports.Socket = exports.Manager = exports.protocol = void 0;\nconst url_js_1 = require(\"./url.js\");\nconst manager_js_1 = require(\"./manager.js\");\nObject.defineProperty(exports, \"Manager\", { enumerable: true, get: function () { return manager_js_1.Manager; } });\nconst socket_js_1 = require(\"./socket.js\");\nObject.defineProperty(exports, \"Socket\", { enumerable: true, get: function () { return socket_js_1.Socket; } });\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst debug = debug_1.default(\"socket.io-client\"); // debug()\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url_js_1.url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        debug(\"ignoring socket cache for %s\", source);\n        io = new manager_js_1.Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            debug(\"new io instance for %s\", source);\n            cache[id] = new manager_js_1.Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\nexports.io = lookup;\nexports.connect = lookup;\nexports.default = lookup;\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager: manager_js_1.Manager,\n    Socket: socket_js_1.Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nvar socket_io_parser_1 = require(\"socket.io-parser\");\nObject.defineProperty(exports, \"protocol\", { enumerable: true, get: function () { return socket_io_parser_1.protocol; } });\n\nmodule.exports = lookup;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Manager = void 0;\nconst engine_io_client_1 = require(\"engine.io-client\");\nconst socket_js_1 = require(\"./socket.js\");\nconst parser = __importStar(require(\"socket.io-parser\"));\nconst on_js_1 = require(\"./on.js\");\nconst backo2_js_1 = require(\"./contrib/backo2.js\");\nconst component_emitter_1 = require(\"@socket.io/component-emitter\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst debug = debug_1.default(\"socket.io-client:manager\"); // debug()\nclass Manager extends component_emitter_1.Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        engine_io_client_1.installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new backo2_js_1.Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        debug(\"readyState %s\", this._readyState);\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        debug(\"opening %s\", this.uri);\n        this.engine = new engine_io_client_1.Socket(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on_js_1.on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            debug(\"error\");\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = on_js_1.on(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            debug(\"connect attempt will timeout after %d\", timeout);\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                debug(\"connect attempt timed out after %d\", timeout);\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"open\");\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on_js_1.on(socket, \"ping\", this.onping.bind(this)), on_js_1.on(socket, \"data\", this.ondata.bind(this)), on_js_1.on(socket, \"error\", this.onerror.bind(this)), on_js_1.on(socket, \"close\", this.onclose.bind(this)), on_js_1.on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        engine_io_client_1.nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        debug(\"error\", err);\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new socket_js_1.Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                debug(\"socket %s is still active, skipping close\", nsp);\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        debug(\"writing packet %j\", packet);\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        debug(\"cleanup\");\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        debug(\"disconnect\");\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        debug(\"closed due to %s\", reason);\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            debug(\"reconnect failed\");\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            debug(\"will wait %dms before reconnect attempt\", delay);\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                debug(\"attempting reconnect\");\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        debug(\"reconnect attempt error\");\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        debug(\"reconnect success\");\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\nexports.Manager = Manager;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.on = void 0;\nfunction on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\nexports.on = on;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Socket = void 0;\nconst socket_io_parser_1 = require(\"socket.io-parser\");\nconst on_js_1 = require(\"./on.js\");\nconst component_emitter_1 = require(\"@socket.io/component-emitter\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst debug = debug_1.default(\"socket.io-client:socket\"); // debug()\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nclass Socket extends component_emitter_1.Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on_js_1.on(io, \"open\", this.onopen.bind(this)),\n            on_js_1.on(io, \"packet\", this.onpacket.bind(this)),\n            on_js_1.on(io, \"error\", this.onerror.bind(this)),\n            on_js_1.on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: socket_io_parser_1.PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            debug(\"emitting packet with ack id %d\", id);\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n            debug(\"discard packet as the transport is not currently writable\");\n        }\n        else if (this.connected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    debug(\"removing packet with ack id %d from the buffer\", id);\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            debug(\"event with ack id %d has timed out after %d ms\", id, timeout);\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        this.acks[id] = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, [null, ...args]);\n        };\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        // the timeout flag is optional\n        const withErr = this.flags.timeout !== undefined || this._opts.ackTimeout !== undefined;\n        return new Promise((resolve, reject) => {\n            args.push((arg1, arg2) => {\n                if (withErr) {\n                    return arg1 ? reject(arg1) : resolve(arg2);\n                }\n                else {\n                    return resolve(arg1);\n                }\n            });\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n                // the packet has already been acknowledged\n                return;\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    debug(\"packet [%d] is discarded after %d tries\", packet.id, packet.tryCount);\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                debug(\"packet [%d] was successfully sent\", packet.id);\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        debug(\"draining queue\");\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            debug(\"packet [%d] has already been sent and is waiting for an ack\", packet.id);\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        debug(\"sending packet [%d] (try n°%d)\", packet.id, packet.tryCount);\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"transport is open - connecting\");\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: socket_io_parser_1.PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        debug(\"close (%s)\", reason);\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case socket_io_parser_1.PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case socket_io_parser_1.PacketType.EVENT:\n            case socket_io_parser_1.PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case socket_io_parser_1.PacketType.ACK:\n            case socket_io_parser_1.PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case socket_io_parser_1.PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case socket_io_parser_1.PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        debug(\"emitting event %j\", args);\n        if (null != packet.id) {\n            debug(\"attaching ack callback to event\");\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            debug(\"sending ack %j\", args);\n            self.packet({\n                type: socket_io_parser_1.PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            debug(\"calling ack %s with %j\", packet.id, packet.data);\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n            debug(\"bad ack %s\", packet.id);\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        debug(\"socket connected with id %s\", id);\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n        this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        debug(\"server disconnect (%s)\", this.nsp);\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            debug(\"performing disconnect (%s)\", this.nsp);\n            this.packet({ type: socket_io_parser_1.PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\nexports.Socket = Socket;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.url = void 0;\nconst engine_io_client_1 = require(\"engine.io-client\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst debug = debug_1.default(\"socket.io-client:url\"); // debug()\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nfunction url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            debug(\"protocol-less url %s\", uri);\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        debug(\"parse %s\", uri);\n        obj = engine_io_client_1.parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\nexports.url = url;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reconstructPacket = exports.deconstructPacket = void 0;\nconst is_binary_js_1 = require(\"./is-binary.js\");\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nfunction deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nexports.deconstructPacket = deconstructPacket;\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if ((0, is_binary_js_1.isBinary)(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nfunction reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nexports.reconstructPacket = reconstructPacket;\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Decoder = exports.Encoder = exports.PacketType = exports.protocol = void 0;\nconst component_emitter_1 = require(\"@socket.io/component-emitter\");\nconst binary_js_1 = require(\"./binary.js\");\nconst is_binary_js_1 = require(\"./is-binary.js\");\nconst debug_1 = require(\"debug\"); // debug()\nconst debug = (0, debug_1.default)(\"socket.io-parser\"); // debug()\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\",\n    \"connect_error\",\n    \"disconnect\",\n    \"disconnecting\",\n    \"newListener\",\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexports.protocol = 5;\nvar PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType = exports.PacketType || (exports.PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nclass Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        debug(\"encoding packet %j\", obj);\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if ((0, is_binary_js_1.hasBinary)(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        debug(\"encoded %j as %s\", obj, str);\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = (0, binary_js_1.deconstructPacket)(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\nexports.Encoder = Encoder;\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nclass Decoder extends component_emitter_1.Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if ((0, is_binary_js_1.isBinary)(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        debug(\"decoded %s as %j\", str, p);\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\nexports.Decoder = Decoder;\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = (0, binary_js_1.reconstructPacket)(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasBinary = exports.isBinary = void 0;\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nfunction isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexports.isBinary = isBinary;\nfunction hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.hasBinary = hasBinary;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return {\n          value: void 0,\n          done: !0\n        };\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable || \"\" === iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    throw new TypeError(_typeof(iterable) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n"],"names":["Object","defineProperty","exports","value","OPEN_BROADCAST_CHANNELS","BroadcastChannel","enforceOptions","options","ENFORCED_OPTIONS","_util","require","_methodChooser","_options","Set","lastId","name","channel","maybePromise","this","id","add","fillOptionsWithDefaults","method","chooseMethod","_iL","_onML","_addEL","message","internal","_uMP","_befC","_prepP","create","isPromise","then","s","_state","_post","broadcastChannel","type","msg","msgObj","time","microSeconds","data","PROMISE_RESOLVED_VOID","sendPromise","postMessage","_hasMessageListeners","length","_addListenerObject","obj","push","listenerFn","forEach","listenerObject","hundredMsInMicro","minMessageTime","fn","onMessage","_startListening","_removeListenerObject","filter","o","_stopListening","_pubkey","prototype","closed","Error","JSON","stringify","postInternal","onmessage","listenObj","addEventListener","removeEventListener","find","close","_this","awaitPrepare","Promise","all","Array","from","map","isClosed","_index","module","enumerable","get","_broadcastChannel","_interopRequireDefault","chooseMethods","concat","methods","METHODS","Boolean","_simulate","ret","m","webWorkerSupport","useMethod","canBeUsed","_native","_indexedDb","_localstorage","_server","TRANSACTION_SETTINGS","averageResponseTime","cleanOldMessages","commitIndexedDBTransaction","createDatabase","getAllMessages","db","tx","transaction","OBJECT_STORE_ID","objectStore","res","openCursor","onsuccess","ev","cursor","target","result","getIdb","getMessagesHigherThan","getOldMessages","removeMessagesById","writeMessage","_obliviousSet","DB_PREFIX","durability","indexedDB","window","mozIndexedDB","webkitIndexedDB","msIndexedDB","commit","channelName","IndexedDB","dbName","openRequest","open","onupgradeneeded","createObjectStore","keyPath","autoIncrement","rej","onerror","readerUuid","messageJson","writeObject","uuid","Date","getTime","oncomplete","lastCursorId","keyRangeValue","IDBKeyRange","bound","Infinity","getAll","getAllRequest","err","e","openCursorRequest","ids","deleteRequest","ttl","olderThen","msgObk","tooOld","state","randomToken","eMIs","ObliviousSet","idb","writeBlockPromise","messagesCallback","readQueuePromises","onclose","_readLoop","readNewMessages","sleep","fallbackInterval","newerMessages","useMessages","has","messagesCallbackTime","_filterMessage","sort","msgObjA","msgObjB","channelState","randomInt","support3PC","_default","addStorageEventListener","getLocalStorage","removeStorageEventListener","storageKey","KEY_PREFIX","localStorage","key","writeObj","token","setItem","document","createEvent","initEvent","newValue","dispatchEvent","listener","parse","localstorage","removeTimeout","ls","removeItem","userAgent","navigator","toLowerCase","includes","defaultTime","bc","subFns","reject","getSocketInstance","SOCKET_CONN_INSTANCE","disconnect","setupSocketConnection","_regenerator","_asyncToGenerator2","_socket","_eccrypto","_metadataHelpers","runningChannels","mark","_callee","channelEncPrivKey","encData","body","wrap","_context","prev","next","keccak256","Buffer","encryptData","toString","sent","t0","getPublic","t1","sign","t2","sameOriginCheck","sameIpCheck","signature","timeout","abrupt","fetch","serverUrl","headers","stop","SOCKET_CONN","io","transports","withCredentials","reconnectionDelayMax","reconnectionAttempts","on","opts","log","error","_callee2","engine","_context2","debug","transport","once","reason","socketConn","channelPubKey","connected","emit","reconnect","_callee3","_context3","_ref4","_callee4","decData","_context4","decryptData","info","_x","apply","arguments","visibilityListener","visibilityState","server","url","SIMULATE_CHANNELS","setTimeout","originalOptions","undefined","are3PCSupported","PROMISE_RESOLVED_TRUE","PROMISE_RESOLVED_FALSE","browserInfo","_bowser","thirdPartyCookieSupport","brave","ENGINE_MAP","WebKit","Gecko","ms","lastMs","additional","min","max","Math","floor","random","substring","setLogLevel","resolveWith","_loglevel","resolve","getLogger","setLevel","level","ec","ec$1","browserCrypto","global","crypto","msCrypto","subtle","webkitSubtle","EC_GROUP_ORDER","ZERO32","alloc","assert","condition","isValidPrivateKey","privateKey","x","isBuffer","compare","randomBytes","size","arr","Uint8Array","getRandomValues","nodeCrypto","sha512","hash","digest","update","getAes","op","iv","importAlgorithm","cryptoKey","importKey","encAlgorithm","cipher","firstChunk","secondChunk","final","decipher","aesCbcEncrypt","aesCbcDecrypt","hmacSha256Sign","sig","hmac","b1","b2","i","equalConstTime","generatePrivate","keyFromPrivate","getPublicCompressed","canonical","toDER","verify","publicKey","derive","privateKeyA","publicKeyB","keyA","keyB","keyFromPublic","Px","toArray","deriveUnpadded","derivePadded","encrypt","publicKeyTo","ephemPrivateKey","ephemPublicKey","encryptionKey","slice","macKey","ciphertext","dataToMac","mac","decrypt","_padding","padding","deriveLocal","macGood","hmacSha256Verify","formatArgs","args","useColors","namespace","humanize","diff","c","color","splice","index","lastC","replace","match","save","namespaces","storage","load","r","getItem","process","env","DEBUG","__nwjs","documentElement","style","WebkitAppearance","console","firebug","exception","table","parseInt","RegExp","$1","destroy","warned","warn","colors","formatters","j","v","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","enabled","self","curr","Number","coerce","unshift","format","formatter","val","call","selectColor","extend","configurable","set","init","delimiter","newDebug","toNamespace","regexp","default","stack","disable","names","skips","join","enable","split","len","test","keys","charCodeAt","abs","h","d","w","y","plural","msAbs","n","isPlural","round","str","String","exec","parseFloat","isFinite","long","fmtLong","fmtShort","hasCORS","XMLHttpRequest","decode","encode","hasOwnProperty","encodeURIComponent","qs","qry","pairs","l","pair","decodeURIComponent","re","parts","src","b","indexOf","uri","source","host","authority","ipv6uri","pathNames","path","regx","queryKey","query","$0","$2","yeast","alphabet","seed","num","encoded","decoded","charAt","now","globalThisShim","Function","nextTick","installTimerFunctions","TransportError","Transport","protocol","Socket","socket_js_1","transport_js_1","index_js_1","util_js_1","parseuri_js_1","websocket_constructor_js_1","__importDefault","mod","__esModule","parseqs_js_1","debug_1","component_emitter_1","engine_io_parser_1","Emitter","constructor","super","binaryType","defaultBinaryType","writeBuffer","hostname","secure","port","location","prevBufferLen","assign","agent","upgrade","timestampParam","rememberUpgrade","addTrailingSlash","rejectUnauthorized","perMessageDeflate","threshold","transportOptions","closeOnBeforeunload","upgrades","pingInterval","pingTimeout","pingTimeoutTimer","beforeunloadEventListener","removeAllListeners","offlineEventListener","onClose","description","createTransport","EIO","sid","socket","priorWebsocketSuccess","setTimeoutFn","emitReserved","readyState","shift","setTransport","onDrain","bind","onPacket","onError","probe","failed","onTransportOpen","send","upgrading","pause","cleanup","flush","freezeTransport","onTransportClose","onupgrade","to","removeListener","off","onOpen","packet","resetPingTimeout","onHandshake","sendPacket","code","filterUpgrades","maxPayload","clearTimeoutFn","autoUnref","unref","writable","packets","getWritablePackets","payloadSize","byteLength","write","compress","cleanupAndClose","waitForUpgrade","filteredUpgrades","context","doOpen","doClose","onData","decodePacket","details","onPause","createUri","schema","_hostname","_port","_query","encodedQuery","polling_js_1","websocket_js_1","webtransport_js_1","websocket","WS","webtransport","WT","polling","Polling","Request","yeast_js_1","xmlhttprequest_js_1","globalThis_js_1","empty","hasXHR2","XHR","xdomain","responseType","isSSL","xd","forceBase64","supportsBinary","cookieJar","createCookieJar","poll","total","doPoll","decodePayload","encodePayload","doWrite","timestampRequests","b64","request","req","xhrStatus","pollXhr","_a","pick","xhr","extraHeaders","setDisableHeaderCheck","setRequestHeader","addCookies","requestTimeout","onreadystatechange","parseCookies","status","onLoad","requestsCount","requests","fromError","abort","responseText","attachEvent","unloadHandler","terminationEvent","usingBrowserWebSocket","WebSocket","cb","MozWebSocket","isReactNative","product","check","protocols","ws","addEventListeners","onopen","closeEvent","lastPacket","encodePacket","WebTransport","catch","ready","createBidirectionalStream","stream","decoderStream","createPacketDecoderStream","MAX_SAFE_INTEGER","reader","readable","pipeThrough","getReader","encoderStream","createPacketEncoderStream","pipeTo","writer","getWriter","read","done","has_cors_js_1","attr","reduce","acc","k","NATIVE_SET_TIMEOUT","NATIVE_CLEAR_TIMEOUT","clearTimeout","useNativeTimers","utf8Length","ceil","ERROR_PACKET","PACKET_TYPES_REVERSE","PACKET_TYPES","chars","lookup","arraybuffer","bytes","base64","encoded1","encoded2","encoded3","encoded4","bufferLength","p","ArrayBuffer","commons_js_1","base64_arraybuffer_js_1","withNativeArrayBuffer","encodedPacket","mapBinary","decodeBase64Packet","Blob","buffer","encodePacketToBinary","withNativeBlob","isView","callback","encodeBlobAsBase64","fileReader","FileReader","onload","content","readAsDataURL","byteOffset","TEXT_ENCODER","arrayBuffer","TextEncoder","encodePacket_js_1","decodePacket_js_1","SEPARATOR","fromCharCode","encodedPackets","count","TEXT_DECODER","totalLength","chunks","chunk","concatChunks","encodedPayload","decodedPacket","TransformStream","transform","controller","payloadLength","header","DataView","setUint8","view","setUint16","setBigUint64","BigInt","enqueue","TextDecoder","expectedLength","isBinary","headerArray","getUint16","getUint32","pow","Backoff","factor","jitter","attempts","duration","rand","deviation","reset","setMin","setMax","setJitter","connect","Manager","url_js_1","manager_js_1","cache","parsed","sameNamespace","forceNew","multiplex","socket_io_parser_1","__createBinding","k2","__setModuleDefault","__importStar","engine_io_client_1","parser","on_js_1","backo2_js_1","nsps","subs","reconnection","reconnectionDelay","randomizationFactor","backoff","_readyState","_parser","encoder","Encoder","decoder","Decoder","_autoConnect","autoConnect","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","_reconnecting","skipReconnect","openSubDestroy","errorSub","timer","onping","ondata","ondecoded","nsp","active","_destroy","_close","_packet","subDestroy","delay","onreconnect","attempt","RESERVED_EVENTS","freeze","connect_error","disconnecting","newListener","recovered","receiveBuffer","sendBuffer","_queue","_queueSeq","acks","flags","auth","_opts","disconnected","subEvents","onpacket","retries","fromQueue","volatile","_addToQueue","PacketType","EVENT","ack","pop","_registerAckCallback","isTransportWritable","notifyOutgoingListeners","ackTimeout","emitWithAck","withErr","arg1","arg2","tryCount","pending","responseArgs","_drainQueue","force","_sendConnectPacket","CONNECT","_pid","pid","offset","_lastOffset","onconnect","BINARY_EVENT","onevent","ACK","BINARY_ACK","onack","DISCONNECT","ondisconnect","CONNECT_ERROR","emitEvent","_anyListeners","listeners","emitBuffered","onAny","prependAny","offAny","listenersAny","onAnyOutgoing","_anyOutgoingListeners","prependAnyOutgoing","offAnyOutgoing","listenersAnyOutgoing","loc","href","reconstructPacket","deconstructPacket","is_binary_js_1","_deconstructPacket","buffers","placeholder","_placeholder","isArray","newData","_reconstructPacket","packetData","pack","attachments","binary_js_1","isObject","replacer","hasBinary","encodeAsString","encodeAsBinary","deconstruction","reviver","reconstructor","decodeString","isBinaryEvent","BinaryReconstructor","takeBinaryData","start","buf","payload","tryParse","substr","isPayloadValid","static","finishedReconstruction","reconPack","binData","withNativeFile","File","toJSON","asyncGeneratorStep","gen","_next","_throw","arg","_typeof","_regeneratorRuntime","Op","hasOwn","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","makeInvokeMethod","tryCatch","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","delegate","delegateResult","maybeInvokeDelegate","_sent","dispatchException","methodName","TypeError","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","setPrototypeOf","__proto__","awrap","async","iter","object","reverse","skipTempReset","rootRecord","rval","handle","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","mixin","event","_callbacks","callbacks","hasListeners"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49]}